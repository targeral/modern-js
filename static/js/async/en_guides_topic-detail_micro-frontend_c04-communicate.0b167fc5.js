"use strict";(self.webpackChunk_modern_js_main_doc_website=self.webpackChunk_modern_js_main_doc_website||[]).push([[40158],{4299:(s,n,e)=>{e.r(n),e.d(n,{default:()=>a,frontmatter:()=>o,title:()=>i,toc:()=>r});var l=e(97458);const o={sidebar_position:4,title:"\u4e3b\u5b50\u5e94\u7528\u901a\u4fe1"},r=[{id:"props-\u901a\u4fe1",text:"props \u901a\u4fe1",depth:2},{id:"channel-\u901a\u4fe1",text:"channel \u901a\u4fe1",depth:2}],i="\u4e3b\u5b50\u5e94\u7528\u901a\u4fe1";function c(s){const n=Object.assign({h1:"h1",a:"a",h2:"h2",p:"p",code:"code",div:"div",button:"button",pre:"pre",span:"span"},s.components);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(n.h1,{id:"\u4e3b\u5b50\u5e94\u7528\u901a\u4fe1",children:[(0,l.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4e3b\u5b50\u5e94\u7528\u901a\u4fe1",children:"#"}),"\u4e3b\u5b50\u5e94\u7528\u901a\u4fe1"]}),"\n",(0,l.jsxs)(n.h2,{id:"props-\u901a\u4fe1",children:[(0,l.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#props-\u901a\u4fe1",children:"#"}),"props \u901a\u4fe1"]}),"\n",(0,l.jsxs)(n.p,{children:["Modern.js \u4e2d\uff0c\u4f1a\u5c06\u5b50\u5e94\u7528\u5305\u88f9\u6210\u4e00\u4e2a React \u7ec4\u4ef6\uff0c\u76f4\u63a5\u901a\u8fc7\u7ed9 React \u7ec4\u4ef6\u4f20\u9012 ",(0,l.jsx)(n.code,{children:"props"})," \u5373\u53ef\u5b9e\u73b0\u4e3b\u5e94\u7528\u548c\u5b50\u5e94\u7528\u901a\u4fe1\u7684\u76ee\u7684\u3002"]}),"\n",(0,l.jsxs)(n.div,{className:"language-tsx",children:[(0,l.jsx)(n.div,{className:"modern-code-title",children:"\u4e3b\u5e94\u7528\uff1aApp.tsx"}),(0,l.jsxs)(n.div,{className:"modern-code-content",children:[(0,l.jsx)(n.button,{className:"copy"}),(0,l.jsx)(n.pre,{className:"shiki",style:{backgroundColor:"var(--shiki-color-background)"},children:(0,l.jsxs)(n.code,{children:[(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"App"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"() {"})]}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" { "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"MApp"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" } "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"useModuleApps"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"();"})]}),"\n",(0,l.jsx)(n.span,{className:"line"}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" ("})]}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    <"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"div"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:">"})]}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"      <"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"MApp"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"count"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"{"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"100"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"} />"})]}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    </"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"div"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:">"})]}),"\n",(0,l.jsx)(n.span,{className:"line",children:(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  );"})}),"\n",(0,l.jsx)(n.span,{className:"line",children:(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,l.jsx)(n.span,{className:"line"})]})})]})]}),"\n",(0,l.jsxs)(n.div,{className:"language-tsx",children:[(0,l.jsx)(n.div,{className:"modern-code-title",children:"\u5b50\u5e94\u7528\uff1aApp.tsx"}),(0,l.jsxs)(n.div,{className:"modern-code-content",children:[(0,l.jsx)(n.button,{className:"copy"}),(0,l.jsx)(n.pre,{className:"shiki",style:{backgroundColor:"var(--shiki-color-background)"},children:(0,l.jsxs)(n.code,{children:[(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"function"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"App"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(props) {"})]}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"console"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(props);"})]}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"..."})]}),"\n",(0,l.jsx)(n.span,{className:"line",children:(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"}"})}),"\n",(0,l.jsx)(n.span,{className:"line"})]})})]})]}),"\n",(0,l.jsxs)(n.p,{children:["\u5b50\u5e94\u7528\u5c06\u4f1a\u6253\u5370 ",(0,l.jsx)(n.code,{children:"{count: 0}"}),"\uff0c\u76ee\u524d\u5c1a\u672a\u652f\u6301\u5b50\u5e94\u7528\u6e32\u67d3\u54cd\u5e94\u5f0f\uff0c\u53ca\u65f6\u5728\u4e3b\u5e94\u7528\u4e0a\u66f4\u6539 ",(0,l.jsx)(n.code,{children:"count"})," \u7684\u6570\u636e\u4e5f\u4e0d\u4f1a\u89e6\u53d1\u89c6\u56fe\u66f4\u65b0"]}),"\n",(0,l.jsxs)(n.h2,{id:"channel-\u901a\u4fe1",children:[(0,l.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#channel-\u901a\u4fe1",children:"#"}),"channel \u901a\u4fe1"]}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.a,{href:"https://www.garfishjs.org/api/channel",target:"_blank",rel:"nofollow",children:"Garfish.channel"})," \u7528\u4e8e\u5e94\u7528\u95f4\u7684\u901a\u4fe1\u3002\u5b83\u662f ",(0,l.jsx)(n.code,{children:"EventEmitter2"})," \u7684\u5b9e\u4f8b"]}),"\n",(0,l.jsxs)(n.div,{className:"language-ts",children:[(0,l.jsx)(n.div,{className:""}),(0,l.jsxs)(n.div,{className:"modern-code-content",children:[(0,l.jsx)(n.button,{className:"copy"}),(0,l.jsx)(n.pre,{className:"shiki",style:{backgroundColor:"var(--shiki-color-background)"},children:(0,l.jsxs)(n.code,{children:[(0,l.jsx)(n.span,{className:"line",children:(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// \u5b50\u5e94\u7528\u76d1\u542c\u767b\u5f55\u4e8b\u4ef6"})}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"App"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" () "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"handleLogin"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" userInfo "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"console"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".log"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"`"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"${"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"userInfo"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:".name"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"}"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:" has login`"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:");"})]}),"\n",(0,l.jsx)(n.span,{className:"line",children:(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  };"})}),"\n",(0,l.jsx)(n.span,{className:"line"}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"useEffect"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(() "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"window"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"?."}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"Garfish"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"."}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"channel"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".on"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'login'"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" handleLogin);"})]}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"return"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" () "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"window"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"?."}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"Garfish"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"."}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"channel"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".removeListener"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'login'"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" handleLogin);"})]}),"\n",(0,l.jsx)(n.span,{className:"line",children:(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    };"})}),"\n",(0,l.jsx)(n.span,{className:"line",children:(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  });"})}),"\n",(0,l.jsx)(n.span,{className:"line",children:(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"};"})}),"\n",(0,l.jsx)(n.span,{className:"line"}),"\n",(0,l.jsx)(n.span,{className:"line",children:(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-comment)"},children:"// \u4e3b\u5e94\u7528\u89e6\u53d1\u76d1\u542c\u4e8b\u4ef6"})}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"api"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"."}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"getLoginInfo"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".then"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"(res "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"if"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" ("}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"res"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:".code "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"==="}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"0"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:") {"})]}),"\n",(0,l.jsxs)(n.span,{className:"line",children:[(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"    "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"window"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"."}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"Garfish"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:"."}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"channel"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-function)"},children:".emit"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'login'"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-token-constant)"},children:"res"}),(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:".data);"})]}),"\n",(0,l.jsx)(n.span,{className:"line",children:(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"  }"})}),"\n",(0,l.jsx)(n.span,{className:"line",children:(0,l.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:"});"})}),"\n",(0,l.jsx)(n.span,{className:"line"})]})})]})]})]})}const a=function(s={}){const{wrapper:n}=s.components||{};return n?(0,l.jsx)(n,Object.assign({},s,{children:(0,l.jsx)(c,s)})):c(s)}}}]);