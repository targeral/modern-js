"use strict";(self.webpackChunk_modern_js_main_doc_website=self.webpackChunk_modern_js_main_doc_website||[]).push([[38225],{98677:(s,e,n)=>{n.r(e),n.d(e,{default:()=>h,frontmatter:()=>o,title:()=>a,toc:()=>c});var r=n(97458);function l(s){const e=Object.assign({p:"p",code:"code",a:"a",h3:"h3",div:"div",button:"button",pre:"pre",span:"span",img:"img"},s.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(e.p,{children:["Modern.js \u63d0\u4f9b\u4e86\u5f00\u7bb1\u5373\u7528\u7684\u5168\u5c40\u4ee3\u7406\u63d2\u4ef6 ",(0,r.jsx)(e.code,{children:"@modern-js/plugin-proxy"}),"\uff0c\u8be5\u63d2\u4ef6\u5e95\u5c42\u57fa\u4e8e ",(0,r.jsx)(e.a,{href:"https://github.com/avwo/whistle",target:"_blank",rel:"nofollow",children:"whistle"}),"\uff0c\u53ef\u7528\u6765\u67e5\u770b\u3001\u4fee\u6539 HTTP/HTTPS \u7684\u8bf7\u6c42\u548c\u54cd\u5e94\uff0c\u4e5f\u53ef\u4f5c\u4e3a HTTP \u4ee3\u7406\u670d\u52a1\u5668\u4f7f\u7528\u3002"]}),"\n",(0,r.jsxs)(e.h3,{id:"\u8bbe\u7f6e\u4ee3\u7406\u89c4\u5219",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u8bbe\u7f6e\u4ee3\u7406\u89c4\u5219",children:"#"}),"\u8bbe\u7f6e\u4ee3\u7406\u89c4\u5219"]}),"\n",(0,r.jsxs)(e.p,{children:["\u5f15\u5165\u4ee3\u7406\u63d2\u4ef6\u5e76\u586b\u5199\u89c4\u5219\u540e\uff0c\u6267\u884c ",(0,r.jsx)(e.code,{children:"pnpm run dev"}),"\uff0cModern.js \u4f1a\u5728\u5f00\u53d1\u670d\u52a1\u5668\u542f\u52a8\u4e4b\u540e\uff0c\u81ea\u52a8\u542f\u7528\u4ee3\u7406\u670d\u52a1\u5668\u3002"]}),"\n",(0,r.jsxs)(e.p,{children:["\u5177\u4f53\u4ee3\u7406\u89c4\u5219\uff0c\u53ef\u901a\u8fc7 ",(0,r.jsx)(e.a,{href:"/configure/app/dev/proxy.html",children:(0,r.jsx)(e.code,{children:"dev.proxy"})})," \u9009\u9879\u6216 ",(0,r.jsx)(e.code,{children:"config/proxy.js"})," \u6587\u4ef6\u8fdb\u884c\u8bbe\u7f6e\u3002"]}),"\n",(0,r.jsxs)(e.h3,{id:"\u4ee3\u7406\u670d\u52a1\u5668-ui-\u754c\u9762",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4ee3\u7406\u670d\u52a1\u5668-ui-\u754c\u9762",children:"#"}),"\u4ee3\u7406\u670d\u52a1\u5668 UI \u754c\u9762"]}),"\n",(0,r.jsxs)(e.p,{children:["\u5b89\u88c5\u4ee3\u7406\u63d2\u4ef6\u5e76\u914d\u7f6e\u4ee3\u7406\u89c4\u5219\u540e\uff0c \u6267\u884c ",(0,r.jsx)(e.code,{children:"pnpm run dev"})," \u547d\u4ee4\uff1a"]}),"\n",(0,r.jsxs)(e.div,{className:"language-bash",children:[(0,r.jsx)(e.div,{className:""}),(0,r.jsxs)(e.div,{className:"modern-code-content",children:[(0,r.jsx)(e.button,{className:"copy"}),(0,r.jsx)(e.pre,{className:"shiki",style:{backgroundColor:"var(--shiki-color-background)"},children:(0,r.jsxs)(e.code,{children:[(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  App running at:"})}),"\n",(0,r.jsx)(e.span,{className:"line"}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  Local:    http://localhost:8080/"})}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  Network:  http://192.168.0.1:8080/"})}),"\n",(0,r.jsx)(e.span,{className:"line"}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u2139  info      Starting the proxy server....."})}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"\u2714  success   Proxy Server start on localhost:8899"})}),"\n",(0,r.jsx)(e.span,{className:"line"})]})})]})]}),"\n",(0,r.jsx)(e.p,{children:"\u5728\u63a7\u5236\u53f0\u4e2d\u53ef\u4ee5\u770b\u5230\u4ee3\u7406\u670d\u52a1\u5668\u6210\u529f\u542f\u52a8\u3002"}),"\n",(0,r.jsxs)(e.p,{children:["\u8bbf\u95ee ",(0,r.jsx)(e.code,{children:"http://localhost:8899"}),"\uff0c\u663e\u793a\u4e0b\u56fe\u6240\u793a\u7684 UI \u754c\u9762\u540e\uff0c\u5373\u53ef\u901a\u8fc7\u754c\u9762\u8bbe\u7f6e\u89c4\u5219\u3002"]}),"\n",(0,r.jsx)(e.p,{children:(0,r.jsx)(e.img,{src:"https://lf3-static.bytednsdoc.com/obj/eden-cn/aphqeh7uhohpquloj/modern-js/debug/debug-proxy-ui.png",alt:"debug-proxy-ui"})})]})}const i=function(s={}){const{wrapper:e}=s.components||{};return e?(0,r.jsx)(e,Object.assign({},s,{children:(0,r.jsx)(l,s)})):l(s)},o={title:"\u4ee3\u7406",sidebar_position:5},c=[{id:"\u672c\u5730\u4ee3\u7406",text:"\u672c\u5730\u4ee3\u7406",depth:2},{id:"\u5168\u5c40\u4ee3\u7406",text:"\u5168\u5c40\u4ee3\u7406",depth:2},{id:"bff-\u4ee3\u7406",text:"BFF \u4ee3\u7406",depth:2}],a="\u4ee3\u7406";function t(s){const e=Object.assign({h1:"h1",a:"a",h2:"h2",p:"p",code:"code",div:"div",button:"button",pre:"pre",span:"span"},s.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(e.h1,{id:"\u4ee3\u7406",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4ee3\u7406",children:"#"}),"\u4ee3\u7406"]}),"\n",(0,r.jsxs)(e.h2,{id:"\u672c\u5730\u4ee3\u7406",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u672c\u5730\u4ee3\u7406",children:"#"}),"\u672c\u5730\u4ee3\u7406"]}),"\n",(0,r.jsxs)(e.p,{children:["Modern.js \u5728 ",(0,r.jsx)(e.a,{href:"/configure/app/tools/dev-server.html",children:(0,r.jsx)(e.code,{children:"tools.devServer"})})," \u4e2d\u63d0\u4f9b\u4e86\u914d\u7f6e\u5f00\u53d1\u73af\u5883\u4ee3\u7406\u7684\u65b9\u5f0f\u3002\u4f8b\u5982\uff0c\u5c06\u672c\u5730\u5f00\u53d1\u63a5\u53e3\uff0c\u4ee3\u7406\u5230\u7ebf\u4e0a\u67d0\u4e2a\u5730\u5740\uff1a"]}),"\n",(0,r.jsxs)(e.div,{className:"language-ts",children:[(0,r.jsx)(e.div,{className:"modern-code-title",children:"modern.config.ts"}),(0,r.jsxs)(e.div,{className:"modern-code-content",children:[(0,r.jsx)(e.button,{className:"copy"}),(0,r.jsx)(e.pre,{className:"shiki",style:{backgroundColor:"var(--shiki-color-background)"},children:(0,r.jsxs)(e.code,{children:[(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" { defineConfig } "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'@modern-js/app-tools'"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(e.span,{className:"line"}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"default"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"defineConfig"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"({"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  tools"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    devServer"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"      proxy"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"        "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'/go/api'"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"          target"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'http://www.example.com/'"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"          changeOrigin"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"true"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"        }"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"      }"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    }"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  }"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"});"})}),"\n",(0,r.jsx)(e.span,{className:"line"})]})})]})]}),"\n",(0,r.jsxs)(e.p,{children:["\u8bf7\u6c42 ",(0,r.jsx)(e.code,{children:"http://localhost:8080/go/api"})," \u65f6\uff0c\u4f1a\u4ece ",(0,r.jsx)(e.a,{href:"http://www.example.com/",target:"_blank",rel:"nofollow",children:"http://www.example.com/"})," \u8fd4\u56de\u54cd\u5e94\u5185\u5bb9\u3002"]}),"\n",(0,r.jsxs)(e.div,{className:"modern-directive info",children:[(0,r.jsx)(e.p,{className:"modern-directive-title",children:"\u8865\u5145\u4fe1\u606f"}),(0,r.jsx)(e.div,{className:"modern-directive-content",children:(0,r.jsxs)(e.p,{children:["\n\u914d\u7f6e\u683c\u5f0f\u53ef\u53c2\u8003\uff1a",(0,r.jsx)(e.a,{href:"https://github.com/chimurai/http-proxy-middleware",target:"_blank",rel:"nofollow",children:"http-proxy-middleware"}),"\u3002"]})})]}),"\n",(0,r.jsxs)(e.h2,{id:"\u5168\u5c40\u4ee3\u7406",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u5168\u5c40\u4ee3\u7406",children:"#"}),"\u5168\u5c40\u4ee3\u7406"]}),"\n","\n",(0,r.jsx)(i,{}),"\n",(0,r.jsxs)(e.h2,{id:"bff-\u4ee3\u7406",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#bff-\u4ee3\u7406",children:"#"}),"BFF \u4ee3\u7406"]}),"\n",(0,r.jsxs)(e.p,{children:["\u901a\u8fc7\u914d\u7f6e ",(0,r.jsx)(e.a,{href:"/configure/app/bff/proxy.html",children:(0,r.jsx)(e.code,{children:"bff.proxy"})})," \u53ef\u4ee5\u4ee3\u7406 BFF API \u8bf7\u6c42\u5230\u6307\u5b9a\u7684\u670d\u52a1\u4e0a\uff0c\u4e0a\u8ff0\u4e24\u79cd\u4ee3\u7406\u4e0d\u540c\uff0c\u5b83\u540c\u6837\u53ef\u4ee5\u7528\u5728\u751f\u4ea7\u73af\u5883\uff1a"]}),"\n",(0,r.jsxs)(e.div,{className:"language-ts",children:[(0,r.jsx)(e.div,{className:"modern-code-title",children:"modern.config.ts"}),(0,r.jsxs)(e.div,{className:"modern-code-content",children:[(0,r.jsx)(e.button,{className:"copy"}),(0,r.jsx)(e.pre,{className:"shiki",style:{backgroundColor:"var(--shiki-color-background)"},children:(0,r.jsxs)(e.code,{children:[(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"default"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"defineConfig"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"({"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  bff"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    proxy"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'/api/v1'"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'https://cnodejs.org'"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    }"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  }"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"});"})}),"\n",(0,r.jsx)(e.span,{className:"line"})]})})]})]}),"\n",(0,r.jsxs)(e.p,{children:["\u4f8b\u5982\u4ee3\u7801\u4e2d\u4f7f\u7528\u4e00\u4f53\u5316 BFF \u8c03\u7528\u65f6\uff0c\u6700\u7ec8\u8bf7\u6c42 ",(0,r.jsx)(e.code,{children:"http://localhost:8080/api/v1/topics"})," \u4f1a\u81ea\u52a8\u4ee3\u7406\u5230 ",(0,r.jsx)(e.code,{children:"https://cnodejs.org/api/v1/topics"}),"\uff1a"]}),"\n",(0,r.jsxs)(e.div,{className:"language-js",children:[(0,r.jsx)(e.div,{className:""}),(0,r.jsxs)(e.div,{className:"modern-code-content",children:[(0,r.jsx)(e.button,{className:"copy"}),(0,r.jsx)(e.pre,{className:"shiki",style:{backgroundColor:"var(--shiki-color-background)"},children:(0,r.jsxs)(e.code,{children:[(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" getTopics "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'@api/v1/topics'"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(e.span,{className:"line"}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"getTopics"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"();"})]}),"\n",(0,r.jsx)(e.span,{className:"line"})]})})]})]})]})}const h=function(s={}){const{wrapper:e}=s.components||{};return e?(0,r.jsx)(e,Object.assign({},s,{children:(0,r.jsx)(t,s)})):t(s)}}}]);