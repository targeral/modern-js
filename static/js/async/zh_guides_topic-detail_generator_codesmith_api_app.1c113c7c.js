"use strict";(self.webpackChunk_modern_js_main_doc_website=self.webpackChunk_modern_js_main_doc_website||[]).push([[83757],{9061:(s,e,n)=>{n.r(e),n.d(e,{default:()=>a,frontmatter:()=>i,title:()=>o,toc:()=>l});var r=n(97458);const i={sidebar_position:1},l=[{id:"\u4f7f\u7528\u59ff\u52bf",text:"\u4f7f\u7528\u59ff\u52bf",depth:2},{id:"api",text:"API",depth:2},{id:"checkenvironment",text:"checkEnvironment",depth:3},{id:"runinstall",text:"runInstall",depth:3},{id:"rungitandinstall",text:"runGitAndInstall",depth:3},{id:"forgetemplate",text:"forgeTemplate",depth:3},{id:"showsuccessinfo",text:"showSuccessInfo",depth:3},{id:"runsubgenerator",text:"runSubGenerator",depth:3},{id:"getinputbyschema",text:"getInputBySchema",depth:3},{id:"getinputbyschemafunc",text:"getInputBySchemaFunc",depth:3}],o="@modern-js/codesmith-api-app";function c(s){const e=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",div:"div",button:"button",pre:"pre",code:"code",span:"span",ul:"ul",li:"li",h3:"h3",ol:"ol"},s.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(e.h1,{id:"modern-jscodesmith-api-app",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#modern-jscodesmith-api-app",children:"#"}),"@modern-js/codesmith-api-app"]}),"\n",(0,r.jsx)(e.p,{children:"\u5fae\u751f\u6210\u5668\u5f00\u53d1\u8fc7\u7a0b\u4e2d\u5e38\u7528 API \u7684\u7ec4\u5408\u5c01\u88c5\uff0c\u5305\u542b fs\u3001git\u3001npm \u7b49\u5176\u4ed6\u5305\u7684 API \u5c01\u88c5\uff0c\u5728\u80fd\u6ee1\u8db3\u9700\u6c42\u65f6\uff0c\u63a8\u8350\u4f7f\u7528\u8be5 npm \u5305\u7684 API\u3002"}),"\n",(0,r.jsxs)(e.h2,{id:"\u4f7f\u7528\u59ff\u52bf",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4f7f\u7528\u59ff\u52bf",children:"#"}),"\u4f7f\u7528\u59ff\u52bf"]}),"\n",(0,r.jsxs)(e.div,{className:"language-ts",children:[(0,r.jsx)(e.div,{className:""}),(0,r.jsxs)(e.div,{className:"modern-code-content",children:[(0,r.jsx)(e.button,{className:"copy"}),(0,r.jsx)(e.pre,{className:"shiki",style:{backgroundColor:"var(--shiki-color-background)"},children:(0,r.jsxs)(e.code,{children:[(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" { AppAPI } "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'@modern-js/codesmith-api-app'"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsx)(e.span,{className:"line"}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"default"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"async"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" (context"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"GeneratorContext"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" generator"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"GeneratorCore"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:") "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"const"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"appApi"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"new"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"AppAPI"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(context"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" generator);"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"appApi"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".runInstall"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"();"})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"};"})}),"\n",(0,r.jsx)(e.span,{className:"line"})]})})]})]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["\u521b\u5efa AppAPI \u5b9e\u4f8b\uff0c\u53c2\u6570\u548c\u5fae\u751f\u6210\u5668\u51fd\u6570\u53c2\u6570\u4e00\u81f4\uff0c\u4e3a context \u548c generator\uff0c\u5177\u4f53\u4ecb\u7ecd\u8bf7\u770b",(0,r.jsx)(e.a,{href:"/guides/topic-detail/generator/codesmith/structure.html",children:"\u5fae\u751f\u6210\u5668\u9879\u76ee\u7ec4\u6210"}),"\u3002"]}),"\n",(0,r.jsx)(e.li,{children:"\u8c03\u7528\u5176\u5b9e\u4f8b\u4e0a API \u5373\u53ef\u3002"}),"\n"]}),"\n",(0,r.jsxs)(e.h2,{id:"api",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#api",children:"#"}),"API"]}),"\n",(0,r.jsxs)(e.h3,{id:"checkenvironment",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#checkenvironment",children:"#"}),"checkEnvironment"]}),"\n",(0,r.jsx)(e.p,{children:"\u68c0\u67e5\u5f53\u524d\u751f\u6210\u5668\u8fd0\u884c\u73af\u5883\uff0c\u68c0\u67e5\u9879\u4e3a\uff1a"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"node \u53ca node \u7248\u672c\uff0c\u9ed8\u8ba4\u5927\u4e8e 12.22.12\uff0c\u53ef\u4f20\u9012\u53c2\u6570\u6267\u884c node \u7248\u672c\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u53ef\u4f7f\u7528 yarn\u3001pnpm \u6216\u8005 npm\u3002"}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["nodeVersion?: ",(0,r.jsx)(e.code,{children:"string"})," \u6821\u9a8c\u7684 node \u7248\u672c\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.h3,{id:"runinstall",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#runinstall",children:"#"}),"runInstall"]}),"\n",(0,r.jsxs)(e.p,{children:["\u5b89\u88c5\u4f9d\u8d56\uff0c\u53ef\u4f20\u5165\u5b89\u88c5\u4f9d\u8d56\u547d\u4ee4\uff0c\u9ed8\u8ba4\u6839\u636e config \u4e2d\u7684 ",(0,r.jsx)(e.code,{children:"packageManager"})," \u503c\u8fdb\u884c\u3002"]}),"\n",(0,r.jsx)(e.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["command?: ",(0,r.jsx)(e.code,{children:"string"})," \u5b89\u88c5\u4f9d\u8d56\u547d\u4ee4\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.h3,{id:"rungitandinstall",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#rungitandinstall",children:"#"}),"runGitAndInstall"]}),"\n",(0,r.jsx)(e.p,{children:"\u8be5\u51fd\u6570\u5b8c\u6210\u4ee5\u4e0b\u52a8\u4f5c\uff1a"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"\u6821\u9a8c\u5f53\u524d\u751f\u6210\u5668\u6267\u884c\u76ee\u5f55\u662f\u5426\u4e3a\u4e00\u4e2a git \u4ed3\u5e93\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u5982\u679c\u4e0d\u662f\u4e00\u4e2a git \u4ed3\u5e93\uff0c\u521d\u59cb\u5316\u4e3a\u4e00\u4e2a git \u4ed3\u5e93\u3002"}),"\n",(0,r.jsx)(e.li,{children:"\u5b89\u88c5\u4f9d\u8d56\u3002"}),"\n",(0,r.jsxs)(e.li,{children:["\u5728\u975e monorepo \u9879\u76ee(\u5224\u65ad\u6761\u4ef6\uff0cconfig \u4e2d ",(0,r.jsx)(e.code,{children:"isMonorepoSubProject"})," \u4e0d\u5b58\u5728\u6216\u8005\u4e3a false)\u4e2d\u63d0\u4ea4\u521d\u59cb commit\uff0ccommit \u4fe1\u606f\u4e3a feat: init\uff0c\u652f\u6301\u81ea\u5b9a\u4e49\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["commitMessage?: ",(0,r.jsx)(e.code,{children:"string"})," \u521d\u59cb\u5316 commit message \u4fe1\u606f\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:["installFunc?: ",(0,r.jsx)(e.code,{children:"() => Promise<void>"})," \u5b89\u88c5\u4f9d\u8d56\u51fd\u6570\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.h3,{id:"forgetemplate",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#forgetemplate",children:"#"}),"forgeTemplate"]}),"\n",(0,r.jsx)(e.p,{children:"\u6e32\u67d3\u751f\u6210\u5668\u6a21\u677f\u6587\u4ef6\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["templatePattern: string \u6a21\u677f\u6587\u4ef6\u5339\u914d\u6b63\u5219\uff0c\u4f8b\u5982\uff1a ",(0,r.jsx)(e.code,{children:"templates/base-templates/**/*"})," \u3002"]}),"\n",(0,r.jsxs)(e.li,{children:["filter?: ",(0,r.jsx)(e.code,{children:"(resourceKey: string) => boolean"})," \u8fc7\u6ee4\u51fd\u6570\uff0c\u53c2\u6570\u4e3a templatePattern \u5339\u914d\u7684\u6587\u4ef6\u8def\u5f84\uff0c\u8fd4\u56de true \u8868\u793a\u6e32\u67d3\u8be5\u6587\u4ef6\uff0c\u8fd4\u56de false \u8868\u793a\u4e0d\u6e32\u67d3\u8be5\u6587\u4ef6\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:["rename?: ",(0,r.jsx)(e.code,{children:"(resourceKey: string) => string"})," \u91cd\u547d\u540d\u51fd\u6570\uff0c\u53c2\u6570\u4e3a templatePattern \u5339\u914d\u7684\u6587\u4ef6\u8def\u5f84\uff0c\u8fd4\u56de\u65b0\u6587\u4ef6\u540d\u3002\u9ed8\u8ba4\u4f1a\u66ff\u6362 resourceKey \u5f00\u5934\u7684 templates \u76ee\u5f55\u548c\u7ed3\u5c3e\u7684 .handlebars \u540e\u7f00\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:["parameters?: ",(0,r.jsx)(e.code,{children:"Record<string, any>"})," \u6e32\u67d3\u53c2\u6570\uff0c\u5f53\u6a21\u677f\u4e2d\u5b58\u5728 handlebars \u6216\u8005 ejs \u53d8\u91cf\u65f6\uff0c\u4f7f\u7528\u5176\u4f20\u9012\u5bf9\u5e94\u53d8\u91cf\u503c\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:["type?: ",(0,r.jsx)(e.code,{children:"'handlebars' | 'ejs'"})," \u6a21\u677f\u6587\u4ef6\u7c7b\u578b\uff0c\u9ed8\u8ba4\u4e3a handlebars\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\u4f8b\u5982:"}),"\n",(0,r.jsxs)(e.div,{className:"language-ts",children:[(0,r.jsx)(e.div,{className:""}),(0,r.jsxs)(e.div,{className:"modern-code-content",children:[(0,r.jsx)(e.button,{className:"copy"}),(0,r.jsx)(e.pre,{className:"shiki",style:{backgroundColor:"var(--shiki-color-background)"},children:(0,r.jsxs)(e.code,{children:[(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"appApi"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".forgeTemplate"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'templates/base-templates/**/*'"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"undefined"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  resourceKey "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    resourceKey"})}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".replace"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'templates/base-templates/'"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"''"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".replace"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'.handlebars'"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"''"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})}),"\n",(0,r.jsx)(e.span,{className:"line"}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"appApi"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".forgeTemplate"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'templates/base-template/**/*'"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  resourceKey "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"!"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"resourceKey"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".include"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'eslintrc.json'"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  resourceKey "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"=>"})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    resourceKey"})}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".replace"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'templates/base-template/'"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" projectPath)"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".replace"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'language'"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" language "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"as"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:")"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".replace"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'.handlebars'"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"''"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  {"})}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    name"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" packageName "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"as"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"string"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    language"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    isTs"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" language "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"==="}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"Language"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"TS"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    packageManager"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"getPackageManagerText"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"(packageManager "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"as"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"any"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:")"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  }"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})}),"\n",(0,r.jsx)(e.span,{className:"line"})]})})]})]}),"\n",(0,r.jsxs)(e.h3,{id:"showsuccessinfo",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#showsuccessinfo",children:"#"}),"showSuccessInfo"]}),"\n",(0,r.jsx)(e.p,{children:"\u5c55\u793a\u6210\u529f\u4fe1\u606f\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["successInfo?: ",(0,r.jsx)(e.code,{children:"string"}),"\uff0c\u9ed8\u8ba4\u4e3a Success || \u6210\u529f\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.h3,{id:"runsubgenerator",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#runsubgenerator",children:"#"}),"runSubGenerator"]}),"\n",(0,r.jsx)(e.p,{children:"\u8fd0\u884c\u5b50\u751f\u6210\u5668\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["subGenerator: ",(0,r.jsx)(e.code,{children:"string"})," \u5b50\u751f\u6210\u5668\u540d\u79f0\u6216\u8005\u8def\u5f84\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:["relativePwdPath?: ",(0,r.jsx)(e.code,{children:"string"})," \u5b50\u751f\u6210\u5668\u8fd0\u884c\u7684\u76f8\u5bf9\u8def\u5f84\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:["config?: ",(0,r.jsx)(e.code,{children:"Record<string, unknown>"})," \u5b50\u751f\u6210\u5668\u8fd0\u884c\u7684\u9ed8\u8ba4 config \u914d\u7f6e\u3002"]}),"\n"]}),"\n",(0,r.jsx)(e.p,{children:"\u4f8b\u5982\uff1a"}),"\n",(0,r.jsxs)(e.div,{className:"language-ts",children:[(0,r.jsx)(e.div,{className:""}),(0,r.jsxs)(e.div,{className:"modern-code-content",children:[(0,r.jsx)(e.button,{className:"copy"}),(0,r.jsx)(e.pre,{className:"shiki",style:{backgroundColor:"var(--shiki-color-background)"},children:(0,r.jsxs)(e.code,{children:[(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"await"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"appApi"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:".runSubGenerator"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"getGeneratorPath"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"("}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'@modern-js/repo-generator'"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"context"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"."}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"config"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:".distTag)"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"undefined"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  { "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"..."}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"context"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:".config"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" hasPlugin"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-constant)"},children:"false"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" }"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:");"})}),"\n",(0,r.jsx)(e.span,{className:"line"})]})})]})]}),"\n",(0,r.jsxs)(e.h3,{id:"getinputbyschema",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#getinputbyschema",children:"#"}),"getInputBySchema"]}),"\n",(0,r.jsx)(e.p,{children:"\u901a\u8fc7 schema \u5b8c\u6210\u7528\u6237\u4ea4\u4e92\u8f93\u5165\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["schema: ",(0,r.jsx)(e.code,{children:"FormilySchema | Question[]"})," \u95ee\u9898\u5217\u8868\uff0c\u652f\u6301 Formily schema \u548c inquirer \u7c7b\u578b\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:["type: ",(0,r.jsx)(e.code,{children:"'formily' | 'inquirer'"})," \u7c7b\u578b\uff0c\u9ed8\u8ba4\u503c\u4e3a formily\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:["configValue: ",(0,r.jsx)(e.code,{children:"Record<string, unknown> = {}"})," schema \u9ed8\u8ba4\u503c\uff0c\u4f20\u5165\u8be5\u503c\u7684 schema \u5b57\u6bb5\u5bf9\u5e94\u7684\u95ee\u9898\u5c06\u4e0d\u518d\u548c\u7528\u6237\u4ea4\u4e92\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:["validateMap?: ",(0,r.jsx)(e.code,{children:"Record<string, (input: unknown, data?: Record<string, unknown>) => { success: boolean; error?: string }>"})," schema \u4e2d\u7279\u6b8a\u5b57\u6bb5\u7684\u9a8c\u8bc1\u51fd\u6570\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:["initValue?: ",(0,r.jsx)(e.code,{children:"Record<string, any>"})," schema \u4e2d\u5b57\u6bb5\u7684\u521d\u59cb\u5316\u503c\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:["Formily Schema \u7c7b\u578b\u652f\u6301\u65b9\u5f0f\u53ef\u53c2\u8003",(0,r.jsx)(e.a,{href:"/guides/topic-detail/generator/plugin/api/input/type.html",children:"\u81ea\u5b9a\u4e49\u8f93\u5165\u76f8\u5173\u7c7b\u578b\u5b9a\u4e49"}),"\u3002"]}),"\n",(0,r.jsxs)(e.h3,{id:"getinputbyschemafunc",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#getinputbyschemafunc",children:"#"}),"getInputBySchemaFunc"]}),"\n",(0,r.jsx)(e.p,{children:"\u901a\u8fc7 schema \u5b8c\u6210\u7528\u6237\u4ea4\u4e92\u8f93\u5165\uff0cschema \u53c2\u6570\u503c\u4e3a\u51fd\u6570\uff0c\u7528\u6237\u5904\u7406\u56fd\u9645\u5316\u95ee\u9898\uff0c\u4ec5\u652f\u6301 Formily schema\u3002"}),"\n",(0,r.jsx)(e.p,{children:"\u53c2\u6570\uff1a"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["schema: ",(0,r.jsx)(e.code,{children:"config?: Record<string, any>) => FormilySchema"})," \u83b7\u53d6\u95ee\u9898\u5217\u8868\u51fd\u6570\uff0cconfig \u53c2\u6570\u4e3a\u5f53\u524d\u751f\u6210\u5668\u4e2d\u7684 config \u914d\u7f6e\u4fe1\u606f\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:["configValue: ",(0,r.jsx)(e.code,{children:"Record<string, unknown> = {}"})," schema \u9ed8\u8ba4\u503c\uff0c\u4f20\u5165\u8be5\u503c\u7684 schema \u5b57\u6bb5\u5bf9\u5e94\u7684\u95ee\u9898\u5c06\u4e0d\u518d\u548c\u7528\u6237\u4ea4\u4e92\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:["validateMap?: ",(0,r.jsx)(e.code,{children:"Record<string, (input: unknown, data?: Record<string, unknown>) => { success: boolean; error?: string }>"})," schema \u4e2d\u7279\u6b8a\u5b57\u6bb5\u7684\u9a8c\u8bc1\u51fd\u6570\u3002"]}),"\n",(0,r.jsxs)(e.li,{children:["initValue?: ",(0,r.jsx)(e.code,{children:"Record<string, any>"})," schema \u4e2d\u5b57\u6bb5\u7684\u521d\u59cb\u5316\u503c\u3002"]}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:["Formily Schema \u7c7b\u578b\u652f\u6301\u65b9\u5f0f\u53ef\u53c2\u8003",(0,r.jsx)(e.a,{href:"/guides/topic-detail/generator/plugin/api/input/type.html",children:"\u81ea\u5b9a\u4e49\u8f93\u5165\u76f8\u5173\u7c7b\u578b\u5b9a\u4e49"}),"\u3002"]})]})}const a=function(s={}){const{wrapper:e}=s.components||{};return e?(0,r.jsx)(e,Object.assign({},s,{children:(0,r.jsx)(c,s)})):c(s)}}}]);