"use strict";(self.webpackChunk_modern_js_main_doc_website=self.webpackChunk_modern_js_main_doc_website||[]).push([[4343],{62899:(e,n,s)=>{s.r(n),s.d(n,{default:()=>o,frontmatter:()=>t,title:()=>c,toc:()=>i});var r=s(97458);const t={title:"Entries",sidebar_position:2},i=[{id:"single-entry-and-multiple-entries",text:"Single Entry and Multiple Entries",depth:2},{id:"entry-conditions",text:"Entry conditions",depth:2},{id:"difference-between-entries",text:"Difference between entries",depth:2},{id:"routes",text:"routes",depth:3},{id:"app",text:"App",depth:3},{id:"index",text:"Index",depth:3},{id:"configuration",text:"configuration",depth:2}],c="Entries";function d(e){const n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",div:"div",button:"button",pre:"pre",code:"code",span:"span",ol:"ol",li:"li",h3:"h3"},e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.h1,{id:"entries",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#entries",children:"#"}),"Entries"]}),"\n",(0,r.jsx)(n.p,{children:"Entries are Modern.js default file convention, and each entry in the project is a separate page, corresponding to a server level route."}),"\n",(0,r.jsx)(n.p,{children:"Many configurations, such as HTML templates, Meta information, whether SSR is enabled, SSG, server level routing rules are divided by the entry dimension."}),"\n",(0,r.jsxs)(n.h2,{id:"single-entry-and-multiple-entries",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#single-entry-and-multiple-entries",children:"#"}),"Single Entry and Multiple Entries"]}),"\n",(0,r.jsx)(n.p,{children:"Modern.js initialization project is a single entry, the project structure is as follows:"}),"\n",(0,r.jsxs)(n.div,{className:"language-text",children:[(0,r.jsx)(n.div,{className:""}),(0,r.jsxs)(n.div,{className:"modern-code-content",children:[(0,r.jsx)(n.button,{className:"copy"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:".\n\u251c\u2500\u2500 src\n\u2502\xa0\xa0 \u251c\u2500\u2500 modern-app-env.d.ts\n\u2502\xa0\xa0 \u2514\u2500\u2500 routes\n\u2502\xa0\xa0     \u251c\u2500\u2500 index.css\n\u2502\xa0\xa0     \u251c\u2500\u2500 layout.tsx\n\u2502\xa0\xa0     \u2514\u2500\u2500 page.tsx\n\u251c\u2500\u2500 package.json\n\u251c\u2500\u2500 modern.config.ts\n\u251c\u2500\u2500 pnpm-lock.yaml\n\u251c\u2500\u2500 README.md\n\u2514\u2500\u2500 tsconfig.json\n"})})]})]}),"\n",(0,r.jsxs)(n.p,{children:["Modern.js can easily switch from single entry to multiple entry. You can execute ",(0,r.jsx)(n.code,{children:"pnpm run new"})," under the project to create entry through generator:"]}),"\n",(0,r.jsxs)(n.div,{className:"language-bash",children:[(0,r.jsx)(n.div,{className:""}),(0,r.jsxs)(n.div,{className:"modern-code-content",children:[(0,r.jsx)(n.button,{className:"copy"}),(0,r.jsx)(n.pre,{className:"shiki",style:{backgroundColor:"var(--shiki-color-background)"},children:(0,r.jsxs)(n.code,{children:[(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"?"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" Action: Create project element"})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"?"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" Create project element: New "}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-string-expression)"},children:'"entry"'})]}),"\n",(0,r.jsxs)(n.span,{className:"line",children:[(0,r.jsx)(n.span,{style:{color:"var(--shiki-token-keyword)"},children:"?"}),(0,r.jsx)(n.span,{style:{color:"var(--shiki-color-text)"},children:" Entry name: new-entry"})]}),"\n",(0,r.jsx)(n.span,{className:"line"})]})})]})]}),"\n",(0,r.jsxs)(n.p,{children:["After execution, the ",(0,r.jsx)(n.code,{children:"src/"})," directory will become the following structure:"]}),"\n",(0,r.jsxs)(n.div,{className:"language-text",children:[(0,r.jsx)(n.div,{className:""}),(0,r.jsxs)(n.div,{className:"modern-code-content",children:[(0,r.jsx)(n.button,{className:"copy"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:".\n\u251c\u2500\u2500 modern-app-env.d.ts\n\u251c\u2500\u2500 myapp\n\u2502\xa0\xa0 \u2514\u2500\u2500 routes\n\u2502\xa0\xa0     \u251c\u2500\u2500 index.css\n\u2502\xa0\xa0     \u251c\u2500\u2500 layout.tsx\n\u2502\xa0\xa0     \u2514\u2500\u2500 page.tsx\n\u2514\u2500\u2500 new-entry\n    \u2514\u2500\u2500 routes\n        \u251c\u2500\u2500 index.css\n        \u251c\u2500\u2500 layout.tsx\n        \u2514\u2500\u2500 page.tsx\n"})})]})]}),"\n",(0,r.jsxs)(n.p,{children:["The original code was moved to the directory with the same name as the ",(0,r.jsx)(n.code,{children:"name"})," in the ",(0,r.jsx)(n.code,{children:"package.json"}),", and a new directory was created."]}),"\n",(0,r.jsxs)(n.p,{children:["After executing ",(0,r.jsx)(n.code,{children:"pnpm run dev"}),", you can see that a ",(0,r.jsx)(n.code,{children:"/new-entry"})," route has been added, and the migrated code route has not changed."]}),"\n",(0,r.jsxs)(n.div,{className:"modern-directive note",children:[(0,r.jsx)(n.p,{className:"modern-directive-title",children:"NOTE"}),(0,r.jsx)(n.div,{className:"modern-directive-content",children:(0,r.jsxs)(n.p,{children:["\nModern.js will use the directory with the same name as the ",(0,r.jsx)(n.code,{children:"name"})," in the ",(0,r.jsx)(n.code,{children:"package.json"})," as the main entry, the default route is ",(0,r.jsx)(n.code,{children:"/"}),", and the default route for other entries is ",(0,r.jsx)(n.code,{children:"/{entryName}"}),"."]})})]}),"\n",(0,r.jsxs)(n.h2,{id:"entry-conditions",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#entry-conditions",children:"#"}),"Entry conditions"]}),"\n",(0,r.jsxs)(n.p,{children:["By default, the Modern.js entry currently scans the file under ",(0,r.jsx)(n.code,{children:"src/"}),", identifies the entry, and generates the corresponding server level route."]}),"\n",(0,r.jsxs)(n.div,{className:"modern-directive tip",children:[(0,r.jsx)(n.p,{className:"modern-directive-title",children:"TIP"}),(0,r.jsx)(n.div,{className:"modern-directive-content",children:(0,r.jsxs)(n.p,{children:["\nYou can change the entry directory to another directory by ",(0,r.jsx)(n.a,{href:"/en/configure/app/source/entries-dir.html",children:"source.entriesDir"}),"."]})})]}),"\n",(0,r.jsxs)(n.p,{children:["Not all first-level directories under ",(0,r.jsx)(n.code,{children:"src/"})," will become project entrances. The directory where the entry is located must meet one of the following four conditions:"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Directory with ",(0,r.jsx)(n.code,{children:"routes/"})]}),"\n",(0,r.jsxs)(n.li,{children:["Has the ",(0,r.jsx)(n.code,{children:"App.[jt]sx?"})," file"]}),"\n",(0,r.jsxs)(n.li,{children:["With ",(0,r.jsx)(n.code,{children:"index.[jt]sx?"})," file"]}),"\n",(0,r.jsxs)(n.li,{children:["With ",(0,r.jsx)(n.code,{children:"pages/"})," directory (compatible Modern.js 1.0)"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["When the ",(0,r.jsx)(n.code,{children:"src/"})," directory satisfies the entry feature, the Modern.js considers the current project to be a single entry application."]}),"\n",(0,r.jsxs)(n.div,{className:"modern-directive tip",children:[(0,r.jsx)(n.p,{className:"modern-directive-title",children:"TIP"}),(0,r.jsx)(n.div,{className:"modern-directive-content",children:(0,r.jsxs)(n.p,{children:["\nSingle entry The default entry name is ",(0,r.jsx)(n.code,{children:"main"}),"."]})})]}),"\n",(0,r.jsxs)(n.p,{children:["When the project is not a single-entry application, Modern.js further look at the first-level directory under ",(0,r.jsx)(n.code,{children:"src/"}),"."]}),"\n",(0,r.jsxs)(n.h2,{id:"difference-between-entries",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#difference-between-entries",children:"#"}),"Difference between entries"]}),"\n",(0,r.jsx)(n.p,{children:"Entries to different conventions have different behaviors."}),"\n",(0,r.jsxs)(n.h3,{id:"routes",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#routes",children:"#"}),"routes"]}),"\n",(0,r.jsxs)(n.p,{children:["If the entry is the ",(0,r.jsx)(n.code,{children:"routes/"})," convention, Modern.js will scan the files under ",(0,r.jsx)(n.code,{children:"routes"})," at startup, and automatically generate the client route based on the file convention(react-router)."]}),"\n",(0,r.jsxs)(n.p,{children:["For details, please refer to ",(0,r.jsx)(n.a,{href:"/en/guides/basic-features/routes.html",children:"Routing"}),"."]}),"\n",(0,r.jsxs)(n.h3,{id:"app",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#app",children:"#"}),"App"]}),"\n",(0,r.jsxs)(n.p,{children:["If the entry is the ",(0,r.jsx)(n.code,{children:"App.[jt]sx?"})," convention, the developer can freely set the client route in this file, or not set the client route."]}),"\n",(0,r.jsxs)(n.p,{children:["For details, please refer to ",(0,r.jsx)(n.a,{href:"/en/guides/basic-features/routes.html",children:"Routing"}),"."]}),"\n",(0,r.jsxs)(n.h3,{id:"index",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#index",children:"#"}),"Index"]}),"\n",(0,r.jsxs)(n.p,{children:["Typically, the above two modes are sufficient, but when developers need to take over the React mount logic themselves, or take over the Webpack entry entirely, the ",(0,r.jsx)(n.code,{children:"index.[jt]sx?"}),"convention can be used."]}),"\n",(0,r.jsxs)(n.p,{children:["If the entry is the ",(0,r.jsx)(n.code,{children:"index.[jt]sx?"})," convention, the Modern.js determines the build behavior based on whether the file has a default component export."]}),"\n",(0,r.jsxs)(n.p,{children:["For details, please refer to ",(0,r.jsx)(n.a,{href:"/en/guides/concept/entries.html#%E8%87%AA%E5%AE%9A%E4%B9%89-app",children:"customized App"}),"."]}),"\n",(0,r.jsxs)(n.h2,{id:"configuration",children:[(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#configuration",children:"#"}),"configuration"]}),"\n",(0,r.jsxs)(n.p,{children:["In Modern.js, you can manually configure the entry in ",(0,r.jsx)(n.code,{children:"modern.config.[jt]s"}),", in addition to using the file convention to generate the entry."]}),"\n",(0,r.jsxs)(n.div,{className:"modern-directive tip",children:[(0,r.jsx)(n.p,{className:"modern-directive-title",children:"TIP"}),(0,r.jsx)(n.div,{className:"modern-directive-content",children:(0,r.jsxs)(n.p,{children:["\nDetails can be found in ",(0,r.jsx)(n.a,{href:"/en/configure/app/source/entries.html",children:"source.entries"}),"."]})})]})]})}const o=function(e={}){const{wrapper:n}=e.components||{};return n?(0,r.jsx)(n,Object.assign({},e,{children:(0,r.jsx)(d,e)})):d(e)}}}]);