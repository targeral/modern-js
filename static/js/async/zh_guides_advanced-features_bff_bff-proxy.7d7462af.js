"use strict";(self.webpackChunk_modern_js_main_doc_website=self.webpackChunk_modern_js_main_doc_website||[]).push([[84345],{33466:(s,e,n)=>{n.r(e),n.d(e,{default:()=>t,frontmatter:()=>i,title:()=>l,toc:()=>o});var r=n(97458);const i={sidebar_position:5,title:"\u4f7f\u7528 BFF \u4ee3\u7406"},o=[],l="\u4f7f\u7528 BFF \u4ee3\u7406";function c(s){const e=Object.assign({h1:"h1",a:"a",p:"p",div:"div",code:"code",button:"button",pre:"pre",span:"span"},s.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(e.h1,{id:"\u4f7f\u7528-bff-\u4ee3\u7406",children:[(0,r.jsx)(e.a,{className:"header-anchor","aria-hidden":"true",href:"#\u4f7f\u7528-bff-\u4ee3\u7406",children:"#"}),"\u4f7f\u7528 BFF \u4ee3\u7406"]}),"\n",(0,r.jsx)(e.p,{children:"\u901a\u8fc7\u914d\u7f6e BFF \u4ee3\u7406\uff0c\u65e0\u9700\u624b\u52a8\u5199\u7801\uff0c\u5373\u53ef\u5bf9 API \u8bf7\u6c42\u8fdb\u884c\u8f6c\u53d1\u3002"}),"\n",(0,r.jsxs)(e.div,{className:"modern-directive caution",children:[(0,r.jsx)(e.p,{className:"modern-directive-title",children:"CAUTION"}),(0,r.jsx)(e.div,{className:"modern-directive-content",children:(0,r.jsx)(e.p,{children:"\n\u4f7f\u7528 BFF \u4ee3\u7406\u9700\u786e\u4fdd\u8bf7\u6c42\u80fd\u8fdb\u5165 BFF handler\u3002\uff08\u4f8b\u5982\u8bf7\u6c42\u8def\u5f84\u5fc5\u987b\u5305\u542b bff prefix\uff09"})})]}),"\n",(0,r.jsxs)(e.p,{children:["\u5728 ",(0,r.jsx)(e.code,{children:"modern.server-runtime.config.js"})," \u6587\u4ef6\u4e2d\u7f16\u5199\u4ee5\u4e0b BFF \u4ee3\u7406\u914d\u7f6e\uff0c\u4f1a\u5c06\u53d1\u9001\u5230 ",(0,r.jsx)(e.code,{children:"http://localhost:8080/api/v1/topics"})," \u7684\u8bf7\u6c42\u4ee3\u7406\u5230 ",(0,r.jsx)(e.code,{children:"https://cnodejs.org/api/v1/topics"}),"\u3002"]}),"\n",(0,r.jsxs)(e.div,{className:"language-js",children:[(0,r.jsx)(e.div,{className:"modern-code-title",children:"modern.server-runtime.config.js"}),(0,r.jsxs)(e.div,{className:"modern-code-content",children:[(0,r.jsx)(e.button,{className:"copy"}),(0,r.jsx)(e.pre,{className:"shiki",style:{backgroundColor:"var(--shiki-color-background)"},children:(0,r.jsxs)(e.code,{children:[(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"import"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" { defineConfig } "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"from"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'@modern-js/app-tools/server'"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:";"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"export"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:"default"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-function)"},children:"defineConfig"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"({"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  bff"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    proxy"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" {"})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"      "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'/api/v1/topics'"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-keyword)"},children:":"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:" "}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-string-expression)"},children:"'https://cnodejs.org'"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"    }"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsxs)(e.span,{className:"line",children:[(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"  }"}),(0,r.jsx)(e.span,{style:{color:"var(--shiki-token-punctuation)"},children:","})]}),"\n",(0,r.jsx)(e.span,{className:"line",children:(0,r.jsx)(e.span,{style:{color:"var(--shiki-color-text)"},children:"};"})}),"\n",(0,r.jsx)(e.span,{className:"line"})]})})]})]}),"\n",(0,r.jsxs)(e.div,{className:"modern-directive note",children:[(0,r.jsx)(e.p,{className:"modern-directive-title",children:"NOTE"}),(0,r.jsx)(e.div,{className:"modern-directive-content",children:(0,r.jsxs)(e.p,{children:["\n\u8be6\u7ec6 API \u8bf7\u67e5\u770b ",(0,r.jsx)(e.a,{href:"/configure/app/bff/proxy.html",children:"BFF \u4ee3\u7406"}),"\u3002\u66f4\u591a Modern.js \u4ee3\u7406\u7684\u80fd\u529b\u53ef\u67e5\u770b",(0,r.jsx)(e.a,{href:"/guides/basic-features/proxy.html",children:"\u8c03\u8bd5\u4ee3\u7406"}),"\u3002"]})})]})]})}const t=function(s={}){const{wrapper:e}=s.components||{};return e?(0,r.jsx)(e,Object.assign({},s,{children:(0,r.jsx)(c,s)})):c(s)}}}]);