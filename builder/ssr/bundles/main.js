!function(){var e,n={57402:function(e,n,r){"use strict";var t,i,s,l;Object.defineProperty(n,"__esModule",{value:!0});function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{AbortedDeferredError:function(){return D},Action:function(){return t},ErrorResponse:function(){return G},IDLE_BLOCKER:function(){return Q},IDLE_FETCHER:function(){return Y},IDLE_NAVIGATION:function(){return J},UNSAFE_DEFERRED_SYMBOL:function(){return et},UNSAFE_DeferredData:function(){return B},UNSAFE_convertRoutesToDataRoutes:function(){return v},UNSAFE_getPathContributingMatches:function(){return N},UNSAFE_invariant:function(){return u},UNSAFE_warning:function(){return p},createBrowserHistory:function(){return c},createHashHistory:function(){return h},createMemoryHistory:function(){return d},createPath:function(){return f},createRouter:function(){return er},createStaticHandler:function(){return ei},defer:function(){return z},generatePath:function(){return k},getStaticContextFromError:function(){return es},getToPathname:function(){return R},isDeferredData:function(){return eE},isRouteErrorResponse:function(){return W},joinPaths:function(){return C},json:function(){return A},matchPath:function(){return _},matchRoutes:function(){return y},normalizePathname:function(){return M},parsePath:function(){return j},redirect:function(){return L},resolvePath:function(){return E},resolveTo:function(){return T},stripBasename:function(){return P}}),(s=t||(t={})).Pop="POP",s.Push="PUSH",s.Replace="REPLACE";let a="popstate";function d(e){let n;void 0===e&&(e={});let{initialEntries:r=["/"],initialIndex:i,v5Compat:s=!1}=e;n=r.map((e,n)=>h(e,"string"==typeof e?null:e.state,0===n?"default":void 0));let l=d(null==i?n.length-1:i),o=t.Pop,a=null;function d(e){return Math.min(Math.max(e,0),n.length-1)}function c(){return n[l]}function h(e,r,t){void 0===r&&(r=null);let i=m(n?n[l].pathname:"/",e,r,t);return p("/"===i.pathname.charAt(0),"relative pathnames are not supported in memory history: "+JSON.stringify(e)),i}function u(e){return"string"==typeof e?e:f(e)}return{get index(){return l},get action(){return o},get location(){return n[l]},createHref:u,createURL:e=>new URL(u(e),"http://localhost"),encodeLocation(e){let n="string"==typeof e?j(e):e;return{pathname:n.pathname||"",search:n.search||"",hash:n.hash||""}},push(e,r){o=t.Push;let i=h(e,r);l+=1,n.splice(l,n.length,i),s&&a&&a({action:o,location:i,delta:1})},replace(e,r){o=t.Replace;let i=h(e,r);n[l]=i,s&&a&&a({action:o,location:i,delta:0})},go(e){o=t.Pop;let r=d(l+e),i=n[r];l=r,a&&a({action:o,location:i,delta:e})},listen:e=>(a=e,()=>{a=null})}}function c(e){return void 0===e&&(e={}),g(function(e,n){let{pathname:r,search:t,hash:i}=e.location;return m("",{pathname:r,search:t,hash:i},n.state&&n.state.usr||null,n.state&&n.state.key||"default")},function(e,n){return"string"==typeof n?n:f(n)},null,e)}function h(e){return void 0===e&&(e={}),g(function(e,n){let{pathname:r="/",search:t="",hash:i=""}=j(e.location.hash.substr(1));return m("",{pathname:r,search:t,hash:i},n.state&&n.state.usr||null,n.state&&n.state.key||"default")},function(e,n){let r=e.document.querySelector("base"),t="";if(r&&r.getAttribute("href")){let n=e.location.href,r=n.indexOf("#");t=-1===r?n:n.slice(0,r)}return t+"#"+("string"==typeof n?n:f(n))},function(e,n){p("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(n)+")")},e)}function u(e,n){if(!1===e||null==e)throw Error(n)}function p(e,n){if(!e){"undefined"!=typeof console&&console.warn(n);try{throw Error(n)}catch(e){}}}function x(e,n){return{usr:e.state,key:e.key,idx:n}}function m(e,n,r,t){return void 0===r&&(r=null),o({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof n?j(n):n,{state:r,key:n&&n.key||t||Math.random().toString(36).substr(2,8)})}function f(e){let{pathname:n="/",search:r="",hash:t=""}=e;return r&&"?"!==r&&(n+="?"===r.charAt(0)?r:"?"+r),t&&"#"!==t&&(n+="#"===t.charAt(0)?t:"#"+t),n}function j(e){let n={};if(e){let r=e.indexOf("#");r>=0&&(n.hash=e.substr(r),e=e.substr(0,r));let t=e.indexOf("?");t>=0&&(n.search=e.substr(t),e=e.substr(0,t)),e&&(n.pathname=e)}return n}function g(e,n,r,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:l=!1}=i,d=s.history,c=t.Pop,h=null,p=j();function j(){return(d.state||{idx:null}).idx}function g(){c=t.Pop;let e=j(),n=null==e?null:e-p;p=e,h&&h({action:c,location:v.location,delta:n})}null==p&&(p=0,d.replaceState(o({},d.state,{idx:p}),""));function b(e){let n="null"!==s.location.origin?s.location.origin:s.location.href,r="string"==typeof e?e:f(e);return u(n,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,n)}let v={get action(){return c},get location(){return e(s,d)},listen(e){if(h)throw Error("A history only accepts one active listener");return s.addEventListener(a,g),h=e,()=>{s.removeEventListener(a,g),h=null}},createHref:e=>n(s,e),createURL:b,encodeLocation(e){let n=b(e);return{pathname:n.pathname,search:n.search,hash:n.hash}},push:function(e,n){c=t.Push;let i=m(v.location,e,n);r&&r(i,e);let o=x(i,p=j()+1),a=v.createHref(i);try{d.pushState(o,"",a)}catch(e){s.location.assign(a)}l&&h&&h({action:c,location:v.location,delta:1})},replace:function(e,n){c=t.Replace;let i=m(v.location,e,n);r&&r(i,e);let s=x(i,p=j()),o=v.createHref(i);d.replaceState(s,"",o),l&&h&&h({action:c,location:v.location,delta:0})},go:e=>d.go(e)};return v}(l=i||(i={})).data="data",l.deferred="deferred",l.redirect="redirect",l.error="error";let b=new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,n,r,t){return void 0===r&&(r=[]),void 0===t&&(t={}),e.map((e,i)=>{let s=[...r,i],l="string"==typeof e.id?e.id:s.join("-");if(u(!0!==e.index||!e.children,"Cannot specify children on an index route"),u(!t[l],'Found a route id collision on id "'+l+"\".  Route id's must be globally unique within Data Router usages"),!0===e.index){let r=o({},e,n(e),{id:l});return t[l]=r,r}{let r=o({},e,n(e),{id:l,children:void 0});return t[l]=r,e.children&&(r.children=v(e.children,n,s,t)),r}})}function y(e,n,r){void 0===r&&(r="/");let t=P(("string"==typeof n?j(n):n).pathname||"/",r);if(null==t)return null;let i=function e(n,r,t,i){void 0===r&&(r=[]),void 0===t&&(t=[]),void 0===i&&(i="");let s=(n,s,l)=>{let o={relativePath:void 0===l?n.path||"":l,caseSensitive:!0===n.caseSensitive,childrenIndex:s,route:n};o.relativePath.startsWith("/")&&(u(o.relativePath.startsWith(i),'Absolute route path "'+o.relativePath+'" nested under path '+('"'+i)+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(i.length));let a=C([i,o.relativePath]),d=t.concat(o);n.children&&n.children.length>0&&(u(!0!==n.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),e(n.children,r,d,a)),(null!=n.path||n.index)&&r.push({path:a,score:function(e,n){let r=e.split("/"),t=r.length;return r.some(S)&&(t+=-2),n&&(t+=2),r.filter(e=>!S(e)).reduce((e,n)=>e+(w.test(n)?3:""===n?1:10),t)}(a,n.index),routesMeta:d})};return n.forEach((e,n)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let r of function e(n){let r=n.split("/");if(0===r.length)return[];let[t,...i]=r,s=t.endsWith("?"),l=t.replace(/\?$/,"");if(0===i.length)return s?[l,""]:[l];let o=e(i.join("/")),a=[];return a.push(...o.map(e=>""===e?l:[l,e].join("/"))),s&&a.push(...o),a.map(e=>n.startsWith("/")&&""===e?"/":e)}(e.path))s(e,n,r);else s(e,n)}),r}(e);(function(e){e.sort((e,n)=>e.score!==n.score?n.score-e.score:function(e,n){return e.length===n.length&&e.slice(0,-1).every((e,r)=>e===n[r])?e[e.length-1]-n[n.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),n.routesMeta.map(e=>e.childrenIndex)))})(i);let s=null;for(let e=0;null==s&&e<i.length;++e)s=function(e,n){let{routesMeta:r}=e,t={},i="/",s=[];for(let e=0;e<r.length;++e){let l=r[e],o=e===r.length-1,a="/"===i?n:n.slice(i.length)||"/",d=_({path:l.relativePath,caseSensitive:l.caseSensitive,end:o},a);if(!d)return null;Object.assign(t,d.params);let c=l.route;s.push({params:t,pathname:C([i,d.pathname]),pathnameBase:M(C([i,d.pathnameBase])),route:c}),"/"!==d.pathnameBase&&(i=C([i,d.pathnameBase]))}return s}(i[e],function(e){try{return decodeURI(e)}catch(n){return p(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+n)+")."),e}}(t));return s}let w=/^:\w+$/,S=e=>"*"===e;function k(e,n){void 0===n&&(n={});let r=e;r.endsWith("*")&&"*"!==r&&!r.endsWith("/*")&&(p(!1,'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*"))+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, '+('please change the route path to "'+r.replace(/\*$/,"/*"))+'".'),r=r.replace(/\*$/,"/*"));let t=r.startsWith("/")?"/":"",i=r.split(/\/+/).map((e,r,t)=>{let i=r===t.length-1;if(i&&"*"===e){let e=n["*"];return e}let s=e.match(/^:(\w+)(\??)$/);if(s){let[,e,r]=s,t=n[e];return"?"===r?null==t?"":t:(null==t&&u(!1,'Missing ":'+e+'" param'),t)}return e.replace(/\?$/g,"")}).filter(e=>!!e);return t+i.join("/")}function _(e,n){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,t]=function(e,n,r){void 0===n&&(n=!1),void 0===r&&(r=!0),p("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*"))+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, '+('please change the route path to "'+e.replace(/\*$/,"/*"))+'".');let t=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(e,n)=>(t.push(n),"/([^\\/]+)"));return e.endsWith("*")?(t.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,n?void 0:"i"),t]}(e.path,e.caseSensitive,e.end),i=n.match(r);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:t.reduce((e,n,r)=>{if("*"===n){let e=o[r]||"";l=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}return e[n]=function(e,n){try{return decodeURIComponent(e)}catch(r){return p(!1,'The value for the URL param "'+n+'" will not be decoded because'+(' the string "'+e)+'" is a malformed URL segment. This is probably'+(" due to a bad percent encoding ("+r)+")."),e}}(o[r]||"",n),e},{}),pathname:s,pathnameBase:l,pattern:e}}function P(e,n){if("/"===n)return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let r=n.endsWith("/")?n.length-1:n.length,t=e.charAt(r);return t&&"/"!==t?null:e.slice(r)||"/"}function E(e,n){void 0===n&&(n="/");let{pathname:r,search:t="",hash:i=""}="string"==typeof e?j(e):e;return{pathname:r?r.startsWith("/")?r:function(e,n){let r=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)}),r.length>1?r.join("/"):"/"}(r,n):n,search:O(t),hash:I(i)}}function F(e,n,r,t){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(t))+"].  Please separate it out to the "+("`to."+r)+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function N(e){return e.filter((e,n)=>0===n||e.route.path&&e.route.path.length>0)}function T(e,n,r,t){let i,s;void 0===t&&(t=!1),"string"==typeof e?i=j(e):(u(!(i=o({},e)).pathname||!i.pathname.includes("?"),F("?","pathname","search",i)),u(!i.pathname||!i.pathname.includes("#"),F("#","pathname","hash",i)),u(!i.search||!i.search.includes("#"),F("#","search","hash",i)));let l=""===e||""===i.pathname,a=l?"/":i.pathname;if(t||null==a)s=r;else{let e=n.length-1;if(a.startsWith("..")){let n=a.split("/");for(;".."===n[0];)n.shift(),e-=1;i.pathname=n.join("/")}s=e>=0?n[e]:"/"}let d=E(i,s),c=a&&"/"!==a&&a.endsWith("/"),h=(l||"."===a)&&r.endsWith("/");return!d.pathname.endsWith("/")&&(c||h)&&(d.pathname+="/"),d}function R(e){return""===e||""===e.pathname?"/":"string"==typeof e?j(e).pathname:e.pathname}let C=e=>e.join("/").replace(/\/\/+/g,"/"),M=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),O=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",I=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"",A=function(e,n){void 0===n&&(n={});let r="number"==typeof n?{status:n}:n,t=new Headers(r.headers);return!t.has("Content-Type")&&t.set("Content-Type","application/json; charset=utf-8"),new Response(JSON.stringify(e),o({},r,{headers:t}))};class D extends Error{}class B{constructor(e,n){let r;this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],u(e&&"object"==typeof e&&!Array.isArray(e),"defer() only accepts plain objects"),this.abortPromise=new Promise((e,n)=>r=n),this.controller=new AbortController;let t=()=>r(new D("Deferred data aborted"));this.unlistenAbortSignal=()=>this.controller.signal.removeEventListener("abort",t),this.controller.signal.addEventListener("abort",t),this.data=Object.entries(e).reduce((e,n)=>{let[r,t]=n;return Object.assign(e,{[r]:this.trackPromise(r,t)})},{}),this.done&&this.unlistenAbortSignal(),this.init=n}trackPromise(e,n){if(!(n instanceof Promise))return n;this.deferredKeys.push(e),this.pendingKeysSet.add(e);let r=Promise.race([n,this.abortPromise]).then(n=>this.onSettle(r,e,null,n),n=>this.onSettle(r,e,n));return r.catch(()=>{}),Object.defineProperty(r,"_tracked",{get:()=>!0}),r}onSettle(e,n,r,t){return this.controller.signal.aborted&&r instanceof D?(this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:()=>r}),Promise.reject(r)):(this.pendingKeysSet.delete(n),this.done&&this.unlistenAbortSignal(),r)?(Object.defineProperty(e,"_error",{get:()=>r}),this.emit(!1,n),Promise.reject(r)):(Object.defineProperty(e,"_data",{get:()=>t}),this.emit(!1,n),t)}emit(e,n){this.subscribers.forEach(r=>r(e,n))}subscribe(e){return this.subscribers.add(e),()=>this.subscribers.delete(e)}cancel(){this.controller.abort(),this.pendingKeysSet.forEach((e,n)=>this.pendingKeysSet.delete(n)),this.emit(!0)}async resolveData(e){let n=!1;if(!this.done){let r=()=>this.cancel();e.addEventListener("abort",r),n=await new Promise(n=>{this.subscribe(t=>{e.removeEventListener("abort",r),(t||this.done)&&n(t)})})}return n}get done(){return 0===this.pendingKeysSet.size}get unwrappedData(){return u(null!==this.data&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((e,n)=>{let[r,t]=n;return Object.assign(e,{[r]:function(e){var n;if(!((n=e)instanceof Promise&&!0===n._tracked))return e;if(e._error)throw e._error;return e._data}(t)})},{})}get pendingKeys(){return Array.from(this.pendingKeysSet)}}let z=function(e,n){void 0===n&&(n={});let r="number"==typeof n?{status:n}:n;return new B(e,r)},L=function(e,n){void 0===n&&(n=302);let r=n;"number"==typeof r?r={status:r}:void 0===r.status&&(r.status=302);let t=new Headers(r.headers);return t.set("Location",e),new Response(null,o({},r,{headers:t}))};class G{constructor(e,n,r,t){void 0===t&&(t=!1),this.status=e,this.statusText=n||"",this.internal=t,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function W(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}let U=["post","put","patch","delete"],H=new Set(U),q=["get",...U],X=new Set(q),V=new Set([301,302,303,307,308]),$=new Set([307,308]),J={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Y={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Q={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},K=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Z="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,ee=!Z,en=e=>({hasErrorBoundary:!!e.hasErrorBoundary});function er(e){let n,r,s,l;if(u(e.routes.length>0,"You must provide a non-empty routes array to createRouter"),e.mapRouteProperties)n=e.mapRouteProperties;else if(e.detectErrorBoundary){let r=e.detectErrorBoundary;n=e=>({hasErrorBoundary:r(e)})}else n=en;let a={},d=v(e.routes,n,void 0,a),c=e.basename||"/",h=o({v7_normalizeFormMethod:!1,v7_prependBasename:!1},e.future),x=null,f=new Set,j=null,g=null,b=null,w=null!=e.hydrationData,S=y(d,e.history.location,c),k=null;if(null==S){let n=ey(404,{pathname:e.history.location.pathname}),{matches:r,route:t}=ev(d);S=r,k={[t.id]:n}}let _=!S.some(e=>e.route.lazy)&&(!S.some(e=>e.route.loader)||null!=e.hydrationData),E={historyAction:e.history.action,location:e.history.location,matches:S,initialized:_,navigation:J,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||k,fetchers:new Map,blockers:new Map},F=t.Pop,N=!1,T=!1,R=!1,C=[],M=[],O=new Map,I=0,A=-1,D=new Map,B=new Set,z=new Map,L=new Map,G=new Map,W=!1;function U(e){E=o({},E,e),f.forEach(e=>e(E))}function H(n,i){var s,l;let a;let c=null!=E.actionData&&null!=E.navigation.formMethod&&eR(E.navigation.formMethod)&&"loading"===E.navigation.state&&(null==(s=n.state)?void 0:s._isRedirect)!==!0;a=i.actionData?Object.keys(i.actionData).length>0?i.actionData:null:c?E.actionData:null;let h=i.loaderData?eg(E.loaderData,i.loaderData,i.matches||[],i.errors):E.loaderData;for(let[e]of G)eN(e);let u=!0===N||null!=E.navigation.formMethod&&eR(E.navigation.formMethod)&&(null==(l=n.state)?void 0:l._isRedirect)!==!0;r&&(d=r,r=void 0),U(o({},i,{actionData:a,loaderData:h,historyAction:F,location:n,initialized:!0,navigation:J,revalidation:"idle",restoreScrollPosition:eB(n,i.matches||E.matches),preventScrollReset:u,blockers:new Map(E.blockers)})),T||F===t.Pop||(F===t.Push?e.history.push(n,n.state):F===t.Replace&&e.history.replace(n,n.state)),F=t.Pop,N=!1,T=!1,R=!1,C=[],M=[]}async function q(n,r){if("number"==typeof n){e.history.go(n);return}let i=el(E.location,E.matches,c,h.v7_prependBasename,n,null==r?void 0:r.fromRouteId,null==r?void 0:r.relative),{path:s,submission:l,error:a}=eo(h.v7_normalizeFormMethod,!1,i,r),d=E.location,u=m(E.location,s,r&&r.state);u=o({},u,e.history.encodeLocation(u));let p=r&&null!=r.replace?r.replace:void 0,x=t.Push;!0===p?x=t.Replace:!1===p||null!=l&&eR(l.formMethod)&&l.formAction===E.location.pathname+E.location.search&&(x=t.Replace);let f=r&&"preventScrollReset"in r?!0===r.preventScrollReset:void 0,j=eO({currentLocation:d,nextLocation:u,historyAction:x});if(j){eT(j,{state:"blocked",location:u,proceed(){eT(j,{state:"proceeding",proceed:void 0,reset:void 0,location:u}),q(n,r)},reset(){eN(j),U({blockers:new Map(E.blockers)})}});return}return await X(x,u,{submission:l,pendingError:a,preventScrollReset:f,replace:r&&r.replace})}async function X(n,t,i){let s,a;l&&l.abort(),l=null,F=n,T=!0===(i&&i.startUninterruptedRevalidation),function(e,n){j&&g&&b&&(j[g(e,n.map(e=>eI(e,E.loaderData)))||e.key]=b())}(E.location,E.matches),N=!0===(i&&i.preventScrollReset);let h=r||d,u=i&&i.overrideNavigation,p=y(h,t,c);if(!p){let e=ey(404,{pathname:t.pathname}),{matches:n,route:r}=ev(h);eD(),H(t,{matches:n,loaderData:{},errors:{[r.id]:e}});return}if(E.initialized&&function(e,n){if(e.pathname!==n.pathname||e.search!==n.search)return!1;if(""===e.hash)return""!==n.hash;if(e.hash===n.hash)return!0;if(""!==n.hash)return!0;return!1}(E.location,t)&&!(i&&i.submission&&eR(i.submission.formMethod))){H(t,{matches:p});return}l=new AbortController;let x=ex(e.history,t,l.signal,i&&i.submission);if(i&&i.pendingError)a={[eb(p).route.id]:i.pendingError};else if(i&&i.submission&&eR(i.submission.formMethod)){let e=await V(x,t,i.submission,p,{replace:i.replace});if(e.shortCircuited)return;s=e.pendingActionData,a=e.pendingActionError,u=o({state:"loading",location:t},i.submission),x=new Request(x.url,{signal:x.signal})}let{shortCircuited:m,loaderData:f,errors:v}=await er(x,t,p,u,i&&i.submission,i&&i.fetcherSubmission,i&&i.replace,s,a);!m&&(l=null,H(t,o({matches:p},s?{actionData:s}:{},{loaderData:f,errors:v})))}async function V(e,r,s,l,d){let h;eh(),U({navigation:o({state:"submitting",location:r},s)});let u=eA(l,r);if(u.route.action||u.route.lazy){if(h=await ep("action",e,u,l,a,n,c),e.signal.aborted)return{shortCircuited:!0}}else h={type:i.error,error:ey(405,{method:e.method,pathname:r.pathname,routeId:u.route.id})};if(eP(h)){let e;return e=d&&null!=d.replace?d.replace:h.location===E.location.pathname+E.location.search,await ea(E,h,{submission:s,replace:e}),{shortCircuited:!0}}if(e_(h)){let e=eb(l,u.route.id);return!0!==(d&&d.replace)&&(F=t.Push),{pendingActionData:{},pendingActionError:{[e.route.id]:h.error}}}if(ek(h))throw ey(400,{type:"defer-action"});return{pendingActionData:{[u.route.id]:h.data}}}async function er(n,t,i,s,a,h,u,p,x){let m=s;!m&&(m=o({state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},a));let f=a||h?a||h:m.formMethod&&m.formAction&&m.formData&&m.formEncType?{formMethod:m.formMethod,formAction:m.formAction,formData:m.formData,formEncType:m.formEncType}:void 0,j=r||d,[g,b]=ed(e.history,E,i,f,t,R,C,M,z,j,c,p,x);if(eD(e=>!(i&&i.some(n=>n.route.id===e))||g&&g.some(n=>n.route.id===e)),0===g.length&&0===b.length)return H(t,o({matches:i,loaderData:{},errors:x||null},p?{actionData:p}:{},eE()?{fetchers:new Map(E.fetchers)}:{})),{shortCircuited:!0};if(!T){b.forEach(e=>{let n=E.fetchers.get(e.key),r={state:"loading",data:n&&n.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};E.fetchers.set(e.key,r)});let e=p||E.actionData;U(o({navigation:m},e?0===Object.keys(e).length?{actionData:null}:{actionData:e}:{},b.length>0?{fetchers:new Map(E.fetchers)}:{}))}A=++I,b.forEach(e=>{e.controller&&O.set(e.key,e.controller)});let v=()=>b.forEach(e=>ef(e.key));l&&l.signal.addEventListener("abort",v);let{results:y,loaderResults:w,fetcherResults:S}=await ec(E.matches,i,g,b,n);if(n.signal.aborted)return{shortCircuited:!0};l&&l.signal.removeEventListener("abort",v),b.forEach(e=>O.delete(e.key));let k=ew(y);if(k)return await ea(E,k,{replace:u}),{shortCircuited:!0};let{loaderData:_,errors:P}=ej(E,i,g,w,x,b,S,L);L.forEach((e,n)=>{e.subscribe(r=>{(r||e.done)&&L.delete(n)})});let F=eE(),N=eF(A);return o({loaderData:_,errors:P},F||N||b.length>0?{fetchers:new Map(E.fetchers)}:{})}function et(e){return E.fetchers.get(e)||Y}async function ei(t,i,s,h,p,x){if(eh(),z.delete(t),!h.route.action&&!h.route.lazy){let e=ey(405,{method:x.formMethod,pathname:s,routeId:i});eu(t,i,e);return}let m=E.fetchers.get(t),f=o({state:"submitting"},x,{data:m&&m.data," _hasFetcherDoneAnything ":!0});E.fetchers.set(t,f),U({fetchers:new Map(E.fetchers)});let j=new AbortController,g=ex(e.history,s,j.signal,x);O.set(t,j);let b=await ep("action",g,h,p,a,n,c);if(g.signal.aborted){O.get(t)===j&&O.delete(t);return}if(eP(b)){O.delete(t),B.add(t);let e=o({state:"loading"},x,{data:void 0," _hasFetcherDoneAnything ":!0});return E.fetchers.set(t,e),U({fetchers:new Map(E.fetchers)}),ea(E,b,{submission:x,isFetchActionRedirect:!0})}if(e_(b)){eu(t,i,b.error);return}if(ek(b))throw ey(400,{type:"defer-action"});let v=E.navigation.location||E.location,w=ex(e.history,v,j.signal),S=r||d,k="idle"!==E.navigation.state?y(S,E.navigation.location,c):E.matches;u(k,"Didn't find any matches after fetcher action");let _=++I;D.set(t,_);let P=o({state:"loading",data:b.data},x,{" _hasFetcherDoneAnything ":!0});E.fetchers.set(t,P);let[N,T]=ed(e.history,E,k,x,v,R,C,M,z,S,c,{[h.route.id]:b.data},void 0);T.filter(e=>e.key!==t).forEach(e=>{let n=e.key,r=E.fetchers.get(n),t={state:"loading",data:r&&r.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};E.fetchers.set(n,t),e.controller&&O.set(n,e.controller)}),U({fetchers:new Map(E.fetchers)});let G=()=>T.forEach(e=>ef(e.key));j.signal.addEventListener("abort",G);let{results:W,loaderResults:q,fetcherResults:X}=await ec(E.matches,k,N,T,w);if(j.signal.aborted)return;j.signal.removeEventListener("abort",G),D.delete(t),O.delete(t),T.forEach(e=>O.delete(e.key));let V=ew(W);if(V)return ea(E,V);let{loaderData:$,errors:J}=ej(E,E.matches,N,q,void 0,T,X,L),Y={state:"idle",data:b.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};E.fetchers.set(t,Y);let Q=eF(_);"loading"===E.navigation.state&&_>A?(u(F,"Expected pending action"),l&&l.abort(),H(E.navigation.location,{matches:k,loaderData:$,errors:J,fetchers:new Map(E.fetchers)})):(U(o({errors:J,loaderData:eg(E.loaderData,$,k,J)},Q?{fetchers:new Map(E.fetchers)}:{})),R=!1)}async function es(r,t,i,s,l,d){let h=E.fetchers.get(r),p=o({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},d,{data:h&&h.data," _hasFetcherDoneAnything ":!0});E.fetchers.set(r,p),U({fetchers:new Map(E.fetchers)});let x=new AbortController,m=ex(e.history,i,x.signal);O.set(r,x);let f=await ep("loader",m,s,l,a,n,c);if(ek(f)&&(f=await eM(f,m.signal,!0)||f),O.get(r)===x&&O.delete(r),m.signal.aborted)return;if(eP(f)){B.add(r),await ea(E,f);return}if(e_(f)){let e=eb(E.matches,t);E.fetchers.delete(r),U({fetchers:new Map(E.fetchers),errors:{[e.route.id]:f.error}});return}u(!ek(f),"Unhandled fetcher deferred data");let j={state:"idle",data:f.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};E.fetchers.set(r,j),U({fetchers:new Map(E.fetchers)})}async function ea(n,r,i){var s;let{submission:a,replace:d,isFetchActionRedirect:h}=void 0===i?{}:i;r.revalidate&&(R=!0);let p=m(n.location,r.location,o({_isRedirect:!0},h?{_isFetchActionRedirect:!0}:{}));if(u(p,"Expected a location on the redirect navigation"),K.test(r.location)&&Z&&void 0!==(null==(s=window)?void 0:s.location)){let n=e.history.createURL(r.location),t=null==P(n.pathname,c);if(window.location.origin!==n.origin||t){d?window.location.replace(r.location):window.location.assign(r.location);return}}l=null;let x=!0===d?t.Replace:t.Push,{formMethod:f,formAction:j,formEncType:g,formData:b}=n.navigation;!a&&f&&j&&b&&g&&(a={formMethod:f,formAction:j,formEncType:g,formData:b}),$.has(r.status)&&a&&eR(a.formMethod)?await X(x,p,{submission:o({},a,{formAction:r.location}),preventScrollReset:N}):h?await X(x,p,{overrideNavigation:{state:"loading",location:p,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},fetcherSubmission:a,preventScrollReset:N}):await X(x,p,{overrideNavigation:{state:"loading",location:p,formMethod:a?a.formMethod:void 0,formAction:a?a.formAction:void 0,formEncType:a?a.formEncType:void 0,formData:a?a.formData:void 0},preventScrollReset:N})}async function ec(r,t,s,l,o){let d=await Promise.all([...s.map(e=>ep("loader",o,e,t,a,n,c)),...l.map(r=>r.matches&&r.match&&r.controller?ep("loader",ex(e.history,r.path,r.controller.signal),r.match,r.matches,a,n,c):{type:i.error,error:ey(404,{pathname:r.path})})]),h=d.slice(0,s.length),u=d.slice(s.length);return await Promise.all([eC(r,s,h,h.map(()=>o.signal),!1,E.loaderData),eC(r,l.map(e=>e.match),u,l.map(e=>e.controller?e.controller.signal:null),!0)]),{results:d,loaderResults:h,fetcherResults:u}}function eh(){R=!0,C.push(...eD()),z.forEach((e,n)=>{O.has(n)&&(M.push(n),ef(n))})}function eu(e,n,r){let t=eb(E.matches,n);em(e),U({errors:{[t.route.id]:r},fetchers:new Map(E.fetchers)})}function em(e){O.has(e)&&ef(e),z.delete(e),D.delete(e),B.delete(e),E.fetchers.delete(e)}function ef(e){let n=O.get(e);u(n,"Expected fetch controller: "+e),n.abort(),O.delete(e)}function eS(e){for(let n of e){let e={state:"idle",data:et(n).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};E.fetchers.set(n,e)}}function eE(){let e=[],n=!1;for(let r of B){let t=E.fetchers.get(r);u(t,"Expected fetcher: "+r),"loading"===t.state&&(B.delete(r),e.push(r),n=!0)}return eS(e),n}function eF(e){let n=[];for(let[r,t]of D)if(t<e){let e=E.fetchers.get(r);u(e,"Expected fetcher: "+r),"loading"===e.state&&(ef(r),D.delete(r),n.push(r))}return eS(n),n.length>0}function eN(e){E.blockers.delete(e),G.delete(e)}function eT(e,n){let r=E.blockers.get(e)||Q;u("unblocked"===r.state&&"blocked"===n.state||"blocked"===r.state&&"blocked"===n.state||"blocked"===r.state&&"proceeding"===n.state||"blocked"===r.state&&"unblocked"===n.state||"proceeding"===r.state&&"unblocked"===n.state,"Invalid blocker state transition: "+r.state+" -> "+n.state),E.blockers.set(e,n),U({blockers:new Map(E.blockers)})}function eO(e){let{currentLocation:n,nextLocation:r,historyAction:t}=e;if(0===G.size)return;G.size>1&&p(!1,"A router only supports one blocker at a time");let i=Array.from(G.entries()),[s,l]=i[i.length-1],o=E.blockers.get(s);if((!o||"proceeding"!==o.state)&&l({currentLocation:n,nextLocation:r,historyAction:t}))return s}function eD(e){let n=[];return L.forEach((r,t)=>{(!e||e(t))&&(r.cancel(),n.push(t),L.delete(t))}),n}function eB(e,n){if(j&&g&&b){let r=j[g(e,n.map(e=>eI(e,E.loaderData)))||e.key];if("number"==typeof r)return r}return null}return s={get basename(){return c},get state(){return E},get routes(){return d},initialize:function(){return x=e.history.listen(n=>{let{action:r,location:t,delta:i}=n;if(W){W=!1;return}p(0===G.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let l=eO({currentLocation:E.location,nextLocation:t,historyAction:r});if(l&&null!=i){W=!0,e.history.go(-1*i),eT(l,{state:"blocked",location:t,proceed(){eT(l,{state:"proceeding",proceed:void 0,reset:void 0,location:t}),e.history.go(i)},reset(){eN(l),U({blockers:new Map(s.state.blockers)})}});return}return X(r,t)}),!E.initialized&&X(t.Pop,E.location),s},subscribe:function(e){return f.add(e),()=>f.delete(e)},enableScrollRestoration:function(e,n,r){if(j=e,b=n,g=r||(e=>e.key),!w&&E.navigation===J){w=!0;let e=eB(E.location,E.matches);null!=e&&U({restoreScrollPosition:e})}return()=>{j=null,b=null,g=null}},navigate:q,fetch:function(e,n,t,i){if(ee)throw Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");O.has(e)&&ef(e);let s=r||d,l=el(E.location,E.matches,c,h.v7_prependBasename,t,n,null==i?void 0:i.relative),o=y(s,l,c);if(!o){eu(e,n,ey(404,{pathname:l}));return}let{path:a,submission:u}=eo(h.v7_normalizeFormMethod,!0,l,i),p=eA(o,a);if(N=!0===(i&&i.preventScrollReset),u&&eR(u.formMethod)){ei(e,n,a,p,o,u);return}z.set(e,{routeId:n,path:a}),es(e,n,a,p,o,u)},revalidate:function(){if(eh(),U({revalidation:"loading"}),"submitting"!==E.navigation.state){if("idle"===E.navigation.state){X(E.historyAction,E.location,{startUninterruptedRevalidation:!0});return}X(F||E.historyAction,E.navigation.location,{overrideNavigation:E.navigation})}},createHref:n=>e.history.createHref(n),encodeLocation:n=>e.history.encodeLocation(n),getFetcher:et,deleteFetcher:em,dispose:function(){x&&x(),f.clear(),l&&l.abort(),E.fetchers.forEach((e,n)=>em(n)),E.blockers.forEach((e,n)=>eN(n))},getBlocker:function(e,n){let r=E.blockers.get(e)||Q;return G.get(e)!==n&&G.set(e,n),r},deleteBlocker:eN,_internalFetchControllers:O,_internalActiveDeferreds:L,_internalSetRoutes:function(e){r=v(e,n,void 0,a={})}}}let et=Symbol("deferred");function ei(e,n){let r;u(e.length>0,"You must provide a non-empty routes array to createStaticHandler");let t={},s=(n?n.basename:null)||"/";if(null!=n&&n.mapRouteProperties)r=n.mapRouteProperties;else if(null!=n&&n.detectErrorBoundary){let e=n.detectErrorBoundary;r=n=>({hasErrorBoundary:e(n)})}else r=en;let l=v(e,r,void 0,t);async function a(e,n,r,t,s){u(e.signal,"query()/queryRoute() requests must contain an AbortController signal");try{if(eR(e.method.toLowerCase()))return await d(e,r,s||eA(r,n),t,null!=s);let i=await c(e,r,t,s);return eF(i)?i:o({},i,{actionData:null,actionHeaders:{}})}catch(e){if(function(e){return e&&eF(e.response)&&(e.type===i.data||i.error)}(e)){if(e.type===i.error&&!eN(e.response))throw e.response;return e.response}if(eN(e))return e;throw e}}async function d(e,n,l,a,d){let h;if(l.route.action||l.route.lazy){if(h=await ep("action",e,l,n,t,r,s,!0,d,a),e.signal.aborted)throw Error((d?"queryRoute":"query")+"() call aborted")}else{let n=ey(405,{method:e.method,pathname:new URL(e.url).pathname,routeId:l.route.id});if(d)throw n;h={type:i.error,error:n}}if(eP(h))throw new Response(null,{status:h.status,headers:{Location:h.location}});if(ek(h)){let e=ey(400,{type:"defer-action"});if(d)throw e;h={type:i.error,error:e}}if(d){if(e_(h))throw h.error;return{matches:[l],loaderData:{},actionData:{[l.route.id]:h.data},errors:null,statusCode:200,loaderHeaders:{},actionHeaders:{},activeDeferreds:null}}if(e_(h)){let r=eb(n,l.route.id);return o({},await c(e,n,a,void 0,{[r.route.id]:h.error}),{statusCode:W(h.error)?h.error.status:500,actionData:null,actionHeaders:o({},h.headers?{[l.route.id]:h.headers}:{})})}let u=new Request(e.url,{headers:e.headers,redirect:e.redirect,signal:e.signal});return o({},await c(u,n,a),h.statusCode?{statusCode:h.statusCode}:{},{actionData:{[l.route.id]:h.data},actionHeaders:o({},h.headers?{[l.route.id]:h.headers}:{})})}async function c(e,n,i,l,a){let d=null!=l;if(d&&!(null!=l&&l.route.loader)&&!(null!=l&&l.route.lazy))throw ey(400,{method:e.method,pathname:new URL(e.url).pathname,routeId:null==l?void 0:l.route.id});let c=(l?[l]:ea(n,Object.keys(a||{})[0])).filter(e=>e.route.loader||e.route.lazy);if(0===c.length)return{matches:n,loaderData:n.reduce((e,n)=>Object.assign(e,{[n.route.id]:null}),{}),errors:a||null,statusCode:200,loaderHeaders:{},activeDeferreds:null};let h=await Promise.all([...c.map(l=>ep("loader",e,l,n,t,r,s,!0,d,i))]);if(e.signal.aborted)throw Error((d?"queryRoute":"query")+"() call aborted");let u=new Map,p=ef(n,c,h,a,u),x=new Set(c.map(e=>e.route.id));return n.forEach(e=>{!x.has(e.route.id)&&(p.loaderData[e.route.id]=null)}),o({},p,{matches:n,activeDeferreds:u.size>0?Object.fromEntries(u.entries()):null})}return{dataRoutes:l,query:async function e(e,n){let{requestContext:r}=void 0===n?{}:n,t=new URL(e.url),i=e.method,d=m("",f(t),null,"default"),c=y(l,d,s);if(eT(i)||"HEAD"===i){if(!c){let e=ey(404,{pathname:d.pathname}),{matches:n,route:r}=ev(l);return{basename:s,location:d,matches:n,loaderData:{},actionData:null,errors:{[r.id]:e},statusCode:e.status,loaderHeaders:{},actionHeaders:{},activeDeferreds:null}}}else{let e=ey(405,{method:i}),{matches:n,route:r}=ev(l);return{basename:s,location:d,matches:n,loaderData:{},actionData:null,errors:{[r.id]:e},statusCode:e.status,loaderHeaders:{},actionHeaders:{},activeDeferreds:null}}let h=await a(e,d,c,r);return eF(h)?h:o({location:d,basename:s},h)},queryRoute:async function e(e,n){let{routeId:r,requestContext:t}=void 0===n?{}:n,i=new URL(e.url),o=e.method,d=m("",f(i),null,"default"),c=y(l,d,s);if(eT(o)||"HEAD"===o||"OPTIONS"===o){if(!c)throw ey(404,{pathname:d.pathname})}else throw ey(405,{method:o});let h=r?c.find(e=>e.route.id===r):eA(c,d);if(r&&!h)throw ey(403,{pathname:d.pathname,routeId:r});if(!h)throw ey(404,{pathname:d.pathname});let u=await a(e,d,c,t,h);if(eF(u))return u;let p=u.errors?Object.values(u.errors)[0]:void 0;if(void 0!==p)throw p;if(u.actionData)return Object.values(u.actionData)[0];if(u.loaderData){var x;let e=Object.values(u.loaderData)[0];return null!=(x=u.activeDeferreds)&&x[h.route.id]&&(e[et]=u.activeDeferreds[h.route.id]),e}}}}function es(e,n,r){return o({},n,{statusCode:500,errors:{[n._deepestRenderedBoundaryId||e[0].id]:r}})}function el(e,n,r,t,i,s,l){let o,a;if(null!=s&&"path"!==l){for(let e of(o=[],n))if(o.push(e),e.route.id===s){a=e;break}}else o=n,a=n[n.length-1];let d=T(i||".",N(o).map(e=>e.pathnameBase),P(e.pathname,r)||e.pathname,"path"===l);return null==i&&(d.search=e.search,d.hash=e.hash),(null==i||""===i||"."===i)&&a&&a.route.index&&!eO(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),t&&"/"!==r&&(d.pathname="/"===d.pathname?r:C([r,d.pathname])),f(d)}function eo(e,n,r,t){var i;let s;if(!t||!(null!=(i=t)&&"formData"in i))return{path:r};if(t.formMethod&&!eT(t.formMethod))return{path:r,error:ey(405,{method:t.formMethod})};if(t.formData){let n=t.formMethod||"get";if(eR((s={formMethod:e?n.toUpperCase():n.toLowerCase(),formAction:eS(r),formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:t.formData}).formMethod))return{path:r,submission:s}}let l=j(r),o=em(t.formData);return n&&l.search&&eO(l.search)&&o.append("index",""),l.search="?"+o,{path:f(l),submission:s}}function ea(e,n){let r=e;if(n){let t=e.findIndex(e=>e.route.id===n);t>=0&&(r=e.slice(0,t))}return r}function ed(e,n,r,t,i,s,l,a,d,c,h,u,p){let x=p?Object.values(p)[0]:u?Object.values(u)[0]:void 0,m=e.createURL(n.location),f=e.createURL(i),j=ea(r,p?Object.keys(p)[0]:void 0).filter((e,r)=>{if(e.route.lazy)return!0;if(null==e.route.loader)return!1;if(function(e,n,r){let t=!n||r.route.id!==n.route.id,i=void 0===e[r.route.id];return t||i}(n.loaderData,n.matches[r],e)||l.some(n=>n===e.route.id))return!0;let i=n.matches[r];return eh(e,o({currentUrl:m,currentParams:i.params,nextUrl:f,nextParams:e.params},t,{actionResult:x,defaultShouldRevalidate:s||m.pathname+m.search===f.pathname+f.search||m.search!==f.search||ec(i,e)}))}),g=[];return d.forEach((e,i)=>{if(!r.some(n=>n.route.id===e.routeId))return;let l=y(c,e.path,h);if(!l){g.push({key:i,routeId:e.routeId,path:e.path,matches:null,match:null,controller:null});return}let d=eA(l,e.path);if(a.includes(i)){g.push({key:i,routeId:e.routeId,path:e.path,matches:l,match:d,controller:new AbortController});return}eh(d,o({currentUrl:m,currentParams:n.matches[n.matches.length-1].params,nextUrl:f,nextParams:r[r.length-1].params},t,{actionResult:x,defaultShouldRevalidate:s}))&&g.push({key:i,routeId:e.routeId,path:e.path,matches:l,match:d,controller:new AbortController})}),[j,g]}function ec(e,n){let r=e.route.path;return e.pathname!==n.pathname||null!=r&&r.endsWith("*")&&e.params["*"]!==n.params["*"]}function eh(e,n){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(n);if("boolean"==typeof r)return r}return n.defaultShouldRevalidate}async function eu(e,n,r){if(!e.lazy)return;let t=await e.lazy();if(!e.lazy)return;let i=r[e.id];u(i,"No route found in manifest");let s={};for(let e in t){let n=void 0!==i[e]&&"hasErrorBoundary"!==e;p(!n,'Route "'+i.id+'" has a static property "'+e+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+e)+'" will be ignored.'),!n&&!b.has(e)&&(s[e]=t[e])}Object.assign(i,s),Object.assign(i,o({},n(i),{lazy:void 0}))}async function ep(e,n,r,t,s,l,o,a,d,c){let h,p,x;void 0===a&&(a=!1),void 0===d&&(d=!1);let m=e=>{let t;let i=new Promise((e,n)=>t=n);return x=()=>t(),n.signal.addEventListener("abort",x),Promise.race([e({request:n,params:r.params,context:c}),i])};try{let t=r.route[e];if(r.route.lazy){if(t)p=(await Promise.all([m(t),eu(r.route,l,s)]))[0];else if(await eu(r.route,l,s),t=r.route[e])p=await m(t);else{if("action"!==e)return{type:i.data,data:void 0};let t=new URL(n.url),s=t.pathname+t.search;throw ey(405,{method:n.method,pathname:s,routeId:r.route.id})}}else if(t)p=await m(t);else{let e=new URL(n.url),r=e.pathname+e.search;throw ey(404,{pathname:r})}u(void 0!==p,"You defined "+("action"===e?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+e)+"` function. Please return a value or `null`.")}catch(e){h=i.error,p=e}finally{x&&n.signal.removeEventListener("abort",x)}if(eF(p)){let e,s=p.status;if(V.has(s)){let e=p.headers.get("Location");if(u(e,"Redirects returned/thrown from loaders/actions must have a Location header"),K.test(e)){if(!a){let r=new URL(n.url),t=new URL(e.startsWith("//")?r.protocol+e:e),i=null!=P(t.pathname,o);t.origin===r.origin&&i&&(e=t.pathname+t.search+t.hash)}}else e=el(new URL(n.url),t.slice(0,t.indexOf(r)+1),o,!0,e);if(a)throw p.headers.set("Location",e),p;return{type:i.redirect,status:s,location:e,revalidate:null!==p.headers.get("X-Remix-Revalidate")}}if(d)throw{type:h||i.data,response:p};let l=p.headers.get("Content-Type");return(e=l&&/\bapplication\/json\b/.test(l)?await p.json():await p.text(),h===i.error)?{type:h,error:new G(s,p.statusText,e),headers:p.headers}:{type:i.data,data:e,statusCode:p.status,headers:p.headers}}if(h===i.error)return{type:h,error:p};if(eE(p)){var f,j;return{type:i.deferred,deferredData:p,statusCode:null==(f=p.init)?void 0:f.status,headers:(null==(j=p.init)?void 0:j.headers)&&new Headers(p.init.headers)}}return{type:i.data,data:p}}function ex(e,n,r,t){let i=e.createURL(eS(n)).toString(),s={signal:r};if(t&&eR(t.formMethod)){let{formMethod:e,formEncType:n,formData:r}=t;s.method=e.toUpperCase(),s.body="application/x-www-form-urlencoded"===n?em(r):r}return new Request(i,s)}function em(e){let n=new URLSearchParams;for(let[r,t]of e.entries())n.append(r,t instanceof File?t.name:t);return n}function ef(e,n,r,t,i){let s,l={},o=null,a=!1,d={};return r.forEach((r,c)=>{let h=n[c].route.id;if(u(!eP(r),"Cannot handle redirect results in processLoaderData"),e_(r)){let n=eb(e,h),i=r.error;t&&(i=Object.values(t)[0],t=void 0),null==(o=o||{})[n.route.id]&&(o[n.route.id]=i),l[h]=void 0,!a&&(a=!0,s=W(r.error)?r.error.status:500),r.headers&&(d[h]=r.headers)}else ek(r)?(i.set(h,r.deferredData),l[h]=r.deferredData.data):l[h]=r.data,null!=r.statusCode&&200!==r.statusCode&&!a&&(s=r.statusCode),r.headers&&(d[h]=r.headers)}),t&&(o=t,l[Object.keys(t)[0]]=void 0),{loaderData:l,errors:o,statusCode:s||200,loaderHeaders:d}}function ej(e,n,r,t,i,s,l,a){let{loaderData:d,errors:c}=ef(n,r,t,i,a);for(let n=0;n<s.length;n++){let{key:r,match:t,controller:i}=s[n];u(void 0!==l&&void 0!==l[n],"Did not find corresponding fetcher result");let a=l[n];if(!i||!i.signal.aborted)if(e_(a)){let n=eb(e.matches,null==t?void 0:t.route.id);!(c&&c[n.route.id])&&(c=o({},c,{[n.route.id]:a.error})),e.fetchers.delete(r)}else if(eP(a))u(!1,"Unhandled fetcher revalidation redirect");else if(ek(a))u(!1,"Unhandled fetcher deferred data");else{let n={state:"idle",data:a.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};e.fetchers.set(r,n)}}return{loaderData:d,errors:c}}function eg(e,n,r,t){let i=o({},n);for(let s of r){let r=s.route.id;if(n.hasOwnProperty(r)?void 0!==n[r]&&(i[r]=n[r]):void 0!==e[r]&&s.route.loader&&(i[r]=e[r]),t&&t.hasOwnProperty(r))break}return i}function eb(e,n){return(n?e.slice(0,e.findIndex(e=>e.route.id===n)+1):[...e]).reverse().find(e=>!0===e.route.hasErrorBoundary)||e[0]}function ev(e){let n=e.find(e=>e.index||!e.path||"/"===e.path)||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:n}],route:n}}function ey(e,n){let{pathname:r,routeId:t,method:i,type:s}=void 0===n?{}:n,l="Unknown Server Error",o="Unknown @remix-run/router error";return 400===e?(l="Bad Request",i&&r&&t?o="You made a "+i+' request to "'+r+'" but '+('did not provide a `loader` for route "'+t)+'", so there is no way to handle the request.':"defer-action"===s&&(o="defer() is not supported in actions")):403===e?(l="Forbidden",o='Route "'+t+'" does not match URL "'+r+'"'):404===e?(l="Not Found",o='No route matches URL "'+r+'"'):405===e&&(l="Method Not Allowed",i&&r&&t?o="You made a "+i.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+t)+'", so there is no way to handle the request.':i&&(o='Invalid request method "'+i.toUpperCase()+'"')),new G(e||500,l,Error(o),!0)}function ew(e){for(let n=e.length-1;n>=0;n--){let r=e[n];if(eP(r))return r}}function eS(e){return f(o({},"string"==typeof e?j(e):e,{hash:""}))}function ek(e){return e.type===i.deferred}function e_(e){return e.type===i.error}function eP(e){return(e&&e.type)===i.redirect}function eE(e){return e&&"object"==typeof e&&"object"==typeof e.data&&"function"==typeof e.subscribe&&"function"==typeof e.cancel&&"function"==typeof e.resolveData}function eF(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"object"==typeof e.headers&&void 0!==e.body}function eN(e){if(!eF(e))return!1;let n=e.status,r=e.headers.get("Location");return n>=300&&n<=399&&null!=r}function eT(e){return X.has(e.toLowerCase())}function eR(e){return H.has(e.toLowerCase())}async function eC(e,n,r,t,i,s){for(let l=0;l<r.length;l++){let o=r[l],a=n[l];if(!a)continue;let d=e.find(e=>e.route.id===a.route.id),c=null!=d&&!ec(d,a)&&(s&&s[a.route.id])!==void 0;if(ek(o)&&(i||c)){let e=t[l];u(e,"Expected an AbortSignal for revalidating fetcher deferred result"),await eM(o,e,i).then(e=>{e&&(r[l]=e||r[l])})}}}async function eM(e,n,r){if(void 0===r&&(r=!1),!await e.deferredData.resolveData(n)){if(r)try{return{type:i.data,data:e.deferredData.unwrappedData}}catch(e){return{type:i.error,error:e}}return{type:i.data,data:e.deferredData.data}}}function eO(e){return new URLSearchParams(e).getAll("index").some(e=>""===e)}function eI(e,n){let{route:r,pathname:t,params:i}=e;return{id:r.id,pathname:t,params:i,data:n[r.id],handle:r.handle}}function eA(e,n){let r="string"==typeof n?j(n).search:n.search;if(e[e.length-1].route.index&&eO(r||""))return e[e.length-1];let t=N(e);return t[t.length-1]}},74007:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{disableBodyScroll:function(){return g},clearAllBodyScrollLocks:function(){return b}});var t=!1;if("undefined"!=typeof window){var i={get passive(){t=!0;return}};window.addEventListener("testPassive",null,i),window.removeEventListener("testPassive",null,i)}var s="undefined"!=typeof window&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||"MacIntel"===window.navigator.platform&&window.navigator.maxTouchPoints>1),l=[],o=!1,a=-1,d=void 0,c=void 0,h=void 0,u=function(e){return l.some(function(n){return!!(n.options.allowTouchMove&&n.options.allowTouchMove(e))||!1})},p=function(e){var n=e||window.event;return!!u(n.target)||!!(n.touches.length>1)||(n.preventDefault&&n.preventDefault(),!1)},x=function(e){if(void 0===h){var n=!!e&&!0===e.reserveScrollBarGap,r=window.innerWidth-document.documentElement.clientWidth;if(n&&r>0){var t=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);h=document.body.style.paddingRight,document.body.style.paddingRight=t+r+"px"}}void 0===d&&(d=document.body.style.overflow,document.body.style.overflow="hidden")},m=function(){void 0!==h&&(document.body.style.paddingRight=h,h=void 0),void 0!==d&&(document.body.style.overflow=d,d=void 0)},f=function(){if(void 0!==c){var e=-parseInt(document.body.style.top,10),n=-parseInt(document.body.style.left,10);document.body.style.position=c.position,document.body.style.top=c.top,document.body.style.left=c.left,window.scrollTo(n,e),c=void 0}},j=function(e,n){var r,t=e.targetTouches[0].clientY-a;if(u(e.target))return!1;if(n&&0===n.scrollTop&&t>0)return p(e);return(r=n)&&r.scrollHeight-r.scrollTop<=r.clientHeight&&t<0?p(e):(e.stopPropagation(),!0)},g=function(e,n){if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}!l.some(function(n){return n.targetElement===e})&&(l=[].concat(function(e){if(!Array.isArray(e))return Array.from(e);for(var n=0,r=Array(e.length);n<e.length;n++)r[n]=e[n];return r}(l),[{targetElement:e,options:n||{}}]),s?window.requestAnimationFrame(function(){if(void 0===c){c={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var e=window,n=e.scrollY,r=e.scrollX,t=e.innerHeight;document.body.style.position="fixed",document.body.style.top=-n,document.body.style.left=-r,setTimeout(function(){return window.requestAnimationFrame(function(){var e=t-window.innerHeight;e&&n>=t&&(document.body.style.top=-(n+e))})},300)}}):x(n),s&&(e.ontouchstart=function(e){1===e.targetTouches.length&&(a=e.targetTouches[0].clientY)},e.ontouchmove=function(n){1===n.targetTouches.length&&j(n,e)},!o&&(document.addEventListener("touchmove",p,t?{passive:!1}:void 0),o=!0)))},b=function(){s&&(l.forEach(function(e){e.targetElement.ontouchstart=null,e.targetElement.ontouchmove=null}),o&&(document.removeEventListener("touchmove",p,t?{passive:!1}:void 0),o=!1),a=-1),s?f():m(),l=[]}},40926:function(e,n,r){"use strict";n.parse=function(e){for(var n,r=[],t=String(e||""),i=t.indexOf(","),s=0,l=!1;!l;)-1===i&&(i=t.length,l=!0),((n=t.slice(s,i).trim())||!l)&&r.push(n),s=i+1,i=t.indexOf(",",s);return r},n.stringify=function(e,n){var r=n||{},t=!1===r.padLeft?"":" ",i=r.padRight?" ":"";return""===e[e.length-1]&&(e=e.concat("")),e.join(i+","+t).trim()}},53274:function(e,n,r){"use strict";var t=r("23072"),i={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,n){var r,s,l,o,a,d,c,h,u=!1;!n&&(n={}),l=n.debug||!1;try{if(a=t(),d=document.createRange(),c=document.getSelection(),(h=document.createElement("span")).textContent=e,h.ariaHidden="true",h.style.all="unset",h.style.position="fixed",h.style.top=0,h.style.clip="rect(0, 0, 0, 0)",h.style.whiteSpace="pre",h.style.webkitUserSelect="text",h.style.MozUserSelect="text",h.style.msUserSelect="text",h.style.userSelect="text",h.addEventListener("copy",function(r){if(r.stopPropagation(),n.format){if(r.preventDefault(),void 0===r.clipboardData){l&&console.warn("unable to use e.clipboardData"),l&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var t=i[n.format]||i.default;window.clipboardData.setData(t,e)}else r.clipboardData.clearData(),r.clipboardData.setData(n.format,e)}n.onCopy&&(r.preventDefault(),n.onCopy(r.clipboardData))}),document.body.appendChild(h),d.selectNodeContents(h),c.addRange(d),!document.execCommand("copy"))throw Error("copy command was unsuccessful");u=!0}catch(t){l&&console.error("unable to copy using execCommand: ",t),l&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(n.format||"text",e),n.onCopy&&n.onCopy(window.clipboardData),u=!0}catch(t){;l&&console.error("unable to copy using clipboardData: ",t),l&&console.error("falling back to prompt"),r="message"in n?n.message:"Copy to clipboard: #{key}, Enter",s=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C",o=r.replace(/#{\s*key\s*}/g,s),window.prompt(o,e)}}finally{c&&("function"==typeof c.removeRange?c.removeRange(d):c.removeAllRanges()),h&&document.body.removeChild(h),a()}return u}},77190:function(e,n,r){"use strict";var t,i,s;let l;t="FlexSearch",i=function(){let e;function n(e,n){let r=n?n.id:e&&e.id;this.id=r||0===r?r:_++,this.init(e,n),i(this,"index",function(){return this.a?Object.keys(this.a.index[this.a.keys[0]].f):Object.keys(this.f)}),i(this,"length",function(){return this.index.length})}function r(e,n){let r=e.length,t=j(n),i=[];for(let s=0,l=0;s<r;s++){let r=e[s];(t&&n(r)||!t&&!n[r])&&(i[l++]=r)}return i}function t(n,r,t,i,s,l,o,a,d,c){let m;if(t=x(t,o?0:s,a,l,r,d,c),a&&(a=t.page,m=t.next,t=t.result),o)r=this.where(o,null,s,t);else{for(o=0,r=t,t=this.i,l=Array(s=r.length);o<s;o++)l[o]=t[r[o]];r=l}return t=r,i&&(j(i)||(1<(e=i.split(":")).length?i=u:(e=e[0],i=h)),t.sort(i)),t=p(a,m,t),this.cache&&this.j.set(n,t),t}function i(e,n,r){Object.defineProperty(e,n,{get:r})}function s(e){return RegExp(e,"g")}function l(e,n){for(let r=0;r<n.length;r+=2)e=e.replace(n[r],n[r+1]);return e}function o(e,n,r,t,i,s,l,o){return n[r]?n[r]:(i=i?(o-(l||o/1.5))*s+(l||o/1.5)*i:s,n[r]=i,i>=l&&((e=(e=e[o-(i+.5>>0)])[r]||(e[r]=[]))[e.length]=t),i)}function a(e,n){if(e){let r=Object.keys(e);for(let t=0,i=r.length;t<i;t++){let i=r[t],s=e[i];if(s)for(let r=0,t=s.length;r<t;r++)if(s[r]===n){1===t?delete e[i]:s.splice(r,1);break}else g(s[r])&&a(s[r],n)}}}function d(e){let n="",r="";var t="";for(let i=0;i<e.length;i++){let s=e[i];s!==r&&(i&&"h"===s?(t="a"===t||"e"===t||"i"===t||"o"===t||"u"===t||"y"===t,(("a"===r||"e"===r||"i"===r||"o"===r||"u"===r||"y"===r)&&t||" "===r)&&(n+=s)):n+=s),t=i===e.length-1?"":e[i+1],r=s}return n}function c(e,n){return 0>(e=e.length-n.length)?1:e?-1:0}function h(n,r){return n=n[e],n<(r=r[e])?-1:n>r?1:0}function u(n,r){let t=e.length;for(let i=0;i<t;i++)n=n[e[i]],r=r[e[i]];return n<r?-1:n>r?1:0}function p(e,n,r){return e?{page:e,next:n?""+n:null,result:r}:r}function x(e,n,r,t,i,s,l){let o,a=[];if(!0===r){r="0";var d=""}else d=r&&r.split(":");let c=e.length;if(1<c){let v,w,S,k;let _=y(),P=[];var h,u=0,x=!0;let E,F=0,N,T,R,C;if(d&&(2===d.length?(R=d,d=!1):d=C=parseInt(d[0],10)),l){for(v=y();u<c;u++)if("not"===i[u])for(S=(w=e[u]).length,h=0;h<S;h++)v["@"+w[h]]=1;else T=u+1;if(b(T))return p(r,o,a);u=0}else N=m(i)&&i;for(;u<c;u++){let m=u===(T||c)-1;if(!N||!u){if((h=N||i&&i[u])&&"and"!==h){if("or"!==h)continue;k=!1}else k=s=!0}if(S=(w=e[u]).length){if(x){if(E){var f=E.length;for(h=0;h<f;h++){var j="@"+(x=E[h]);l&&v[j]||(_[j]=1,s||(a[F++]=x))}E=null,x=!1}else{E=w;continue}}for(h=0,j=!1;h<S;h++){var g="@"+(f=w[h]);let e=s?_[g]||0:u;if(!(!e&&!t||l&&v[g]||!s&&_[g])){if(e===u){if(m){if((!C||--C<F)&&(a[F++]=f,n&&F===n))return p(r,F+(d||0),a)}else _[g]=u+1;j=!0}else t&&((g=P[e]||(P[e]=[]))[g.length]=f)}}if(k&&!j&&!t)break}else if(k&&!t)return p(r,o,w)}if(E){if(u=E.length,l)for(h=d?parseInt(d,10):0;h<u;h++)v["@"+(e=E[h])]||(a[F++]=e);else a=E}if(t){for(F=a.length,R?(u=parseInt(R[0],10)+1,h=parseInt(R[1],10)+1):(u=P.length,h=0);u--;)if(f=P[u]){for(S=f.length;h<S;h++)if(t=f[h],(!l||!v["@"+t])&&(a[F++]=t,n&&F===n))return p(r,u+":"+h,a);h=0}}}else!c||i&&"not"===i[0]||(a=e[0],d&&(d=parseInt(d[0],10)));return n&&(l=a.length,d&&d>l&&(d=0),(o=(d=d||0)+n)<l?a=a.slice(d,o):(o=0,d&&(a=a.slice(d)))),p(r,o,a)}function m(e){return"string"==typeof e}function f(e){return e.constructor===Array}function j(e){return"function"==typeof e}function g(e){return"object"==typeof e}function b(e){return void 0===e}function v(e){let n=Array(e);for(let r=0;r<e;r++)n[r]=y();return n}function y(){return Object.create(null)}let w={encode:"icase",c:"forward",split:/\W+/,cache:!1,async:!1,C:!1,v:!1,a:!1,b:9,threshold:0,depth:0},S={memory:{encode:"extra",c:"strict",threshold:0,b:1},speed:{encode:"icase",c:"strict",threshold:1,b:3,depth:2},match:{encode:"extra",c:"full",threshold:1,b:3},score:{encode:"extra",c:"strict",threshold:1,b:9,depth:4},balance:{encode:"balance",c:"strict",threshold:0,b:3,depth:3},fast:{encode:"icase",c:"strict",threshold:8,b:9,depth:1}},k=[],_=0,P={},E={};n.create=function(e,r){return new n(e,r)},n.registerMatcher=function(e){for(let n in e)e.hasOwnProperty(n)&&k.push(s(n),e[n]);return this},n.registerEncoder=function(e,n){return N[e]=n.bind(N),this},n.registerLanguage=function(e,n){return P[e]=n.filter,E[e]=n.stemmer,this},n.encode=function(e,n){return N[e](n)},n.prototype.init=function(e,r){if(this.m=[],r){var t,i=r.preset;e=r}else e||(e=w),i=e.preset;if(r={},m(e)?(r=S[e],e={}):i&&(r=S[i]),this.c=e.tokenize||r.c||this.c||w.c,this.split=b(i=e.split)?this.split||w.split:m(i)?s(i):i,this.v=e.rtl||this.v||w.v,this.async="undefined"==typeof Promise||b(i=e.async)?this.async||w.async:i,this.threshold=b(i=e.threshold)?r.threshold||this.threshold||w.threshold:i,this.b=b(i=e.resolution)?i=r.b||this.b||w.b:i,i<=this.threshold&&(this.b=this.threshold+1),this.depth="strict"!==this.c||b(i=e.depth)?r.depth||this.depth||w.depth:i,this.o=(i=b(i=e.encode)?r.encode||w.encode:i)&&N[i]&&N[i].bind(N)||(j(i)?i:this.o||!1),(i=e.matcher)&&this.addMatcher(i),i=(r=e.lang)||e.filter){if(m(i)&&(i=P[i]),f(i)){for(var l=this.o,o=y(),a=0;a<i.length;a++){var d=l?l(i[a]):i[a];o[d]=1}i=o}this.filter=i}if(i=r||e.stemmer){for(t in r=m(i)?E[i]:i,l=this.o,o=[],r)r.hasOwnProperty(t)&&(a=l?l(t):t,o.push(s(a+"($|\\W)"),l?l(r[t]):r[t]));this.stemmer=t=o}if(this.a=o=(i=e.doc)?function e(n){let r=y();for(let t in n)if(n.hasOwnProperty(t)){let i=n[t];f(i)?r[t]=i.slice(0):g(i)?r[t]=e(i):r[t]=i}return r}(i):this.a||w.a,this.h=v(this.b-(this.threshold||0)),this.g=y(),this.f=y(),o){if(this.i=y(),e.doc=null,t=o.index={},r=o.keys=[],l=o.field,a=o.tag,d=o.store,f(o.id)||(o.id=o.id.split(":")),d){var c=y();if(m(d))c[d]=1;else if(f(d))for(let e=0;e<d.length;e++)c[d[e]]=1;else g(d)&&(c=d);o.store=c}if(a){if(this.w=y(),d=y(),l){if(m(l))d[l]=e;else if(f(l))for(c=0;c<l.length;c++)d[l[c]]=e;else g(l)&&(d=l)}for(f(a)||(o.tag=a=[a]),l=0;l<a.length;l++)this.w[a[l]]=y();this.B=a,l=d}if(l){let i;for(f(l)||(g(l)?(i=l,o.field=l=Object.keys(l)):o.field=l=[l]),o=0;o<l.length;o++)f(a=l[o])||(i&&(e=i[a]),r[o]=a,l[o]=a.split(":")),t[a]=new n(e)}e.doc=i}return this.u=!0,this.j=!!(this.cache=i=b(i=e.cache)?this.cache||w.cache:i)&&new T(i),this},n.prototype.encode=function(e){return e&&(k.length&&(e=l(e,k)),this.m.length&&(e=l(e,this.m)),this.o&&(e=this.o(e)),this.stemmer&&(e=l(e,this.stemmer))),e},n.prototype.addMatcher=function(e){let n=this.m;for(let r in e)e.hasOwnProperty(r)&&n.push(s(r),e[r]);return this},n.prototype.add=function(e,n,t,i,s){if(this.a&&g(e))return this.s("add",e,n);if(n&&m(n)&&(e||0===e)){var l="@"+e;if(this.f[l]&&!i)return this.update(e,n);if(!s){if(this.async){let r=this;return(l=new Promise(function(t){setTimeout(function(){r.add(e,n,null,i,!0),r=null,t()})}),t)?(l.then(t),this):l}if(t)return this.add(e,n,null,i,!0),t(),this}if(!(n=this.encode(n)).length)return this;s=j(t=this.c)?t(n):n.split(this.split),this.filter&&(s=r(s,this.filter));let p=y();p._ctx=y();let x=s.length,m=this.threshold,f=this.depth,g=this.b,b=this.h,w=this.v;for(let n=0;n<x;n++){var a=s[n];if(a){var d=a.length,c=(w?n+1:x-n)/x,h="";switch(t){case"reverse":case"both":for(var u=d;--u;)h=a[u]+h,o(b,p,h,e,w?1:(d-u)/d,c,m,g-1);h="";case"forward":for(u=0;u<d;u++)o(b,p,h+=a[u],e,w?(u+1)/d:1,c,m,g-1);break;case"full":for(u=0;u<d;u++){let n=(w?u+1:d-u)/d;for(let r=d;r>u;r--)h=a.substring(u,r),o(b,p,h,e,n,c,m,g-1)}break;default:if(d=o(b,p,a,e,1,c,m,g-1),f&&1<x&&d>=m)for(d=p._ctx[a]||(p._ctx[a]=y()),a=this.g[a]||(this.g[a]=v(g-(m||0))),0>(c=n-f)&&(c=0),(h=n+f+1)>x&&(h=x);c<h;c++)c!==n&&o(a,d,s[c],e,0,g-(c<n?n-c:c-n),m,g-1)}}}this.f[l]=1,this.u=!1}return this},n.prototype.s=function(e,n,r){if(f(n)){var t=n.length;if(t--){for(var i=0;i<t;i++)this.s(e,n[i]);return this.s(e,n[t],r)}}else{var s,l=this.a.index,o=this.a.keys,a=this.a.tag;i=this.a.store;var d=this.a.id;t=n;for(var c=0;c<d.length;c++)t=t[d[c]];if("remove"===e&&(delete this.i[t],d=o.length,d--)){for(n=0;n<d;n++)l[o[n]].remove(t);return l[o[d]].remove(t,r)}if(a){for(s=0;s<a.length;s++){var h=a[s],u=n;for(c=0,d=h.split(":");c<d.length;c++)u=u[d[c]];u="@"+u}s=(s=this.w[h])[u]||(s[u]=[])}d=this.a.field;for(let i=0,s=d.length;i<s;i++){for(u=0,h=d[i],a=n;u<h.length;u++)a=a[h[u]];h=l[o[i]],u="add"===e?h.add:h.update,i===s-1?u.call(h,t,a,r):u.call(h,t,a)}if(i){for(l=0,r=Object.keys(i),e=y();l<r.length;l++)if(i[o=r[l]]){let r,t;for(d=0,o=o.split(":");d<o.length;d++)r=(r||n)[a=o[d]],t=(t||e)[a]=r}n=e}s&&(s[s.length]=n),this.i[t]=n}return this},n.prototype.update=function(e,n,r){return this.a&&g(e)?this.s("update",e,n):(this.f["@"+e]&&m(n)&&(this.remove(e),this.add(e,n,r,!0)),this)},n.prototype.remove=function(e,n,r){if(this.a&&g(e))return this.s("remove",e,n);var t="@"+e;if(this.f[t]){if(!r){if(this.async&&"function"!=typeof importScripts){let r=this;return(t=new Promise(function(n){setTimeout(function(){r.remove(e,null,!0),r=null,n()})}),n)?(t.then(n),this):t}if(n)return this.remove(e,null,!0),n(),this}for(n=0;n<this.b-(this.threshold||0);n++)a(this.h[n],e);this.depth&&a(this.g,e),delete this.f[t],this.u=!1}return this},n.prototype.search=function(e,n,i,s){let l,o,a;if(g(n)){if(f(n))for(var d=0;d<n.length;d++)n[d].query=e;else n.query=e;e=n,n=1e3}else n&&j(n)?(i=n,n=1e3):n||0===n||(n=1e3);let h=[],u=e;if(g(e)&&!f(e)){i||(i=e.callback)&&(u.callback=null),o=e.sort,l=e.page,n=e.limit;var p=e.threshold;a=e.suggest,e=e.query}if(this.a){let r,c;p=this.a.index;let x=u.where;var b=u.bool||"or",v=u.field;let j=b;if(v)f(v)||(v=[v]);else if(f(u)){var w=u;v=[],j=[];for(var S=0;S<u.length;S++)d=(s=u[S]).bool||b,v[S]=s.field,j[S]=d,"not"===d?r=!0:"and"===d&&(c=!0)}else v=this.a.keys;for(S=0,b=v.length;S<b;S++)w&&(u=w[S]),l&&!m(u)&&(u.page=null,u.limit=0),h[S]=p[v[S]].search(u,0);if(i)return i(t.call(this,e,j,h,o,n,a,x,l,c,r));if(this.async){let i=this;return new Promise(function(s){Promise.all(h).then(function(d){s(t.call(i,e,j,d,o,n,a,x,l,c,r))})})}return t.call(this,e,j,h,o,n,a,x,l,c,r)}if(p||(p=this.threshold||0),!s){if(this.async&&"function"!=typeof importScripts){let e=this;return(p=new Promise(function(r){setTimeout(function(){r(e.search(u,n,null,!0)),e=null})}),i)?(p.then(i),this):p}if(i)return i(this.search(u,n,null,!0)),this}if(!e||!m(e))return h;if(u=e,this.cache){if(this.u){if(i=this.j.get(e))return i}else this.j.clear(),this.u=!0}if(!(u=this.encode(u)).length)return h;i=j(i=this.c)?i(u):u.split(this.split),this.filter&&(i=r(i,this.filter)),w=i.length,s=!0,d=[];let k=y(),_=0;if(1<w&&(this.depth&&"strict"===this.c?b=!0:i.sort(c)),!b||(S=this.g)){let e=this.b;for(;_<w;_++){let n=i[_];if(n){if(b){if(!v){if(S[n])v=n,k[n]=1;else if(!a)return h}if(a&&_===w-1&&!d.length)b=!1,k[n=v||n]=0;else if(!v)continue}if(!k[n]){let r=[],t=!1,i=0,l=b?S[v]:this.h;if(l){let s;for(let o=0;o<e-p;o++)(s=l[o]&&l[o][n])&&(r[i++]=s,t=!0)}if(t)v=n,d[d.length]=1<i?r.concat.apply([],r):r[0];else if(!a){s=!1;break}k[n]=1}}}}else s=!1;return s&&(h=x(d,n,l,a)),this.cache&&this.j.set(e,h),h},n.prototype.find=function(e,n){return this.where(e,n,1)[0]||null},n.prototype.where=function(e,n,r,t){let i,s;let l=this.i,o=[],a=0;if(g(e)){r||(r=n);var d,c=Object.keys(e),h=c.length;if(i=!1,1===h&&"id"===c[0])return[l[e.id]];if((d=this.B)&&!t)for(var u=0;u<d.length;u++){var p=d[u],x=e[p];if(!b(x)){if(s=this.w[p]["@"+x],0==--h)return s;c.splice(c.indexOf(p),1),delete e[p];break}}for(u=0,d=Array(h);u<h;u++)d[u]=c[u].split(":")}else{if(j(e)){for(c=0,r=(n=t||Object.keys(l)).length;c<r;c++)h=l[n[c]],e(h)&&(o[a++]=h);return o}if(b(n))return[l[e]];if("id"===e)return[l[n]];c=[e],h=1,d=[e.split(":")],i=!0}for(p=0,u=(t=s||t||Object.keys(l)).length;p<u;p++){x=s?t[p]:l[t[p]];let u=!0;for(let r=0;r<h;r++){i||(n=e[c[r]]);let t=d[r],s=t.length,l=x;if(1<s)for(let e=0;e<s;e++)l=l[t[e]];else l=l[t[0]];if(l!==n){u=!1;break}}if(u&&(o[a++]=x,r&&a===r))break}return o},n.prototype.info=function(){return{id:this.id,items:this.length,cache:!!this.cache&&!!this.cache.l&&this.cache.l.length,matcher:k.length+(this.m?this.m.length:0),worker:this.C,threshold:this.threshold,depth:this.depth,resolution:this.b,contextual:this.depth&&"strict"===this.c}},n.prototype.clear=function(){return this.destroy().init()},n.prototype.destroy=function(){if(this.cache&&(this.j.clear(),this.j=null),this.h=this.g=this.f=null,this.a){let e=this.a.keys;for(let n=0;n<e.length;n++)this.a.index[e[n]].destroy();this.a=this.i=null}return this},n.prototype.export=function(e){let n=!e||b(e.serialize)||e.serialize;if(this.a){let n=!e||b(e.doc)||e.doc;var r=!e||b(e.index)||e.index;e=[];let t=0;if(r)for(r=this.a.keys;t<r.length;t++){let n=this.a.index[r[t]];e[t]=[n.h,n.g,Object.keys(n.f)]}n&&(e[t]=this.i)}else e=[this.h,this.g,Object.keys(this.f)];return n&&(e=JSON.stringify(e)),e},n.prototype.import=function(e,n){(!n||b(n.serialize)||n.serialize)&&(e=JSON.parse(e));let r=y();if(this.a){var t=!n||b(n.doc)||n.doc,i=0;if(!n||b(n.index)||n.index){n=this.a.keys;let t=n.length;for(var s=e[0][2];i<s.length;i++)r[s[i]]=1;for(i=0;i<t;i++){s=this.a.index[n[i]];let t=e[i];t&&(s.h=t[0],s.g=t[1],s.f=r)}}t&&(this.i=g(t)?t:e[i])}else{for(i=0,t=e[2];i<t.length;i++)r[t[i]]=1;this.h=e[0],this.g=e[1],this.f=r}};let F=function(){let e=s("\\s+"),n=s("[^a-z0-9 ]"),r=[s("[-/]")," ",n,"",e," "];return function(e){return d(l(e.toLowerCase(),r))}}(),N={icase:function(e){return e.toLowerCase()},simple:function(){let e=s("\\s+"),n=s("[^a-z0-9 ]"),r=s("[-/]"),t=s("[\xe0\xe1\xe2\xe3\xe4\xe5]"),i=s("[\xe8\xe9\xea\xeb]"),o=s("[\xec\xed\xee\xef]"),a=s("[\xf2\xf3\xf4\xf5\xf6ő]"),d=s("[\xf9\xfa\xfb\xfcű]"),c=s("[\xfdŷ\xff]"),h=s("\xf1"),u=s("[\xe7c]"),p=s("\xdf"),x=s(" & "),m=[t,"a",i,"e",o,"i",a,"o",d,"u",c,"y",h,"n",u,"k",p,"s",x," and ",r," ",n,"",e," "];return function(e){return" "===(e=l(e.toLowerCase(),m))?"":e}}(),advanced:function(){let e=s("ae"),n=s("ai"),r=s("ay"),t=s("ey"),i=s("oe"),o=s("ue"),a=s("ie"),c=s("sz"),h=s("zs"),u=s("ck"),p=s("cc"),x=s("sh"),m=s("th"),f=s("dt"),j=s("ph"),g=s("pf"),b=s("ou"),v=s("uo"),y=[e,"a",n,"ei",r,"ei",t,"ei",i,"o",o,"u",a,"i",c,"s",h,"s",x,"s",u,"k",p,"k",m,"t",f,"t",j,"f",g,"f",b,"o",v,"u"];return function(e,n){return e?(2<(e=this.simple(e)).length&&(e=l(e,y)),n||1<e.length&&(e=d(e)),e):e}}(),extra:function(){let e=s("p"),n=s("z"),r=s("[cgq]"),t=s("n"),i=s("d"),o=s("[vw]"),a=s("[aeiouy]"),c=[e,"b",n,"s",r,"k",t,"m",i,"t",o,"f",a,""];return function(e){if(!e)return e;if(1<(e=this.advanced(e,!0)).length){e=e.split(" ");for(let n=0;n<e.length;n++){let r=e[n];1<r.length&&(e[n]=r[0]+l(r.substring(1),c))}e=e.join(" "),e=d(e)}return e}}(),balance:F},T=function(){function e(e){this.clear(),this.A=!0!==e&&e}return e.prototype.clear=function(){this.cache=y(),this.count=y(),this.index=y(),this.l=[]},e.prototype.set=function(e,n){if(this.A&&b(this.cache[e])){let r=this.l.length;if(r===this.A){r--;let e=this.l[r];delete this.cache[e],delete this.count[e],delete this.index[e]}this.index[e]=r,this.l[r]=e,this.count[e]=-1,this.cache[e]=n,this.get(e)}else this.cache[e]=n},e.prototype.get=function(e){let n=this.cache[e];if(this.A&&n){var r=++this.count[e];let n=this.index,i=n[e];if(0<i){let s=this.l;for(var t=i;this.count[s[--i]]<=r&&-1!==i;);if(++i!==t){for(r=t;r>i;r--)t=s[r-1],s[r]=t,n[t]=r;s[i]=e,n[e]=i}}}return n},e}();return n}(!1),s=this,(l=s.define)&&l.amd?l([],function(){return i}):(l=s.modules)?l[t.toLowerCase()]=i:"object"==typeof n?e.exports=i:s[t]=i},8569:function(e,n,r){"use strict";e.exports=function(e,n){for(var r,i,s,l=e||"",o=n||"div",a={},d=0;d<l.length;)t.lastIndex=d,s=t.exec(l),(r=l.slice(d,s?s.index:l.length))&&(i?"#"===i?a.id=r:a.className?a.className.push(r):a.className=[r]:o=r,d+=r.length),s&&(i=s[0],d++);return{type:"element",tagName:o,properties:a,children:[]}};var t=/[#.]/g},99082:function(e,n,r){"use strict";var t=r("31368"),i=r("95322"),s=r("8569"),l=r("47296").parse,o=r("40926").parse;e.exports=function(e,n,r){var i=r?function(e){for(var n,r=e.length,t=-1,i={};++t<r;)i[(n=e[t]).toLowerCase()]=n;return i}(r):null;return function(r,c){var h,u=s(r,n),p=Array.prototype.slice.call(arguments,2),x=u.tagName.toLowerCase();if(u.tagName=i&&a.call(i,x)?i[x]:x,c&&function(e,n){return"string"==typeof e||"length"in e||function(e,n){var r=n.type;return"input"!==e&&!!r&&"string"==typeof r&&("object"==typeof n.children&&"length"in n.children||((r=r.toLowerCase(),"button"===e)?"menu"!==r&&"submit"!==r&&"reset"!==r&&"button"!==r:"value"in n))}(n.tagName,e)}(c,u)&&(p.unshift(c),c=null),c)for(h in c)(function(n,r,i){var s,a,c;null!=i&&i==i&&(a=(s=t(e,r)).property,"string"==typeof(c=i)&&(s.spaceSeparated?c=l(c):s.commaSeparated?c=o(c):s.commaOrSpaceSeparated&&(c=l(o(c).join(" ")))),"style"===a&&"string"!=typeof i&&(c=function(e){var n,r=[];for(n in e)r.push([n,e[n]].join(": "));return r.join("; ")}(c)),"className"===a&&n.className&&(c=n.className.concat(c)),n[a]=function(e,n,r){var t,i,s;if("object"!=typeof r||!("length"in r))return d(e,n,r);for(i=r.length,t=-1,s=[];++t<i;)s[t]=d(e,n,r[t]);return s}(s,a,c))})(u.properties,h,c[h]);return function e(n,r){var t,i;if("string"==typeof r||"number"==typeof r){n.push({type:"text",value:String(r)});return}if("object"==typeof r&&"length"in r){for(t=-1,i=r.length;++t<i;)e(n,r[t]);return}if("object"!=typeof r||!("type"in r))throw Error("Expected node, nodes, or string, got `"+r+"`");n.push(r)}(u.children,p),"template"===u.tagName&&(u.content={type:"root",children:u.children},u.children=[]),u}};var a={}.hasOwnProperty;function d(e,n,r){var t=r;return e.number||e.positiveNumber?!isNaN(t)&&""!==t&&(t=Number(t)):(e.boolean||e.overloadedBoolean)&&"string"==typeof t&&(""===t||i(r)===i(n))&&(t=!0),t}},51178:function(e,n,r){"use strict";var t=r("71236"),i=r("99082")(t,"div");i.displayName="html",e.exports=i},55589:function(e,n,r){"use strict";e.exports=r("51178")},53502:function(e,n,r){"use strict";e.exports=function(e,n,r,t,i,s,l,o){!1;if(!e){var a;if(void 0===n)a=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[r,t,i,s,l,o],c=0;(a=Error(n.replace(/%s/g,function(){return d[c++]}))).name="Invariant Violation"}throw a.framesToPop=1,a}}},21076:function(e,n,r){"use strict";e.exports=function(e){var n="string"==typeof e?e.charCodeAt(0):e;return n>=97&&n<=122||n>=65&&n<=90}},99215:function(e,n,r){"use strict";var t=r("21076"),i=r("48935");e.exports=function(e){return t(e)||i(e)}},48935:function(e,n,r){"use strict";e.exports=function(e){var n="string"==typeof e?e.charCodeAt(0):e;return n>=48&&n<=57}},55181:function(e,n,r){"use strict";e.exports=function(e){var n="string"==typeof e?e.charCodeAt(0):e;return n>=97&&n<=102||n>=65&&n<=70||n>=48&&n<=57}},41989:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return h}});var t=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},i=function(e){return"IMG"===e.tagName},s=function(e){return e&&1===e.nodeType},l=function(e){return".svg"===(e.currentSrc||e.src).substr(-4).toLowerCase()},o=function(e){try{var n;if(Array.isArray(e))return e.filter(i);if(n=e,NodeList.prototype.isPrototypeOf(n))return[].slice.call(e).filter(i);if(s(e))return[e].filter(i);if("string"==typeof e)return[].slice.call(document.querySelectorAll(e)).filter(i);return[]}catch(e){throw TypeError("The provided selector is invalid.\nExpects a CSS selector, a Node element, a NodeList or an array.\nSee: https://github.com/francoischalifour/medium-zoom")}},a=function(e){var n=document.createElement("div");return n.classList.add("medium-zoom-overlay"),n.style.background=e,n},d=function(e){var n=e.getBoundingClientRect(),r=n.top,t=n.left,i=n.width,s=n.height,l=e.cloneNode(),o=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,a=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0;return l.removeAttribute("id"),l.style.position="absolute",l.style.top=r+o+"px",l.style.left=t+a+"px",l.style.width=i+"px",l.style.height=s+"px",l.style.transform="",l},c=function(e,n){var r=t({bubbles:!1,cancelable:!1,detail:void 0},n);if("function"==typeof window.CustomEvent)return new CustomEvent(e,r);var i=document.createEvent("CustomEvent");return i.initCustomEvent(e,r.bubbles,r.cancelable,r.detail),i};!function(e,n){void 0===n&&(n={});var r=n.insertAt;if(e&&"undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===r&&t.firstChild?t.insertBefore(i,t.firstChild):t.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}(".medium-zoom-overlay{position:fixed;top:0;right:0;bottom:0;left:0;opacity:0;transition:opacity .3s;will-change:opacity}.medium-zoom--opened .medium-zoom-overlay{cursor:pointer;cursor:zoom-out;opacity:1}.medium-zoom-image{cursor:pointer;cursor:zoom-in;transition:transform .3s cubic-bezier(.2,0,.2,1)!important}.medium-zoom-image--hidden{visibility:hidden}.medium-zoom-image--opened{position:relative;cursor:pointer;cursor:zoom-out;will-change:transform}");var h=function e(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=window.Promise||function(e){function n(){}e(n,n)},h=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var t=n.reduce(function(e,n){return[].concat(e,o(n))},[]);return t.filter(function(e){return -1===m.indexOf(e)}).forEach(function(e){m.push(e),e.classList.add("medium-zoom-image")}),f.forEach(function(e){var n=e.type,r=e.listener,i=e.options;t.forEach(function(e){e.addEventListener(n,r,i)})}),w},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.target,r=function(){var e={width:document.documentElement.clientWidth,height:document.documentElement.clientHeight,left:0,top:0,right:0,bottom:0},n=void 0,r=void 0;if(b.container){if(b.container instanceof Object)n=(e=t({},e,b.container)).width-e.left-e.right-2*b.margin,r=e.height-e.top-e.bottom-2*b.margin;else{var i=(s(b.container)?b.container:document.querySelector(b.container)).getBoundingClientRect();e=t({},e,{width:i.width,height:i.height,left:i.left,top:i.top})}}n=n||e.width-2*b.margin,r=r||e.height-2*b.margin;var o=v.zoomedHd||v.original,a=l(o)?n:o.naturalWidth||n,d=l(o)?r:o.naturalHeight||r,c=o.getBoundingClientRect(),h=c.top,u=c.left,p=c.width,x=c.height,m=Math.min(Math.min(Math.max(p,a),n)/p,Math.min(Math.max(x,d),r)/x),f=(-u+(n-p)/2+b.margin+e.left)/m,j=(-h+(r-x)/2+b.margin+e.top)/m,g="scale("+m+") translate3d("+f+"px, "+j+"px, 0)";v.zoomed.style.transform=g,v.zoomedHd&&(v.zoomedHd.style.transform=g)};return new i(function(e){if(n&&-1===m.indexOf(n)){e(w);return}if(v.zoomed){e(w);return}if(n)v.original=n;else if(m.length>0){var t=m;v.original=t[0]}else{e(w);return}if(v.original.dispatchEvent(c("medium-zoom:open",{detail:{zoom:w}})),g=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,j=!0,v.zoomed=d(v.original),document.body.appendChild(y),b.template){var i=s(b.template)?b.template:document.querySelector(b.template);v.template=document.createElement("div"),v.template.appendChild(i.content.cloneNode(!0)),document.body.appendChild(v.template)}if(v.original.parentElement&&"PICTURE"===v.original.parentElement.tagName&&v.original.currentSrc&&(v.zoomed.src=v.original.currentSrc),document.body.appendChild(v.zoomed),window.requestAnimationFrame(function(){document.body.classList.add("medium-zoom--opened")}),v.original.classList.add("medium-zoom-image--hidden"),v.zoomed.classList.add("medium-zoom-image--opened"),v.zoomed.addEventListener("click",p),v.zoomed.addEventListener("transitionend",function n(){j=!1,v.zoomed.removeEventListener("transitionend",n),v.original.dispatchEvent(c("medium-zoom:opened",{detail:{zoom:w}})),e(w)}),v.original.getAttribute("data-zoom-src")){v.zoomedHd=v.zoomed.cloneNode(),v.zoomedHd.removeAttribute("srcset"),v.zoomedHd.removeAttribute("sizes"),v.zoomedHd.removeAttribute("loading"),v.zoomedHd.src=v.zoomed.getAttribute("data-zoom-src"),v.zoomedHd.onerror=function(){clearInterval(l),console.warn("Unable to reach the zoom image target "+v.zoomedHd.src),v.zoomedHd=null,r()};var l=setInterval(function(){v.zoomedHd.complete&&(clearInterval(l),v.zoomedHd.classList.add("medium-zoom-image--opened"),v.zoomedHd.addEventListener("click",p),document.body.appendChild(v.zoomedHd),r())},10)}else if(v.original.hasAttribute("srcset")){v.zoomedHd=v.zoomed.cloneNode(),v.zoomedHd.removeAttribute("sizes"),v.zoomedHd.removeAttribute("loading");var o=v.zoomedHd.addEventListener("load",function(){v.zoomedHd.removeEventListener("load",o),v.zoomedHd.classList.add("medium-zoom-image--opened"),v.zoomedHd.addEventListener("click",p),document.body.appendChild(v.zoomedHd),r()})}else r()})},p=function(){return new i(function(e){if(j||!v.original){e(w);return}j=!0,document.body.classList.remove("medium-zoom--opened"),v.zoomed.style.transform="",v.zoomedHd&&(v.zoomedHd.style.transform=""),v.template&&(v.template.style.transition="opacity 150ms",v.template.style.opacity=0),v.original.dispatchEvent(c("medium-zoom:close",{detail:{zoom:w}})),v.zoomed.addEventListener("transitionend",function n(){v.original.classList.remove("medium-zoom-image--hidden"),document.body.removeChild(v.zoomed),v.zoomedHd&&document.body.removeChild(v.zoomedHd),document.body.removeChild(y),v.zoomed.classList.remove("medium-zoom-image--opened"),v.template&&document.body.removeChild(v.template),j=!1,v.zoomed.removeEventListener("transitionend",n),v.original.dispatchEvent(c("medium-zoom:closed",{detail:{zoom:w}})),v.original=null,v.zoomed=null,v.zoomedHd=null,v.template=null,e(w)})})},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.target;return v.original?p():u({target:n})},m=[],f=[],j=!1,g=0,b=r,v={original:null,zoomed:null,zoomedHd:null,template:null};"[object Object]"===Object.prototype.toString.call(n)?b=n:(n||"string"==typeof n)&&h(n);var y=a((b=t({margin:0,background:"#fff",scrollOffset:40,container:null,template:null},b)).background);document.addEventListener("click",function(e){var n=e.target;if(n===y){p();return}-1!==m.indexOf(n)&&x({target:n})}),document.addEventListener("keyup",function(e){var n=e.key||e.keyCode;("Escape"===n||"Esc"===n||27===n)&&p()}),document.addEventListener("scroll",function(){!j&&v.original&&Math.abs(g-(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0))>b.scrollOffset&&setTimeout(p,150)}),window.addEventListener("resize",p);var w={open:u,close:p,toggle:x,update:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(e.background&&(y.style.background=e.background),e.container&&e.container instanceof Object&&(e.container=t({},b.container,e.container)),e.template){var n=s(e.template)?e.template:document.querySelector(e.template);e.template=n}return b=t({},b,e),m.forEach(function(e){e.dispatchEvent(c("medium-zoom:update",{detail:{zoom:w}}))}),w},clone:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e(t({},b,n))},attach:h,detach:function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];v.zoomed&&p();var t=n.length>0?n.reduce(function(e,n){return[].concat(e,o(n))},[]):m;return t.forEach(function(e){e.classList.remove("medium-zoom-image"),e.dispatchEvent(c("medium-zoom:detach",{detail:{zoom:w}}))}),m=m.filter(function(e){return -1===t.indexOf(e)}),w},on:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return m.forEach(function(t){t.addEventListener("medium-zoom:"+e,n,r)}),f.push({type:"medium-zoom:"+e,listener:n,options:r}),w},off:function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return m.forEach(function(t){t.removeEventListener("medium-zoom:"+e,n,r)}),f=f.filter(function(r){return!(r.type==="medium-zoom:"+e&&r.listener.toString()===n.toString())}),w},getOptions:function(){return b},getImages:function(){return m},getZoomedImage:function(){return v.original}};return w}},42256:function(e,n,r){var t,i;t=this,i=function(){var e,n,r,t={};t.version="0.2.0";var i=t.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};function s(e,n,r){return e<n?n:e>r?r:e}function l(e){return(-1+e)*100}t.configure=function(e){var n,r;for(n in e)void 0!==(r=e[n])&&e.hasOwnProperty(n)&&(i[n]=r);return this},t.status=null,t.set=function(e){var n=t.isStarted();e=s(e,i.minimum,1),t.status=1===e?null:e;var r=t.render(!n),l=r.querySelector(i.barSelector),d=i.speed,c=i.easing;return r.offsetWidth,o(function(n){""===i.positionUsing&&(i.positionUsing=t.getPositioningCSS()),a(l,function(e,n,r){var t;if("translate3d"===i.positionUsing)t={transform:"translate3d("+(-1+e)*100+"%,0,0)"};else if("translate"===i.positionUsing)t={transform:"translate("+(-1+e)*100+"%,0)"};else t={"margin-left":(-1+e)*100+"%"};return t.transition="all "+n+"ms "+r,t}(e,d,c)),1===e?(a(r,{transition:"none",opacity:1}),r.offsetWidth,setTimeout(function(){a(r,{transition:"all "+d+"ms linear",opacity:0}),setTimeout(function(){t.remove(),n()},d)},d)):setTimeout(n,d)}),this},t.isStarted=function(){return"number"==typeof t.status},t.start=function(){!t.status&&t.set(0);var e=function(){setTimeout(function(){t.status&&(t.trickle(),e())},i.trickleSpeed)};return i.trickle&&e(),this},t.done=function(e){return e||t.status?t.inc(.3+.5*Math.random()).set(1):this},t.inc=function(e){var n=t.status;return n?("number"!=typeof e&&(e=(1-n)*s(Math.random()*n,.1,.95)),n=s(n+e,0,.994),t.set(n)):t.start()},t.trickle=function(){return t.inc(Math.random()*i.trickleRate)},e=0,n=0,t.promise=function(r){return r&&"resolved"!==r.state()?(0===n&&t.start(),e++,n++,r.always(function(){0==--n?(e=0,t.done()):t.set((e-n)/e)}),this):this},t.render=function(e){if(t.isRendered())return document.getElementById("nprogress");c(document.documentElement,"nprogress-busy");var n=document.createElement("div");n.id="nprogress",n.innerHTML=i.template;var r,s=n.querySelector(i.barSelector),l=e?"-100":function(e){return(-1+e)*100}(t.status||0),o=document.querySelector(i.parent);return a(s,{transition:"all 0 linear",transform:"translate3d("+l+"%,0,0)"}),!i.showSpinner&&(r=n.querySelector(i.spinnerSelector))&&p(r),o!=document.body&&c(o,"nprogress-custom-parent"),o.appendChild(n),n},t.remove=function(){h(document.documentElement,"nprogress-busy"),h(document.querySelector(i.parent),"nprogress-custom-parent");var e=document.getElementById("nprogress");e&&p(e)},t.isRendered=function(){return!!document.getElementById("nprogress")},t.getPositioningCSS=function(){var e=document.body.style,n="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";return n+"Perspective" in e?"translate3d":n+"Transform" in e?"translate":"margin"};var o=(r=[],function(e){r.push(e),1==r.length&&!function e(){var n=r.shift();n&&n(e)}()}),a=function(){var e=["Webkit","O","Moz","ms"],n={};function r(r,t,i){t=function(r){return n[r=r.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(e,n){return n.toUpperCase()})]||(n[r]=function(n){var r=document.body.style;if(n in r)return n;for(var t,i=e.length,s=n.charAt(0).toUpperCase()+n.slice(1);i--;)if((t=e[i]+s)in r)return t;return n}(r))}(t),r.style[t]=i}return function(e,n){var t,i,s=arguments;if(2==s.length)for(t in n)void 0!==(i=n[t])&&n.hasOwnProperty(t)&&r(e,t,i);else r(e,s[1],s[2])}}();function d(e,n){return("string"==typeof e?e:u(e)).indexOf(" "+n+" ")>=0}function c(e,n){var r=u(e),t=r+n;!d(r,n)&&(e.className=t.substring(1))}function h(e,n){var r,t=u(e);d(e,n)&&(r=t.replace(" "+n+" "," "),e.className=r.substring(1,r.length-1))}function u(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")}function p(e){e&&e.parentNode&&e.parentNode.removeChild(e)}return t},"function"==typeof define&&define.amd?define(i):"object"==typeof n?e.exports=i():t.NProgress=i()},98465:function(e,n,r){"use strict";var t=r("57541");e.exports=function(e){return!!i.call(t,e)&&t[e]};var i={}.hasOwnProperty},63716:function(e,n,r){"use strict";var t=r("66428"),i=r("20165"),s=r("48935"),l=r("55181"),o=r("99215"),a=r("98465");e.exports=function(e,n){var r,s,l={};for(s in!n&&(n={}),u)r=n[s],l[s]=null==r?u[s]:r;return(l.position.indent||l.position.start)&&(l.indent=l.position.indent||[],l.position=l.position.start),function(e,n){var r,s,l,u,b,v,y,w,S,k,_,P,E,F,N,T,R,C,M,O=n.additional,I=n.nonTerminated,A=n.text,D=n.reference,B=n.warning,z=n.textContext,L=n.referenceContext,G=n.warningContext,W=n.position,U=n.indent||[],H=e.length,q=0,X=-1,V=W.column||1,$=W.line||1,J="",Y=[];for("string"==typeof O&&(O=O.charCodeAt(0)),T=Q(),w=B?function(e,n){var r=Q();r.column+=n,r.offset+=n,B.call(G,g[e],r,e)}:h,q--,H++;++q<H;)if(10===b&&(V=U[X]||1),38===(b=e.charCodeAt(q))){if(9===(y=e.charCodeAt(q+1))||10===y||12===y||32===y||38===y||60===y||y!=y||O&&y===O){J+=c(b),V++;continue}for(P=E=q+1,M=E,35===y?(M=++P,88===(y=e.charCodeAt(M))||120===y?(F=x,M=++P):F=m):F=p,r="",_="",u="",N=j[F],M--;++M<H&&N(y=e.charCodeAt(M));){;u+=c(y),F===p&&d.call(t,u)&&(r=u,_=t[u])}if((l=59===e.charCodeAt(M))&&(M++,(s=F===p&&a(u))&&(r=u,_=s)),C=1+M-E,l||I)u?F===p?(l&&!_?w(5,1):(r!==u&&(C=1+(M=P+r.length)-P,l=!1),!l&&(S=r?1:3,n.attribute?61===(y=e.charCodeAt(M))?(w(S,C),_=null):o(y)?_=null:w(S,C):w(S,C))),v=_):(!l&&w(2,C),function(e){return e>=55296&&e<=57343||e>1114111}(v=parseInt(u,f[F]))?(w(7,C),v=c(65533)):v in i?(w(6,C),v=i[v]):(k="",function(e){return e>=1&&e<=8||11===e||e>=13&&e<=31||e>=127&&e<=159||e>=64976&&e<=65007||(65535&e)==65535||(65535&e)==65534}(v)&&w(6,C),v>65535&&(v-=65536,k+=c(v>>>10|55296),v=56320|1023&v),v=k+c(v))):F!==p&&w(4,C);v?(K(),T=Q(),q=M-1,V+=M-E+1,Y.push(v),R=Q(),R.offset++,D&&D.call(L,v,{start:T,end:R},e.slice(E-1,M)),T=R):(J+=u=e.slice(E-1,M),V+=u.length,q=M-1)}else 10===b&&($++,X++,V=0),b==b?(J+=c(b),V++):K();return Y.join("");function Q(){return{line:$,column:V,offset:q+(W.offset||0)}}function K(){J&&(Y.push(J),A&&A.call(z,J,{start:T,end:Q()}),J="")}}(e,l)};var d={}.hasOwnProperty,c=String.fromCharCode,h=Function.prototype,u={warning:null,reference:null,text:null,warningContext:null,referenceContext:null,textContext:null,position:{},additional:null,attribute:!1,nonTerminated:!0},p="named",x="hexadecimal",m="decimal",f={};f[x]=16,f[m]=10;var j={};j[p]=o,j[m]=s,j[x]=l;var g={};g[1]="Named character references must be terminated by a semicolon",g[2]="Numeric character references must be terminated by a semicolon",g[3]="Named character references cannot be empty",g[4]="Numeric character references cannot be empty",g[5]="Named character references must be known",g[6]="Numeric character references cannot be disallowed",g[7]="Numeric character references cannot be outside the permissible Unicode range"},62920:function(e,n,r){var t=function(e){var n=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,r=0,t={},i={manual:e.Prism&&e.Prism.manual,disableWorkerMessageHandler:e.Prism&&e.Prism.disableWorkerMessageHandler,util:{encode:function e(n){return n instanceof s?new s(n.type,e(n.content),n.alias):Array.isArray(n)?n.map(e):n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(e){return Object.prototype.toString.call(e).slice(8,-1)},objId:function(e){return!e.__id&&Object.defineProperty(e,"__id",{value:++r}),e.__id},clone:function e(n,r){var t,s;switch(r=r||{},i.util.type(n)){case"Object":if(r[s=i.util.objId(n)])return r[s];for(var l in t={},r[s]=t,n)n.hasOwnProperty(l)&&(t[l]=e(n[l],r));return t;case"Array":if(r[s=i.util.objId(n)])return r[s];return t=[],r[s]=t,n.forEach(function(n,i){t[i]=e(n,r)}),t;default:return n}},getLanguage:function(e){for(;e;){var r=n.exec(e.className);if(r)return r[1].toLowerCase();e=e.parentElement}return"none"},setLanguage:function(e,r){e.className=e.className.replace(RegExp(n,"gi"),""),e.classList.add("language-"+r)},currentScript:function(){if("undefined"==typeof document)return null;if("currentScript"in document)return document.currentScript;try{throw Error()}catch(t){var e=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(t.stack)||[])[1];if(e){var n=document.getElementsByTagName("script");for(var r in n)if(n[r].src==e)return n[r]}return null}},isActive:function(e,n,r){for(var t="no-"+n;e;){var i=e.classList;if(i.contains(n))return!0;if(i.contains(t))return!1;e=e.parentElement}return!!r}},languages:{plain:t,plaintext:t,text:t,txt:t,extend:function(e,n){var r=i.util.clone(i.languages[e]);for(var t in n)r[t]=n[t];return r},insertBefore:function(e,n,r,t){var s=(t=t||i.languages)[e],l={};for(var o in s)if(s.hasOwnProperty(o)){if(o==n)for(var a in r)r.hasOwnProperty(a)&&(l[a]=r[a]);!r.hasOwnProperty(o)&&(l[o]=s[o])}var d=t[e];return t[e]=l,i.languages.DFS(i.languages,function(n,r){r===d&&n!=e&&(this[n]=l)}),l},DFS:function e(n,r,t,s){s=s||{};var l=i.util.objId;for(var o in n)if(n.hasOwnProperty(o)){r.call(n,o,n[o],t||o);var a=n[o],d=i.util.type(a);"Object"!==d||s[l(a)]?"Array"===d&&!s[l(a)]&&(s[l(a)]=!0,e(a,r,o,s)):(s[l(a)]=!0,e(a,r,null,s))}}},plugins:{},highlightAll:function(e,n){i.highlightAllUnder(document,e,n)},highlightAllUnder:function(e,n,r){var t={callback:r,container:e,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};i.hooks.run("before-highlightall",t),t.elements=Array.prototype.slice.apply(t.container.querySelectorAll(t.selector)),i.hooks.run("before-all-elements-highlight",t);for(var s,l=0;s=t.elements[l++];)i.highlightElement(s,!0===n,t.callback)},highlightElement:function(n,r,t){var s=i.util.getLanguage(n),l=i.languages[s];i.util.setLanguage(n,s);var o=n.parentElement;o&&"pre"===o.nodeName.toLowerCase()&&i.util.setLanguage(o,s);var a=n.textContent,d={element:n,language:s,grammar:l,code:a};function c(e){d.highlightedCode=e,i.hooks.run("before-insert",d),d.element.innerHTML=d.highlightedCode,i.hooks.run("after-highlight",d),i.hooks.run("complete",d),t&&t.call(d.element)}if(i.hooks.run("before-sanity-check",d),(o=d.element.parentElement)&&"pre"===o.nodeName.toLowerCase()&&!o.hasAttribute("tabindex")&&o.setAttribute("tabindex","0"),!d.code){i.hooks.run("complete",d),t&&t.call(d.element);return}if(i.hooks.run("before-highlight",d),!d.grammar){c(i.util.encode(d.code));return}if(r&&e.Worker){var h=new Worker(i.filename);h.onmessage=function(e){c(e.data)},h.postMessage(JSON.stringify({language:d.language,code:d.code,immediateClose:!0}))}else c(i.highlight(d.code,d.grammar,d.language))},highlight:function(e,n,r){var t={code:e,grammar:n,language:r};if(i.hooks.run("before-tokenize",t),!t.grammar)throw Error('The language "'+t.language+'" has no grammar.');return t.tokens=i.tokenize(t.code,t.grammar),i.hooks.run("after-tokenize",t),s.stringify(i.util.encode(t.tokens),t.language)},tokenize:function(e,n){var r=n.rest;if(r){for(var t in r)n[t]=r[t];delete n.rest}var d=new o;return a(d,d.head,e),function e(n,r,t,o,d,c){for(var h in t)if(t.hasOwnProperty(h)&&t[h]){var u=t[h];u=Array.isArray(u)?u:[u];for(var p=0;p<u.length;++p){if(c&&c.cause==h+","+p)return;var x=u[p],m=x.inside,f=!!x.lookbehind,j=!!x.greedy,g=x.alias;if(j&&!x.pattern.global){var b=x.pattern.toString().match(/[imsuy]*$/)[0];x.pattern=RegExp(x.pattern.source,b+"g")}for(var v=x.pattern||x,y=o.next,w=d;y!==r.tail&&(!c||!(w>=c.reach));w+=y.value.length,y=y.next){var S,k=y.value;if(r.length>n.length)return;if(!(k instanceof s)){var _=1;if(j){if(!(S=l(v,w,n,f))||S.index>=n.length)break;var P=S.index,E=S.index+S[0].length,F=w;for(F+=y.value.length;P>=F;)F+=(y=y.next).value.length;if(F-=y.value.length,w=F,y.value instanceof s)continue;for(var N=y;N!==r.tail&&(F<E||"string"==typeof N.value);N=N.next)_++,F+=N.value.length;_--,k=n.slice(w,F),S.index-=w}else if(!(S=l(v,0,k,f)))continue;var P=S.index,T=S[0],R=k.slice(0,P),C=k.slice(P+T.length),M=w+k.length;c&&M>c.reach&&(c.reach=M);var O=y.prev;R&&(O=a(r,O,R),w+=R.length),function(e,n,r){for(var t=n.next,i=0;i<r&&t!==e.tail;i++)t=t.next;n.next=t,t.prev=n,e.length-=i}(r,O,_);var I=new s(h,m?i.tokenize(T,m):T,g,T);if(y=a(r,O,I),C&&a(r,y,C),_>1){var A={cause:h+","+p,reach:M};e(n,r,t,y.prev,w,A),c&&A.reach>c.reach&&(c.reach=A.reach)}}}}}}(e,d,n,d.head,0),function(e){for(var n=[],r=e.head.next;r!==e.tail;)n.push(r.value),r=r.next;return n}(d)},hooks:{all:{},add:function(e,n){var r=i.hooks.all;r[e]=r[e]||[],r[e].push(n)},run:function(e,n){var r=i.hooks.all[e];if(r&&r.length)for(var t,s=0;t=r[s++];)t(n)}},Token:s};function s(e,n,r,t){this.type=e,this.content=n,this.alias=r,this.length=0|(t||"").length}function l(e,n,r,t){e.lastIndex=n;var i=e.exec(r);if(i&&t&&i[1]){var s=i[1].length;i.index+=s,i[0]=i[0].slice(s)}return i}e.Prism=i,s.stringify=function e(n,r){if("string"==typeof n)return n;if(Array.isArray(n)){var t="";return n.forEach(function(n){t+=e(n,r)}),t}var s={type:n.type,content:e(n.content,r),tag:"span",classes:["token",n.type],attributes:{},language:r},l=n.alias;l&&(Array.isArray(l)?Array.prototype.push.apply(s.classes,l):s.classes.push(l)),i.hooks.run("wrap",s);var o="";for(var a in s.attributes)o+=" "+a+'="'+(s.attributes[a]||"").replace(/"/g,"&quot;")+'"';return"<"+s.tag+' class="'+s.classes.join(" ")+'"'+o+">"+s.content+"</"+s.tag+">"};function o(){var e={value:null,prev:null,next:null},n={value:null,prev:e,next:null};e.next=n,this.head=e,this.tail=n,this.length=0}function a(e,n,r){var t=n.next,i={value:r,prev:n,next:t};return n.next=i,t.prev=i,e.length++,i}if(!e.document)return e.addEventListener?(!i.disableWorkerMessageHandler&&e.addEventListener("message",function(n){var r=JSON.parse(n.data),t=r.language,s=r.code,l=r.immediateClose;e.postMessage(i.highlight(s,i.languages[t],t)),l&&e.close()},!1),i):i;var d=i.util.currentScript();function c(){!i.manual&&i.highlightAll()}if(d&&(i.filename=d.src,d.hasAttribute("data-manual")&&(i.manual=!0)),!i.manual){var h=document.readyState;"loading"===h||"interactive"===h&&d&&d.defer?document.addEventListener("DOMContentLoaded",c):window.requestAnimationFrame?window.requestAnimationFrame(c):window.setTimeout(c,16)}return i}("undefined"!=typeof window?window:"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope?self:{});void 0!==e&&e.exports&&(e.exports=t),"undefined"!=typeof global&&(global.Prism=t)},88154:function(e,n,r){"use strict";var t=r("11585");function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,n,r,i,s,l){if(l!==t){var o=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function n(){return e}e.isRequired=e;var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:s,resetWarningCache:i};return r.PropTypes=r,r}},47459:function(e,n,r){e.exports=r("88154")()},11585:function(e,n,r){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},31368:function(e,n,r){"use strict";var t=r("95322"),i=r("52987"),s=r("82558"),l="data";e.exports=function(e,n){var r=t(n),u=n,p=s;return r in e.normal?e.property[e.normal[r]]:(r.length>4&&r.slice(0,4)===l&&o.test(n)&&("-"===n.charAt(4)?u=function(e){var n=e.slice(5).replace(a,h);return l+n.charAt(0).toUpperCase()+n.slice(1)}(n):n=function(e){var n=e.slice(4);return a.test(n)?e:("-"!==(n=n.replace(d,c)).charAt(0)&&(n="-"+n),l+n)}(n),p=i),new p(u,n))};var o=/^data[-\w.:]+$/i,a=/-[a-z]/g,d=/[A-Z]/g;function c(e){return"-"+e.toLowerCase()}function h(e){return e.charAt(1).toUpperCase()}},71236:function(e,n,r){"use strict";var t=r("70541"),i=r("87043"),s=r("96690"),l=r("26605"),o=r("40096"),a=r("40051");e.exports=t([s,i,l,o,a])},40096:function(e,n,r){"use strict";var t=r("8532"),i=r("49402"),s=t.booleanish,l=t.number,o=t.spaceSeparated;e.exports=i({transform:function(e,n){return"role"===n?n:"aria-"+n.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:s,ariaAutoComplete:null,ariaBusy:s,ariaChecked:s,ariaColCount:l,ariaColIndex:l,ariaColSpan:l,ariaControls:o,ariaCurrent:null,ariaDescribedBy:o,ariaDetails:null,ariaDisabled:s,ariaDropEffect:o,ariaErrorMessage:null,ariaExpanded:s,ariaFlowTo:o,ariaGrabbed:s,ariaHasPopup:null,ariaHidden:s,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:o,ariaLevel:l,ariaLive:null,ariaModal:s,ariaMultiLine:s,ariaMultiSelectable:s,ariaOrientation:null,ariaOwns:o,ariaPlaceholder:null,ariaPosInSet:l,ariaPressed:s,ariaReadOnly:s,ariaRelevant:null,ariaRequired:s,ariaRoleDescription:o,ariaRowCount:l,ariaRowIndex:l,ariaRowSpan:l,ariaSelected:s,ariaSetSize:l,ariaSort:null,ariaValueMax:l,ariaValueMin:l,ariaValueNow:l,ariaValueText:null,role:null}})},40051:function(e,n,r){"use strict";var t=r("8532"),i=r("49402"),s=r("14890"),l=t.boolean,o=t.overloadedBoolean,a=t.booleanish,d=t.number,c=t.spaceSeparated,h=t.commaSeparated;e.exports=i({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:s,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:h,acceptCharset:c,accessKey:c,action:null,allow:null,allowFullScreen:l,allowPaymentRequest:l,allowUserMedia:l,alt:null,as:null,async:l,autoCapitalize:null,autoComplete:c,autoFocus:l,autoPlay:l,capture:l,charSet:null,checked:l,cite:null,className:c,cols:d,colSpan:null,content:null,contentEditable:a,controls:l,controlsList:c,coords:d|h,crossOrigin:null,data:null,dateTime:null,decoding:null,default:l,defer:l,dir:null,dirName:null,disabled:l,download:o,draggable:a,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:l,formTarget:null,headers:c,height:d,hidden:l,high:d,href:null,hrefLang:null,htmlFor:c,httpEquiv:c,id:null,imageSizes:null,imageSrcSet:h,inputMode:null,integrity:null,is:null,isMap:l,itemId:null,itemProp:c,itemRef:c,itemScope:l,itemType:c,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:l,low:d,manifest:null,max:null,maxLength:d,media:null,method:null,min:null,minLength:d,multiple:l,muted:l,name:null,nonce:null,noModule:l,noValidate:l,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextMenu:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:l,optimum:d,pattern:null,ping:c,placeholder:null,playsInline:l,poster:null,preload:null,readOnly:l,referrerPolicy:null,rel:c,required:l,reversed:l,rows:d,rowSpan:d,sandbox:c,scope:null,scoped:l,seamless:l,selected:l,shape:null,size:d,sizes:null,slot:null,span:d,spellCheck:a,src:null,srcDoc:null,srcLang:null,srcSet:h,start:d,step:null,style:null,tabIndex:d,target:null,title:null,translate:null,type:null,typeMustMatch:l,useMap:null,value:a,width:d,wrap:null,align:null,aLink:null,archive:c,axis:null,background:null,bgColor:null,border:d,borderColor:null,bottomMargin:d,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:l,declare:l,event:null,face:null,frame:null,frameBorder:null,hSpace:d,leftMargin:d,link:null,longDesc:null,lowSrc:null,marginHeight:d,marginWidth:d,noResize:l,noHref:l,noShade:l,noWrap:l,object:null,profile:null,prompt:null,rev:null,rightMargin:d,rules:null,scheme:null,scrolling:a,standby:null,summary:null,text:null,topMargin:d,valueType:null,version:null,vAlign:null,vLink:null,vSpace:d,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:l,disableRemotePlayback:l,prefix:null,property:null,results:d,security:null,unselectable:null}})},14890:function(e,n,r){"use strict";var t=r("83379");e.exports=function(e,n){return t(e,n.toLowerCase())}},83379:function(e,n,r){"use strict";e.exports=function(e,n){return n in e?e[n]:n}},49402:function(e,n,r){"use strict";var t=r("95322"),i=r("23707"),s=r("52987");e.exports=function(e){var n,r,l=e.space,o=e.mustUseProperty||[],a=e.attributes||{},d=e.properties,c=e.transform,h={},u={};for(n in d)r=new s(n,c(a,n),d[n],l),-1!==o.indexOf(n)&&(r.mustUseProperty=!0),h[n]=r,u[t(n)]=n,u[t(r.attribute)]=n;return new i(h,u,l)}},52987:function(e,n,r){"use strict";var t=r("82558"),i=r("8532");e.exports=o,o.prototype=new t,o.prototype.defined=!0;var s=["boolean","booleanish","overloadedBoolean","number","commaSeparated","spaceSeparated","commaOrSpaceSeparated"],l=s.length;function o(e,n,r,o){var a,d=-1;for(function(e,n,r){r&&(e[n]=r)}(this,"space",o),t.call(this,e,n);++d<l;)(function(e,n,r){r&&(e[n]=r)})(this,a=s[d],(r&i[a])===i[a])}function a(e,n,r){r&&(e[n]=r)}},82558:function(e,n,r){"use strict";e.exports=i;var t=i.prototype;function i(e,n){this.property=e,this.attribute=n}t.space=null,t.attribute=null,t.property=null,t.boolean=!1,t.booleanish=!1,t.overloadedBoolean=!1,t.number=!1,t.commaSeparated=!1,t.spaceSeparated=!1,t.commaOrSpaceSeparated=!1,t.mustUseProperty=!1,t.defined=!1},70541:function(e,n,r){"use strict";var t=r("56296"),i=r("23707");e.exports=function(e){for(var n,r,s=e.length,l=[],o=[],a=-1;++a<s;)n=e[a],l.push(n.property),o.push(n.normal),r=n.space;return new i(t.apply(null,l),t.apply(null,o),r)}},23707:function(e,n,r){"use strict";e.exports=i;var t=i.prototype;function i(e,n,r){this.property=e,this.normal=n,r&&(this.space=r)}t.space=null,t.normal={},t.property={}},8532:function(e,n,r){"use strict";var t=0;function i(){return Math.pow(2,++t)}n.boolean=i(),n.booleanish=i(),n.overloadedBoolean=i(),n.number=i(),n.spaceSeparated=i(),n.commaSeparated=i(),n.commaOrSpaceSeparated=i()},87043:function(e,n,r){"use strict";var t=r("49402");e.exports=t({space:"xlink",transform:function(e,n){return"xlink:"+n.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}})},96690:function(e,n,r){"use strict";var t=r("49402");e.exports=t({space:"xml",transform:function(e,n){return"xml:"+n.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}})},26605:function(e,n,r){"use strict";var t=r("49402"),i=r("14890");e.exports=t({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:i,properties:{xmlns:null,xmlnsXLink:null}})},95322:function(e,n,r){"use strict";e.exports=function(e){return e.toLowerCase()}},32752:function(e,n,r){"use strict";var t=r("6171"),i=r("92144"),s=Object.prototype.hasOwnProperty,l=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,o={},a={};function d(e){return!!s.call(a,e)||!s.call(o,e)&&(l.test(e)?a[e]=!0:(o[e]=!0,!1))}function c(e,n,r,t,i,s,l){this.acceptsBooleans=2===n||3===n||4===n,this.attributeName=t,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=n,this.sanitizeURL=s,this.removeEmptyString=l}var h={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){h[e]=new c(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];h[n]=new c(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){h[e]=new c(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){h[e]=new c(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){h[e]=new c(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){h[e]=new c(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){h[e]=new c(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){h[e]=new c(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){h[e]=new c(e,5,!1,e.toLowerCase(),null,!1,!1)});var u=/[\-:]([a-z])/g;function p(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(u,p);h[n]=new c(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(u,p);h[n]=new c(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(u,p);h[n]=new c(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){h[e]=new c(e,1,!1,e.toLowerCase(),null,!1,!1)}),h.xlinkHref=new c("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){h[e]=new c(e,1,!1,e.toLowerCase(),null,!0,!0)});var x={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},m=["Webkit","ms","Moz","O"];Object.keys(x).forEach(function(e){m.forEach(function(n){x[n=n+e.charAt(0).toUpperCase()+e.substring(1)]=x[e]})});var f=/["'&<>]/;function j(e){if("boolean"==typeof e||"number"==typeof e)return""+e;e=""+e;var n=f.exec(e);if(n){var r,t="",i=0;for(r=n.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#x27;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}i!==r&&(t+=e.substring(i,r)),i=r+1,t+=n}e=i!==r?t+e.substring(i,r):t}return e}var g=/([A-Z])/g,b=/^ms-/,v=Array.isArray;function y(e,n){return{insertionMode:e,selectedValue:n}}var w=new Map;function S(e,n,r){if("object"!=typeof r)throw Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");for(var t in n=!0,r)if(s.call(r,t)){var i=r[t];if(null!=i&&"boolean"!=typeof i&&""!==i){if(0===t.indexOf("--")){var l=j(t);i=j((""+i).trim())}else{l=t;var o=w.get(l);void 0!==o||(o=j(l.replace(g,"-$1").toLowerCase().replace(b,"-ms-")),w.set(l,o)),l=o,i="number"==typeof i?0===i||s.call(x,t)?""+i:i+"px":j((""+i).trim())}n?(n=!1,e.push(' style="',l,":",i)):e.push(";",l,":",i)}}n||e.push('"')}function k(e,n,r,t){switch(r){case"style":S(e,n,t);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<r.length)||"o"!==r[0]&&"O"!==r[0]||"n"!==r[1]&&"N"!==r[1]){if(null!==(n=h.hasOwnProperty(r)?h[r]:null)){switch(typeof t){case"function":case"symbol":return;case"boolean":if(!n.acceptsBooleans)return}switch(r=n.attributeName,n.type){case 3:t&&e.push(" ",r,'=""');break;case 4:!0===t?e.push(" ",r,'=""'):!1!==t&&e.push(" ",r,'="',j(t),'"');break;case 5:isNaN(t)||e.push(" ",r,'="',j(t),'"');break;case 6:!isNaN(t)&&1<=t&&e.push(" ",r,'="',j(t),'"');break;default:n.sanitizeURL&&(t=""+t),e.push(" ",r,'="',j(t),'"')}}else if(d(r)){switch(typeof t){case"function":case"symbol":return;case"boolean":if("data-"!==(n=r.toLowerCase().slice(0,5))&&"aria-"!==n)return}e.push(" ",r,'="',j(t),'"')}}}function _(e,n,r){if(null!=n){if(null!=r)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");if("object"!=typeof n||!("__html"in n))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://reactjs.org/link/dangerously-set-inner-html for more information.");null!=(n=n.__html)&&e.push(""+n)}}function P(e,n,r,t){e.push(N(r));var i,l=r=null;for(i in n)if(s.call(n,i)){var o=n[i];if(null!=o)switch(i){case"children":r=o;break;case"dangerouslySetInnerHTML":l=o;break;default:k(e,t,i,o)}}return e.push(">"),_(e,l,r),"string"==typeof r?(e.push(j(r)),null):r}var E=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,F=new Map;function N(e){var n=F.get(e);if(void 0===n){if(!E.test(e))throw Error("Invalid tag: "+e);n="<"+e,F.set(e,n)}return n}function T(e,n,r){if(e.push('<!--$?--><template id="'),null===r)throw Error("An ID must have been assigned before we can complete the boundary.");return e.push(r),e.push('"></template>')}var R=/[<\u2028\u2029]/g;function C(e){return JSON.stringify(e).replace(R,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}function M(e,n){return{bootstrapChunks:[],startInlineScript:"<script>",placeholderPrefix:(n=void 0===n?"":n)+"P:",segmentPrefix:n+"S:",boundaryPrefix:n+"B:",idPrefix:n,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1,generateStaticMarkup:e}}function O(){return{insertionMode:1,selectedValue:null}}function I(e,n,r,t){return r.generateStaticMarkup?(e.push(j(n)),!1):(""===n?e=t:(t&&e.push("<!-- -->"),e.push(j(n)),e=!0),e)}var A=Object.assign,D=Symbol.for("react.element"),B=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),U=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),$=Symbol.for("react.lazy"),J=Symbol.for("react.scope"),Y=Symbol.for("react.debug_trace_mode"),Q=Symbol.for("react.legacy_hidden"),K=Symbol.for("react.default_value"),Z=Symbol.iterator,ee={};function en(e,n){if(!(e=e.contextTypes))return ee;var r,t={};for(r in e)t[r]=n[r];return t}var er=null;function et(e,n){if(e!==n){e.context._currentValue2=e.parentValue,e=e.parent;var r=n.parent;if(null===e){if(null!==r)throw Error("The stacks must reach the root at the same time. This is a bug in React.")}else{if(null===r)throw Error("The stacks must reach the root at the same time. This is a bug in React.");et(e,r)}n.context._currentValue2=n.value}}function ei(e){var n=er;n!==e&&(null===n?function e(n){var r=n.parent;null!==r&&e(r),n.context._currentValue2=n.value}(e):null===e?function e(n){n.context._currentValue2=n.parentValue,null!==(n=n.parent)&&e(n)}(n):n.depth===e.depth?et(n,e):n.depth>e.depth?function e(n,r){if(n.context._currentValue2=n.parentValue,null===(n=n.parent))throw Error("The depth must equal at least at zero before reaching the root. This is a bug in React.");n.depth===r.depth?et(n,r):e(n,r)}(n,e):function e(n,r){var t=r.parent;if(null===t)throw Error("The depth must equal at least at zero before reaching the root. This is a bug in React.");n.depth===t.depth?et(n,t):e(n,t),r.context._currentValue2=r.value}(n,e),er=e)}var es={isMounted:function(){return!1},enqueueSetState:function(e,n){null!==(e=e._reactInternals).queue&&e.queue.push(n)},enqueueReplaceState:function(e,n){(e=e._reactInternals).replace=!0,e.queue=[n]},enqueueForceUpdate:function(){}};function el(e,n,r,t){var i=void 0!==e.state?e.state:null;e.updater=es,e.props=r,e.state=i;var s={queue:[],replace:!1};e._reactInternals=s;var l=n.contextType;if(e.context="object"==typeof l&&null!==l?l._currentValue2:t,"function"==typeof(l=n.getDerivedStateFromProps)&&(i=null==(l=l(r,i))?i:A({},i,l),e.state=i),"function"!=typeof n.getDerivedStateFromProps&&"function"!=typeof e.getSnapshotBeforeUpdate&&("function"==typeof e.UNSAFE_componentWillMount||"function"==typeof e.componentWillMount)){if(n=e.state,"function"==typeof e.componentWillMount&&e.componentWillMount(),"function"==typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),n!==e.state&&es.enqueueReplaceState(e,e.state,null),null!==s.queue&&0<s.queue.length){if(n=s.queue,l=s.replace,s.queue=null,s.replace=!1,l&&1===n.length)e.state=n[0];else{for(s=l?n[0]:e.state,i=!0,l=l?1:0;l<n.length;l++){var o=n[l];null!=(o="function"==typeof o?o.call(e,s,r,t):o)&&(i?(i=!1,s=A({},s,o)):A(s,o))}e.state=s}}else s.queue=null}}var eo={id:1,overflow:""};function ea(e,n,r){var t=e.id;e=e.overflow;var i=32-ed(t)-1;t&=~(1<<i),r+=1;var s=32-ed(n)+i;if(30<s){var l=i-i%5;return s=(t&(1<<l)-1).toString(32),t>>=l,i-=l,{id:1<<32-ed(n)+i|r<<i|t,overflow:s+e}}return{id:1<<s|r<<i|t,overflow:e}}var ed=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(ec(e)/eh|0)|0},ec=Math.log,eh=Math.LN2,eu="function"==typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n},ep=null,ex=null,em=null,ef=null,ej=!1,eg=!1,eb=0,ev=null,ey=0;function ew(){if(null===ep)throw Error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.");return ep}function eS(){if(0<ey)throw Error("Rendered more hooks than during the previous render");return{memoizedState:null,queue:null,next:null}}function ek(){return null===ef?null===em?(ej=!1,em=ef=eS()):(ej=!0,ef=em):null===ef.next?(ej=!1,ef=ef.next=eS()):(ej=!0,ef=ef.next),ef}function e_(){ex=ep=null,eg=!1,em=null,ey=0,ef=ev=null}function eP(e,n){return"function"==typeof n?n(e):n}function eE(e,n,r){if(ep=ew(),ef=ek(),ej){var t=ef.queue;if(n=t.dispatch,null!==ev&&void 0!==(r=ev.get(t))){ev.delete(t),t=ef.memoizedState;do t=e(t,r.action),r=r.next;while(null!==r);return ef.memoizedState=t,[t,n]}return[ef.memoizedState,n]}return e=e===eP?"function"==typeof n?n():n:void 0!==r?r(n):n,ef.memoizedState=e,e=(e=ef.queue={last:null,dispatch:null}).dispatch=eN.bind(null,ep,e),[ef.memoizedState,e]}function eF(e,n){if(ep=ew(),ef=ek(),n=void 0===n?null:n,null!==ef){var r=ef.memoizedState;if(null!==r&&null!==n){var t=r[1];e:if(null===t)t=!1;else{for(var i=0;i<t.length&&i<n.length;i++)if(!eu(n[i],t[i])){t=!1;break e}t=!0}if(t)return r[0]}}return e=e(),ef.memoizedState=[e,n],e}function eN(e,n,r){if(25<=ey)throw Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");if(e===ep){if(eg=!0,e={action:r,next:null},null===ev&&(ev=new Map),void 0===(r=ev.get(n)))ev.set(n,e);else{for(n=r;null!==n.next;)n=n.next;n.next=e}}}function eT(){throw Error("startTransition cannot be called during server rendering.")}function eR(){}var eC={readContext:function(e){return e._currentValue2},useContext:function(e){return ew(),e._currentValue2},useMemo:eF,useReducer:eE,useRef:function(e){ep=ew();var n=(ef=ek()).memoizedState;return null===n?(e={current:e},ef.memoizedState=e):n},useState:function(e){return eE(eP,e)},useInsertionEffect:eR,useLayoutEffect:function(){},useCallback:function(e,n){return eF(function(){return e},n)},useImperativeHandle:eR,useEffect:eR,useDebugValue:eR,useDeferredValue:function(e){return ew(),e},useTransition:function(){return ew(),[!1,eT]},useId:function(){var e=ex.treeContext,n=e.overflow;e=((e=e.id)&~(1<<32-ed(e)-1)).toString(32)+n;var r=eM;if(null===r)throw Error("Invalid hook call. Hooks can only be called inside of the body of a function component.");return n=eb++,e=":"+r.idPrefix+"R"+e,0<n&&(e+="H"+n.toString(32)),e+":"},useMutableSource:function(e,n){return ew(),n(e._source)},useSyncExternalStore:function(e,n,r){if(void 0===r)throw Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");return r()}},eM=null,eO=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function eI(e){return console.error(e),null}function eA(){}function eD(e,n,r,t,i,s,l,o,a){var d=[],c=new Set;return(r=ez(n={destination:null,responseState:n,progressiveChunkSize:void 0===t?12800:t,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:c,pingedTasks:d,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:void 0===i?eI:i,onAllReady:void 0===s?eA:s,onShellReady:void 0===l?eA:l,onShellError:void 0===o?eA:o,onFatalError:void 0===a?eA:a},0,null,r,!1,!1)).parentFlushed=!0,e=eB(n,e,null,r,c,ee,null,eo),d.push(e),n}function eB(e,n,r,t,i,s,l,o){e.allPendingTasks++,null===r?e.pendingRootTasks++:r.pendingTasks++;var a={node:n,ping:function(){var n=e.pingedTasks;n.push(a),1===n.length&&eQ(e)},blockedBoundary:r,blockedSegment:t,abortSet:i,legacyContext:s,context:l,treeContext:o};return i.add(a),a}function ez(e,n,r,t,i,s){return{status:0,id:-1,index:n,parentFlushed:!1,chunks:[],children:[],formatContext:t,boundary:r,lastPushedText:i,textEmbedded:s}}function eL(e,n){if(null!=(e=e.onError(n))&&"string"!=typeof e)throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function eG(e,n){var r=e.onShellError;r(n),(r=e.onFatalError)(n),null!==e.destination?(e.status=2,e.destination.destroy(n)):(e.status=1,e.fatalError=n)}function eW(e,n,r,t,i){for(ep={},ex=n,eb=0,e=r(t,i);eg;)eg=!1,eb=0,ey+=1,ef=null,e=r(t,i);return e_(),e}function eU(e,n,r,t){var i=r.render(),s=t.childContextTypes;if(null!=s){var l=n.legacyContext;if("function"!=typeof r.getChildContext)t=l;else{for(var o in r=r.getChildContext())if(!(o in s))throw Error((function e(n){if(null==n)return null;if("function"==typeof n)return n.displayName||n.name||null;if("string"==typeof n)return n;switch(n){case z:return"Fragment";case B:return"Portal";case G:return"Profiler";case L:return"StrictMode";case q:return"Suspense";case X:return"SuspenseList"}if("object"==typeof n)switch(n.$$typeof){case U:return(n.displayName||"Context")+".Consumer";case W:return(n._context.displayName||"Context")+".Provider";case H:var r=n.render;return(n=n.displayName)||(n=""!==(n=r.displayName||r.name||"")?"ForwardRef("+n+")":"ForwardRef"),n;case V:return null!==(r=n.displayName||null)?r:e(n.type)||"Memo";case $:r=n._payload,n=n._init;try{return e(n(r))}catch(e){}}return null}(t)||"Unknown")+'.getChildContext(): key "'+o+'" is not defined in childContextTypes.');t=A({},l,r)}n.legacyContext=t,eq(e,n,i),n.legacyContext=l}else eq(e,n,i)}function eH(e,n){if(e&&e.defaultProps)for(var r in n=A({},n),e=e.defaultProps)void 0===n[r]&&(n[r]=e[r]);return n}function eq(e,n,r){if(n.node=r,"object"==typeof r&&null!==r){switch(r.$$typeof){case D:!function e(n,r,i,l,o){if("function"==typeof i){if(i.prototype&&i.prototype.isReactComponent){o=en(i,r.legacyContext);var a=i.contextType;el(a=new i(l,"object"==typeof a&&null!==a?a._currentValue2:o),i,l,o),eU(n,r,a,i)}else{a=en(i,r.legacyContext),o=eW(n,r,i,l,a);var c=0!==eb;if("object"==typeof o&&null!==o&&"function"==typeof o.render&&void 0===o.$$typeof)el(o,i,l,a),eU(n,r,o,i);else if(c){l=r.treeContext,r.treeContext=ea(l,1,0);try{eq(n,r,o)}finally{r.treeContext=l}}else eq(n,r,o)}}else if("string"==typeof i){switch(a=function(e,n,r,i,l){switch(n){case"select":e.push(N("select"));var o=null,a=null;for(m in r)if(s.call(r,m)){var c=r[m];if(null!=c)switch(m){case"children":o=c;break;case"dangerouslySetInnerHTML":a=c;break;case"defaultValue":case"value":break;default:k(e,i,m,c)}}return e.push(">"),_(e,a,o),o;case"option":a=l.selectedValue,e.push(N("option"));var h,u,p=c=null,x=null,m=null;for(o in r)if(s.call(r,o)){var f=r[o];if(null!=f)switch(o){case"children":c=f;break;case"selected":x=f;break;case"dangerouslySetInnerHTML":m=f;break;case"value":p=f;default:k(e,i,o,f)}}if(null!=a){;if(r=null!==p?""+p:(h=c,u="",t.Children.forEach(h,function(e){null!=e&&(u+=e)}),u),v(a)){for(i=0;i<a.length;i++)if(""+a[i]===r){e.push(' selected=""');break}}else""+a===r&&e.push(' selected=""')}else x&&e.push(' selected=""');return e.push(">"),_(e,m,c),c;case"textarea":for(c in e.push(N("textarea")),m=a=o=null,r)if(s.call(r,c)&&null!=(p=r[c]))switch(c){case"children":m=p;break;case"value":o=p;break;case"defaultValue":a=p;break;case"dangerouslySetInnerHTML":throw Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");default:k(e,i,c,p)}if(null===o&&null!==a&&(o=a),e.push(">"),null!=m){if(null!=o)throw Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(v(m)&&1<m.length)throw Error("<textarea> can only have at most one child.");o=""+m}return"string"==typeof o&&"\n"===o[0]&&e.push("\n"),null!==o&&e.push(j(""+o)),null;case"input":for(a in e.push(N("input")),p=m=c=o=null,r)if(s.call(r,a)&&null!=(x=r[a]))switch(a){case"children":case"dangerouslySetInnerHTML":throw Error("input is a self-closing tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");case"defaultChecked":p=x;break;case"defaultValue":c=x;break;case"checked":m=x;break;case"value":o=x;break;default:k(e,i,a,x)}return null!==m?k(e,i,"checked",m):null!==p&&k(e,i,"checked",p),null!==o?k(e,i,"value",o):null!==c&&k(e,i,"value",c),e.push("/>"),null;case"menuitem":for(var g in e.push(N("menuitem")),r)if(s.call(r,g)&&null!=(o=r[g]))switch(g){case"children":case"dangerouslySetInnerHTML":throw Error("menuitems cannot have `children` nor `dangerouslySetInnerHTML`.");default:k(e,i,g,o)}return e.push(">"),null;case"title":for(f in e.push(N("title")),o=null,r)if(s.call(r,f)&&null!=(a=r[f]))switch(f){case"children":o=a;break;case"dangerouslySetInnerHTML":throw Error("`dangerouslySetInnerHTML` does not make sense on <title>.");default:k(e,i,f,a)}return e.push(">"),o;case"listing":case"pre":for(p in e.push(N(n)),a=o=null,r)if(s.call(r,p)&&null!=(c=r[p]))switch(p){case"children":o=c;break;case"dangerouslySetInnerHTML":a=c;break;default:k(e,i,p,c)}if(e.push(">"),null!=a){if(null!=o)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");if("object"!=typeof a||!("__html"in a))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://reactjs.org/link/dangerously-set-inner-html for more information.");null!=(r=a.__html)&&("string"==typeof r&&0<r.length&&"\n"===r[0]?e.push("\n",r):e.push(""+r))}return"string"==typeof o&&"\n"===o[0]&&e.push("\n"),o;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":for(var b in e.push(N(n)),r)if(s.call(r,b)&&null!=(o=r[b]))switch(b){case"children":case"dangerouslySetInnerHTML":throw Error(n+" is a self-closing tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");default:k(e,i,b,o)}return e.push("/>"),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return P(e,r,n,i);case"html":return 0===l.insertionMode&&e.push("<!DOCTYPE html>"),P(e,r,n,i);default:if(-1===n.indexOf("-")&&"string"!=typeof r.is)return P(e,r,n,i);for(x in e.push(N(n)),a=o=null,r)if(s.call(r,x)&&null!=(c=r[x]))switch(x){case"children":o=c;break;case"dangerouslySetInnerHTML":a=c;break;case"style":S(e,i,c);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:d(x)&&"function"!=typeof c&&"symbol"!=typeof c&&e.push(" ",x,'="',j(c),'"')}return e.push(">"),_(e,a,o),o}}((o=r.blockedSegment).chunks,i,l,n.responseState,o.formatContext),o.lastPushedText=!1,c=o.formatContext,o.formatContext=function(e,n,r){switch(n){case"select":return y(1,null!=r.value?r.value:r.defaultValue);case"svg":return y(2,null);case"math":return y(3,null);case"foreignObject":return y(1,null);case"table":return y(4,null);case"thead":case"tbody":case"tfoot":return y(5,null);case"colgroup":return y(7,null);case"tr":return y(6,null)}return 4<=e.insertionMode||0===e.insertionMode?y(1,null):e}(c,i,l),eV(n,r,a),o.formatContext=c,i){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:o.chunks.push("</",i,">")}o.lastPushedText=!1}else{switch(i){case Q:case Y:case L:case G:case z:case X:eq(n,r,l.children);return;case J:throw Error("ReactDOMServer does not yet support scope components.");case q:e:{i=r.blockedBoundary,o=r.blockedSegment,a=l.fallback,l=l.children;var h={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:c=new Set,errorDigest:null},u=ez(n,o.chunks.length,h,o.formatContext,!1,!1);o.children.push(u),o.lastPushedText=!1;var p=ez(n,0,null,o.formatContext,!1,!1);p.parentFlushed=!0,r.blockedBoundary=h,r.blockedSegment=p;try{if(eV(n,r,l),n.responseState.generateStaticMarkup||p.lastPushedText&&p.textEmbedded&&p.chunks.push("<!-- -->"),p.status=1,eJ(h,p),0===h.pendingTasks)break e}catch(e){p.status=4,h.forceClientRender=!0,h.errorDigest=eL(n,e)}finally{r.blockedBoundary=i,r.blockedSegment=o}r=eB(n,a,i,u,c,r.legacyContext,r.context,r.treeContext),n.pingedTasks.push(r)}return}if("object"==typeof i&&null!==i)switch(i.$$typeof){case H:if(l=eW(n,r,i.render,l,o),0!==eb){i=r.treeContext,r.treeContext=ea(i,1,0);try{eq(n,r,l)}finally{r.treeContext=i}}else eq(n,r,l);return;case V:l=eH(i=i.type,l),e(n,r,i,l,o);return;case W:if(o=l.children,i=i._context,l=l.value,a=i._currentValue2,i._currentValue2=l,er=l={parent:c=er,depth:null===c?0:c.depth+1,context:i,parentValue:a,value:l},r.context=l,eq(n,r,o),null===(n=er))throw Error("Tried to pop a Context at the root of the app. This is a bug in React.");l=n.parentValue,n.context._currentValue2=l===K?n.context._defaultValue:l,n=er=n.parent,r.context=n;return;case U:l=(l=l.children)(i._currentValue2),eq(n,r,l);return;case $:l=eH(i=(o=i._init)(i._payload),l),e(n,r,i,l,void 0);return}throw Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(null==i?i:typeof i)+".")}}(e,n,r.type,r.props,r.ref);return;case B:throw Error("Portals are not currently supported by the server renderer. Render them conditionally so that they only appear on the client render.");case $:var i=r._init;eq(e,n,r=i(r._payload));return}if(v(r)){eX(e,n,r);return}if((i=null===r||"object"!=typeof r?null:"function"==typeof(i=Z&&r[Z]||r["@@iterator"])?i:null)&&(i=i.call(r))){if(!(r=i.next()).done){var l=[];do l.push(r.value),r=i.next();while(!r.done);eX(e,n,l)}return}throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(e=Object.prototype.toString.call(r))?"object with keys {"+Object.keys(r).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}"string"==typeof r?(i=n.blockedSegment).lastPushedText=I(n.blockedSegment.chunks,r,e.responseState,i.lastPushedText):"number"==typeof r&&((i=n.blockedSegment).lastPushedText=I(n.blockedSegment.chunks,""+r,e.responseState,i.lastPushedText))}function eX(e,n,r){for(var t=r.length,i=0;i<t;i++){var s=n.treeContext;n.treeContext=ea(s,t,i);try{eV(e,n,r[i])}finally{n.treeContext=s}}}function eV(e,n,r){var t=n.blockedSegment.formatContext,i=n.legacyContext,s=n.context;try{return eq(e,n,r)}catch(a){if(e_(),"object"==typeof a&&null!==a&&"function"==typeof a.then){r=a;var l=n.blockedSegment,o=ez(e,l.chunks.length,null,l.formatContext,l.lastPushedText,!0);l.children.push(o),l.lastPushedText=!1,e=eB(e,n.node,n.blockedBoundary,o,n.abortSet,n.legacyContext,n.context,n.treeContext).ping,r.then(e,e),n.blockedSegment.formatContext=t,n.legacyContext=i,n.context=s,ei(s)}else throw n.blockedSegment.formatContext=t,n.legacyContext=i,n.context=s,ei(s),a}}function e$(e){var n=e.blockedBoundary;(e=e.blockedSegment).status=3,eY(this,n,e)}function eJ(e,n){if(0===n.chunks.length&&1===n.children.length&&null===n.children[0].boundary){var r=n.children[0];r.id=n.id,r.parentFlushed=!0,1===r.status&&eJ(e,r)}else e.completedSegments.push(n)}function eY(e,n,r){if(null===n){if(r.parentFlushed){if(null!==e.completedRootSegment)throw Error("There can only be one root segment. This is a bug in React.");e.completedRootSegment=r}e.pendingRootTasks--,0===e.pendingRootTasks&&(e.onShellError=eA,(n=e.onShellReady)())}else n.pendingTasks--,n.forceClientRender||(0===n.pendingTasks?(r.parentFlushed&&1===r.status&&eJ(n,r),n.parentFlushed&&e.completedBoundaries.push(n),n.fallbackAbortableTasks.forEach(e$,e),n.fallbackAbortableTasks.clear()):r.parentFlushed&&1===r.status&&(eJ(n,r),1===n.completedSegments.length&&n.parentFlushed&&e.partialBoundaries.push(n)));e.allPendingTasks--,0===e.allPendingTasks&&(e=e.onAllReady)()}function eQ(e){if(2!==e.status){var n=er,r=eO.current;eO.current=eC;var t=eM;eM=e.responseState;try{var i,s=e.pingedTasks;for(i=0;i<s.length;i++){var l=s[i],o=l.blockedSegment;if(0===o.status){ei(l.context);try{eq(e,l,l.node),e.responseState.generateStaticMarkup||o.lastPushedText&&o.textEmbedded&&o.chunks.push("<!-- -->"),l.abortSet.delete(l),o.status=1,eY(e,l.blockedBoundary,o)}catch(n){if(e_(),"object"==typeof n&&null!==n&&"function"==typeof n.then){var a=l.ping;n.then(a,a)}else{l.abortSet.delete(l),o.status=4;var d=l.blockedBoundary,c=eL(e,n);null===d?eG(e,n):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=c,d.parentFlushed&&e.clientRenderedBoundaries.push(d))),e.allPendingTasks--,0===e.allPendingTasks&&(0,e.onAllReady)()}}finally{}}}s.splice(0,i),null!==e.destination&&e3(e,e.destination)}catch(n){eL(e,n),eG(e,n)}finally{eM=t,eO.current=r,r===eC&&ei(n)}}}function eK(e,n,r){switch(r.parentFlushed=!0,r.status){case 0:var t=r.id=e.nextSegmentId++;return r.lastPushedText=!1,r.textEmbedded=!1,e=e.responseState,n.push('<template id="'),n.push(e.placeholderPrefix),e=t.toString(16),n.push(e),n.push('"></template>');case 1:r.status=2;var i=!0;t=r.chunks;var s=0;r=r.children;for(var l=0;l<r.length;l++){for(i=r[l];s<i.index;s++)n.push(t[s]);i=eZ(e,n,i)}for(;s<t.length-1;s++)n.push(t[s]);return s<t.length&&(i=n.push(t[s])),i;default:throw Error("Aborted, errored or already flushed boundaries should not be flushed again. This is a bug in React.")}}function eZ(e,n,r){var t=r.boundary;if(null===t)return eK(e,n,r);if(t.parentFlushed=!0,t.forceClientRender)return e.responseState.generateStaticMarkup||(t=t.errorDigest,n.push("<!--$!-->"),n.push("<template"),t&&(n.push(' data-dgst="'),t=j(t),n.push(t),n.push('"')),n.push("></template>")),eK(e,n,r),e=!!e.responseState.generateStaticMarkup||n.push("<!--/$-->");if(0<t.pendingTasks){t.rootSegmentID=e.nextSegmentId++,0<t.completedSegments.length&&e.partialBoundaries.push(t);var i=e.responseState,s=i.nextSuspenseID++;return i=i.boundaryPrefix+s.toString(16),t=t.id=i,T(n,e.responseState,t),eK(e,n,r),n.push("<!--/$-->")}if(t.byteSize>e.progressiveChunkSize)return t.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(t),T(n,e.responseState,t.id),eK(e,n,r),n.push("<!--/$-->");if(e.responseState.generateStaticMarkup||n.push("<!--$-->"),1!==(r=t.completedSegments).length)throw Error("A previously unvisited boundary must have exactly one root segment. This is a bug in React.");return eZ(e,n,r[0]),e=!!e.responseState.generateStaticMarkup||n.push("<!--/$-->")}function e0(e,n,r){return!function(e,n,r,t){switch(r.insertionMode){case 0:case 1:return e.push('<div hidden id="'),e.push(n.segmentPrefix),n=t.toString(16),e.push(n),e.push('">');case 2:return e.push('<svg aria-hidden="true" style="display:none" id="'),e.push(n.segmentPrefix),n=t.toString(16),e.push(n),e.push('">');case 3:return e.push('<math aria-hidden="true" style="display:none" id="'),e.push(n.segmentPrefix),n=t.toString(16),e.push(n),e.push('">');case 4:return e.push('<table hidden id="'),e.push(n.segmentPrefix),n=t.toString(16),e.push(n),e.push('">');case 5:return e.push('<table hidden><tbody id="'),e.push(n.segmentPrefix),n=t.toString(16),e.push(n),e.push('">');case 6:return e.push('<table hidden><tr id="'),e.push(n.segmentPrefix),n=t.toString(16),e.push(n),e.push('">');case 7:return e.push('<table hidden><colgroup id="'),e.push(n.segmentPrefix),n=t.toString(16),e.push(n),e.push('">');default:throw Error("Unknown insertion mode. This is a bug in React.")}}(n,e.responseState,r.formatContext,r.id),eZ(e,n,r),function(e,n){switch(n.insertionMode){case 0:case 1:return e.push("</div>");case 2:return e.push("</svg>");case 3:return e.push("</math>");case 4:return e.push("</table>");case 5:return e.push("</tbody></table>");case 6:return e.push("</tr></table>");case 7:return e.push("</colgroup></table>");default:throw Error("Unknown insertion mode. This is a bug in React.")}}(n,r.formatContext)}function e2(e,n,r){for(var t=r.completedSegments,i=0;i<t.length;i++)e1(e,n,r,t[i]);if(t.length=0,e=e.responseState,t=r.id,r=r.rootSegmentID,n.push(e.startInlineScript),e.sentCompleteBoundaryFunction?n.push('$RC("'):(e.sentCompleteBoundaryFunction=!0,n.push('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("')),null===t)throw Error("An ID must have been assigned before we can complete the boundary.");return r=r.toString(16),n.push(t),n.push('","'),n.push(e.segmentPrefix),n.push(r),n.push('")</script>')}function e1(e,n,r,t){if(2===t.status)return!0;var i=t.id;if(-1===i){if(-1===(t.id=r.rootSegmentID))throw Error("A root segment ID must have been assigned by now. This is a bug in React.");return e0(e,n,t)}return e0(e,n,t),e=e.responseState,n.push(e.startInlineScript),e.sentCompleteSegmentFunction?n.push('$RS("'):(e.sentCompleteSegmentFunction=!0,n.push('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("')),n.push(e.segmentPrefix),i=i.toString(16),n.push(i),n.push('","'),n.push(e.placeholderPrefix),n.push(i),n.push('")</script>')}function e3(e,n){try{var r=e.completedRootSegment;if(null!==r&&0===e.pendingRootTasks){eZ(e,n,r),e.completedRootSegment=null;var t=e.responseState.bootstrapChunks;for(r=0;r<t.length-1;r++)n.push(t[r]);r<t.length&&n.push(t[r])}var i,s=e.clientRenderedBoundaries;for(i=0;i<s.length;i++){var l=s[i];t=n;var o=e.responseState,a=l.id,d=l.errorDigest,c=l.errorMessage,h=l.errorComponentStack;if(t.push(o.startInlineScript),o.sentClientRenderFunction?t.push('$RX("'):(o.sentClientRenderFunction=!0,t.push('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("')),null===a)throw Error("An ID must have been assigned before we can complete the boundary.");if(t.push(a),t.push('"'),d||c||h){t.push(",");var u=C(d||"");t.push(u)}if(c||h){t.push(",");var p=C(c||"");t.push(p)}if(h){t.push(",");var x=C(h);t.push(x)}if(!t.push(")</script>")){e.destination=null,i++,s.splice(0,i);return}}s.splice(0,i);var m=e.completedBoundaries;for(i=0;i<m.length;i++)if(!e2(e,n,m[i])){e.destination=null,i++,m.splice(0,i);return}m.splice(0,i);var f=e.partialBoundaries;for(i=0;i<f.length;i++){var j=f[i];e:{s=e,l=n;var g=j.completedSegments;for(o=0;o<g.length;o++)if(!e1(s,l,j,g[o])){o++,g.splice(0,o);var b=!1;break e}g.splice(0,o),b=!0}if(!b){e.destination=null,i++,f.splice(0,i);return}}f.splice(0,i);var v=e.completedBoundaries;for(i=0;i<v.length;i++)if(!e2(e,n,v[i])){e.destination=null,i++,v.splice(0,i);return}v.splice(0,i)}finally{0===e.allPendingTasks&&0===e.pingedTasks.length&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length&&n.push(null)}}function e4(e,n){if(1===e.status)e.status=2,n.destroy(e.fatalError);else if(2!==e.status&&null===e.destination){e.destination=n;try{e3(e,n)}catch(n){eL(e,n),eG(e,n)}}}function e8(e,n){try{var r=e.abortableTasks;r.forEach(function(r){return function e(n,r,t){var i=n.blockedBoundary;n.blockedSegment.status=3,null===i?(r.allPendingTasks--,2!==r.status&&(r.status=2,null!==r.destination&&r.destination.push(null))):(i.pendingTasks--,i.forceClientRender||(i.forceClientRender=!0,i.errorDigest=r.onError(void 0===t?Error("The render was aborted by the server without a reason."):t),i.parentFlushed&&r.clientRenderedBoundaries.push(i)),i.fallbackAbortableTasks.forEach(function(n){return e(n,r,t)}),i.fallbackAbortableTasks.clear(),r.allPendingTasks--,0===r.allPendingTasks&&(n=r.onAllReady)())}(r,e,n)}),r.clear(),null!==e.destination&&e3(e,e.destination)}catch(n){eL(e,n),eG(e,n)}}function e6(){}function e5(e,n,r,t){var i=!1,s=null,l="",o=!1;if(eQ(e=eD(e,M(r,n?n.identifierPrefix:void 0),O(),1/0,e6,void 0,function(){o=!0},void 0,void 0)),e8(e,t),e4(e,{push:function(e){return null!==e&&(l+=e),!0},destroy:function(e){i=!0,s=e}}),i)throw s;if(!o)throw Error("A component suspended while responding to synchronous input. This will cause the UI to be replaced with a loading indicator. To fix, updates that suspend should be wrapped with startTransition.");return l}var e9=function(e){function n(){var n=e.call(this,{})||this;return n.request=null,n.startedFlowing=!1,n}r=n,t=e,r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.__proto__=t;var r,t,i=n.prototype;return i._destroy=function(e,n){e8(this.request),n(e)},i._read=function(){this.startedFlowing&&e4(this.request,this)},n}(i.Readable);function e7(){}function ne(e,n){var r=new e9,t=eD(e,M(!1,n?n.identifierPrefix:void 0),O(),1/0,e7,function(){r.startedFlowing=!0,e4(t,r)},void 0,void 0);return r.request=t,eQ(t),r}n.renderToNodeStream=function(e,n){return ne(e,n)},n.renderToStaticMarkup=function(e,n){return e5(e,n,!0,'The server used "renderToStaticMarkup" which does not support Suspense. If you intended to have the server wait for the suspended component please switch to "renderToPipeableStream" which supports Suspense on the server')},n.renderToStaticNodeStream=function(e,n){return ne(e,n)},n.renderToString=function(e,n){return e5(e,n,!1,'The server used "renderToString" which does not support Suspense. If you intended for this Suspense boundary to render the fallback content on the server consider throwing an Error somewhere within the Suspense boundary. If you intended to have the server wait for the suspended component please switch to "renderToPipeableStream" which supports Suspense on the server')},n.version="18.2.0"},28656:function(e,n,r){"use strict";var t=r("15751"),i=r("6171"),s=null,l=0,o=!0;function a(e,n){if("string"==typeof n){if(0!==n.length){if(2048<3*n.length)0<l&&(d(e,s.subarray(0,l)),s=new Uint8Array(2048),l=0),d(e,u.encode(n));else{var r=s;0<l&&(r=s.subarray(l));var t=(r=u.encodeInto(n,r)).read;l+=r.written,t<n.length&&(d(e,s),s=new Uint8Array(2048),l=u.encodeInto(n.slice(t),s).written),2048===l&&(d(e,s),s=new Uint8Array(2048),l=0)}}}else 0!==n.byteLength&&(2048<n.byteLength?(0<l&&(d(e,s.subarray(0,l)),s=new Uint8Array(2048),l=0),d(e,n)):((r=s.length-l)<n.byteLength&&(0===r?d(e,s):(s.set(n.subarray(0,r),l),l+=r,d(e,s),n=n.subarray(r)),s=new Uint8Array(2048),l=0),s.set(n,l),2048===(l+=n.byteLength)&&(d(e,s),s=new Uint8Array(2048),l=0)))}function d(e,n){e=e.write(n),o=o&&e}function c(e,n){return a(e,n),o}function h(e){s&&0<l&&e.write(s.subarray(0,l)),s=null,l=0,o=!0}var u=new t.TextEncoder;function p(e){return u.encode(e)}var x=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},j={};function g(e){return!!x.call(j,e)||!x.call(f,e)&&(m.test(e)?j[e]=!0:(f[e]=!0,!1))}function b(e,n,r,t,i,s,l){this.acceptsBooleans=2===n||3===n||4===n,this.attributeName=t,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=n,this.sanitizeURL=s,this.removeEmptyString=l}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){v[e]=new b(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];v[n]=new b(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){v[e]=new b(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){v[e]=new b(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){v[e]=new b(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){v[e]=new b(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){v[e]=new b(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){v[e]=new b(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){v[e]=new b(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function w(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(y,w);v[n]=new b(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(y,w);v[n]=new b(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(y,w);v[n]=new b(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){v[e]=new b(e,1,!1,e.toLowerCase(),null,!1,!1)}),v.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){v[e]=new b(e,1,!1,e.toLowerCase(),null,!0,!0)});var S={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},k=["Webkit","ms","Moz","O"];Object.keys(S).forEach(function(e){k.forEach(function(n){S[n=n+e.charAt(0).toUpperCase()+e.substring(1)]=S[e]})});var _=/["'&<>]/;function P(e){if("boolean"==typeof e||"number"==typeof e)return""+e;e=""+e;var n=_.exec(e);if(n){var r,t="",i=0;for(r=n.index;r<e.length;r++){switch(e.charCodeAt(r)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#x27;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}i!==r&&(t+=e.substring(i,r)),i=r+1,t+=n}e=i!==r?t+e.substring(i,r):t}return e}var E=/([A-Z])/g,F=/^ms-/,N=Array.isArray,T=p("<script>"),R=p("</script>"),C=p('<script src="'),M=p('<script type="module" src="'),O=p('" async=""></script>'),I=/(<\/|<)(s)(cript)/gi;function A(e,n,r,t){return""+n+("s"===r?"\\u0073":"\\u0053")+t}function D(e,n){return{insertionMode:e,selectedValue:n}}var B=p("<!-- -->");function z(e,n,r,t){return""===n?t:(t&&e.push(B),e.push(P(n)),!0)}var L=new Map,G=p(' style="'),W=p(":"),U=p(";");function H(e,n,r){if("object"!=typeof r)throw Error("The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.");for(var t in n=!0,r)if(x.call(r,t)){var i=r[t];if(null!=i&&"boolean"!=typeof i&&""!==i){if(0===t.indexOf("--")){var s=P(t);i=P((""+i).trim())}else{s=t;var l=L.get(s);void 0!==l||(l=p(P(s.replace(E,"-$1").toLowerCase().replace(F,"-ms-"))),L.set(s,l)),s=l,i="number"==typeof i?0===i||x.call(S,t)?""+i:i+"px":P((""+i).trim())}n?(n=!1,e.push(G,s,W,i)):e.push(U,s,W,i)}}n||e.push(V)}var q=p(" "),X=p('="'),V=p('"'),$=p('=""');function J(e,n,r,t){switch(r){case"style":H(e,n,t);return;case"defaultValue":case"defaultChecked":case"innerHTML":case"suppressContentEditableWarning":case"suppressHydrationWarning":return}if(!(2<r.length)||"o"!==r[0]&&"O"!==r[0]||"n"!==r[1]&&"N"!==r[1]){if(null!==(n=v.hasOwnProperty(r)?v[r]:null)){switch(typeof t){case"function":case"symbol":return;case"boolean":if(!n.acceptsBooleans)return}switch(r=n.attributeName,n.type){case 3:t&&e.push(q,r,$);break;case 4:!0===t?e.push(q,r,$):!1!==t&&e.push(q,r,X,P(t),V);break;case 5:isNaN(t)||e.push(q,r,X,P(t),V);break;case 6:!isNaN(t)&&1<=t&&e.push(q,r,X,P(t),V);break;default:n.sanitizeURL&&(t=""+t),e.push(q,r,X,P(t),V)}}else if(g(r)){switch(typeof t){case"function":case"symbol":return;case"boolean":if("data-"!==(n=r.toLowerCase().slice(0,5))&&"aria-"!==n)return}e.push(q,r,X,P(t),V)}}}var Y=p(">"),Q=p("/>");function K(e,n,r){if(null!=n){if(null!=r)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");if("object"!=typeof n||!("__html"in n))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://reactjs.org/link/dangerously-set-inner-html for more information.");null!=(n=n.__html)&&e.push(""+n)}}var Z=p(' selected=""');function ee(e,n,r,t){e.push(ei(r));var i,s=r=null;for(i in n)if(x.call(n,i)){var l=n[i];if(null!=l)switch(i){case"children":r=l;break;case"dangerouslySetInnerHTML":s=l;break;default:J(e,t,i,l)}}return e.push(Y),K(e,s,r),"string"==typeof r?(e.push(P(r)),null):r}var en=p("\n"),er=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,et=new Map;function ei(e){var n=et.get(e);if(void 0===n){if(!er.test(e))throw Error("Invalid tag: "+e);n=p("<"+e),et.set(e,n)}return n}var es=p("<!DOCTYPE html>"),el=p("</"),eo=p(">"),ea=p('<template id="'),ed=p('"></template>'),ec=p("<!--$-->"),eh=p('<!--$?--><template id="'),eu=p('"></template>'),ep=p("<!--$!-->"),ex=p("<!--/$-->"),em=p("<template"),ef=p('"'),ej=p(' data-dgst="');p(' data-msg="'),p(' data-stck="');var eg=p("></template>");function eb(e,n,r){if(a(e,eh),null===r)throw Error("An ID must have been assigned before we can complete the boundary.");return a(e,r),c(e,eu)}var ev=p('<div hidden id="'),ey=p('">'),ew=p("</div>"),eS=p('<svg aria-hidden="true" style="display:none" id="'),ek=p('">'),e_=p("</svg>"),eP=p('<math aria-hidden="true" style="display:none" id="'),eE=p('">'),eF=p("</math>"),eN=p('<table hidden id="'),eT=p('">'),eR=p("</table>"),eC=p('<table hidden><tbody id="'),eM=p('">'),eO=p("</tbody></table>"),eI=p('<table hidden><tr id="'),eA=p('">'),eD=p("</tr></table>"),eB=p('<table hidden><colgroup id="'),ez=p('">'),eL=p("</colgroup></table>"),eG=p('function $RS(a,b){a=document.getElementById(a);b=document.getElementById(b);for(a.parentNode.removeChild(a);a.firstChild;)b.parentNode.insertBefore(a.firstChild,b);b.parentNode.removeChild(b)};$RS("'),eW=p('$RS("'),eU=p('","'),eH=p('")</script>'),eq=p('function $RC(a,b){a=document.getElementById(a);b=document.getElementById(b);b.parentNode.removeChild(b);if(a){a=a.previousSibling;var f=a.parentNode,c=a.nextSibling,e=0;do{if(c&&8===c.nodeType){var d=c.data;if("/$"===d)if(0===e)break;else e--;else"$"!==d&&"$?"!==d&&"$!"!==d||e++}d=c.nextSibling;f.removeChild(c);c=d}while(c);for(;b.firstChild;)f.insertBefore(b.firstChild,c);a.data="$";a._reactRetry&&a._reactRetry()}};$RC("'),eX=p('$RC("'),eV=p('","'),e$=p('")</script>'),eJ=p('function $RX(b,c,d,e){var a=document.getElementById(b);a&&(b=a.previousSibling,b.data="$!",a=a.dataset,c&&(a.dgst=c),d&&(a.msg=d),e&&(a.stck=e),b._reactRetry&&b._reactRetry())};$RX("'),eY=p('$RX("'),eQ=p('"'),eK=p(")</script>"),eZ=p(","),e0=/[<\u2028\u2029]/g;function e2(e){return JSON.stringify(e).replace(e0,function(e){switch(e){case"<":return"\\u003c";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:throw Error("escapeJSStringsForInstructionScripts encountered a match it does not know how to replace. this means the match regex and the replacement characters are no longer in sync. This is a bug in React")}})}var e1=Object.assign,e3=Symbol.for("react.element"),e4=Symbol.for("react.portal"),e8=Symbol.for("react.fragment"),e6=Symbol.for("react.strict_mode"),e5=Symbol.for("react.profiler"),e9=Symbol.for("react.provider"),e7=Symbol.for("react.context"),ne=Symbol.for("react.forward_ref"),nn=Symbol.for("react.suspense"),nr=Symbol.for("react.suspense_list"),nt=Symbol.for("react.memo"),ni=Symbol.for("react.lazy"),ns=Symbol.for("react.scope"),nl=Symbol.for("react.debug_trace_mode"),no=Symbol.for("react.legacy_hidden"),na=Symbol.for("react.default_value"),nd=Symbol.iterator,nc={};function nh(e,n){if(!(e=e.contextTypes))return nc;var r,t={};for(r in e)t[r]=n[r];return t}var nu=null;function np(e,n){if(e!==n){e.context._currentValue=e.parentValue,e=e.parent;var r=n.parent;if(null===e){if(null!==r)throw Error("The stacks must reach the root at the same time. This is a bug in React.")}else{if(null===r)throw Error("The stacks must reach the root at the same time. This is a bug in React.");np(e,r)}n.context._currentValue=n.value}}function nx(e){var n=nu;n!==e&&(null===n?function e(n){var r=n.parent;null!==r&&e(r),n.context._currentValue=n.value}(e):null===e?function e(n){n.context._currentValue=n.parentValue,null!==(n=n.parent)&&e(n)}(n):n.depth===e.depth?np(n,e):n.depth>e.depth?function e(n,r){if(n.context._currentValue=n.parentValue,null===(n=n.parent))throw Error("The depth must equal at least at zero before reaching the root. This is a bug in React.");n.depth===r.depth?np(n,r):e(n,r)}(n,e):function e(n,r){var t=r.parent;if(null===t)throw Error("The depth must equal at least at zero before reaching the root. This is a bug in React.");n.depth===t.depth?np(n,t):e(n,t),r.context._currentValue=r.value}(n,e),nu=e)}var nm={isMounted:function(){return!1},enqueueSetState:function(e,n){null!==(e=e._reactInternals).queue&&e.queue.push(n)},enqueueReplaceState:function(e,n){(e=e._reactInternals).replace=!0,e.queue=[n]},enqueueForceUpdate:function(){}};function nf(e,n,r,t){var i=void 0!==e.state?e.state:null;e.updater=nm,e.props=r,e.state=i;var s={queue:[],replace:!1};e._reactInternals=s;var l=n.contextType;if(e.context="object"==typeof l&&null!==l?l._currentValue:t,"function"==typeof(l=n.getDerivedStateFromProps)&&(i=null==(l=l(r,i))?i:e1({},i,l),e.state=i),"function"!=typeof n.getDerivedStateFromProps&&"function"!=typeof e.getSnapshotBeforeUpdate&&("function"==typeof e.UNSAFE_componentWillMount||"function"==typeof e.componentWillMount)){if(n=e.state,"function"==typeof e.componentWillMount&&e.componentWillMount(),"function"==typeof e.UNSAFE_componentWillMount&&e.UNSAFE_componentWillMount(),n!==e.state&&nm.enqueueReplaceState(e,e.state,null),null!==s.queue&&0<s.queue.length){if(n=s.queue,l=s.replace,s.queue=null,s.replace=!1,l&&1===n.length)e.state=n[0];else{for(s=l?n[0]:e.state,i=!0,l=l?1:0;l<n.length;l++){var o=n[l];null!=(o="function"==typeof o?o.call(e,s,r,t):o)&&(i?(i=!1,s=e1({},s,o)):e1(s,o))}e.state=s}}else s.queue=null}}var nj={id:1,overflow:""};function ng(e,n,r){var t=e.id;e=e.overflow;var i=32-nb(t)-1;t&=~(1<<i),r+=1;var s=32-nb(n)+i;if(30<s){var l=i-i%5;return s=(t&(1<<l)-1).toString(32),t>>=l,i-=l,{id:1<<32-nb(n)+i|r<<i|t,overflow:s+e}}return{id:1<<s|r<<i|t,overflow:e}}var nb=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(nv(e)/ny|0)|0},nv=Math.log,ny=Math.LN2,nw="function"==typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n},nS=null,nk=null,n_=null,nP=null,nE=!1,nF=!1,nN=0,nT=null,nR=0;function nC(){if(null===nS)throw Error("Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:\n1. You might have mismatching versions of React and the renderer (such as React DOM)\n2. You might be breaking the Rules of Hooks\n3. You might have more than one copy of React in the same app\nSee https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.");return nS}function nM(){if(0<nR)throw Error("Rendered more hooks than during the previous render");return{memoizedState:null,queue:null,next:null}}function nO(){return null===nP?null===n_?(nE=!1,n_=nP=nM()):(nE=!0,nP=n_):null===nP.next?(nE=!1,nP=nP.next=nM()):(nE=!0,nP=nP.next),nP}function nI(){nk=nS=null,nF=!1,n_=null,nR=0,nP=nT=null}function nA(e,n){return"function"==typeof n?n(e):n}function nD(e,n,r){if(nS=nC(),nP=nO(),nE){var t=nP.queue;if(n=t.dispatch,null!==nT&&void 0!==(r=nT.get(t))){nT.delete(t),t=nP.memoizedState;do t=e(t,r.action),r=r.next;while(null!==r);return nP.memoizedState=t,[t,n]}return[nP.memoizedState,n]}return e=e===nA?"function"==typeof n?n():n:void 0!==r?r(n):n,nP.memoizedState=e,e=(e=nP.queue={last:null,dispatch:null}).dispatch=nz.bind(null,nS,e),[nP.memoizedState,e]}function nB(e,n){if(nS=nC(),nP=nO(),n=void 0===n?null:n,null!==nP){var r=nP.memoizedState;if(null!==r&&null!==n){var t=r[1];e:if(null===t)t=!1;else{for(var i=0;i<t.length&&i<n.length;i++)if(!nw(n[i],t[i])){t=!1;break e}t=!0}if(t)return r[0]}}return e=e(),nP.memoizedState=[e,n],e}function nz(e,n,r){if(25<=nR)throw Error("Too many re-renders. React limits the number of renders to prevent an infinite loop.");if(e===nS){if(nF=!0,e={action:r,next:null},null===nT&&(nT=new Map),void 0===(r=nT.get(n)))nT.set(n,e);else{for(n=r;null!==n.next;)n=n.next;n.next=e}}}function nL(){throw Error("startTransition cannot be called during server rendering.")}function nG(){}var nW={readContext:function(e){return e._currentValue},useContext:function(e){return nC(),e._currentValue},useMemo:nB,useReducer:nD,useRef:function(e){nS=nC();var n=(nP=nO()).memoizedState;return null===n?(e={current:e},nP.memoizedState=e):n},useState:function(e){return nD(nA,e)},useInsertionEffect:nG,useLayoutEffect:function(){},useCallback:function(e,n){return nB(function(){return e},n)},useImperativeHandle:nG,useEffect:nG,useDebugValue:nG,useDeferredValue:function(e){return nC(),e},useTransition:function(){return nC(),[!1,nL]},useId:function(){var e=nk.treeContext,n=e.overflow;e=((e=e.id)&~(1<<32-nb(e)-1)).toString(32)+n;var r=nU;if(null===r)throw Error("Invalid hook call. Hooks can only be called inside of the body of a function component.");return n=nN++,e=":"+r.idPrefix+"R"+e,0<n&&(e+="H"+n.toString(32)),e+":"},useMutableSource:function(e,n){return nC(),n(e._source)},useSyncExternalStore:function(e,n,r){if(void 0===r)throw Error("Missing getServerSnapshot, which is required for server-rendered content. Will revert to client rendering.");return r()}},nU=null,nH=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher;function nq(e){return console.error(e),null}function nX(){}function nV(e,n,r,t,i,s,l,o){e.allPendingTasks++,null===r?e.pendingRootTasks++:r.pendingTasks++;var a={node:n,ping:function(){var n,r,t;return n=e,r=a,t=n.pingedTasks,void(t.push(r),1===t.length&&setImmediate(function(){return n6(n)}))},blockedBoundary:r,blockedSegment:t,abortSet:i,legacyContext:s,context:l,treeContext:o};return i.add(a),a}function n$(e,n,r,t,i,s){return{status:0,id:-1,index:n,parentFlushed:!1,chunks:[],children:[],formatContext:t,boundary:r,lastPushedText:i,textEmbedded:s}}function nJ(e,n){if(null!=(e=e.onError(n))&&"string"!=typeof e)throw Error('onError returned something with a type other than "string". onError should return a string and may return null or undefined but must not return anything else. It received something of type "'+typeof e+'" instead');return e}function nY(e,n){var r=e.onShellError;r(n),(r=e.onFatalError)(n),null!==e.destination?(e.status=2,e.destination.destroy(n)):(e.status=1,e.fatalError=n)}function nQ(e,n,r,t,i){for(nS={},nk=n,nN=0,e=r(t,i);nF;)nF=!1,nN=0,nR+=1,nP=null,e=r(t,i);return nI(),e}function nK(e,n,r,t){var i=r.render(),s=t.childContextTypes;if(null!=s){var l=n.legacyContext;if("function"!=typeof r.getChildContext)t=l;else{for(var o in r=r.getChildContext())if(!(o in s))throw Error((function e(n){if(null==n)return null;if("function"==typeof n)return n.displayName||n.name||null;if("string"==typeof n)return n;switch(n){case e8:return"Fragment";case e4:return"Portal";case e5:return"Profiler";case e6:return"StrictMode";case nn:return"Suspense";case nr:return"SuspenseList"}if("object"==typeof n)switch(n.$$typeof){case e7:return(n.displayName||"Context")+".Consumer";case e9:return(n._context.displayName||"Context")+".Provider";case ne:var r=n.render;return(n=n.displayName)||(n=""!==(n=r.displayName||r.name||"")?"ForwardRef("+n+")":"ForwardRef"),n;case nt:return null!==(r=n.displayName||null)?r:e(n.type)||"Memo";case ni:r=n._payload,n=n._init;try{return e(n(r))}catch(e){}}return null}(t)||"Unknown")+'.getChildContext(): key "'+o+'" is not defined in childContextTypes.');t=e1({},l,r)}n.legacyContext=t,n0(e,n,i),n.legacyContext=l}else n0(e,n,i)}function nZ(e,n){if(e&&e.defaultProps)for(var r in n=e1({},n),e=e.defaultProps)void 0===n[r]&&(n[r]=e[r]);return n}function n0(e,n,r){if(n.node=r,"object"==typeof r&&null!==r){switch(r.$$typeof){case e3:!function e(n,r,t,s,l){if("function"==typeof t){if(t.prototype&&t.prototype.isReactComponent){l=nh(t,r.legacyContext);var o=t.contextType;nf(o=new t(s,"object"==typeof o&&null!==o?o._currentValue:l),t,s,l),nK(n,r,o,t)}else{o=nh(t,r.legacyContext),l=nQ(n,r,t,s,o);var a=0!==nN;if("object"==typeof l&&null!==l&&"function"==typeof l.render&&void 0===l.$$typeof)nf(l,t,s,o),nK(n,r,l,t);else if(a){s=r.treeContext,r.treeContext=ng(s,1,0);try{n0(n,r,l)}finally{r.treeContext=s}}else n0(n,r,l)}}else if("string"==typeof t){switch(o=function(e,n,r,t,s){switch(n){case"select":e.push(ei("select"));var l=null,o=null;for(p in r)if(x.call(r,p)){var a=r[p];if(null!=a)switch(p){case"children":l=a;break;case"dangerouslySetInnerHTML":o=a;break;case"defaultValue":case"value":break;default:J(e,t,p,a)}}return e.push(Y),K(e,o,l),l;case"option":o=s.selectedValue,e.push(ei("option"));var d,c,h=a=null,u=null,p=null;for(l in r)if(x.call(r,l)){var m=r[l];if(null!=m)switch(l){case"children":a=m;break;case"selected":u=m;break;case"dangerouslySetInnerHTML":p=m;break;case"value":h=m;default:J(e,t,l,m)}}if(null!=o){;if(r=null!==h?""+h:(d=a,c="",i.Children.forEach(d,function(e){null!=e&&(c+=e)}),c),N(o)){for(t=0;t<o.length;t++)if(""+o[t]===r){e.push(Z);break}}else""+o===r&&e.push(Z)}else u&&e.push(Z);return e.push(Y),K(e,p,a),a;case"textarea":for(a in e.push(ei("textarea")),p=o=l=null,r)if(x.call(r,a)&&null!=(h=r[a]))switch(a){case"children":p=h;break;case"value":l=h;break;case"defaultValue":o=h;break;case"dangerouslySetInnerHTML":throw Error("`dangerouslySetInnerHTML` does not make sense on <textarea>.");default:J(e,t,a,h)}if(null===l&&null!==o&&(l=o),e.push(Y),null!=p){if(null!=l)throw Error("If you supply `defaultValue` on a <textarea>, do not pass children.");if(N(p)&&1<p.length)throw Error("<textarea> can only have at most one child.");l=""+p}return"string"==typeof l&&"\n"===l[0]&&e.push(en),null!==l&&e.push(P(""+l)),null;case"input":for(o in e.push(ei("input")),h=p=a=l=null,r)if(x.call(r,o)&&null!=(u=r[o]))switch(o){case"children":case"dangerouslySetInnerHTML":throw Error("input is a self-closing tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");case"defaultChecked":h=u;break;case"defaultValue":a=u;break;case"checked":p=u;break;case"value":l=u;break;default:J(e,t,o,u)}return null!==p?J(e,t,"checked",p):null!==h&&J(e,t,"checked",h),null!==l?J(e,t,"value",l):null!==a&&J(e,t,"value",a),e.push(Q),null;case"menuitem":for(var f in e.push(ei("menuitem")),r)if(x.call(r,f)&&null!=(l=r[f]))switch(f){case"children":case"dangerouslySetInnerHTML":throw Error("menuitems cannot have `children` nor `dangerouslySetInnerHTML`.");default:J(e,t,f,l)}return e.push(Y),null;case"title":for(m in e.push(ei("title")),l=null,r)if(x.call(r,m)&&null!=(o=r[m]))switch(m){case"children":l=o;break;case"dangerouslySetInnerHTML":throw Error("`dangerouslySetInnerHTML` does not make sense on <title>.");default:J(e,t,m,o)}return e.push(Y),l;case"listing":case"pre":for(h in e.push(ei(n)),o=l=null,r)if(x.call(r,h)&&null!=(a=r[h]))switch(h){case"children":l=a;break;case"dangerouslySetInnerHTML":o=a;break;default:J(e,t,h,a)}if(e.push(Y),null!=o){if(null!=l)throw Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");if("object"!=typeof o||!("__html"in o))throw Error("`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://reactjs.org/link/dangerously-set-inner-html for more information.");null!=(r=o.__html)&&("string"==typeof r&&0<r.length&&"\n"===r[0]?e.push(en,r):e.push(""+r))}return"string"==typeof l&&"\n"===l[0]&&e.push(en),l;case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":for(var j in e.push(ei(n)),r)if(x.call(r,j)&&null!=(l=r[j]))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(n+" is a self-closing tag and must neither have `children` nor use `dangerouslySetInnerHTML`.");default:J(e,t,j,l)}return e.push(Q),null;case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return ee(e,r,n,t);case"html":return 0===s.insertionMode&&e.push(es),ee(e,r,n,t);default:if(-1===n.indexOf("-")&&"string"!=typeof r.is)return ee(e,r,n,t);for(u in e.push(ei(n)),o=l=null,r)if(x.call(r,u)&&null!=(a=r[u]))switch(u){case"children":l=a;break;case"dangerouslySetInnerHTML":o=a;break;case"style":H(e,t,a);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":break;default:g(u)&&"function"!=typeof a&&"symbol"!=typeof a&&e.push(q,u,X,P(a),V)}return e.push(Y),K(e,o,l),l}}((l=r.blockedSegment).chunks,t,s,n.responseState,l.formatContext),l.lastPushedText=!1,a=l.formatContext,l.formatContext=function(e,n,r){switch(n){case"select":return D(1,null!=r.value?r.value:r.defaultValue);case"svg":return D(2,null);case"math":return D(3,null);case"foreignObject":return D(1,null);case"table":return D(4,null);case"thead":case"tbody":case"tfoot":return D(5,null);case"colgroup":return D(7,null);case"tr":return D(6,null)}return 4<=e.insertionMode||0===e.insertionMode?D(1,null):e}(a,t,s),n1(n,r,o),l.formatContext=a,t){case"area":case"base":case"br":case"col":case"embed":case"hr":case"img":case"input":case"keygen":case"link":case"meta":case"param":case"source":case"track":case"wbr":break;default:l.chunks.push(el,t,eo)}l.lastPushedText=!1}else{switch(t){case no:case nl:case e6:case e5:case e8:case nr:n0(n,r,s.children);return;case ns:throw Error("ReactDOMServer does not yet support scope components.");case nn:e:{t=r.blockedBoundary,l=r.blockedSegment,o=s.fallback,s=s.children;var d={id:null,rootSegmentID:-1,parentFlushed:!1,pendingTasks:0,forceClientRender:!1,completedSegments:[],byteSize:0,fallbackAbortableTasks:a=new Set,errorDigest:null},c=n$(n,l.chunks.length,d,l.formatContext,!1,!1);l.children.push(c),l.lastPushedText=!1;var h=n$(n,0,null,l.formatContext,!1,!1);h.parentFlushed=!0,r.blockedBoundary=d,r.blockedSegment=h;try{if(n1(n,r,s),h.lastPushedText&&h.textEmbedded&&h.chunks.push(B),h.status=1,n4(d,h),0===d.pendingTasks)break e}catch(e){h.status=4,d.forceClientRender=!0,d.errorDigest=nJ(n,e)}finally{r.blockedBoundary=t,r.blockedSegment=l}r=nV(n,o,t,c,a,r.legacyContext,r.context,r.treeContext),n.pingedTasks.push(r)}return}if("object"==typeof t&&null!==t)switch(t.$$typeof){case ne:if(s=nQ(n,r,t.render,s,l),0!==nN){t=r.treeContext,r.treeContext=ng(t,1,0);try{n0(n,r,s)}finally{r.treeContext=t}}else n0(n,r,s);return;case nt:s=nZ(t=t.type,s),e(n,r,t,s,l);return;case e9:if(l=s.children,t=t._context,s=s.value,o=t._currentValue,t._currentValue=s,nu=s={parent:a=nu,depth:null===a?0:a.depth+1,context:t,parentValue:o,value:s},r.context=s,n0(n,r,l),null===(n=nu))throw Error("Tried to pop a Context at the root of the app. This is a bug in React.");s=n.parentValue,n.context._currentValue=s===na?n.context._defaultValue:s,n=nu=n.parent,r.context=n;return;case e7:s=(s=s.children)(t._currentValue),n0(n,r,s);return;case ni:s=nZ(t=(l=t._init)(t._payload),s),e(n,r,t,s,void 0);return}throw Error("Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: "+(null==t?t:typeof t)+".")}}(e,n,r.type,r.props,r.ref);return;case e4:throw Error("Portals are not currently supported by the server renderer. Render them conditionally so that they only appear on the client render.");case ni:var t=r._init;n0(e,n,r=t(r._payload));return}if(N(r)){n2(e,n,r);return}if((t=null===r||"object"!=typeof r?null:"function"==typeof(t=nd&&r[nd]||r["@@iterator"])?t:null)&&(t=t.call(r))){if(!(r=t.next()).done){var s=[];do s.push(r.value),r=t.next();while(!r.done);n2(e,n,s)}return}throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(e=Object.prototype.toString.call(r))?"object with keys {"+Object.keys(r).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}"string"==typeof r?(t=n.blockedSegment).lastPushedText=z(n.blockedSegment.chunks,r,e.responseState,t.lastPushedText):"number"==typeof r&&((t=n.blockedSegment).lastPushedText=z(n.blockedSegment.chunks,""+r,e.responseState,t.lastPushedText))}function n2(e,n,r){for(var t=r.length,i=0;i<t;i++){var s=n.treeContext;n.treeContext=ng(s,t,i);try{n1(e,n,r[i])}finally{n.treeContext=s}}}function n1(e,n,r){var t=n.blockedSegment.formatContext,i=n.legacyContext,s=n.context;try{return n0(e,n,r)}catch(a){if(nI(),"object"==typeof a&&null!==a&&"function"==typeof a.then){r=a;var l=n.blockedSegment,o=n$(e,l.chunks.length,null,l.formatContext,l.lastPushedText,!0);l.children.push(o),l.lastPushedText=!1,e=nV(e,n.node,n.blockedBoundary,o,n.abortSet,n.legacyContext,n.context,n.treeContext).ping,r.then(e,e),n.blockedSegment.formatContext=t,n.legacyContext=i,n.context=s,nx(s)}else throw n.blockedSegment.formatContext=t,n.legacyContext=i,n.context=s,nx(s),a}}function n3(e){var n=e.blockedBoundary;(e=e.blockedSegment).status=3,n8(this,n,e)}function n4(e,n){if(0===n.chunks.length&&1===n.children.length&&null===n.children[0].boundary){var r=n.children[0];r.id=n.id,r.parentFlushed=!0,1===r.status&&n4(e,r)}else e.completedSegments.push(n)}function n8(e,n,r){if(null===n){if(r.parentFlushed){if(null!==e.completedRootSegment)throw Error("There can only be one root segment. This is a bug in React.");e.completedRootSegment=r}e.pendingRootTasks--,0===e.pendingRootTasks&&(e.onShellError=nX,(n=e.onShellReady)())}else n.pendingTasks--,n.forceClientRender||(0===n.pendingTasks?(r.parentFlushed&&1===r.status&&n4(n,r),n.parentFlushed&&e.completedBoundaries.push(n),n.fallbackAbortableTasks.forEach(n3,e),n.fallbackAbortableTasks.clear()):r.parentFlushed&&1===r.status&&(n4(n,r),1===n.completedSegments.length&&n.parentFlushed&&e.partialBoundaries.push(n)));e.allPendingTasks--,0===e.allPendingTasks&&(e=e.onAllReady)()}function n6(e){if(2!==e.status){var n=nu,r=nH.current;nH.current=nW;var t=nU;nU=e.responseState;try{var i,s=e.pingedTasks;for(i=0;i<s.length;i++){var l=s[i],o=l.blockedSegment;if(0===o.status){nx(l.context);try{n0(e,l,l.node),o.lastPushedText&&o.textEmbedded&&o.chunks.push(B),l.abortSet.delete(l),o.status=1,n8(e,l.blockedBoundary,o)}catch(n){if(nI(),"object"==typeof n&&null!==n&&"function"==typeof n.then){var a=l.ping;n.then(a,a)}else{l.abortSet.delete(l),o.status=4;var d=l.blockedBoundary,c=nJ(e,n);null===d?nY(e,n):(d.pendingTasks--,d.forceClientRender||(d.forceClientRender=!0,d.errorDigest=c,d.parentFlushed&&e.clientRenderedBoundaries.push(d))),e.allPendingTasks--,0===e.allPendingTasks&&(0,e.onAllReady)()}}finally{}}}s.splice(0,i),null!==e.destination&&rr(e,e.destination)}catch(n){nJ(e,n),nY(e,n)}finally{nU=t,nH.current=r,r===nW&&nx(n)}}}function n5(e,n,r){switch(r.parentFlushed=!0,r.status){case 0:var t=r.id=e.nextSegmentId++;return r.lastPushedText=!1,r.textEmbedded=!1,e=e.responseState,a(n,ea),a(n,e.placeholderPrefix),a(n,e=t.toString(16)),c(n,ed);case 1:r.status=2;var i=!0;t=r.chunks;var s=0;r=r.children;for(var l=0;l<r.length;l++){for(i=r[l];s<i.index;s++)a(n,t[s]);i=n9(e,n,i)}for(;s<t.length-1;s++)a(n,t[s]);return s<t.length&&(i=c(n,t[s])),i;default:throw Error("Aborted, errored or already flushed boundaries should not be flushed again. This is a bug in React.")}}function n9(e,n,r){var t=r.boundary;if(null===t)return n5(e,n,r);if(t.parentFlushed=!0,t.forceClientRender)t=t.errorDigest,c(n,ep),a(n,em),t&&(a(n,ej),a(n,P(t)),a(n,ef)),c(n,eg),n5(e,n,r);else if(0<t.pendingTasks){t.rootSegmentID=e.nextSegmentId++,0<t.completedSegments.length&&e.partialBoundaries.push(t);var i=e.responseState,s=i.nextSuspenseID++;i=p(i.boundaryPrefix+s.toString(16)),t=t.id=i,eb(n,e.responseState,t),n5(e,n,r)}else if(t.byteSize>e.progressiveChunkSize)t.rootSegmentID=e.nextSegmentId++,e.completedBoundaries.push(t),eb(n,e.responseState,t.id),n5(e,n,r);else{if(c(n,ec),1!==(r=t.completedSegments).length)throw Error("A previously unvisited boundary must have exactly one root segment. This is a bug in React.");n9(e,n,r[0])}return c(n,ex)}function n7(e,n,r){return!function(e,n,r,t){switch(r.insertionMode){case 0:case 1:return a(e,ev),a(e,n.segmentPrefix),a(e,t.toString(16)),c(e,ey);case 2:return a(e,eS),a(e,n.segmentPrefix),a(e,t.toString(16)),c(e,ek);case 3:return a(e,eP),a(e,n.segmentPrefix),a(e,t.toString(16)),c(e,eE);case 4:return a(e,eN),a(e,n.segmentPrefix),a(e,t.toString(16)),c(e,eT);case 5:return a(e,eC),a(e,n.segmentPrefix),a(e,t.toString(16)),c(e,eM);case 6:return a(e,eI),a(e,n.segmentPrefix),a(e,t.toString(16)),c(e,eA);case 7:return a(e,eB),a(e,n.segmentPrefix),a(e,t.toString(16)),c(e,ez);default:throw Error("Unknown insertion mode. This is a bug in React.")}}(n,e.responseState,r.formatContext,r.id),n9(e,n,r),function(e,n){switch(n.insertionMode){case 0:case 1:return c(e,ew);case 2:return c(e,e_);case 3:return c(e,eF);case 4:return c(e,eR);case 5:return c(e,eO);case 6:return c(e,eD);case 7:return c(e,eL);default:throw Error("Unknown insertion mode. This is a bug in React.")}}(n,r.formatContext)}function re(e,n,r){for(var t=r.completedSegments,i=0;i<t.length;i++)rn(e,n,r,t[i]);if(t.length=0,e=e.responseState,t=r.id,r=r.rootSegmentID,a(n,e.startInlineScript),e.sentCompleteBoundaryFunction?a(n,eX):(e.sentCompleteBoundaryFunction=!0,a(n,eq)),null===t)throw Error("An ID must have been assigned before we can complete the boundary.");return r=r.toString(16),a(n,t),a(n,eV),a(n,e.segmentPrefix),a(n,r),c(n,e$)}function rn(e,n,r,t){if(2===t.status)return!0;var i=t.id;if(-1===i){if(-1===(t.id=r.rootSegmentID))throw Error("A root segment ID must have been assigned by now. This is a bug in React.");return n7(e,n,t)}return n7(e,n,t),a(n,(e=e.responseState).startInlineScript),e.sentCompleteSegmentFunction?a(n,eW):(e.sentCompleteSegmentFunction=!0,a(n,eG)),a(n,e.segmentPrefix),a(n,i=i.toString(16)),a(n,eU),a(n,e.placeholderPrefix),a(n,i),c(n,eH)}function rr(e,n){s=new Uint8Array(2048),l=0,o=!0;try{var r=e.completedRootSegment;if(null!==r&&0===e.pendingRootTasks){n9(e,n,r),e.completedRootSegment=null;var t=e.responseState.bootstrapChunks;for(r=0;r<t.length-1;r++)a(n,t[r]);r<t.length&&c(n,t[r])}var i,d=e.clientRenderedBoundaries;for(i=0;i<d.length;i++){var u=d[i];t=n;var p=e.responseState,x=u.id,m=u.errorDigest,f=u.errorMessage,j=u.errorComponentStack;if(a(t,p.startInlineScript),p.sentClientRenderFunction?a(t,eY):(p.sentClientRenderFunction=!0,a(t,eJ)),null===x)throw Error("An ID must have been assigned before we can complete the boundary.");if(a(t,x),a(t,eQ),(m||f||j)&&(a(t,eZ),a(t,e2(m||""))),(f||j)&&(a(t,eZ),a(t,e2(f||""))),j&&(a(t,eZ),a(t,e2(j))),!c(t,eK)){e.destination=null,i++,d.splice(0,i);return}}d.splice(0,i);var g=e.completedBoundaries;for(i=0;i<g.length;i++)if(!re(e,n,g[i])){e.destination=null,i++,g.splice(0,i);return}g.splice(0,i),h(n),s=new Uint8Array(2048),l=0,o=!0;var b=e.partialBoundaries;for(i=0;i<b.length;i++){var v=b[i];e:{d=e,u=n;var y=v.completedSegments;for(p=0;p<y.length;p++)if(!rn(d,u,v,y[p])){p++,y.splice(0,p);var w=!1;break e}y.splice(0,p),w=!0}if(!w){e.destination=null,i++,b.splice(0,i);return}}b.splice(0,i);var S=e.completedBoundaries;for(i=0;i<S.length;i++)if(!re(e,n,S[i])){e.destination=null,i++,S.splice(0,i);return}S.splice(0,i)}finally{h(n),"function"==typeof n.flush&&n.flush(),0===e.allPendingTasks&&0===e.pingedTasks.length&&0===e.clientRenderedBoundaries.length&&0===e.completedBoundaries.length&&n.end()}}function rt(e,n){if(1===e.status)e.status=2,n.destroy(e.fatalError);else if(2!==e.status&&null===e.destination){e.destination=n;try{rr(e,n)}catch(n){nJ(e,n),nY(e,n)}}}function ri(e,n){try{var r=e.abortableTasks;r.forEach(function(r){return function e(n,r,t){var i=n.blockedBoundary;n.blockedSegment.status=3,null===i?(r.allPendingTasks--,2!==r.status&&(r.status=2,null!==r.destination&&r.destination.end())):(i.pendingTasks--,i.forceClientRender||(i.forceClientRender=!0,i.errorDigest=r.onError(void 0===t?Error("The render was aborted by the server without a reason."):t),i.parentFlushed&&r.clientRenderedBoundaries.push(i)),i.fallbackAbortableTasks.forEach(function(n){return e(n,r,t)}),i.fallbackAbortableTasks.clear(),r.allPendingTasks--,0===r.allPendingTasks&&(n=r.onAllReady)())}(r,e,n)}),r.clear(),null!==e.destination&&rr(e,e.destination)}catch(n){nJ(e,n),nY(e,n)}}function rs(e,n){return function(){return ri(e,n)}}n.renderToPipeableStream=function(e,n){var r,t=function(e,n){var r=n?n.identifierPrefix:void 0,t=n?n.nonce:void 0,i=n?n.bootstrapScriptContent:void 0,s=n?n.bootstrapScripts:void 0,l=n?n.bootstrapModules:void 0;r=void 0===r?"":r,t=void 0===t?T:p('<script nonce="'+P(t)+'">');var o=[];if(void 0!==i&&o.push(t,(""+i).replace(I,A),R),void 0!==s)for(i=0;i<s.length;i++)o.push(C,P(s[i]),O);if(void 0!==l)for(s=0;s<l.length;s++)o.push(M,P(l[s]),O);l={bootstrapChunks:o,startInlineScript:t,placeholderPrefix:p(r+"P:"),segmentPrefix:p(r+"S:"),boundaryPrefix:r+"B:",idPrefix:r,nextSuspenseID:0,sentCompleteSegmentFunction:!1,sentCompleteBoundaryFunction:!1,sentClientRenderFunction:!1},s=D("http://www.w3.org/2000/svg"===(s=n?n.namespaceURI:void 0)?2:"http://www.w3.org/1998/Math/MathML"===s?3:0,null),i=n?n.progressiveChunkSize:void 0,t=n?n.onError:void 0,o=n?n.onAllReady:void 0;var a=n?n.onShellReady:void 0,d=n?n.onShellError:void 0;return n=[],(s=n$(l={destination:null,responseState:l,progressiveChunkSize:void 0===i?12800:i,status:0,fatalError:null,nextSegmentId:0,allPendingTasks:0,pendingRootTasks:0,completedRootSegment:null,abortableTasks:r=new Set,pingedTasks:n,clientRenderedBoundaries:[],completedBoundaries:[],partialBoundaries:[],onError:void 0===t?nq:t,onAllReady:void 0===o?nX:o,onShellReady:void 0===a?nX:a,onShellError:void 0===d?nX:d,onFatalError:nX},0,null,s,!1,!1)).parentFlushed=!0,e=nV(l,e,null,s,r,nc,null,nj),n.push(e),l}(e,n),i=!1;return r=t,setImmediate(function(){return n6(r)}),{pipe:function(e){var n,r;if(i)throw Error("React currently only supports piping to one writable stream.");return i=!0,rt(t,e),e.on("drain",(n=e,r=t,function(){return rt(r,n)})),e.on("error",rs(t,Error("The destination stream errored while writing data."))),e.on("close",rs(t,Error("The destination stream closed early."))),e},abort:function(e){ri(t,e)}}},n.version="18.2.0"},63703:function(e,n,r){"use strict";var t,i,s,l,o,a,d=r("6171"),c=r("10406");function h(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var u=new Set,p={};function x(e,n){m(e,n),m(e+"Capture",n)}function m(e,n){for(p[e]=n,e=0;e<n.length;e++)u.add(n[e])}var f=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),j=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,b={},v={};function y(e,n,r,t,i,s,l){this.acceptsBooleans=2===n||3===n||4===n,this.attributeName=t,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=n,this.sanitizeURL=s,this.removeEmptyString=l}var w={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){w[e]=new y(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];w[n]=new y(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){w[e]=new y(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){w[e]=new y(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){w[e]=new y(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){w[e]=new y(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){w[e]=new y(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){w[e]=new y(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){w[e]=new y(e,5,!1,e.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function _(e,n,r,t){var i,s=w.hasOwnProperty(n)?w[n]:null;if(null!==s?0!==s.type:t||!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1]){;(function(e,n,r,t){if(null==n||function(e,n,r,t){if(null!==r&&0===r.type)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":if(t)return!1;if(null!==r)return!r.acceptsBooleans;return"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e;default:return!1}}(e,n,r,t))return!0;if(t)return!1;if(null!==r)switch(r.type){case 3:return!n;case 4:return!1===n;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1})(n,r,s,t)&&(r=null),t||null===s?(i=n,(!!j.call(v,i)||!j.call(b,i)&&(g.test(i)?v[i]=!0:(b[i]=!0,!1)))&&(null===r?e.removeAttribute(n):e.setAttribute(n,""+r))):s.mustUseProperty?e[s.propertyName]=null===r?3!==s.type&&"":r:(n=s.attributeName,t=s.attributeNamespace,null===r?e.removeAttribute(n):(r=3===(s=s.type)||4===s&&!0===r?"":""+r,t?e.setAttributeNS(t,n,r):e.setAttribute(n,r)))}}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(S,k);w[n]=new y(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(S,k);w[n]=new y(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(S,k);w[n]=new y(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){w[e]=new y(e,1,!1,e.toLowerCase(),null,!1,!1)}),w.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){w[e]=new y(e,1,!1,e.toLowerCase(),null,!0,!0)});var P=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),F=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),M=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),B=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var z=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function G(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=L&&e[L]||e["@@iterator"])?e:null}var W,U=Object.assign;function H(e){if(void 0===W)try{throw Error()}catch(e){var n=e.stack.trim().match(/\n( *(at )?)/);W=n&&n[1]||""}return"\n"+W+e}var q=!1;function X(e,n){if(!e||q)return"";q=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n){if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var t=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){t=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){t=e}e()}}catch(n){if(n&&t&&"string"==typeof n.stack){for(var i=n.stack.split("\n"),s=t.stack.split("\n"),l=i.length-1,o=s.length-1;1<=l&&0<=o&&i[l]!==s[o];)o--;for(;1<=l&&0<=o;l--,o--)if(i[l]!==s[o]){if(1!==l||1!==o)do if(l--,0>--o||i[l]!==s[o]){var a="\n"+i[l].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=l&&0<=o);break}}}finally{q=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?H(e):""}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function $(e){var n=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===n||"radio"===n)}function J(e){e._valueTracker||(e._valueTracker=function(e){var n=$(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),t=""+e[n];if(!e.hasOwnProperty(n)&&void 0!==r&&"function"==typeof r.get&&"function"==typeof r.set){var i=r.get,s=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return i.call(this)},set:function(e){t=""+e,s.call(this,e)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return t},setValue:function(e){t=""+e},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}(e))}function Y(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),t="";return e&&(t=$(e)?e.checked?"true":"false":e.value),(e=t)!==r&&(n.setValue(e),!0)}function Q(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(n){return e.body}}function K(e,n){var r=n.checked;return U({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function Z(e,n){var r=null==n.defaultValue?"":n.defaultValue,t=null!=n.checked?n.checked:n.defaultChecked;r=V(null!=n.value?n.value:r),e._wrapperState={initialChecked:t,initialValue:r,controlled:"checkbox"===n.type||"radio"===n.type?null!=n.checked:null!=n.value}}function ee(e,n){null!=(n=n.checked)&&_(e,"checked",n,!1)}function en(e,n){ee(e,n);var r=V(n.value),t=n.type;if(null!=r)"number"===t?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===t||"reset"===t){e.removeAttribute("value");return}n.hasOwnProperty("value")?et(e,n.type,r):n.hasOwnProperty("defaultValue")&&et(e,n.type,V(n.defaultValue)),null==n.checked&&null!=n.defaultChecked&&(e.defaultChecked=!!n.defaultChecked)}function er(e,n,r){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var t=n.type;if(!("submit"!==t&&"reset"!==t||void 0!==n.value&&null!==n.value))return;n=""+e._wrapperState.initialValue,r||n===e.value||(e.value=n),e.defaultValue=n}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function et(e,n,r){("number"!==n||Q(e.ownerDocument)!==e)&&(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ei=Array.isArray;function es(e,n,r,t){if(e=e.options,n){n={};for(var i=0;i<r.length;i++)n["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=n.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&t&&(e[r].defaultSelected=!0)}else{for(i=0,r=""+V(r),n=null;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,t&&(e[i].defaultSelected=!0);return}null!==n||e[i].disabled||(n=e[i])}null!==n&&(n.selected=!0)}}function el(e,n){if(null!=n.dangerouslySetInnerHTML)throw Error(h(91));return U({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function eo(e,n){var r=n.value;if(null==r){if(r=n.children,n=n.defaultValue,null!=r){if(null!=n)throw Error(h(92));if(ei(r)){if(1<r.length)throw Error(h(93));r=r[0]}n=r}null==n&&(n=""),r=n}e._wrapperState={initialValue:V(r)}}function ea(e,n){var r=V(n.value),t=V(n.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==n.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=t&&(e.defaultValue=""+t)}function ed(e){var n=e.textContent;n===e._wrapperState.initialValue&&""!==n&&null!==n&&(e.value=n)}function ec(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function eh(e,n){return null==e||"http://www.w3.org/1999/xhtml"===e?ec(n):"http://www.w3.org/2000/svg"===e&&"foreignObject"===n?"http://www.w3.org/1999/xhtml":e}var eu,ep,ex=(eu=function(e,n){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=n;else{for((ep=ep||document.createElement("div")).innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=ep.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,t){MSApp.execUnsafeLocalFunction(function(){return eu(e,n,r,t)})}:eu);function em(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType){r.nodeValue=n;return}}e.textContent=n}var ef={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ej=["Webkit","ms","Moz","O"];function eg(e,n,r){return null==n||"boolean"==typeof n||""===n?"":r||"number"!=typeof n||0===n||ef.hasOwnProperty(e)&&ef[e]?(""+n).trim():n+"px"}function eb(e,n){for(var r in e=e.style,n)if(n.hasOwnProperty(r)){var t=0===r.indexOf("--"),i=eg(r,n[r],t);"float"===r&&(r="cssFloat"),t?e.setProperty(r,i):e[r]=i}}Object.keys(ef).forEach(function(e){ej.forEach(function(n){ef[n=n+e.charAt(0).toUpperCase()+e.substring(1)]=ef[e]})});var ev=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ey(e,n){if(n){if(ev[e]&&(null!=n.children||null!=n.dangerouslySetInnerHTML))throw Error(h(137,e));if(null!=n.dangerouslySetInnerHTML){if(null!=n.children)throw Error(h(60));if("object"!=typeof n.dangerouslySetInnerHTML||!("__html"in n.dangerouslySetInnerHTML))throw Error(h(61))}if(null!=n.style&&"object"!=typeof n.style)throw Error(h(62))}}function ew(e,n){if(-1===e.indexOf("-"))return"string"==typeof n.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eS=null;function ek(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var e_=null,eP=null,eE=null;function eF(e){if(e=tA(e)){if("function"!=typeof e_)throw Error(h(280));var n=e.stateNode;n&&(n=tB(n),e_(e.stateNode,e.type,n))}}function eN(e){eP?eE?eE.push(e):eE=[e]:eP=e}function eT(){if(eP){var e=eP,n=eE;if(eE=eP=null,eF(e),n)for(e=0;e<n.length;e++)eF(n[e])}}function eR(e,n){return e(n)}function eC(){}var eM=!1;function eO(e,n,r){if(eM)return e(n,r);eM=!0;try{return eR(e,n,r)}finally{eM=!1,(null!==eP||null!==eE)&&(eC(),eT())}}function eI(e,n){var r=e.stateNode;if(null===r)return null;var t=tB(r);if(null===t)return null;r=t[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(t=!t.disabled)||(t=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!t;break e;default:e=!1}if(e)return null;if(r&&"function"!=typeof r)throw Error(h(231,n,typeof r));return r}var eA=!1;if(f)try{var eD={};Object.defineProperty(eD,"passive",{get:function(){eA=!0}}),window.addEventListener("test",eD,eD),window.removeEventListener("test",eD,eD)}catch(e){eA=!1}function eB(e,n,r,t,i,s,l,o,a){var d=Array.prototype.slice.call(arguments,3);try{n.apply(r,d)}catch(e){this.onError(e)}}var ez=!1,eL=null,eG=!1,eW=null,eU={onError:function(e){ez=!0,eL=e}};function eH(e,n,r,t,i,s,l,o,a){ez=!1,eL=null,eB.apply(eU,arguments)}function eq(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do 0!=(4098&(n=e).flags)&&(r=n.return),e=n.return;while(e)}return 3===n.tag?r:null}function eX(e){if(13===e.tag){var n=e.memoizedState;if(null===n&&null!==(e=e.alternate)&&(n=e.memoizedState),null!==n)return n.dehydrated}return null}function eV(e){if(eq(e)!==e)throw Error(h(188))}function e$(e){return null!==(e=function(e){var n=e.alternate;if(!n){if(null===(n=eq(e)))throw Error(h(188));return n!==e?null:e}for(var r=e,t=n;;){var i=r.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(t=i.return)){r=t;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return eV(i),e;if(s===t)return eV(i),n;s=s.sibling}throw Error(h(188))}if(r.return!==t.return)r=i,t=s;else{for(var l=!1,o=i.child;o;){if(o===r){l=!0,r=i,t=s;break}if(o===t){l=!0,t=i,r=s;break}o=o.sibling}if(!l){for(o=s.child;o;){if(o===r){l=!0,r=s,t=i;break}if(o===t){l=!0,t=s,r=i;break}o=o.sibling}if(!l)throw Error(h(189))}}if(r.alternate!==t)throw Error(h(190))}if(3!==r.tag)throw Error(h(188));return r.stateNode.current===r?e:n}(e))?function e(n){if(5===n.tag||6===n.tag)return n;for(n=n.child;null!==n;){var r=e(n);if(null!==r)return r;n=n.sibling}return null}(e):null}var eJ=c.unstable_scheduleCallback,eY=c.unstable_cancelCallback,eQ=c.unstable_shouldYield,eK=c.unstable_requestPaint,eZ=c.unstable_now,e0=c.unstable_getCurrentPriorityLevel,e2=c.unstable_ImmediatePriority,e1=c.unstable_UserBlockingPriority,e3=c.unstable_NormalPriority,e4=c.unstable_LowPriority,e8=c.unstable_IdlePriority,e6=null,e5=null,e9=Math.clz32?Math.clz32:function(e){return 0==(e>>>=0)?32:31-(e7(e)/ne|0)|0},e7=Math.log,ne=Math.LN2,nn=64,nr=4194304;function nt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ni(e,n){var r=e.pendingLanes;if(0===r)return 0;var t=0,i=e.suspendedLanes,s=e.pingedLanes,l=268435455&r;if(0!==l){var o=l&~i;0!==o?t=nt(o):0!=(s&=l)&&(t=nt(s))}else 0!=(l=r&~i)?t=nt(l):0!==s&&(t=nt(s));if(0===t)return 0;if(0!==n&&n!==t&&0==(n&i)&&((i=t&-t)>=(s=n&-n)||16===i&&0!=(4194240&s)))return n;if(0!=(4&t)&&(t|=16&r),0!==(n=e.entangledLanes))for(e=e.entanglements,n&=t;0<n;)i=1<<(r=31-e9(n)),t|=e[r],n&=~i;return t}function ns(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function nl(){var e=nn;return 0==(4194240&(nn<<=1))&&(nn=64),e}function no(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function na(e,n,r){e.pendingLanes|=n,536870912!==n&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,e[n=31-e9(n)]=r}function nd(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var t=31-e9(r),i=1<<t;i&n|e[t]&n&&(e[t]|=n),r&=~i}}var nc=0;function nh(e){return 1<(e&=-e)?4<e?0!=(268435455&e)?16:536870912:4:1}var nu,np,nx,nm,nf,nj=!1,ng=[],nb=null,nv=null,ny=null,nw=new Map,nS=new Map,nk=[],n_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nP(e,n){switch(e){case"focusin":case"focusout":nb=null;break;case"dragenter":case"dragleave":nv=null;break;case"mouseover":case"mouseout":ny=null;break;case"pointerover":case"pointerout":nw.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":nS.delete(n.pointerId)}}function nE(e,n,r,t,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:n,domEventName:r,eventSystemFlags:t,nativeEvent:s,targetContainers:[i]},null!==n&&null!==(n=tA(n))&&np(n),e):(e.eventSystemFlags|=t,n=e.targetContainers,null!==i&&-1===n.indexOf(i)&&n.push(i),e)}function nF(e){var n=tI(e.target);if(null!==n){var r=eq(n);if(null!==r){if(13===(n=r.tag)){if(null!==(n=eX(r))){e.blockedOn=n,nf(e.priority,function(){nx(r)});return}}else if(3===n&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=3===r.tag?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nN(e){if(null!==e.blockedOn)return!1;for(var n=e.targetContainers;0<n.length;){var r=nL(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(null!==r)return null!==(n=tA(r))&&np(n),e.blockedOn=r,!1;var t=new(r=e.nativeEvent).constructor(r.type,r);eS=t,r.target.dispatchEvent(t),eS=null;n.shift()}return!0}function nT(e,n,r){nN(e)&&r.delete(n)}function nR(){nj=!1,null!==nb&&nN(nb)&&(nb=null),null!==nv&&nN(nv)&&(nv=null),null!==ny&&nN(ny)&&(ny=null),nw.forEach(nT),nS.forEach(nT)}function nC(e,n){e.blockedOn===n&&(e.blockedOn=null,nj||(nj=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,nR)))}function nM(e){function n(n){return nC(n,e)}if(0<ng.length){nC(ng[0],e);for(var r=1;r<ng.length;r++){var t=ng[r];t.blockedOn===e&&(t.blockedOn=null)}}for(null!==nb&&nC(nb,e),null!==nv&&nC(nv,e),null!==ny&&nC(ny,e),nw.forEach(n),nS.forEach(n),r=0;r<nk.length;r++)(t=nk[r]).blockedOn===e&&(t.blockedOn=null);for(;0<nk.length&&null===(r=nk[0]).blockedOn;)nF(r),null===r.blockedOn&&nk.shift()}var nO=P.ReactCurrentBatchConfig,nI=!0;function nA(e,n,r,t){var i=nc,s=nO.transition;nO.transition=null;try{nc=1,nB(e,n,r,t)}finally{nc=i,nO.transition=s}}function nD(e,n,r,t){var i=nc,s=nO.transition;nO.transition=null;try{nc=4,nB(e,n,r,t)}finally{nc=i,nO.transition=s}}function nB(e,n,r,t){if(nI){var i=nL(e,n,r,t);if(null===i)to(e,n,t,nz,r),nP(e,t);else if(function(e,n,r,t,i){switch(n){case"focusin":return nb=nE(nb,e,n,r,t,i),!0;case"dragenter":return nv=nE(nv,e,n,r,t,i),!0;case"mouseover":return ny=nE(ny,e,n,r,t,i),!0;case"pointerover":var s=i.pointerId;return nw.set(s,nE(nw.get(s)||null,e,n,r,t,i)),!0;case"gotpointercapture":return s=i.pointerId,nS.set(s,nE(nS.get(s)||null,e,n,r,t,i)),!0}return!1}(i,e,n,r,t))t.stopPropagation();else if(nP(e,t),4&n&&-1<n_.indexOf(e)){for(;null!==i;){var s=tA(i);if(null!==s&&nu(s),null===(s=nL(e,n,r,t))&&to(e,n,t,nz,r),s===i)break;i=s}null!==i&&t.stopPropagation()}else to(e,n,t,null,r)}}var nz=null;function nL(e,n,r,t){if(nz=null,null!==(e=tI(e=ek(t)))){if(null===(n=eq(e)))e=null;else if(13===(r=n.tag)){if(null!==(e=eX(n)))return e;e=null}else if(3===r){if(n.stateNode.current.memoizedState.isDehydrated)return 3===n.tag?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}return nz=e,null}function nG(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(e0()){case e2:return 1;case e1:return 4;case e3:case e4:return 16;case e8:return 536870912;default:return 16}default:return 16}}var nW=null,nU=null,nH=null;function nq(){if(nH)return nH;var e,n,r=nU,t=r.length,i="value"in nW?nW.value:nW.textContent,s=i.length;for(e=0;e<t&&r[e]===i[e];e++);var l=t-e;for(n=1;n<=l&&r[t-n]===i[s-n];n++);return nH=i.slice(e,1<n?1-n:void 0)}function nX(e){var n=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===n&&(e=13):e=n,10===e&&(e=13),32<=e||13===e?e:0}function nV(){return!0}function n$(){return!1}function nJ(e){function n(n,r,t,i,s){for(var l in this._reactName=n,this._targetInst=t,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nV:n$,this.isPropagationStopped=n$,this}return U(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nV)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nV)},persist:function(){},isPersistent:nV}),n}var nY,nQ,nK,nZ={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},n0=nJ(nZ),n2=U({},nZ,{view:0,detail:0}),n1=nJ(n2),n3=U({},n2,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ri,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==nK&&(nK&&"mousemove"===e.type?(nY=e.screenX-nK.screenX,nQ=e.screenY-nK.screenY):nQ=nY=0,nK=e),nY)},movementY:function(e){return"movementY"in e?e.movementY:nQ}}),n4=nJ(n3),n8=nJ(U({},n3,{dataTransfer:0})),n6=nJ(U({},n2,{relatedTarget:0})),n5=nJ(U({},nZ,{animationName:0,elapsedTime:0,pseudoElement:0})),n9=nJ(U({},nZ,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),n7=nJ(U({},nZ,{data:0})),re={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rt(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):!!(e=rr[e])&&!!n[e]}function ri(){return rt}var rs=nJ(U({},n2,{key:function(e){if(e.key){var n=re[e.key]||e.key;if("Unidentified"!==n)return n}return"keypress"===e.type?13===(e=nX(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?rn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ri,charCode:function(e){return"keypress"===e.type?nX(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?nX(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),rl=nJ(U({},n3,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),ro=nJ(U({},n2,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ri})),ra=nJ(U({},nZ,{propertyName:0,elapsedTime:0,pseudoElement:0})),rd=nJ(U({},n3,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),rc=[9,13,27,32],rh=f&&"CompositionEvent"in window,ru=null;f&&"documentMode"in document&&(ru=document.documentMode);var rp=f&&"TextEvent"in window&&!ru,rx=f&&(!rh||ru&&8<ru&&11>=ru),rm=!1;function rf(e,n){switch(e){case"keyup":return -1!==rc.indexOf(n.keyCode);case"keydown":return 229!==n.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rj(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var rg=!1,rb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rv(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===n?!!rb[e.type]:"textarea"===n}function ry(e,n,r,t){eN(t),0<(n=td(n,"onChange")).length&&(r=new n0("onChange","change",null,r,t),e.push({event:r,listeners:n}))}var rw=null,rS=null;function rk(e){tn(e,0)}function r_(e){if(Y(tD(e)))return e}function rP(e,n){if("change"===e)return n}var rE=!1;if(f){if(f){var rF="oninput"in document;if(!rF){var rN=document.createElement("div");rN.setAttribute("oninput","return;"),rF="function"==typeof rN.oninput}t=rF}else t=!1;rE=t&&(!document.documentMode||9<document.documentMode)}function rT(){rw&&(rw.detachEvent("onpropertychange",rR),rS=rw=null)}function rR(e){if("value"===e.propertyName&&r_(rS)){var n=[];ry(n,rS,e,ek(e)),eO(rk,n)}}function rC(e,n,r){"focusin"===e?(rT(),rw=n,rS=r,rw.attachEvent("onpropertychange",rR)):"focusout"===e&&rT()}function rM(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return r_(rS)}function rO(e,n){if("click"===e)return r_(n)}function rI(e,n){if("input"===e||"change"===e)return r_(n)}var rA="function"==typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e==1/n)||e!=e&&n!=n};function rD(e,n){if(rA(e,n))return!0;if("object"!=typeof e||null===e||"object"!=typeof n||null===n)return!1;var r=Object.keys(e),t=Object.keys(n);if(r.length!==t.length)return!1;for(t=0;t<r.length;t++){var i=r[t];if(!j.call(n,i)||!rA(e[i],n[i]))return!1}return!0}function rB(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rz(e,n){var r,t=rB(e);for(e=0;t;){if(3===t.nodeType){if(r=e+t.textContent.length,e<=n&&r>=n)return{node:t,offset:n-e};e=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=rB(t)}}function rL(){for(var e=window,n=Q();n instanceof e.HTMLIFrameElement;){try{var r="string"==typeof n.contentWindow.location.href}catch(e){r=!1}if(r)e=n.contentWindow;else break;n=Q(e.document)}return n}function rG(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&("input"===n&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===n||"true"===e.contentEditable)}var rW=f&&"documentMode"in document&&11>=document.documentMode,rU=null,rH=null,rq=null,rX=!1;function rV(e,n,r){var t=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;rX||null==rU||rU!==Q(t)||(t="selectionStart"in(t=rU)&&rG(t)?{start:t.selectionStart,end:t.selectionEnd}:{anchorNode:(t=(t.ownerDocument&&t.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset},rq&&rD(rq,t)||(rq=t,0<(t=td(rH,"onSelect")).length&&(n=new n0("onSelect","select",null,n,r),e.push({event:n,listeners:t}),n.target=rU)))}function r$(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var rJ={animationend:r$("Animation","AnimationEnd"),animationiteration:r$("Animation","AnimationIteration"),animationstart:r$("Animation","AnimationStart"),transitionend:r$("Transition","TransitionEnd")},rY={},rQ={};function rK(e){if(rY[e])return rY[e];if(!rJ[e])return e;var n,r=rJ[e];for(n in r)if(r.hasOwnProperty(n)&&n in rQ)return rY[e]=r[n];return e}f&&(rQ=document.createElement("div").style,"AnimationEvent"in window||(delete rJ.animationend.animation,delete rJ.animationiteration.animation,delete rJ.animationstart.animation),"TransitionEvent"in window||delete rJ.transitionend.transition);var rZ=rK("animationend"),r0=rK("animationiteration"),r2=rK("animationstart"),r1=rK("transitionend"),r3=new Map,r4="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function r8(e,n){r3.set(e,n),x(n,[e])}for(var r6=0;r6<r4.length;r6++){var r5=r4[r6];r8(r5.toLowerCase(),"on"+(r5[0].toUpperCase()+r5.slice(1)))}r8(rZ,"onAnimationEnd"),r8(r0,"onAnimationIteration"),r8(r2,"onAnimationStart"),r8("dblclick","onDoubleClick"),r8("focusin","onFocus"),r8("focusout","onBlur"),r8(r1,"onTransitionEnd"),m("onMouseEnter",["mouseout","mouseover"]),m("onMouseLeave",["mouseout","mouseover"]),m("onPointerEnter",["pointerout","pointerover"]),m("onPointerLeave",["pointerout","pointerover"]),x("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),x("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),x("onBeforeInput",["compositionend","keypress","textInput","paste"]),x("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),x("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),x("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var r9="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r7=new Set("cancel close invalid load scroll toggle".split(" ").concat(r9));function te(e,n,r){var t=e.type||"unknown-event";e.currentTarget=r,!function(e,n,r,t,i,s,l,o,a){if(eH.apply(this,arguments),ez){if(ez){var d=eL;ez=!1,eL=null}else throw Error(h(198));eG||(eG=!0,eW=d)}}(t,n,void 0,e),e.currentTarget=null}function tn(e,n){n=0!=(4&n);for(var r=0;r<e.length;r++){var t=e[r],i=t.event;t=t.listeners;e:{var s=void 0;if(n)for(var l=t.length-1;0<=l;l--){var o=t[l],a=o.instance,d=o.currentTarget;if(o=o.listener,a!==s&&i.isPropagationStopped())break e;te(i,o,d),s=a}else for(l=0;l<t.length;l++){if(a=(o=t[l]).instance,d=o.currentTarget,o=o.listener,a!==s&&i.isPropagationStopped())break e;te(i,o,d),s=a}}}if(eG)throw e=eW,eG=!1,eW=null,e}function tr(e,n){var r=n[tC];void 0===r&&(r=n[tC]=new Set);var t=e+"__bubble";r.has(t)||(tl(n,e,2,!1),r.add(t))}function tt(e,n,r){var t=0;n&&(t|=4),tl(r,e,t,n)}var ti="_reactListening"+Math.random().toString(36).slice(2);function ts(e){if(!e[ti]){e[ti]=!0,u.forEach(function(n){"selectionchange"!==n&&(r7.has(n)||tt(n,!1,e),tt(n,!0,e))});var n=9===e.nodeType?e:e.ownerDocument;null===n||n[ti]||(n[ti]=!0,tt("selectionchange",!1,n))}}function tl(e,n,r,t){switch(nG(n)){case 1:var i=nA;break;case 4:i=nD;break;default:i=nB}r=i.bind(null,n,r,e),i=void 0,eA&&("touchstart"===n||"touchmove"===n||"wheel"===n)&&(i=!0),t?void 0!==i?e.addEventListener(n,r,{capture:!0,passive:i}):e.addEventListener(n,r,!0):void 0!==i?e.addEventListener(n,r,{passive:i}):e.addEventListener(n,r,!1)}function to(e,n,r,t,i){var s=t;if(0==(1&n)&&0==(2&n)&&null!==t)e:for(;;){if(null===t)return;var l=t.tag;if(3===l||4===l){var o=t.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===l)for(l=t.return;null!==l;){var a=l.tag;if((3===a||4===a)&&((a=l.stateNode.containerInfo)===i||8===a.nodeType&&a.parentNode===i))return;l=l.return}for(;null!==o;){if(null===(l=tI(o)))return;if(5===(a=l.tag)||6===a){t=s=l;continue e}o=o.parentNode}}t=t.return}eO(function(){var t=s,i=ek(r),l=[];e:{var o=r3.get(e);if(void 0!==o){var a=n0,d=e;switch(e){case"keypress":if(0===nX(r))break e;case"keydown":case"keyup":a=rs;break;case"focusin":d="focus",a=n6;break;case"focusout":d="blur",a=n6;break;case"beforeblur":case"afterblur":a=n6;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":a=n4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":a=n8;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":a=ro;break;case rZ:case r0:case r2:a=n5;break;case r1:a=ra;break;case"scroll":a=n1;break;case"wheel":a=rd;break;case"copy":case"cut":case"paste":a=n9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":a=rl}var c=0!=(4&n),h=!c&&"scroll"===e,u=c?null!==o?o+"Capture":null:o;c=[];for(var p,x=t;null!==x;){var m=(p=x).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==u&&null!=(m=eI(x,u))&&c.push(ta(x,m,p))),h)break;x=x.return}0<c.length&&(o=new a(o,d,null,r,i),l.push({event:o,listeners:c}))}}if(0==(7&n)){e:if(o="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e,!(o&&r!==eS&&(d=r.relatedTarget||r.fromElement)&&(tI(d)||d[tR]))){if((a||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,a?(d=r.relatedTarget||r.toElement,a=t,null!==(d=d?tI(d):null)&&(h=eq(d),d!==h||5!==d.tag&&6!==d.tag)&&(d=null)):(a=null,d=t),a!==d)){if(c=n4,m="onMouseLeave",u="onMouseEnter",x="mouse",("pointerout"===e||"pointerover"===e)&&(c=rl,m="onPointerLeave",u="onPointerEnter",x="pointer"),h=null==a?o:tD(a),p=null==d?o:tD(d),(o=new c(m,x+"leave",a,r,i)).target=h,o.relatedTarget=p,m=null,tI(i)===t&&((c=new c(u,x+"enter",d,r,i)).target=p,c.relatedTarget=h,m=c),h=m,a&&d)n:{for(c=a,u=d,x=0,p=c;p;p=tc(p))x++;for(p=0,m=u;m;m=tc(m))p++;for(;0<x-p;)c=tc(c),x--;for(;0<p-x;)u=tc(u),p--;for(;x--;){if(c===u||null!==u&&c===u.alternate)break n;c=tc(c),u=tc(u)}c=null}else c=null;null!==a&&th(l,o,a,c,!1),null!==d&&null!==h&&th(l,h,d,c,!0)}}e:{if("select"===(a=(o=t?tD(t):window).nodeName&&o.nodeName.toLowerCase())||"input"===a&&"file"===o.type)var f,j=rP;else if(rv(o)){if(rE)j=rI;else{j=rM;var g=rC}}else(a=o.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(j=rO);if(j&&(j=j(e,t))){ry(l,j,r,i);break e}g&&g(e,o,t),"focusout"===e&&(g=o._wrapperState)&&g.controlled&&"number"===o.type&&et(o,"number",o.value)}switch(g=t?tD(t):window,e){case"focusin":(rv(g)||"true"===g.contentEditable)&&(rU=g,rH=t,rq=null);break;case"focusout":rq=rH=rU=null;break;case"mousedown":rX=!0;break;case"contextmenu":case"mouseup":case"dragend":rX=!1,rV(l,r,i);break;case"selectionchange":if(rW)break;case"keydown":case"keyup":rV(l,r,i)}if(rh)n:{switch(e){case"compositionstart":var b="onCompositionStart";break n;case"compositionend":b="onCompositionEnd";break n;case"compositionupdate":b="onCompositionUpdate";break n}b=void 0}else rg?rf(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(rx&&"ko"!==r.locale&&(rg||"onCompositionStart"!==b?"onCompositionEnd"===b&&rg&&(f=nq()):(nU="value"in(nW=i)?nW.value:nW.textContent,rg=!0)),0<(g=td(t,b)).length&&(b=new n7(b,e,null,r,i),l.push({event:b,listeners:g}),f?b.data=f:null!==(f=rj(r))&&(b.data=f))),(f=rp?function(e,n){switch(e){case"compositionend":return rj(n);case"keypress":if(32!==n.which)return null;return rm=!0," ";case"textInput":return" "===(e=n.data)&&rm?null:e;default:return null}}(e,r):function(e,n){if(rg)return"compositionend"===e||!rh&&rf(e,n)?(e=nq(),nH=nU=nW=null,rg=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return rx&&"ko"!==n.locale?null:n.data}}(e,r))&&0<(t=td(t,"onBeforeInput")).length&&(i=new n7("onBeforeInput","beforeinput",null,r,i),l.push({event:i,listeners:t}),i.data=f)}tn(l,n)})}function ta(e,n,r){return{instance:e,listener:n,currentTarget:r}}function td(e,n){for(var r=n+"Capture",t=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=eI(e,r))&&t.unshift(ta(e,s,i)),null!=(s=eI(e,n))&&t.push(ta(e,s,i))),e=e.return}return t}function tc(e){if(null===e)return null;do e=e.return;while(e&&5!==e.tag);return e||null}function th(e,n,r,t,i){for(var s=n._reactName,l=[];null!==r&&r!==t;){var o=r,a=o.alternate,d=o.stateNode;if(null!==a&&a===t)break;5===o.tag&&null!==d&&(o=d,i?null!=(a=eI(r,s))&&l.unshift(ta(r,a,o)):i||null!=(a=eI(r,s))&&l.push(ta(r,a,o))),r=r.return}0!==l.length&&e.push({event:n,listeners:l})}var tu=/\r\n?/g,tp=/\u0000|\uFFFD/g;function tx(e){return("string"==typeof e?e:""+e).replace(tu,"\n").replace(tp,"")}function tm(e,n,r){if(n=tx(n),tx(e)!==n&&r)throw Error(h(425))}function tf(){}var tj=null,tg=null;function tb(e,n){return"textarea"===e||"noscript"===e||"string"==typeof n.children||"number"==typeof n.children||"object"==typeof n.dangerouslySetInnerHTML&&null!==n.dangerouslySetInnerHTML&&null!=n.dangerouslySetInnerHTML.__html}var tv="function"==typeof setTimeout?setTimeout:void 0,ty="function"==typeof clearTimeout?clearTimeout:void 0,tw="function"==typeof Promise?Promise:void 0,tS="function"==typeof queueMicrotask?queueMicrotask:void 0!==tw?function(e){return tw.resolve(null).then(e).catch(tk)}:tv;function tk(e){setTimeout(function(){throw e})}function t_(e,n){var r=n,t=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&8===i.nodeType){if("/$"===(r=i.data)){if(0===t){e.removeChild(i),nM(n);return}t--}else"$"!==r&&"$?"!==r&&"$!"!==r||t++}r=i}while(r);nM(n)}function tP(e){for(;null!=e;e=e.nextSibling){var n=e.nodeType;if(1===n||3===n)break;if(8===n){if("$"===(n=e.data)||"$!"===n||"$?"===n)break;if("/$"===n)return null}}return e}function tE(e){e=e.previousSibling;for(var n=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===n)return e;n--}else"/$"===r&&n++}e=e.previousSibling}return null}var tF=Math.random().toString(36).slice(2),tN="__reactFiber$"+tF,tT="__reactProps$"+tF,tR="__reactContainer$"+tF,tC="__reactEvents$"+tF,tM="__reactListeners$"+tF,tO="__reactHandles$"+tF;function tI(e){var n=e[tN];if(n)return n;for(var r=e.parentNode;r;){if(n=r[tR]||r[tN]){if(r=n.alternate,null!==n.child||null!==r&&null!==r.child)for(e=tE(e);null!==e;){if(r=e[tN])return r;e=tE(e)}return n}r=(e=r).parentNode}return null}function tA(e){return(e=e[tN]||e[tR])&&(5===e.tag||6===e.tag||13===e.tag||3===e.tag)?e:null}function tD(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(h(33))}function tB(e){return e[tT]||null}var tz=[],tL=-1;function tG(e){return{current:e}}function tW(e){0>tL||(e.current=tz[tL],tz[tL]=null,tL--)}function tU(e,n){tz[++tL]=e.current,e.current=n}var tH={},tq=tG(tH),tX=tG(!1),tV=tH;function t$(e,n){var r=e.type.contextTypes;if(!r)return tH;var t=e.stateNode;if(t&&t.__reactInternalMemoizedUnmaskedChildContext===n)return t.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in r)s[i]=n[i];return t&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=s),s}function tJ(e){return null!=(e=e.childContextTypes)}function tY(){tW(tX),tW(tq)}function tQ(e,n,r){if(tq.current!==tH)throw Error(h(168));tU(tq,n),tU(tX,r)}function tK(e,n,r){var t=e.stateNode;if(n=n.childContextTypes,"function"!=typeof t.getChildContext)return r;for(var i in t=t.getChildContext())if(!(i in n))throw Error(h(108,function(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=n.render).displayName||e.name||"",n.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return function e(n){if(null==n)return null;if("function"==typeof n)return n.displayName||n.name||null;if("string"==typeof n)return n;switch(n){case N:return"Fragment";case F:return"Portal";case R:return"Profiler";case T:return"StrictMode";case I:return"Suspense";case A:return"SuspenseList"}if("object"==typeof n)switch(n.$$typeof){case M:return(n.displayName||"Context")+".Consumer";case C:return(n._context.displayName||"Context")+".Provider";case O:var r=n.render;return(n=n.displayName)||(n=""!==(n=r.displayName||r.name||"")?"ForwardRef("+n+")":"ForwardRef"),n;case D:return null!==(r=n.displayName||null)?r:e(n.type)||"Memo";case B:r=n._payload,n=n._init;try{return e(n(r))}catch(e){}}return null}(n);case 8:return n===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof n)return n.displayName||n.name||null;if("string"==typeof n)return n}return null}(e)||"Unknown",i));return U({},r,t)}function tZ(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||tH,tV=tq.current,tU(tq,e),tU(tX,tX.current),!0}function t0(e,n,r){var t=e.stateNode;if(!t)throw Error(h(169));r?(e=tK(e,n,tV),t.__reactInternalMemoizedMergedChildContext=e,tW(tX),tW(tq),tU(tq,e)):tW(tX),tU(tX,r)}var t2=null,t1=!1,t3=!1;function t4(e){null===t2?t2=[e]:t2.push(e)}function t8(){if(!t3&&null!==t2){t3=!0;var e=0,n=nc;try{var r=t2;for(nc=1;e<r.length;e++){var t=r[e];do t=t(!0);while(null!==t)}t2=null,t1=!1}catch(n){throw null!==t2&&(t2=t2.slice(e+1)),eJ(e2,t8),n}finally{nc=n,t3=!1}}return null}var t6=[],t5=0,t9=null,t7=0,ie=[],ir=0,it=null,ii=1,is="";function il(e,n){t6[t5++]=t7,t6[t5++]=t9,t9=e,t7=n}function io(e,n,r){ie[ir++]=ii,ie[ir++]=is,ie[ir++]=it,it=e;var t=ii;e=is;var i=32-e9(t)-1;t&=~(1<<i),r+=1;var s=32-e9(n)+i;if(30<s){var l=i-i%5;s=(t&(1<<l)-1).toString(32),t>>=l,i-=l,ii=1<<32-e9(n)+i|r<<i|t,is=s+e}else ii=1<<s|r<<i|t,is=e}function ia(e){null!==e.return&&(il(e,1),io(e,1,0))}function id(e){for(;e===t9;)t9=t6[--t5],t6[t5]=null,t7=t6[--t5],t6[t5]=null;for(;e===it;)it=ie[--ir],ie[ir]=null,is=ie[--ir],ie[ir]=null,ii=ie[--ir],ie[ir]=null}var ic=null,ih=null,iu=!1,ip=null;function ix(e,n){var r=oY(5,null,null,0);r.elementType="DELETED",r.stateNode=n,r.return=e,null===(n=e.deletions)?(e.deletions=[r],e.flags|=16):n.push(r)}function im(e,n){switch(e.tag){case 5:var r=e.type;return null!==(n=1!==n.nodeType||r.toLowerCase()!==n.nodeName.toLowerCase()?null:n)&&(e.stateNode=n,ic=e,ih=tP(n.firstChild),!0);case 6:return null!==(n=""===e.pendingProps||3!==n.nodeType?null:n)&&(e.stateNode=n,ic=e,ih=null,!0);case 13:return null!==(n=8!==n.nodeType?null:n)&&(r=null!==it?{id:ii,overflow:is}:null,e.memoizedState={dehydrated:n,treeContext:r,retryLane:1073741824},(r=oY(18,null,null,0)).stateNode=n,r.return=e,e.child=r,ic=e,ih=null,!0);default:return!1}}function ij(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function ig(e){if(iu){var n=ih;if(n){var r=n;if(!im(e,n)){if(ij(e))throw Error(h(418));n=tP(r.nextSibling);var t=ic;n&&im(e,n)?ix(t,r):(e.flags=-4097&e.flags|2,iu=!1,ic=e)}}else{if(ij(e))throw Error(h(418));e.flags=-4097&e.flags|2,iu=!1,ic=e}}}function ib(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ic=e}function iv(e){if(e!==ic)return!1;if(!iu)return ib(e),iu=!0,!1;if((n=3!==e.tag)&&!(n=5!==e.tag)&&(n="head"!==(n=e.type)&&"body"!==n&&!tb(e.type,e.memoizedProps)),n&&(n=ih)){if(ij(e))throw iy(),Error(h(418));for(;n;)ix(e,n),n=tP(n.nextSibling)}if(ib(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(h(317));e:{for(n=0,e=e.nextSibling;e;){if(8===e.nodeType){var n,r=e.data;if("/$"===r){if(0===n){ih=tP(e.nextSibling);break e}n--}else"$"!==r&&"$!"!==r&&"$?"!==r||n++}e=e.nextSibling}ih=null}}else ih=ic?tP(e.stateNode.nextSibling):null;return!0}function iy(){for(var e=ih;e;)e=tP(e.nextSibling)}function iw(){ih=ic=null,iu=!1}function iS(e){null===ip?ip=[e]:ip.push(e)}var ik=P.ReactCurrentBatchConfig;function i_(e,n){if(e&&e.defaultProps)for(var r in n=U({},n),e=e.defaultProps)void 0===n[r]&&(n[r]=e[r]);return n}var iP=tG(null),iE=null,iF=null,iN=null;function iT(){iN=iF=iE=null}function iR(e){var n=iP.current;tW(iP),e._currentValue=n}function iC(e,n,r){for(;null!==e;){var t=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,null!==t&&(t.childLanes|=n)):null!==t&&(t.childLanes&n)!==n&&(t.childLanes|=n),e===r)break;e=e.return}}function iM(e,n){iE=e,iN=iF=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&n)&&(la=!0),e.firstContext=null)}function iO(e){var n=e._currentValue;if(iN!==e){if(e={context:e,memoizedValue:n,next:null},null===iF){if(null===iE)throw Error(h(308));iF=e,iE.dependencies={lanes:0,firstContext:e}}else iF=iF.next=e}return n}var iI=null;function iA(e){null===iI?iI=[e]:iI.push(e)}function iD(e,n,r,t){var i=n.interleaved;return null===i?(r.next=r,iA(n)):(r.next=i.next,i.next=r),n.interleaved=r,iB(e,t)}function iB(e,n){e.lanes|=n;var r=e.alternate;for(null!==r&&(r.lanes|=n),r=e,e=e.return;null!==e;)e.childLanes|=n,null!==(r=e.alternate)&&(r.childLanes|=n),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var iz=!1;function iL(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function iG(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function iW(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function iU(e,n,r){var t=e.updateQueue;if(null===t)return null;if(t=t.shared,0!=(2&l8)){var i=t.pending;return null===i?n.next=n:(n.next=i.next,i.next=n),t.pending=n,iB(e,r)}return null===(i=t.interleaved)?(n.next=n,iA(t)):(n.next=i.next,i.next=n),t.interleaved=n,iB(e,r)}function iH(e,n,r){if(null!==(n=n.updateQueue)&&(n=n.shared,0!=(4194240&r))){var t=n.lanes;t&=e.pendingLanes,r|=t,n.lanes=r,nd(e,r)}}function iq(e,n){var r=e.updateQueue,t=e.alternate;if(null!==t&&r===(t=t.updateQueue)){var i=null,s=null;if(null!==(r=r.firstBaseUpdate)){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===s?i=s=l:s=s.next=l,r=r.next}while(null!==r);null===s?i=s=n:s=s.next=n}else i=s=n;r={baseState:t.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:t.shared,effects:t.effects},e.updateQueue=r;return}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}function iX(e,n,r,t){var i=e.updateQueue;iz=!1;var s=i.firstBaseUpdate,l=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var a=o,d=a.next;a.next=null,null===l?s=d:l.next=d,l=a;var c=e.alternate;null!==c&&(o=(c=c.updateQueue).lastBaseUpdate)!==l&&(null===o?c.firstBaseUpdate=d:o.next=d,c.lastBaseUpdate=a)}if(null!==s){var h=i.baseState;for(l=0,c=d=a=null,o=s;;){var u=o.lane,p=o.eventTime;if((t&u)===u){null!==c&&(c=c.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var x=e,m=o;switch(u=n,p=r,m.tag){case 1:if("function"==typeof(x=m.payload)){h=x.call(p,h,u);break e}h=x;break e;case 3:x.flags=-65537&x.flags|128;case 0:if(null==(u="function"==typeof(x=m.payload)?x.call(p,h,u):x))break e;h=U({},h,u);break e;case 2:iz=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(u=i.effects)?i.effects=[o]:u.push(o))}else p={eventTime:p,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===c?(d=c=p,a=h):c=c.next=p,l|=u;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(u=o).next,u.next=null,i.lastBaseUpdate=u,i.shared.pending=null}}if(null===c&&(a=h),i.baseState=a,i.firstBaseUpdate=d,i.lastBaseUpdate=c,null!==(n=i.shared.interleaved)){i=n;do l|=i.lane,i=i.next;while(i!==n)}else null===s&&(i.shared.lanes=0);ot|=l,e.lanes=l,e.memoizedState=h}}function iV(e,n,r){if(e=n.effects,n.effects=null,null!==e)for(n=0;n<e.length;n++){var t=e[n],i=t.callback;if(null!==i){if(t.callback=null,t=r,"function"!=typeof i)throw Error(h(191,i));i.call(t)}}}var i$=(new d.Component).refs;function iJ(e,n,r,t){n=e.memoizedState,r=null==(r=r(t,n))?n:U({},n,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var iY={isMounted:function(e){return!!(e=e._reactInternals)&&eq(e)===e},enqueueSetState:function(e,n,r){e=e._reactInternals;var t=oy(),i=ow(e),s=iW(t,i);s.payload=n,null!=r&&(s.callback=r),null!==(n=iU(e,s,i))&&(oS(n,e,i,t),iH(n,e,i))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var t=oy(),i=ow(e),s=iW(t,i);s.tag=1,s.payload=n,null!=r&&(s.callback=r),null!==(n=iU(e,s,i))&&(oS(n,e,i,t),iH(n,e,i))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=oy(),t=ow(e),i=iW(r,t);i.tag=2,null!=n&&(i.callback=n),null!==(n=iU(e,i,t))&&(oS(n,e,t,r),iH(n,e,t))}};function iQ(e,n,r,t,i,s,l){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(t,s,l):!n.prototype||!n.prototype.isPureReactComponent||!rD(r,t)||!rD(i,s)}function iK(e,n,r){var t=!1,i=tH,s=n.contextType;return"object"==typeof s&&null!==s?s=iO(s):(i=tJ(n)?tV:tq.current,s=(t=null!=(t=n.contextTypes))?t$(e,i):tH),n=new n(r,s),e.memoizedState=null!==n.state&&void 0!==n.state?n.state:null,n.updater=iY,e.stateNode=n,n._reactInternals=e,t&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),n}function iZ(e,n,r,t){e=n.state,"function"==typeof n.componentWillReceiveProps&&n.componentWillReceiveProps(r,t),"function"==typeof n.UNSAFE_componentWillReceiveProps&&n.UNSAFE_componentWillReceiveProps(r,t),n.state!==e&&iY.enqueueReplaceState(n,n.state,null)}function i0(e,n,r,t){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=i$,iL(e);var s=n.contextType;"object"==typeof s&&null!==s?i.context=iO(s):(s=tJ(n)?tV:tq.current,i.context=t$(e,s)),i.state=e.memoizedState,"function"==typeof(s=n.getDerivedStateFromProps)&&(iJ(e,n,s,r),i.state=e.memoizedState),"function"==typeof n.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(n=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),n!==i.state&&iY.enqueueReplaceState(i,i.state,null),iX(e,r,i,t),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function i2(e,n,r){if(null!==(e=r.ref)&&"function"!=typeof e&&"object"!=typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(h(309));var t=r.stateNode}if(!t)throw Error(h(147,e));var i=t,s=""+e;return null!==n&&null!==n.ref&&"function"==typeof n.ref&&n.ref._stringRef===s?n.ref:((n=function(e){var n=i.refs;n===i$&&(n=i.refs={}),null===e?delete n[s]:n[s]=e})._stringRef=s,n)}if("string"!=typeof e)throw Error(h(284));if(!r._owner)throw Error(h(290,e))}return e}function i1(e,n){throw Error(h(31,"[object Object]"===(e=Object.prototype.toString.call(n))?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function i3(e){return(0,e._init)(e._payload)}function i4(e){function n(n,r){if(e){var t=n.deletions;null===t?(n.deletions=[r],n.flags|=16):t.push(r)}}function r(r,t){if(!e)return null;for(;null!==t;)n(r,t),t=t.sibling;return null}function t(e,n){for(e=new Map;null!==n;)null!==n.key?e.set(n.key,n):e.set(n.index,n),n=n.sibling;return e}function i(e,n){return(e=oK(e,n)).index=0,e.sibling=null,e}function s(n,r,t){return(n.index=t,e)?null!==(t=n.alternate)?(t=t.index)<r?(n.flags|=2,r):t:(n.flags|=2,r):(n.flags|=1048576,r)}function l(n){return e&&null===n.alternate&&(n.flags|=2),n}function o(e,n,r,t){return null===n||6!==n.tag?((n=o1(r,e.mode,t)).return=e,n):((n=i(n,r)).return=e,n)}function a(e,n,r,t){var s=r.type;return s===N?c(e,n,r.props.children,t,r.key):null!==n&&(n.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===B&&i3(s)===n.type)?((t=i(n,r.props)).ref=i2(e,n,r),t.return=e,t):((t=oZ(r.type,r.key,r.props,null,e.mode,t)).ref=i2(e,n,r),t.return=e,t)}function d(e,n,r,t){return null===n||4!==n.tag||n.stateNode.containerInfo!==r.containerInfo||n.stateNode.implementation!==r.implementation?((n=o3(r,e.mode,t)).return=e,n):((n=i(n,r.children||[])).return=e,n)}function c(e,n,r,t,s){return null===n||7!==n.tag?((n=o0(r,e.mode,t,s)).return=e,n):((n=i(n,r)).return=e,n)}function u(e,n,r){if("string"==typeof n&&""!==n||"number"==typeof n)return(n=o1(""+n,e.mode,r)).return=e,n;if("object"==typeof n&&null!==n){switch(n.$$typeof){case E:return(r=oZ(n.type,n.key,n.props,null,e.mode,r)).ref=i2(e,null,n),r.return=e,r;case F:return(n=o3(n,e.mode,r)).return=e,n;case B:var t=n._init;return u(e,t(n._payload),r)}if(ei(n)||G(n))return(n=o0(n,e.mode,r,null)).return=e,n;i1(e,n)}return null}function p(e,n,r,t){var i=null!==n?n.key:null;if("string"==typeof r&&""!==r||"number"==typeof r)return null!==i?null:o(e,n,""+r,t);if("object"==typeof r&&null!==r){switch(r.$$typeof){case E:return r.key===i?a(e,n,r,t):null;case F:return r.key===i?d(e,n,r,t):null;case B:return p(e,n,(i=r._init)(r._payload),t)}if(ei(r)||G(r))return null!==i?null:c(e,n,r,t,null);i1(e,r)}return null}function x(e,n,r,t,i){if("string"==typeof t&&""!==t||"number"==typeof t)return o(n,e=e.get(r)||null,""+t,i);if("object"==typeof t&&null!==t){switch(t.$$typeof){case E:return a(n,e=e.get(null===t.key?r:t.key)||null,t,i);case F:return d(n,e=e.get(null===t.key?r:t.key)||null,t,i);case B:return x(e,n,r,(0,t._init)(t._payload),i)}if(ei(t)||G(t))return c(n,e=e.get(r)||null,t,i,null);i1(n,t)}return null}return function o(a,d,c,m){if("object"==typeof c&&null!==c&&c.type===N&&null===c.key&&(c=c.props.children),"object"==typeof c&&null!==c){switch(c.$$typeof){case E:e:{for(var f=c.key,j=d;null!==j;){if(j.key===f){if((f=c.type)===N){if(7===j.tag){r(a,j.sibling),(d=i(j,c.props.children)).return=a,a=d;break e}}else if(j.elementType===f||"object"==typeof f&&null!==f&&f.$$typeof===B&&i3(f)===j.type){r(a,j.sibling),(d=i(j,c.props)).ref=i2(a,j,c),d.return=a,a=d;break e}r(a,j);break}n(a,j);j=j.sibling}c.type===N?((d=o0(c.props.children,a.mode,m,c.key)).return=a,a=d):((m=oZ(c.type,c.key,c.props,null,a.mode,m)).ref=i2(a,d,c),m.return=a,a=m)}return l(a);case F:e:{for(j=c.key;null!==d;){if(d.key===j){if(4===d.tag&&d.stateNode.containerInfo===c.containerInfo&&d.stateNode.implementation===c.implementation){r(a,d.sibling),(d=i(d,c.children||[])).return=a,a=d;break e}r(a,d);break}n(a,d);d=d.sibling}(d=o3(c,a.mode,m)).return=a,a=d}return l(a);case B:return o(a,d,(j=c._init)(c._payload),m)}if(ei(c))return function(i,l,o,a){for(var d=null,c=null,h=l,m=l=0,f=null;null!==h&&m<o.length;m++){h.index>m?(f=h,h=null):f=h.sibling;var j=p(i,h,o[m],a);if(null===j){null===h&&(h=f);break}e&&h&&null===j.alternate&&n(i,h),l=s(j,l,m),null===c?d=j:c.sibling=j,c=j,h=f}if(m===o.length)return r(i,h),iu&&il(i,m),d;if(null===h){for(;m<o.length;m++)null!==(h=u(i,o[m],a))&&(l=s(h,l,m),null===c?d=h:c.sibling=h,c=h);return iu&&il(i,m),d}for(h=t(i,h);m<o.length;m++)null!==(f=x(h,i,m,o[m],a))&&(e&&null!==f.alternate&&h.delete(null===f.key?m:f.key),l=s(f,l,m),null===c?d=f:c.sibling=f,c=f);return e&&h.forEach(function(e){return n(i,e)}),iu&&il(i,m),d}(a,d,c,m);if(G(c))return function(i,l,o,a){var d=G(o);if("function"!=typeof d)throw Error(h(150));if(null==(o=d.call(o)))throw Error(h(151));for(var c=d=null,m=l,f=l=0,j=null,g=o.next();null!==m&&!g.done;f++,g=o.next()){m.index>f?(j=m,m=null):j=m.sibling;var b=p(i,m,g.value,a);if(null===b){null===m&&(m=j);break}e&&m&&null===b.alternate&&n(i,m),l=s(b,l,f),null===c?d=b:c.sibling=b,c=b,m=j}if(g.done)return r(i,m),iu&&il(i,f),d;if(null===m){for(;!g.done;f++,g=o.next())null!==(g=u(i,g.value,a))&&(l=s(g,l,f),null===c?d=g:c.sibling=g,c=g);return iu&&il(i,f),d}for(m=t(i,m);!g.done;f++,g=o.next())null!==(g=x(m,i,f,g.value,a))&&(e&&null!==g.alternate&&m.delete(null===g.key?f:g.key),l=s(g,l,f),null===c?d=g:c.sibling=g,c=g);return e&&m.forEach(function(e){return n(i,e)}),iu&&il(i,f),d}(a,d,c,m);i1(a,c)}return"string"==typeof c&&""!==c||"number"==typeof c?(c=""+c,null!==d&&6===d.tag?(r(a,d.sibling),(d=i(d,c)).return=a,a=d):(r(a,d),(d=o1(c,a.mode,m)).return=a,a=d),l(a)):r(a,d)}}var i8=i4(!0),i6=i4(!1),i5={},i9=tG(i5),i7=tG(i5),se=tG(i5);function sn(e){if(e===i5)throw Error(h(174));return e}function sr(e,n){switch(tU(se,n),tU(i7,e),tU(i9,i5),e=n.nodeType){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:eh(null,"");break;default:n=(e=8===e?n.parentNode:n).namespaceURI||null,e=e.tagName,n=eh(n,e)}tW(i9),tU(i9,n)}function st(){tW(i9),tW(i7),tW(se)}function si(e){sn(se.current);var n=sn(i9.current),r=eh(n,e.type);n!==r&&(tU(i7,e),tU(i9,r))}function ss(e){i7.current===e&&(tW(i9),tW(i7))}var sl=tG(0);function so(e){for(var n=e;null!==n;){if(13===n.tag){var r=n.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return n}else if(19===n.tag&&void 0!==n.memoizedProps.revealOrder){if(0!=(128&n.flags))return n}else if(null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var sa=[];function sd(){for(var e=0;e<sa.length;e++)sa[e]._workInProgressVersionPrimary=null;sa.length=0}var sc=P.ReactCurrentDispatcher,sh=P.ReactCurrentBatchConfig,su=0,sp=null,sx=null,sm=null,sf=!1,sj=!1,sg=0,sb=0;function sv(){throw Error(h(321))}function sy(e,n){if(null===n)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!rA(e[r],n[r]))return!1;return!0}function sw(e,n,r,t,i,s){if(su=s,sp=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,sc.current=null===e||null===e.memoizedState?s8:s6,e=r(t,i),sj){s=0;do{if(sj=!1,sg=0,25<=s)throw Error(h(301));s+=1,sm=sx=null,n.updateQueue=null,sc.current=s5,e=r(t,i)}while(sj)}if(sc.current=s4,n=null!==sx&&null!==sx.next,su=0,sm=sx=sp=null,sf=!1,n)throw Error(h(300));return e}function sS(){var e=0!==sg;return sg=0,e}function sk(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===sm?sp.memoizedState=sm=e:sm=sm.next=e,sm}function s_(){if(null===sx){var e=sp.alternate;e=null!==e?e.memoizedState:null}else e=sx.next;var n=null===sm?sp.memoizedState:sm.next;if(null!==n)sm=n,sx=e;else{if(null===e)throw Error(h(310));e={memoizedState:(sx=e).memoizedState,baseState:sx.baseState,baseQueue:sx.baseQueue,queue:sx.queue,next:null},null===sm?sp.memoizedState=sm=e:sm=sm.next=e}return sm}function sP(e,n){return"function"==typeof n?n(e):n}function sE(e){var n=s_(),r=n.queue;if(null===r)throw Error(h(311));r.lastRenderedReducer=e;var t=sx,i=t.baseQueue,s=r.pending;if(null!==s){if(null!==i){var l=i.next;i.next=s.next,s.next=l}t.baseQueue=i=s,r.pending=null}if(null!==i){s=i.next,t=t.baseState;var o=l=null,a=null,d=s;do{var c=d.lane;if((su&c)===c)null!==a&&(a=a.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),t=d.hasEagerState?d.eagerState:e(t,d.action);else{var u={lane:c,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===a?(o=a=u,l=t):a=a.next=u,sp.lanes|=c,ot|=c}d=d.next}while(null!==d&&d!==s);null===a?l=t:a.next=o,rA(t,n.memoizedState)||(la=!0),n.memoizedState=t,n.baseState=l,n.baseQueue=a,r.lastRenderedState=t}if(null!==(e=r.interleaved)){i=e;do s=i.lane,sp.lanes|=s,ot|=s,i=i.next;while(i!==e)}else null===i&&(r.lanes=0);return[n.memoizedState,r.dispatch]}function sF(e){var n=s_(),r=n.queue;if(null===r)throw Error(h(311));r.lastRenderedReducer=e;var t=r.dispatch,i=r.pending,s=n.memoizedState;if(null!==i){r.pending=null;var l=i=i.next;do s=e(s,l.action),l=l.next;while(l!==i);rA(s,n.memoizedState)||(la=!0),n.memoizedState=s,null===n.baseQueue&&(n.baseState=s),r.lastRenderedState=s}return[s,t]}function sN(){}function sT(e,n){var r=sp,t=s_(),i=n(),s=!rA(t.memoizedState,i);if(s&&(t.memoizedState=i,la=!0),t=t.queue,sW(sM.bind(null,r,t,e),[e]),t.getSnapshot!==n||s||null!==sm&&1&sm.memoizedState.tag){if(r.flags|=2048,sD(9,sC.bind(null,r,t,i,n),void 0,null),null===l6)throw Error(h(349));0!=(30&su)||sR(r,n,i)}return i}function sR(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},null===(n=sp.updateQueue)?(n={lastEffect:null,stores:null},sp.updateQueue=n,n.stores=[e]):null===(r=n.stores)?n.stores=[e]:r.push(e)}function sC(e,n,r,t){n.value=r,n.getSnapshot=t,sO(n)&&sI(e)}function sM(e,n,r){return r(function(){sO(n)&&sI(e)})}function sO(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!rA(e,r)}catch(e){return!0}}function sI(e){var n=iB(e,1);null!==n&&oS(n,e,1,-1)}function sA(e){var n=sk();return"function"==typeof e&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sP,lastRenderedState:e},n.queue=e,e=e.dispatch=s0.bind(null,sp,e),[n.memoizedState,e]}function sD(e,n,r,t){return e={tag:e,create:n,destroy:r,deps:t,next:null},null===(n=sp.updateQueue)?(n={lastEffect:null,stores:null},sp.updateQueue=n,n.lastEffect=e.next=e):null===(r=n.lastEffect)?n.lastEffect=e.next=e:(t=r.next,r.next=e,e.next=t,n.lastEffect=e),e}function sB(){return s_().memoizedState}function sz(e,n,r,t){var i=sk();sp.flags|=e,i.memoizedState=sD(1|n,r,void 0,void 0===t?null:t)}function sL(e,n,r,t){var i=s_();t=void 0===t?null:t;var s=void 0;if(null!==sx){var l=sx.memoizedState;if(s=l.destroy,null!==t&&sy(t,l.deps)){i.memoizedState=sD(n,r,s,t);return}}sp.flags|=e,i.memoizedState=sD(1|n,r,s,t)}function sG(e,n){return sz(8390656,8,e,n)}function sW(e,n){return sL(2048,8,e,n)}function sU(e,n){return sL(4,2,e,n)}function sH(e,n){return sL(4,4,e,n)}function sq(e,n){return"function"==typeof n?(n(e=e()),function(){n(null)}):null!=n?(e=e(),n.current=e,function(){n.current=null}):void 0}function sX(e,n,r){return r=null!=r?r.concat([e]):null,sL(4,4,sq.bind(null,n,e),r)}function sV(){}function s$(e,n){var r=s_();n=void 0===n?null:n;var t=r.memoizedState;return null!==t&&null!==n&&sy(n,t[1])?t[0]:(r.memoizedState=[e,n],e)}function sJ(e,n){var r=s_();n=void 0===n?null:n;var t=r.memoizedState;return null!==t&&null!==n&&sy(n,t[1])?t[0]:(e=e(),r.memoizedState=[e,n],e)}function sY(e,n,r){return 0==(21&su)?(e.baseState&&(e.baseState=!1,la=!0),e.memoizedState=r):(rA(r,n)||(r=nl(),sp.lanes|=r,ot|=r,e.baseState=!0),n)}function sQ(e,n){var r=nc;nc=0!==r&&4>r?r:4,e(!0);var t=sh.transition;sh.transition={};try{e(!1),n()}finally{nc=r,sh.transition=t}}function sK(){return s_().memoizedState}function sZ(e,n,r){var t=ow(e);r={lane:t,action:r,hasEagerState:!1,eagerState:null,next:null},s2(e)?s1(n,r):null!==(r=iD(e,n,r,t))&&(oS(r,e,t,oy()),s3(r,n,t))}function s0(e,n,r){var t=ow(e),i={lane:t,action:r,hasEagerState:!1,eagerState:null,next:null};if(s2(e))s1(n,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=n.lastRenderedReducer))try{var l=n.lastRenderedState,o=s(l,r);if(i.hasEagerState=!0,i.eagerState=o,rA(o,l)){var a=n.interleaved;null===a?(i.next=i,iA(n)):(i.next=a.next,a.next=i),n.interleaved=i;return}}catch(e){}finally{}null!==(r=iD(e,n,i,t))&&(oS(r,e,t,i=oy()),s3(r,n,t))}}function s2(e){var n=e.alternate;return e===sp||null!==n&&n===sp}function s1(e,n){sj=sf=!0;var r=e.pending;null===r?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function s3(e,n,r){if(0!=(4194240&r)){var t=n.lanes;t&=e.pendingLanes,r|=t,n.lanes=r,nd(e,r)}}var s4={readContext:iO,useCallback:sv,useContext:sv,useEffect:sv,useImperativeHandle:sv,useInsertionEffect:sv,useLayoutEffect:sv,useMemo:sv,useReducer:sv,useRef:sv,useState:sv,useDebugValue:sv,useDeferredValue:sv,useTransition:sv,useMutableSource:sv,useSyncExternalStore:sv,useId:sv,unstable_isNewReconciler:!1},s8={readContext:iO,useCallback:function(e,n){return sk().memoizedState=[e,void 0===n?null:n],e},useContext:iO,useEffect:sG,useImperativeHandle:function(e,n,r){return r=null!=r?r.concat([e]):null,sz(4194308,4,sq.bind(null,n,e),r)},useLayoutEffect:function(e,n){return sz(4194308,4,e,n)},useInsertionEffect:function(e,n){return sz(4,2,e,n)},useMemo:function(e,n){var r=sk();return n=void 0===n?null:n,e=e(),r.memoizedState=[e,n],e},useReducer:function(e,n,r){var t=sk();return n=void 0!==r?r(n):n,t.memoizedState=t.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},t.queue=e,e=e.dispatch=sZ.bind(null,sp,e),[t.memoizedState,e]},useRef:function(e){var n=sk();return e={current:e},n.memoizedState=e},useState:sA,useDebugValue:sV,useDeferredValue:function(e){return sk().memoizedState=e},useTransition:function(){var e=sA(!1),n=e[0];return e=sQ.bind(null,e[1]),sk().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,r){var t=sp,i=sk();if(iu){if(void 0===r)throw Error(h(407));r=r()}else{if(r=n(),null===l6)throw Error(h(349));0!=(30&su)||sR(t,n,r)}i.memoizedState=r;var s={value:r,getSnapshot:n};return i.queue=s,sG(sM.bind(null,t,s,e),[e]),t.flags|=2048,sD(9,sC.bind(null,t,s,r,n),void 0,null),r},useId:function(){var e=sk(),n=l6.identifierPrefix;if(iu){var r=is,t=ii;n=":"+n+"R"+(r=(t&~(1<<32-e9(t)-1)).toString(32)+r),0<(r=sg++)&&(n+="H"+r.toString(32)),n+=":"}else n=":"+n+"r"+(r=sb++).toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},s6={readContext:iO,useCallback:s$,useContext:iO,useEffect:sW,useImperativeHandle:sX,useInsertionEffect:sU,useLayoutEffect:sH,useMemo:sJ,useReducer:sE,useRef:sB,useState:function(){return sE(sP)},useDebugValue:sV,useDeferredValue:function(e){return sY(s_(),sx.memoizedState,e)},useTransition:function(){return[sE(sP)[0],s_().memoizedState]},useMutableSource:sN,useSyncExternalStore:sT,useId:sK,unstable_isNewReconciler:!1},s5={readContext:iO,useCallback:s$,useContext:iO,useEffect:sW,useImperativeHandle:sX,useInsertionEffect:sU,useLayoutEffect:sH,useMemo:sJ,useReducer:sF,useRef:sB,useState:function(){return sF(sP)},useDebugValue:sV,useDeferredValue:function(e){var n=s_();return null===sx?n.memoizedState=e:sY(n,sx.memoizedState,e)},useTransition:function(){return[sF(sP)[0],s_().memoizedState]},useMutableSource:sN,useSyncExternalStore:sT,useId:sK,unstable_isNewReconciler:!1};function s9(e,n){try{var r="",t=n;do r+=function(e){switch(e.tag){case 5:return H(e.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return e=X(e.type,!1);case 11:return e=X(e.type.render,!1);case 1:return e=X(e.type,!0);default:return""}}(t),t=t.return;while(t);var i=r}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:n,stack:i,digest:null}}function s7(e,n,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=n?n:null}}function le(e,n){try{console.error(n.value)}catch(e){setTimeout(function(){throw e})}}var ln="function"==typeof WeakMap?WeakMap:Map;function lr(e,n,r){(r=iW(-1,r)).tag=3,r.payload={element:null};var t=n.value;return r.callback=function(){oh||(oh=!0,ou=t),le(e,n)},r}function lt(e,n,r){(r=iW(-1,r)).tag=3;var t=e.type.getDerivedStateFromError;if("function"==typeof t){var i=n.value;r.payload=function(){return t(i)},r.callback=function(){le(e,n)}}var s=e.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(r.callback=function(){le(e,n),"function"!=typeof t&&(null===op?op=new Set([this]):op.add(this));var r=n.stack;this.componentDidCatch(n.value,{componentStack:null!==r?r:""})}),r}function li(e,n,r){var t=e.pingCache;if(null===t){t=e.pingCache=new ln;var i=new Set;t.set(n,i)}else void 0===(i=t.get(n))&&(i=new Set,t.set(n,i));i.has(r)||(i.add(r),e=oH.bind(null,e,n,r),n.then(e,e))}function ls(e){do{var n;if((n=13===e.tag)&&(n=null===(n=e.memoizedState)||null!==n.dehydrated),n)return e;e=e.return}while(null!==e);return null}function ll(e,n,r,t,i){return 0==(1&e.mode)?(e===n?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((n=iW(-1,1)).tag=2,iU(r,n,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var lo=P.ReactCurrentOwner,la=!1;function ld(e,n,r,t){n.child=null===e?i6(n,null,r,t):i8(n,e.child,r,t)}function lc(e,n,r,t,i){r=r.render;var s=n.ref;return(iM(n,i),t=sw(e,n,r,t,s,i),r=sS(),null===e||la)?(iu&&r&&ia(n),n.flags|=1,ld(e,n,t,i),n.child):(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i,lN(e,n,i))}function lh(e,n,r,t,i){if(null===e){var s=r.type;return"function"!=typeof s||oQ(s)||void 0!==s.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=oZ(r.type,null,t,n,n.mode,i)).ref=n.ref,e.return=n,n.child=e):(n.tag=15,n.type=s,lu(e,n,s,t,i))}if(s=e.child,0==(e.lanes&i)){var l=s.memoizedProps;if((r=null!==(r=r.compare)?r:rD)(l,t)&&e.ref===n.ref)return lN(e,n,i)}return n.flags|=1,(e=oK(s,t)).ref=n.ref,e.return=n,n.child=e}function lu(e,n,r,t,i){if(null!==e){var s=e.memoizedProps;if(rD(s,t)&&e.ref===n.ref){if(la=!1,n.pendingProps=t=s,0==(e.lanes&i))return n.lanes=e.lanes,lN(e,n,i);0!=(131072&e.flags)&&(la=!0)}}return lm(e,n,r,t,i)}function lp(e,n,r){var t=n.pendingProps,i=t.children,s=null!==e?e.memoizedState:null;if("hidden"===t.mode){if(0==(1&n.mode))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},tU(oe,l7),l7|=r;else{if(0==(1073741824&r))return e=null!==s?s.baseLanes|r:r,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,tU(oe,l7),l7|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},t=null!==s?s.baseLanes:r,tU(oe,l7),l7|=t}}else null!==s?(t=s.baseLanes|r,n.memoizedState=null):t=r,tU(oe,l7),l7|=t;return ld(e,n,i,r),n.child}function lx(e,n){var r=n.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(n.flags|=512,n.flags|=2097152)}function lm(e,n,r,t,i){var s=tJ(r)?tV:tq.current;return(s=t$(n,s),iM(n,i),r=sw(e,n,r,t,s,i),t=sS(),null===e||la)?(iu&&t&&ia(n),n.flags|=1,ld(e,n,r,i),n.child):(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~i,lN(e,n,i))}function lf(e,n,r,t,i){if(tJ(r)){var s=!0;tZ(n)}else s=!1;if(iM(n,i),null===n.stateNode)lF(e,n),iK(n,r,t),i0(n,r,t,i),t=!0;else if(null===e){var l=n.stateNode,o=n.memoizedProps;l.props=o;var a=l.context,d=r.contextType;d="object"==typeof d&&null!==d?iO(d):t$(n,d=tJ(r)?tV:tq.current);var c=r.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof l.getSnapshotBeforeUpdate;h||"function"!=typeof l.UNSAFE_componentWillReceiveProps&&"function"!=typeof l.componentWillReceiveProps||(o!==t||a!==d)&&iZ(n,l,t,d),iz=!1;var u=n.memoizedState;l.state=u,iX(n,t,l,i),a=n.memoizedState,o!==t||u!==a||tX.current||iz?("function"==typeof c&&(iJ(n,r,c,t),a=n.memoizedState),(o=iz||iQ(n,r,o,t,u,a,d))?(h||"function"!=typeof l.UNSAFE_componentWillMount&&"function"!=typeof l.componentWillMount||("function"==typeof l.componentWillMount&&l.componentWillMount(),"function"==typeof l.UNSAFE_componentWillMount&&l.UNSAFE_componentWillMount()),"function"==typeof l.componentDidMount&&(n.flags|=4194308)):("function"==typeof l.componentDidMount&&(n.flags|=4194308),n.memoizedProps=t,n.memoizedState=a),l.props=t,l.state=a,l.context=d,t=o):("function"==typeof l.componentDidMount&&(n.flags|=4194308),t=!1)}else{l=n.stateNode,iG(e,n),o=n.memoizedProps,d=n.type===n.elementType?o:i_(n.type,o),l.props=d,h=n.pendingProps,u=l.context,a="object"==typeof(a=r.contextType)&&null!==a?iO(a):t$(n,a=tJ(r)?tV:tq.current);var p=r.getDerivedStateFromProps;(c="function"==typeof p||"function"==typeof l.getSnapshotBeforeUpdate)||"function"!=typeof l.UNSAFE_componentWillReceiveProps&&"function"!=typeof l.componentWillReceiveProps||(o!==h||u!==a)&&iZ(n,l,t,a),iz=!1,u=n.memoizedState,l.state=u,iX(n,t,l,i);var x=n.memoizedState;o!==h||u!==x||tX.current||iz?("function"==typeof p&&(iJ(n,r,p,t),x=n.memoizedState),(d=iz||iQ(n,r,d,t,u,x,a)||!1)?(c||"function"!=typeof l.UNSAFE_componentWillUpdate&&"function"!=typeof l.componentWillUpdate||("function"==typeof l.componentWillUpdate&&l.componentWillUpdate(t,x,a),"function"==typeof l.UNSAFE_componentWillUpdate&&l.UNSAFE_componentWillUpdate(t,x,a)),"function"==typeof l.componentDidUpdate&&(n.flags|=4),"function"==typeof l.getSnapshotBeforeUpdate&&(n.flags|=1024)):("function"!=typeof l.componentDidUpdate||o===e.memoizedProps&&u===e.memoizedState||(n.flags|=4),"function"!=typeof l.getSnapshotBeforeUpdate||o===e.memoizedProps&&u===e.memoizedState||(n.flags|=1024),n.memoizedProps=t,n.memoizedState=x),l.props=t,l.state=x,l.context=a,t=d):("function"!=typeof l.componentDidUpdate||o===e.memoizedProps&&u===e.memoizedState||(n.flags|=4),"function"!=typeof l.getSnapshotBeforeUpdate||o===e.memoizedProps&&u===e.memoizedState||(n.flags|=1024),t=!1)}return lj(e,n,r,t,s,i)}function lj(e,n,r,t,i,s){lx(e,n);var l=0!=(128&n.flags);if(!t&&!l)return i&&t0(n,r,!1),lN(e,n,s);t=n.stateNode,lo.current=n;var o=l&&"function"!=typeof r.getDerivedStateFromError?null:t.render();return n.flags|=1,null!==e&&l?(n.child=i8(n,e.child,null,s),n.child=i8(n,null,o,s)):ld(e,n,o,s),n.memoizedState=t.state,i&&t0(n,r,!0),n.child}function lg(e){var n=e.stateNode;n.pendingContext?tQ(e,n.pendingContext,n.pendingContext!==n.context):n.context&&tQ(e,n.context,!1),sr(e,n.containerInfo)}function lb(e,n,r,t,i){return iw(),iS(i),n.flags|=256,ld(e,n,r,t),n.child}var lv={dehydrated:null,treeContext:null,retryLane:0};function ly(e){return{baseLanes:e,cachePool:null,transitions:null}}function lw(e,n,r){var t,i=n.pendingProps,s=sl.current,l=!1,o=0!=(128&n.flags);if((t=o)||(t=(null===e||null!==e.memoizedState)&&0!=(2&s)),t?(l=!0,n.flags&=-129):(null===e||null!==e.memoizedState)&&(s|=1),tU(sl,1&s),null===e)return(ig(n),null!==(e=n.memoizedState)&&null!==(e=e.dehydrated))?(0==(1&n.mode)?n.lanes=1:"$!"===e.data?n.lanes=8:n.lanes=1073741824,null):(o=i.children,e=i.fallback,l?(i=n.mode,l=n.child,o={mode:"hidden",children:o},0==(1&i)&&null!==l?(l.childLanes=0,l.pendingProps=o):l=o2(o,i,0,null),e=o0(e,i,r,null),l.return=n,e.return=n,l.sibling=e,n.child=l,n.child.memoizedState=ly(r),n.memoizedState=lv,e):lS(n,o));if(null!==(s=e.memoizedState)&&null!==(t=s.dehydrated))return function(e,n,r,t,i,s,l){if(r)return 256&n.flags?(n.flags&=-257,lk(e,n,l,t=s7(Error(h(422))))):null!==n.memoizedState?(n.child=e.child,n.flags|=128,null):(s=t.fallback,i=n.mode,t=o2({mode:"visible",children:t.children},i,0,null),s=o0(s,i,l,null),s.flags|=2,t.return=n,s.return=n,t.sibling=s,n.child=t,0!=(1&n.mode)&&i8(n,e.child,null,l),n.child.memoizedState=ly(l),n.memoizedState=lv,s);if(0==(1&n.mode))return lk(e,n,l,null);if("$!"===i.data){if(t=i.nextSibling&&i.nextSibling.dataset)var o=t.dgst;return t=o,t=s7(s=Error(h(419)),t,void 0),lk(e,n,l,t)}if(o=0!=(l&e.childLanes),la||o){if(null!==(t=l6)){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!=(i&(t.suspendedLanes|l))?0:i)&&i!==s.retryLane&&(s.retryLane=i,iB(e,i),oS(t,e,i,-1))}return oA(),lk(e,n,l,t=s7(Error(h(421))))}return"$?"===i.data?(n.flags|=128,n.child=e.child,n=oX.bind(null,e),i._reactRetry=n,null):(e=s.treeContext,ih=tP(i.nextSibling),ic=n,iu=!0,ip=null,null!==e&&(ie[ir++]=ii,ie[ir++]=is,ie[ir++]=it,ii=e.id,is=e.overflow,it=n),n=lS(n,t.children),n.flags|=4096,n)}(e,n,o,i,t,s,r);if(l){l=i.fallback,o=n.mode,t=(s=e.child).sibling;var a={mode:"hidden",children:i.children};return 0==(1&o)&&n.child!==s?((i=n.child).childLanes=0,i.pendingProps=a,n.deletions=null):(i=oK(s,a)).subtreeFlags=14680064&s.subtreeFlags,null!==t?l=oK(t,l):(l=o0(l,o,r,null),l.flags|=2),l.return=n,i.return=n,i.sibling=l,n.child=i,i=l,l=n.child,o=null===(o=e.child.memoizedState)?ly(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~r,n.memoizedState=lv,i}return e=(l=e.child).sibling,i=oK(l,{mode:"visible",children:i.children}),0==(1&n.mode)&&(i.lanes=r),i.return=n,i.sibling=null,null!==e&&(null===(r=n.deletions)?(n.deletions=[e],n.flags|=16):r.push(e)),n.child=i,n.memoizedState=null,i}function lS(e,n){return(n=o2({mode:"visible",children:n},e.mode,0,null)).return=e,e.child=n}function lk(e,n,r,t){return null!==t&&iS(t),i8(n,e.child,null,r),e=lS(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function l_(e,n,r){e.lanes|=n;var t=e.alternate;null!==t&&(t.lanes|=n),iC(e.return,n,r)}function lP(e,n,r,t,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:t,tail:r,tailMode:i}:(s.isBackwards=n,s.rendering=null,s.renderingStartTime=0,s.last=t,s.tail=r,s.tailMode=i)}function lE(e,n,r){var t=n.pendingProps,i=t.revealOrder,s=t.tail;if(ld(e,n,t.children,r),0!=(2&(t=sl.current)))t=1&t|2,n.flags|=128;else{if(null!==e&&0!=(128&e.flags))e:for(e=n.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&l_(e,r,n);else if(19===e.tag)l_(e,r,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}t&=1}if(tU(sl,t),0==(1&n.mode))n.memoizedState=null;else switch(i){case"forwards":for(i=null,r=n.child;null!==r;)null!==(e=r.alternate)&&null===so(e)&&(i=r),r=r.sibling;null===(r=i)?(i=n.child,n.child=null):(i=r.sibling,r.sibling=null),lP(n,!1,i,r,s);break;case"backwards":for(r=null,i=n.child,n.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){n.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}lP(n,!0,r,null,s);break;case"together":lP(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function lF(e,n){0==(1&n.mode)&&null!==e&&(e.alternate=null,n.alternate=null,n.flags|=2)}function lN(e,n,r){if(null!==e&&(n.dependencies=e.dependencies),ot|=n.lanes,0==(r&n.childLanes))return null;if(null!==e&&n.child!==e.child)throw Error(h(153));if(null!==n.child){for(r=oK(e=n.child,e.pendingProps),n.child=r,r.return=n;null!==e.sibling;)e=e.sibling,(r=r.sibling=oK(e,e.pendingProps)).return=n;r.sibling=null}return n.child}function lT(e,n){if(!iu)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var t=null;null!==r;)null!==r.alternate&&(t=r),r=r.sibling;null===t?n||null===e.tail?e.tail=null:e.tail.sibling=null:t.sibling=null}}function lR(e){var n=null!==e.alternate&&e.alternate.child===e.child,r=0,t=0;if(n)for(var i=e.child;null!==i;)r|=i.lanes|i.childLanes,t|=14680064&i.subtreeFlags,t|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)r|=i.lanes|i.childLanes,t|=i.subtreeFlags,t|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=t,e.childLanes=r,n}i=function(e,n){for(var r=n.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===n)break;for(;null===r.sibling;){if(null===r.return||r.return===n)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},s=function(){},l=function(e,n,r,t){var i=e.memoizedProps;if(i!==t){e=n.stateNode,sn(i9.current);var s,l=null;switch(r){case"input":i=K(e,i),t=K(e,t),l=[];break;case"select":i=U({},i,{value:void 0}),t=U({},t,{value:void 0}),l=[];break;case"textarea":i=el(e,i),t=el(e,t),l=[];break;default:"function"!=typeof i.onClick&&"function"==typeof t.onClick&&(e.onclick=tf)}for(d in ey(r,t),r=null,i)if(!t.hasOwnProperty(d)&&i.hasOwnProperty(d)&&null!=i[d]){if("style"===d){var o=i[d];for(s in o)o.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(p.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null))}for(d in t){var a=t[d];if(o=null!=i?i[d]:void 0,t.hasOwnProperty(d)&&a!==o&&(null!=a||null!=o)){if("style"===d){if(o){for(s in o)!o.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in a)a.hasOwnProperty(s)&&o[s]!==a[s]&&(r||(r={}),r[s]=a[s])}else r||(l||(l=[]),l.push(d,r)),r=a}else"dangerouslySetInnerHTML"===d?(a=a?a.__html:void 0,o=o?o.__html:void 0,null!=a&&o!==a&&(l=l||[]).push(d,a)):"children"===d?"string"!=typeof a&&"number"!=typeof a||(l=l||[]).push(d,""+a):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(p.hasOwnProperty(d)?(null!=a&&"onScroll"===d&&tr("scroll",e),l||o===a||(l=[])):(l=l||[]).push(d,a))}}r&&(l=l||[]).push("style",r);var d=l;(n.updateQueue=d)&&(n.flags|=4)}},o=function(e,n,r,t){r!==t&&(n.flags|=4)};var lC=!1,lM=!1,lO="function"==typeof WeakSet?WeakSet:Set,lI=null;function lA(e,n){var r=e.ref;if(null!==r){if("function"==typeof r)try{r(null)}catch(r){oU(e,n,r)}else r.current=null}}function lD(e,n,r){try{r()}catch(r){oU(e,n,r)}}var lB=!1;function lz(e,n,r){var t=n.updateQueue;if(null!==(t=null!==t?t.lastEffect:null)){var i=t=t.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&lD(n,r,s)}i=i.next}while(i!==t)}}function lL(e,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if((r.tag&e)===e){var t=r.create;r.destroy=t()}r=r.next}while(r!==n)}}function lG(e){var n=e.ref;if(null!==n){var r=e.stateNode;e.tag;e=r;"function"==typeof n?n(e):n.current=e}}function lW(e){return 5===e.tag||3===e.tag||4===e.tag}function lU(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||lW(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}var lH=null,lq=!1;function lX(e,n,r){for(r=r.child;null!==r;)lV(e,n,r),r=r.sibling}function lV(e,n,r){if(e5&&"function"==typeof e5.onCommitFiberUnmount)try{e5.onCommitFiberUnmount(e6,r)}catch(e){}switch(r.tag){case 5:lM||lA(r,n);case 6:var t=lH,i=lq;lH=null,lX(e,n,r),lH=t,lq=i,null!==lH&&(lq?(e=lH,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):lH.removeChild(r.stateNode));break;case 18:null!==lH&&(lq?(e=lH,r=r.stateNode,8===e.nodeType?t_(e.parentNode,r):1===e.nodeType&&t_(e,r),nM(e)):t_(lH,r.stateNode));break;case 4:t=lH,i=lq,lH=r.stateNode.containerInfo,lq=!0,lX(e,n,r),lH=t,lq=i;break;case 0:case 11:case 14:case 15:if(!lM&&null!==(t=r.updateQueue)&&null!==(t=t.lastEffect)){i=t=t.next;do{var s=i,l=s.destroy;s=s.tag,void 0!==l&&(0!=(2&s)?lD(r,n,l):0!=(4&s)&&lD(r,n,l)),i=i.next}while(i!==t)}lX(e,n,r);break;case 1:if(!lM&&(lA(r,n),"function"==typeof(t=r.stateNode).componentWillUnmount))try{t.props=r.memoizedProps,t.state=r.memoizedState,t.componentWillUnmount()}catch(e){oU(r,n,e)}lX(e,n,r);break;case 21:default:lX(e,n,r);break;case 22:1&r.mode?(lM=(t=lM)||null!==r.memoizedState,lX(e,n,r),lM=t):lX(e,n,r)}}function l$(e){var n=e.updateQueue;if(null!==n){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new lO),n.forEach(function(n){var t=oV.bind(null,e,n);r.has(n)||(r.add(n),n.then(t,t))})}}function lJ(e,n){var r=n.deletions;if(null!==r)for(var t=0;t<r.length;t++){var i=r[t];try{var s=n,l=s;e:for(;null!==l;){switch(l.tag){case 5:lH=l.stateNode,lq=!1;break e;case 3:case 4:lH=l.stateNode.containerInfo,lq=!0;break e}l=l.return}if(null===lH)throw Error(h(160));lV(e,s,i),lH=null,lq=!1;var o=i.alternate;null!==o&&(o.return=null),i.return=null}catch(e){oU(i,n,e)}}if(12854&n.subtreeFlags)for(n=n.child;null!==n;)lY(n,e),n=n.sibling}function lY(e,n){var r=e.alternate,t=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(lJ(n,e),lQ(e),4&t){try{lz(3,e,e.return),lL(3,e)}catch(n){oU(e,e.return,n)}try{lz(5,e,e.return)}catch(n){oU(e,e.return,n)}}break;case 1:lJ(n,e),lQ(e),512&t&&null!==r&&lA(r,r.return);break;case 5:if(lJ(n,e),lQ(e),512&t&&null!==r&&lA(r,r.return),32&e.flags){var i=e.stateNode;try{em(i,"")}catch(n){oU(e,e.return,n)}}if(4&t&&null!=(i=e.stateNode)){var s=e.memoizedProps,l=null!==r?r.memoizedProps:s,o=e.type,a=e.updateQueue;if(e.updateQueue=null,null!==a)try{"input"===o&&"radio"===s.type&&null!=s.name&&ee(i,s),ew(o,l);var d=ew(o,s);for(l=0;l<a.length;l+=2){var c=a[l],u=a[l+1];"style"===c?eb(i,u):"dangerouslySetInnerHTML"===c?ex(i,u):"children"===c?em(i,u):_(i,c,u,d)}switch(o){case"input":en(i,s);break;case"textarea":ea(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var x=s.value;null!=x?es(i,!!s.multiple,x,!1):!!s.multiple!==p&&(null!=s.defaultValue?es(i,!!s.multiple,s.defaultValue,!0):es(i,!!s.multiple,s.multiple?[]:"",!1))}i[tT]=s}catch(n){oU(e,e.return,n)}}break;case 6:if(lJ(n,e),lQ(e),4&t){if(null===e.stateNode)throw Error(h(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(n){oU(e,e.return,n)}}break;case 3:if(lJ(n,e),lQ(e),4&t&&null!==r&&r.memoizedState.isDehydrated)try{nM(n.containerInfo)}catch(n){oU(e,e.return,n)}break;case 4:default:lJ(n,e),lQ(e);break;case 13:lJ(n,e),lQ(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,s&&(null===i.alternate||null===i.alternate.memoizedState)&&(oa=eZ())),4&t&&l$(e);break;case 22:if(c=null!==r&&null!==r.memoizedState,1&e.mode?(lM=(d=lM)||c,lJ(n,e),lM=d):lJ(n,e),lQ(e),8192&t){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!c&&0!=(1&e.mode))for(lI=e,c=e.child;null!==c;){for(u=lI=c;null!==lI;){switch(x=(p=lI).child,p.tag){case 0:case 11:case 14:case 15:lz(4,p,p.return);break;case 1:lA(p,p.return);var m=p.stateNode;if("function"==typeof m.componentWillUnmount){t=p,r=p.return;try{n=t,m.props=n.memoizedProps,m.state=n.memoizedState,m.componentWillUnmount()}catch(e){oU(t,r,e)}}break;case 5:lA(p,p.return);break;case 22:if(null!==p.memoizedState){lZ(u);continue}}null!==x?(x.return=p,lI=x):lZ(u)}c=c.sibling}e:for(c=null,u=e;;){if(5===u.tag){if(null===c){c=u;try{i=u.stateNode,d?(s=i.style,"function"==typeof s.setProperty?s.setProperty("display","none","important"):s.display="none"):(o=u.stateNode,l=null!=(a=u.memoizedProps.style)&&a.hasOwnProperty("display")?a.display:null,o.style.display=eg("display",l))}catch(n){oU(e,e.return,n)}}}else if(6===u.tag){if(null===c)try{u.stateNode.nodeValue=d?"":u.memoizedProps}catch(n){oU(e,e.return,n)}}else if((22!==u.tag&&23!==u.tag||null===u.memoizedState||u===e)&&null!==u.child){u.child.return=u,u=u.child;continue}if(u===e)break e;for(;null===u.sibling;){if(null===u.return||u.return===e)break e;c===u&&(c=null),u=u.return}c===u&&(c=null),u.sibling.return=u.return,u=u.sibling}}break;case 19:lJ(n,e),lQ(e),4&t&&l$(e);case 21:}}function lQ(e){var n=e.flags;if(2&n){try{e:{for(var r=e.return;null!==r;){if(lW(r)){var t=r;break e}r=r.return}throw Error(h(160))}switch(t.tag){case 5:var i=t.stateNode;32&t.flags&&(em(i,""),t.flags&=-33);var s=lU(e);!function e(n,r,t){var i=n.tag;if(5===i||6===i)n=n.stateNode,r?t.insertBefore(n,r):t.appendChild(n);else if(4!==i&&null!==(n=n.child))for(e(n,r,t),n=n.sibling;null!==n;)e(n,r,t),n=n.sibling}(e,s,i);break;case 3:case 4:var l=t.stateNode.containerInfo,o=lU(e);!function e(n,r,t){var i=n.tag;if(5===i||6===i)n=n.stateNode,r?8===t.nodeType?t.parentNode.insertBefore(n,r):t.insertBefore(n,r):(8===t.nodeType?(r=t.parentNode).insertBefore(n,t):(r=t).appendChild(n),null!=(t=t._reactRootContainer)||null!==r.onclick||(r.onclick=tf));else if(4!==i&&null!==(n=n.child))for(e(n,r,t),n=n.sibling;null!==n;)e(n,r,t),n=n.sibling}(e,o,l);break;default:throw Error(h(161))}}catch(n){oU(e,e.return,n)}e.flags&=-3}4096&n&&(e.flags&=-4097)}function lK(e){for(;null!==lI;){var n=lI;if(0!=(8772&n.flags)){var r=n.alternate;try{if(0!=(8772&n.flags))switch(n.tag){case 0:case 11:case 15:lM||lL(5,n);break;case 1:var t=n.stateNode;if(4&n.flags&&!lM){if(null===r)t.componentDidMount();else{var i=n.elementType===n.type?r.memoizedProps:i_(n.type,r.memoizedProps);t.componentDidUpdate(i,r.memoizedState,t.__reactInternalSnapshotBeforeUpdate)}}var s=n.updateQueue;null!==s&&iV(n,s,t);break;case 3:var l=n.updateQueue;if(null!==l){if(r=null,null!==n.child)switch(n.child.tag){case 5:case 1:r=n.child.stateNode}iV(n,l,r)}break;case 5:var o=n.stateNode;if(null===r&&4&n.flags){r=o;var a=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break;case"img":a.src&&(r.src=a.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===n.memoizedState){var d=n.alternate;if(null!==d){var c=d.memoizedState;if(null!==c){var u=c.dehydrated;null!==u&&nM(u)}}}break;default:throw Error(h(163))}lM||512&n.flags&&lG(n)}catch(e){oU(n,n.return,e)}}if(n===e){lI=null;break}if(null!==(r=n.sibling)){r.return=n.return,lI=r;break}lI=n.return}}function lZ(e){for(;null!==lI;){var n=lI;if(n===e){lI=null;break}var r=n.sibling;if(null!==r){r.return=n.return,lI=r;break}lI=n.return}}function l0(e){for(;null!==lI;){var n=lI;try{switch(n.tag){case 0:case 11:case 15:var r=n.return;try{lL(4,n)}catch(e){oU(n,r,e)}break;case 1:var t=n.stateNode;if("function"==typeof t.componentDidMount){var i=n.return;try{t.componentDidMount()}catch(e){oU(n,i,e)}}var s=n.return;try{lG(n)}catch(e){oU(n,s,e)}break;case 5:var l=n.return;try{lG(n)}catch(e){oU(n,l,e)}}}catch(e){oU(n,n.return,e)}if(n===e){lI=null;break}var o=n.sibling;if(null!==o){o.return=n.return,lI=o;break}lI=n.return}}var l2=Math.ceil,l1=P.ReactCurrentDispatcher,l3=P.ReactCurrentOwner,l4=P.ReactCurrentBatchConfig,l8=0,l6=null,l5=null,l9=0,l7=0,oe=tG(0),on=0,or=null,ot=0,oi=0,os=0,ol=null,oo=null,oa=0,od=1/0,oc=null,oh=!1,ou=null,op=null,ox=!1,om=null,of=0,oj=0,og=null,ob=-1,ov=0;function oy(){return 0!=(6&l8)?eZ():-1!==ob?ob:ob=eZ()}function ow(e){return 0==(1&e.mode)?1:0!=(2&l8)&&0!==l9?l9&-l9:null!==ik.transition?(0===ov&&(ov=nl()),ov):0!==(e=nc)?e:e=void 0===(e=window.event)?16:nG(e.type)}function oS(e,n,r,t){if(50<oj)throw oj=0,og=null,Error(h(185));na(e,r,t),(0==(2&l8)||e!==l6)&&(e===l6&&(0==(2&l8)&&(oi|=r),4===on&&oF(e,l9)),ok(e,t),1===r&&0===l8&&0==(1&n.mode)&&(od=eZ()+500,t1&&t8()))}function ok(e,n){var r=e.callbackNode;!function(e,n){for(var r=e.suspendedLanes,t=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var l=31-e9(s),o=1<<l,a=i[l];-1===a?(0==(o&r)||0!=(o&t))&&(i[l]=function(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;default:return -1}}(o,n)):a<=n&&(e.expiredLanes|=o),s&=~o}}(e,n);var t=ni(e,e===l6?l9:0);if(0===t)null!==r&&eY(r),e.callbackNode=null,e.callbackPriority=0;else if(n=t&-t,e.callbackPriority!==n){if(null!=r&&eY(r),1===n)0===e.tag?(t1=!0,t4(oN.bind(null,e))):t4(oN.bind(null,e)),tS(function(){0==(6&l8)&&t8()}),r=null;else{switch(nh(t)){case 1:r=e2;break;case 4:r=e1;break;case 16:default:r=e3;break;case 536870912:r=e8}r=function(e,n){return eJ(e,n)}(r,o_.bind(null,e))}e.callbackPriority=n,e.callbackNode=r}}function o_(e,n){if(ob=-1,ov=0,0!=(6&l8))throw Error(h(327));var r=e.callbackNode;if(oG()&&e.callbackNode!==r)return null;var t=ni(e,e===l6?l9:0);if(0===t)return null;if(0!=(30&t)||0!=(t&e.expiredLanes)||n)n=oD(e,t);else{n=t;var i=l8;l8|=2;var s=oI();for((l6!==e||l9!==n)&&(oc=null,od=eZ()+500,oM(e,n));;)try{(function(){for(;null!==l5&&!eQ();)oB(l5)})();break}catch(n){oO(e,n)}iT(),l1.current=s,l8=i,null!==l5?n=0:(l6=null,l9=0,n=on)}if(0!==n){if(2===n&&0!==(i=ns(e))&&(t=i,n=oP(e,i)),1===n)throw r=or,oM(e,0),oF(e,t),ok(e,eZ()),r;if(6===n)oF(e,t);else{if(i=e.current.alternate,0==(30&t)&&!function(e){for(var n=e;;){if(16384&n.flags){var r=n.updateQueue;if(null!==r&&null!==(r=r.stores))for(var t=0;t<r.length;t++){var i=r[t],s=i.getSnapshot;i=i.value;try{if(!rA(s(),i))return!1}catch(e){return!1}}}if(r=n.child,16384&n.subtreeFlags&&null!==r)r.return=n,n=r;else{if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}(i)&&(2===(n=oD(e,t))&&0!==(s=ns(e))&&(t=s,n=oP(e,s)),1===n))throw r=or,oM(e,0),oF(e,t),ok(e,eZ()),r;switch(e.finishedWork=i,e.finishedLanes=t,n){case 0:case 1:throw Error(h(345));case 2:case 5:oL(e,oo,oc);break;case 3:if(oF(e,t),(130023424&t)===t&&10<(n=oa+500-eZ())){if(0!==ni(e,0))break;if(((i=e.suspendedLanes)&t)!==t){oy(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=tv(oL.bind(null,e,oo,oc),n);break}oL(e,oo,oc);break;case 4:if(oF(e,t),(4194240&t)===t)break;for(i=-1,n=e.eventTimes;0<t;){var l=31-e9(t);s=1<<l,(l=n[l])>i&&(i=l),t&=~s}if(t=i,10<(t=(120>(t=eZ()-t)?120:480>t?480:1080>t?1080:1920>t?1920:3e3>t?3e3:4320>t?4320:1960*l2(t/1960))-t)){e.timeoutHandle=tv(oL.bind(null,e,oo,oc),t);break}oL(e,oo,oc);break;default:throw Error(h(329))}}}return ok(e,eZ()),e.callbackNode===r?o_.bind(null,e):null}function oP(e,n){var r=ol;return e.current.memoizedState.isDehydrated&&(oM(e,n).flags|=256),2!==(e=oD(e,n))&&(n=oo,oo=r,null!==n&&oE(n)),e}function oE(e){null===oo?oo=e:oo.push.apply(oo,e)}function oF(e,n){for(n&=~os,n&=~oi,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var r=31-e9(n),t=1<<r;e[r]=-1,n&=~t}}function oN(e){if(0!=(6&l8))throw Error(h(327));oG();var n=ni(e,0);if(0==(1&n))return ok(e,eZ()),null;var r=oD(e,n);if(0!==e.tag&&2===r){var t=ns(e);0!==t&&(n=t,r=oP(e,t))}if(1===r)throw r=or,oM(e,0),oF(e,n),ok(e,eZ()),r;if(6===r)throw Error(h(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,oL(e,oo,oc),ok(e,eZ()),null}function oT(e,n){var r=l8;l8|=1;try{return e(n)}finally{0===(l8=r)&&(od=eZ()+500,t1&&t8())}}function oR(e){null!==om&&0===om.tag&&0==(6&l8)&&oG();var n=l8;l8|=1;var r=l4.transition,t=nc;try{if(l4.transition=null,nc=1,e)return e()}finally{nc=t,l4.transition=r,0==(6&(l8=n))&&t8()}}function oC(){l7=oe.current,tW(oe)}function oM(e,n){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,ty(r)),null!==l5)for(r=l5.return;null!==r;){var t=r;switch(id(t),t.tag){case 1:null!=(t=t.type.childContextTypes)&&tY();break;case 3:st(),tW(tX),tW(tq),sd();break;case 5:ss(t);break;case 4:st();break;case 13:case 19:tW(sl);break;case 10:iR(t.type._context);break;case 22:case 23:oC()}r=r.return}if(l6=e,l5=e=oK(e.current,null),l9=l7=n,on=0,or=null,os=oi=ot=0,oo=ol=null,null!==iI){for(n=0;n<iI.length;n++)if(null!==(t=(r=iI[n]).interleaved)){r.interleaved=null;var i=t.next,s=r.pending;if(null!==s){var l=s.next;s.next=i,t.next=l}r.pending=t}iI=null}return e}function oO(e,n){for(;;){var r=l5;try{if(iT(),sc.current=s4,sf){for(var t=sp.memoizedState;null!==t;){var i=t.queue;null!==i&&(i.pending=null),t=t.next}sf=!1}if(su=0,sm=sx=sp=null,sj=!1,sg=0,l3.current=null,null===r||null===r.return){on=1,or=n,l5=null;break}e:{var s=e,l=r.return,o=r,a=n;if(n=l9,o.flags|=32768,null!==a&&"object"==typeof a&&"function"==typeof a.then){var d=a,c=o,u=c.tag;if(0==(1&c.mode)&&(0===u||11===u||15===u)){var p=c.alternate;p?(c.updateQueue=p.updateQueue,c.memoizedState=p.memoizedState,c.lanes=p.lanes):(c.updateQueue=null,c.memoizedState=null)}var x=ls(l);if(null!==x){x.flags&=-257,ll(x,l,o,s,n),1&x.mode&&li(s,d,n),n=x,a=d;var m=n.updateQueue;if(null===m){var f=new Set;f.add(a),n.updateQueue=f}else m.add(a);break e}if(0==(1&n)){li(s,d,n),oA();break e}a=Error(h(426))}else if(iu&&1&o.mode){var j=ls(l);if(null!==j){0==(65536&j.flags)&&(j.flags|=256),ll(j,l,o,s,n),iS(s9(a,o));break e}}s=a=s9(a,o),4!==on&&(on=2),null===ol?ol=[s]:ol.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,n&=-n,s.lanes|=n;var g=lr(s,a,n);iq(s,g);break e;case 1:o=a;var b=s.type,v=s.stateNode;if(0==(128&s.flags)&&("function"==typeof b.getDerivedStateFromError||null!==v&&"function"==typeof v.componentDidCatch&&(null===op||!op.has(v)))){s.flags|=65536,n&=-n,s.lanes|=n;var y=lt(s,o,n);iq(s,y);break e}}s=s.return}while(null!==s)}oz(r)}catch(e){n=e,l5===r&&null!==r&&(l5=r=r.return);continue}break}}function oI(){var e=l1.current;return l1.current=s4,null===e?s4:e}function oA(){(0===on||3===on||2===on)&&(on=4),null===l6||0==(268435455&ot)&&0==(268435455&oi)||oF(l6,l9)}function oD(e,n){var r=l8;l8|=2;var t=oI();for((l6!==e||l9!==n)&&(oc=null,oM(e,n));;)try{(function(){for(;null!==l5;)oB(l5)})();break}catch(n){oO(e,n)}if(iT(),l8=r,l1.current=t,null!==l5)throw Error(h(261));return l6=null,l9=0,on}function oB(e){var n=a(e.alternate,e,l7);e.memoizedProps=e.pendingProps,null===n?oz(e):l5=n,l3.current=null}function oz(e){var n=e;do{var r=n.alternate;if(e=n.return,0==(32768&n.flags)){if(null!==(r=function(e,n,r){var t=n.pendingProps;switch(id(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lR(n),null;case 1:case 17:return tJ(n.type)&&tY(),lR(n),null;case 3:return t=n.stateNode,st(),tW(tX),tW(tq),sd(),t.pendingContext&&(t.context=t.pendingContext,t.pendingContext=null),(null===e||null===e.child)&&(iv(n)?n.flags|=4:null===e||e.memoizedState.isDehydrated&&0==(256&n.flags)||(n.flags|=1024,null!==ip&&(oE(ip),ip=null))),s(e,n),lR(n),null;case 5:ss(n);var a=sn(se.current);if(r=n.type,null!==e&&null!=n.stateNode)l(e,n,r,t,a),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!t){if(null===n.stateNode)throw Error(h(166));return lR(n),null}if(e=sn(i9.current),iv(n)){t=n.stateNode,r=n.type;var d=n.memoizedProps;switch(t[tN]=n,t[tT]=d,e=0!=(1&n.mode),r){case"dialog":tr("cancel",t),tr("close",t);break;case"iframe":case"object":case"embed":tr("load",t);break;case"video":case"audio":for(a=0;a<r9.length;a++)tr(r9[a],t);break;case"source":tr("error",t);break;case"img":case"image":case"link":tr("error",t),tr("load",t);break;case"details":tr("toggle",t);break;case"input":Z(t,d),tr("invalid",t);break;case"select":t._wrapperState={wasMultiple:!!d.multiple},tr("invalid",t);break;case"textarea":eo(t,d),tr("invalid",t)}for(var c in ey(r,d),a=null,d)if(d.hasOwnProperty(c)){var u=d[c];"children"===c?"string"==typeof u?t.textContent!==u&&(!0!==d.suppressHydrationWarning&&tm(t.textContent,u,e),a=["children",u]):"number"==typeof u&&t.textContent!==""+u&&(!0!==d.suppressHydrationWarning&&tm(t.textContent,u,e),a=["children",""+u]):p.hasOwnProperty(c)&&null!=u&&"onScroll"===c&&tr("scroll",t)}switch(r){case"input":J(t),er(t,d,!0);break;case"textarea":J(t),ed(t);break;case"select":case"option":break;default:"function"==typeof d.onClick&&(t.onclick=tf)}t=a,n.updateQueue=t,null!==t&&(n.flags|=4)}else{c=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ec(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=c.createElement("div")).innerHTML="<script></script>",e=e.removeChild(e.firstChild)):"string"==typeof t.is?e=c.createElement(r,{is:t.is}):(e=c.createElement(r),"select"===r&&(c=e,t.multiple?c.multiple=!0:t.size&&(c.size=t.size))):e=c.createElementNS(e,r),e[tN]=n,e[tT]=t,i(e,n,!1,!1),n.stateNode=e;e:{switch(c=ew(r,t),r){case"dialog":tr("cancel",e),tr("close",e),a=t;break;case"iframe":case"object":case"embed":tr("load",e),a=t;break;case"video":case"audio":for(a=0;a<r9.length;a++)tr(r9[a],e);a=t;break;case"source":tr("error",e),a=t;break;case"img":case"image":case"link":tr("error",e),tr("load",e),a=t;break;case"details":tr("toggle",e),a=t;break;case"input":Z(e,t),a=K(e,t),tr("invalid",e);break;case"option":default:a=t;break;case"select":e._wrapperState={wasMultiple:!!t.multiple},a=U({},t,{value:void 0}),tr("invalid",e);break;case"textarea":eo(e,t),a=el(e,t),tr("invalid",e)}for(d in ey(r,a),u=a)if(u.hasOwnProperty(d)){var x=u[d];"style"===d?eb(e,x):"dangerouslySetInnerHTML"===d?null!=(x=x?x.__html:void 0)&&ex(e,x):"children"===d?"string"==typeof x?("textarea"!==r||""!==x)&&em(e,x):"number"==typeof x&&em(e,""+x):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(p.hasOwnProperty(d)?null!=x&&"onScroll"===d&&tr("scroll",e):null!=x&&_(e,d,x,c))}switch(r){case"input":J(e),er(e,t,!1);break;case"textarea":J(e),ed(e);break;case"option":null!=t.value&&e.setAttribute("value",""+V(t.value));break;case"select":e.multiple=!!t.multiple,null!=(d=t.value)?es(e,!!t.multiple,d,!1):null!=t.defaultValue&&es(e,!!t.multiple,t.defaultValue,!0);break;default:"function"==typeof a.onClick&&(e.onclick=tf)}switch(r){case"button":case"input":case"select":case"textarea":t=!!t.autoFocus;break e;case"img":t=!0;break e;default:t=!1}}t&&(n.flags|=4)}null!==n.ref&&(n.flags|=512,n.flags|=2097152)}return lR(n),null;case 6:if(e&&null!=n.stateNode)o(e,n,e.memoizedProps,t);else{if("string"!=typeof t&&null===n.stateNode)throw Error(h(166));if(r=sn(se.current),sn(i9.current),iv(n)){if(t=n.stateNode,r=n.memoizedProps,t[tN]=n,(d=t.nodeValue!==r)&&null!==(e=ic))switch(e.tag){case 3:tm(t.nodeValue,r,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&tm(t.nodeValue,r,0!=(1&e.mode))}d&&(n.flags|=4)}else(t=(9===r.nodeType?r:r.ownerDocument).createTextNode(t))[tN]=n,n.stateNode=t}return lR(n),null;case 13:if(tW(sl),t=n.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(iu&&null!==ih&&0!=(1&n.mode)&&0==(128&n.flags))iy(),iw(),n.flags|=98560,d=!1;else if(d=iv(n),null!==t&&null!==t.dehydrated){if(null===e){if(!d)throw Error(h(318));if(!(d=null!==(d=n.memoizedState)?d.dehydrated:null))throw Error(h(317));d[tN]=n}else iw(),0==(128&n.flags)&&(n.memoizedState=null),n.flags|=4;lR(n),d=!1}else null!==ip&&(oE(ip),ip=null),d=!0;if(!d)return 65536&n.flags?n:null}if(0!=(128&n.flags))return n.lanes=r,n;return(t=null!==t)!=(null!==e&&null!==e.memoizedState)&&t&&(n.child.flags|=8192,0!=(1&n.mode)&&(null===e||0!=(1&sl.current)?0===on&&(on=3):oA())),null!==n.updateQueue&&(n.flags|=4),lR(n),null;case 4:return st(),s(e,n),null===e&&ts(n.stateNode.containerInfo),lR(n),null;case 10:return iR(n.type._context),lR(n),null;case 19:if(tW(sl),null===(d=n.memoizedState))return lR(n),null;if(t=0!=(128&n.flags),null===(c=d.rendering)){if(t)lT(d,!1);else{if(0!==on||null!==e&&0!=(128&e.flags))for(e=n.child;null!==e;){if(null!==(c=so(e))){for(n.flags|=128,lT(d,!1),null!==(t=c.updateQueue)&&(n.updateQueue=t,n.flags|=4),n.subtreeFlags=0,t=r,r=n.child;null!==r;)d=r,e=t,d.flags&=14680066,null===(c=d.alternate)?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=c.childLanes,d.lanes=c.lanes,d.child=c.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=c.memoizedProps,d.memoizedState=c.memoizedState,d.updateQueue=c.updateQueue,d.type=c.type,e=c.dependencies,d.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return tU(sl,1&sl.current|2),n.child}e=e.sibling}null!==d.tail&&eZ()>od&&(n.flags|=128,t=!0,lT(d,!1),n.lanes=4194304)}}else{if(!t){if(null!==(e=so(c))){if(n.flags|=128,t=!0,null!==(r=e.updateQueue)&&(n.updateQueue=r,n.flags|=4),lT(d,!0),null===d.tail&&"hidden"===d.tailMode&&!c.alternate&&!iu)return lR(n),null}else 2*eZ()-d.renderingStartTime>od&&1073741824!==r&&(n.flags|=128,t=!0,lT(d,!1),n.lanes=4194304)}d.isBackwards?(c.sibling=n.child,n.child=c):(null!==(r=d.last)?r.sibling=c:n.child=c,d.last=c)}if(null!==d.tail)return n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=eZ(),n.sibling=null,r=sl.current,tU(sl,t?1&r|2:1&r),n;return lR(n),null;case 22:case 23:return oC(),t=null!==n.memoizedState,null!==e&&null!==e.memoizedState!==t&&(n.flags|=8192),t&&0!=(1&n.mode)?0!=(1073741824&l7)&&(lR(n),6&n.subtreeFlags&&(n.flags|=8192)):lR(n),null;case 24:case 25:return null}throw Error(h(156,n.tag))}(r,n,l7))){l5=r;return}}else{if(null!==(r=function(e,n){switch(id(n),n.tag){case 1:return tJ(n.type)&&tY(),65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 3:return st(),tW(tX),tW(tq),sd(),0!=(65536&(e=n.flags))&&0==(128&e)?(n.flags=-65537&e|128,n):null;case 5:return ss(n),null;case 13:if(tW(sl),null!==(e=n.memoizedState)&&null!==e.dehydrated){if(null===n.alternate)throw Error(h(340));iw()}return 65536&(e=n.flags)?(n.flags=-65537&e|128,n):null;case 19:return tW(sl),null;case 4:return st(),null;case 10:return iR(n.type._context),null;case 22:case 23:return oC(),null;default:return null}}(r,n))){r.flags&=32767,l5=r;return}if(null!==e)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{on=6,l5=null;return}}if(null!==(n=n.sibling)){l5=n;return}l5=n=e}while(null!==n);0===on&&(on=5)}function oL(e,n,r){var t=nc,i=l4.transition;try{l4.transition=null,nc=1,function(e,n,r,t){do oG();while(null!==om);if(0!=(6&l8))throw Error(h(327));r=e.finishedWork;var i=e.finishedLanes;if(null===r)return;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(h(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(!function(e,n){var r=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var t=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-e9(r),s=1<<i;n[i]=0,t[i]=-1,e[i]=-1,r&=~s}}(e,s),e===l6&&(l5=l6=null,l9=0),0==(2064&r.subtreeFlags)&&0==(2064&r.flags)||ox||(ox=!0,function(e,n){eJ(e,n)}(e3,function(){return oG(),null})),s=0!=(15990&r.flags),0!=(15990&r.subtreeFlags)||s){s=l4.transition,l4.transition=null;var l,o,a,d=nc;nc=1;var c=l8;l8|=4,l3.current=null,!function(e,n){if(tj=nI,rG(e=rL())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var t=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(t&&0!==t.rangeCount){r=t.anchorNode;var i,s=t.anchorOffset,l=t.focusNode;t=t.focusOffset;try{r.nodeType,l.nodeType}catch(e){r=null;break e}var o=0,a=-1,d=-1,c=0,u=0,p=e,x=null;n:for(;;){for(;p!==r||0!==s&&3!==p.nodeType||(a=o+s),p!==l||0!==t&&3!==p.nodeType||(d=o+t),3===p.nodeType&&(o+=p.nodeValue.length),null!==(i=p.firstChild);){;x=p,p=i}for(;;){if(p===e)break n;if(x===r&&++c===s&&(a=o),x===l&&++u===t&&(d=o),null!==(i=p.nextSibling))break;x=(p=x).parentNode}p=i}r=-1===a||-1===d?null:{start:a,end:d}}else r=null}r=r||{start:0,end:0}}else r=null;for(tg={focusedElem:e,selectionRange:r},nI=!1,lI=n;null!==lI;)if(e=(n=lI).child,0!=(1028&n.subtreeFlags)&&null!==e)e.return=n,lI=e;else for(;null!==lI;){n=lI;try{var m=n.alternate;if(0!=(1024&n.flags))switch(n.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var f=m.memoizedProps,j=m.memoizedState,g=n.stateNode,b=g.getSnapshotBeforeUpdate(n.elementType===n.type?f:i_(n.type,f),j);g.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var v=n.stateNode.containerInfo;1===v.nodeType?v.textContent="":9===v.nodeType&&v.documentElement&&v.removeChild(v.documentElement);break;default:throw Error(h(163))}}catch(e){oU(n,n.return,e)}if(null!==(e=n.sibling)){e.return=n.return,lI=e;break}lI=n.return}m=lB,lB=!1}(e,r),lY(r,e),!function(e){var n=rL(),r=e.focusedElem,t=e.selectionRange;if(n!==r&&r&&r.ownerDocument&&function e(n,r){return!!n&&!!r&&(n===r||(!n||3!==n.nodeType)&&(r&&3===r.nodeType?e(n,r.parentNode):"contains"in n?n.contains(r):!!n.compareDocumentPosition&&!!(16&n.compareDocumentPosition(r))))}(r.ownerDocument.documentElement,r)){if(null!==t&&rG(r)){if(n=t.start,void 0===(e=t.end)&&(e=n),"selectionStart"in r)r.selectionStart=n,r.selectionEnd=Math.min(e,r.value.length);else if((e=(n=r.ownerDocument||document)&&n.defaultView||window).getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(t.start,i);t=void 0===t.end?s:Math.min(t.end,i),!e.extend&&s>t&&(i=t,t=s,s=i),i=rz(r,s);var l=rz(r,t);i&&l&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&((n=n.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>t?(e.addRange(n),e.extend(l.node,l.offset)):(n.setEnd(l.node,l.offset),e.addRange(n)))}}for(n=[],e=r;e=e.parentNode;)1===e.nodeType&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof r.focus&&r.focus(),r=0;r<n.length;r++)(e=n[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}(tg),nI=!!tj,tg=tj=null,e.current=r,l=r,o=e,a=i,lI=l,function e(n,r,t){for(var i=0!=(1&n.mode);null!==lI;){var s=lI,l=s.child;if(22===s.tag&&i){var o=null!==s.memoizedState||lC;if(!o){var a=s.alternate,d=null!==a&&null!==a.memoizedState||lM;a=lC;var c=lM;if(lC=o,(lM=d)&&!c)for(lI=s;null!==lI;)d=(o=lI).child,22===o.tag&&null!==o.memoizedState?l0(s):null!==d?(d.return=o,lI=d):l0(s);for(;null!==l;)lI=l,e(l,r,t),l=l.sibling;lI=s,lC=a,lM=c}lK(n,r,t)}else 0!=(8772&s.subtreeFlags)&&null!==l?(l.return=s,lI=l):lK(n,r,t)}}(l,o,a),eK(),l8=c,nc=d,l4.transition=s}else e.current=r;if(ox&&(ox=!1,om=e,of=i),0===(s=e.pendingLanes)&&(op=null),!function(e){if(e5&&"function"==typeof e5.onCommitFiberRoot)try{e5.onCommitFiberRoot(e6,e,void 0,128==(128&e.current.flags))}catch(e){}}(r.stateNode,t),ok(e,eZ()),null!==n)for(t=e.onRecoverableError,r=0;r<n.length;r++)t((i=n[r]).value,{componentStack:i.stack,digest:i.digest});if(oh)throw oh=!1,e=ou,ou=null,e;0!=(1&of)&&0!==e.tag&&oG(),0!=(1&(s=e.pendingLanes))?e===og?oj++:(oj=0,og=e):oj=0,t8()}(e,n,r,t)}finally{l4.transition=i,nc=t}return null}function oG(){if(null!==om){var e=nh(of),n=l4.transition,r=nc;try{if(l4.transition=null,nc=16>e?16:e,null===om)var t=!1;else{if(e=om,om=null,of=0,0!=(6&l8))throw Error(h(331));var i=l8;for(l8|=4,lI=e.current;null!==lI;){var s=lI,l=s.child;if(0!=(16&lI.flags)){var o=s.deletions;if(null!==o){for(var a=0;a<o.length;a++){var d=o[a];for(lI=d;null!==lI;){var c=lI;switch(c.tag){case 0:case 11:case 15:lz(8,c,s)}var u=c.child;if(null!==u)u.return=c,lI=u;else for(;null!==lI;){var p=(c=lI).sibling,x=c.return;if(!function e(n){var r=n.alternate;null!==r&&(n.alternate=null,e(r)),n.child=null,n.deletions=null,n.sibling=null,5===n.tag&&null!==(r=n.stateNode)&&(delete r[tN],delete r[tT],delete r[tC],delete r[tM],delete r[tO]),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}(c),c===d){lI=null;break}if(null!==p){p.return=x,lI=p;break}lI=x}}}var m=s.alternate;if(null!==m){var f=m.child;if(null!==f){m.child=null;do{var j=f.sibling;f.sibling=null,f=j}while(null!==f)}}lI=s}}if(0!=(2064&s.subtreeFlags)&&null!==l)l.return=s,lI=l;else n:for(;null!==lI;){if(s=lI,0!=(2048&s.flags))switch(s.tag){case 0:case 11:case 15:lz(9,s,s.return)}var g=s.sibling;if(null!==g){g.return=s.return,lI=g;break n}lI=s.return}}var b=e.current;for(lI=b;null!==lI;){var v=(l=lI).child;if(0!=(2064&l.subtreeFlags)&&null!==v)v.return=l,lI=v;else n:for(l=b;null!==lI;){if(o=lI,0!=(2048&o.flags))try{switch(o.tag){case 0:case 11:case 15:lL(9,o)}}catch(e){oU(o,o.return,e)}if(o===l){lI=null;break n}var y=o.sibling;if(null!==y){y.return=o.return,lI=y;break n}lI=o.return}}if(l8=i,t8(),e5&&"function"==typeof e5.onPostCommitFiberRoot)try{e5.onPostCommitFiberRoot(e6,e)}catch(e){}t=!0}return t}finally{nc=r,l4.transition=n}}return!1}function oW(e,n,r){n=s9(r,n),n=lr(e,n,1),e=iU(e,n,1),n=oy(),null!==e&&(na(e,1,n),ok(e,n))}function oU(e,n,r){if(3===e.tag)oW(e,e,r);else for(;null!==n;){if(3===n.tag){oW(n,e,r);break}if(1===n.tag){var t=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof t.componentDidCatch&&(null===op||!op.has(t))){e=s9(r,e),e=lt(n,e,1),n=iU(n,e,1),e=oy(),null!==n&&(na(n,1,e),ok(n,e));break}}n=n.return}}function oH(e,n,r){var t=e.pingCache;null!==t&&t.delete(n),n=oy(),e.pingedLanes|=e.suspendedLanes&r,l6===e&&(l9&r)===r&&(4===on||3===on&&(130023424&l9)===l9&&500>eZ()-oa?oM(e,0):os|=r),ok(e,n)}function oq(e,n){0===n&&(0==(1&e.mode)?n=1:(n=nr,0==(130023424&(nr<<=1))&&(nr=4194304)));var r=oy();null!==(e=iB(e,n))&&(na(e,n,r),ok(e,r))}function oX(e){var n=e.memoizedState,r=0;null!==n&&(r=n.retryLane),oq(e,r)}function oV(e,n){var r=0;switch(e.tag){case 13:var t=e.stateNode,i=e.memoizedState;null!==i&&(r=i.retryLane);break;case 19:t=e.stateNode;break;default:throw Error(h(314))}null!==t&&t.delete(n),oq(e,r)}function o$(e,n){return eJ(e,n)}function oJ(e,n,r,t){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=t,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function oY(e,n,r,t){return new oJ(e,n,r,t)}function oQ(e){return!(!(e=e.prototype)||!e.isReactComponent)}a=function(e,n,r){if(null!==e){if(e.memoizedProps!==n.pendingProps||tX.current)la=!0;else{if(0==(e.lanes&r)&&0==(128&n.flags))return la=!1,function(e,n,r){switch(n.tag){case 3:lg(n),iw();break;case 5:si(n);break;case 1:tJ(n.type)&&tZ(n);break;case 4:sr(n,n.stateNode.containerInfo);break;case 10:var t=n.type._context,i=n.memoizedProps.value;tU(iP,t._currentValue),t._currentValue=i;break;case 13:if(null!==(t=n.memoizedState)){if(null!==t.dehydrated)return tU(sl,1&sl.current),n.flags|=128,null;if(0!=(r&n.child.childLanes))return lw(e,n,r);return tU(sl,1&sl.current),null!==(e=lN(e,n,r))?e.sibling:null}tU(sl,1&sl.current);break;case 19:if(t=0!=(r&n.childLanes),0!=(128&e.flags)){if(t)return lE(e,n,r);n.flags|=128}if(null!==(i=n.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),tU(sl,sl.current),!t)return null;break;case 22:case 23:return n.lanes=0,lp(e,n,r)}return lN(e,n,r)}(e,n,r);la=0!=(131072&e.flags)}}else la=!1,iu&&0!=(1048576&n.flags)&&io(n,t7,n.index);switch(n.lanes=0,n.tag){case 2:var t=n.type;lF(e,n),e=n.pendingProps;var i=t$(n,tq.current);iM(n,r),i=sw(null,n,t,e,i,r);var s=sS();return n.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(n.tag=1,n.memoizedState=null,n.updateQueue=null,tJ(t)?(s=!0,tZ(n)):s=!1,n.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,iL(n),i.updater=iY,n.stateNode=i,i._reactInternals=n,i0(n,t,e,r),n=lj(null,n,t,!0,s,r)):(n.tag=0,iu&&s&&ia(n),ld(null,n,i,r),n=n.child),n;case 16:t=n.elementType;e:{switch(lF(e,n),e=n.pendingProps,t=(i=t._init)(t._payload),n.type=t,i=n.tag=function(e){if("function"==typeof e)return oQ(e)?1:0;if(null!=e){if((e=e.$$typeof)===O)return 11;if(e===D)return 14}return 2}(t),e=i_(t,e),i){case 0:n=lm(null,n,t,e,r);break e;case 1:n=lf(null,n,t,e,r);break e;case 11:n=lc(null,n,t,e,r);break e;case 14:n=lh(null,n,t,i_(t.type,e),r);break e}throw Error(h(306,t,""))}return n;case 0:return t=n.type,i=n.pendingProps,i=n.elementType===t?i:i_(t,i),lm(e,n,t,i,r);case 1:return t=n.type,i=n.pendingProps,i=n.elementType===t?i:i_(t,i),lf(e,n,t,i,r);case 3:e:{if(lg(n),null===e)throw Error(h(387));t=n.pendingProps,i=(s=n.memoizedState).element,iG(e,n),iX(n,t,null,r);var l=n.memoizedState;if(t=l.element,s.isDehydrated){if(s={element:t,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},n.updateQueue.baseState=s,n.memoizedState=s,256&n.flags){i=s9(Error(h(423)),n),n=lb(e,n,t,r,i);break e}if(t!==i){i=s9(Error(h(424)),n),n=lb(e,n,t,r,i);break e}else for(ih=tP(n.stateNode.containerInfo.firstChild),ic=n,iu=!0,ip=null,r=i6(n,null,t,r),n.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(iw(),t===i){n=lN(e,n,r);break e}ld(e,n,t,r)}n=n.child}return n;case 5:return si(n),null===e&&ig(n),t=n.type,i=n.pendingProps,s=null!==e?e.memoizedProps:null,l=i.children,tb(t,i)?l=null:null!==s&&tb(t,s)&&(n.flags|=32),lx(e,n),ld(e,n,l,r),n.child;case 6:return null===e&&ig(n),null;case 13:return lw(e,n,r);case 4:return sr(n,n.stateNode.containerInfo),t=n.pendingProps,null===e?n.child=i8(n,null,t,r):ld(e,n,t,r),n.child;case 11:return t=n.type,i=n.pendingProps,i=n.elementType===t?i:i_(t,i),lc(e,n,t,i,r);case 7:return ld(e,n,n.pendingProps,r),n.child;case 8:case 12:return ld(e,n,n.pendingProps.children,r),n.child;case 10:e:{if(t=n.type._context,i=n.pendingProps,s=n.memoizedProps,l=i.value,tU(iP,t._currentValue),t._currentValue=l,null!==s){if(rA(s.value,l)){if(s.children===i.children&&!tX.current){n=lN(e,n,r);break e}}else for(null!==(s=n.child)&&(s.return=n);null!==s;){var o=s.dependencies;if(null!==o){l=s.child;for(var a=o.firstContext;null!==a;){if(a.context===t){if(1===s.tag){(a=iW(-1,r&-r)).tag=2;var d=s.updateQueue;if(null!==d){var c=(d=d.shared).pending;null===c?a.next=a:(a.next=c.next,c.next=a),d.pending=a}}s.lanes|=r,null!==(a=s.alternate)&&(a.lanes|=r),iC(s.return,r,n),o.lanes|=r;break}a=a.next}}else if(10===s.tag)l=s.type===n.type?null:s.child;else if(18===s.tag){if(null===(l=s.return))throw Error(h(341));l.lanes|=r,null!==(o=l.alternate)&&(o.lanes|=r),iC(l,r,n),l=s.sibling}else l=s.child;if(null!==l)l.return=s;else for(l=s;null!==l;){if(l===n){l=null;break}if(null!==(s=l.sibling)){s.return=l.return,l=s;break}l=l.return}s=l}}ld(e,n,i.children,r),n=n.child}return n;case 9:return i=n.type,t=n.pendingProps.children,iM(n,r),i=iO(i),t=t(i),n.flags|=1,ld(e,n,t,r),n.child;case 14:return i=i_(t=n.type,n.pendingProps),i=i_(t.type,i),lh(e,n,t,i,r);case 15:return lu(e,n,n.type,n.pendingProps,r);case 17:return t=n.type,i=n.pendingProps,i=n.elementType===t?i:i_(t,i),lF(e,n),n.tag=1,tJ(t)?(e=!0,tZ(n)):e=!1,iM(n,r),iK(n,t,i),i0(n,t,i,r),lj(null,n,t,!0,e,r);case 19:return lE(e,n,r);case 22:return lp(e,n,r)}throw Error(h(156,n.tag))};function oK(e,n){var r=e.alternate;return null===r?((r=oY(e.tag,n,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=null===n?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function oZ(e,n,r,t,i,s){var l=2;if(t=e,"function"==typeof e)oQ(e)&&(l=1);else if("string"==typeof e)l=5;else e:switch(e){case N:return o0(r.children,i,s,n);case T:l=8,i|=8;break;case R:return(e=oY(12,r,n,2|i)).elementType=R,e.lanes=s,e;case I:return(e=oY(13,r,n,i)).elementType=I,e.lanes=s,e;case A:return(e=oY(19,r,n,i)).elementType=A,e.lanes=s,e;case z:return o2(r,i,s,n);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case C:l=10;break e;case M:l=9;break e;case O:l=11;break e;case D:l=14;break e;case B:l=16,t=null;break e}throw Error(h(130,null==e?e:typeof e,""))}return(n=oY(l,r,n,i)).elementType=e,n.type=t,n.lanes=s,n}function o0(e,n,r,t){return(e=oY(7,e,t,n)).lanes=r,e}function o2(e,n,r,t){return(e=oY(22,e,t,n)).elementType=z,e.lanes=r,e.stateNode={isHidden:!1},e}function o1(e,n,r){return(e=oY(6,e,null,n)).lanes=r,e}function o3(e,n,r){return(n=oY(4,null!==e.children?e.children:[],e.key,n)).lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function o4(e,n,r,t,i){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=no(0),this.expirationTimes=no(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=no(0),this.identifierPrefix=t,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function o8(e,n,r,t,i,s,l,o,a){return e=new o4(e,n,r,o,a),1===n?(n=1,!0===s&&(n|=8)):n=0,s=oY(3,null,null,n),e.current=s,s.stateNode=e,s.memoizedState={element:t,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},iL(s),e}function o6(e){if(!e)return tH;e=e._reactInternals;e:{if(eq(e)!==e||1!==e.tag)throw Error(h(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(tJ(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(null!==n);throw Error(h(171))}if(1===e.tag){var r=e.type;if(tJ(r))return tK(e,r,n)}return n}function o5(e,n,r,t,i,s,l,o,a){return(e=o8(r,t,!0,e,i,s,l,o,a)).context=o6(null),r=e.current,t=oy(),(s=iW(t,i=ow(r))).callback=null!=n?n:null,iU(r,s,i),e.current.lanes=i,na(e,i,t),ok(e,t),e}function o9(e,n,r,t){var i=n.current,s=oy(),l=ow(i);return r=o6(r),null===n.context?n.context=r:n.pendingContext=r,(n=iW(s,l)).payload={element:e},null!==(t=void 0===t?null:t)&&(n.callback=t),null!==(e=iU(i,n,l))&&(oS(e,i,l,s),iH(e,i,l)),l}function o7(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function ae(e,n){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<n?r:n}}function an(e,n){ae(e,n),(e=e.alternate)&&ae(e,n)}var ar="function"==typeof reportError?reportError:function(e){console.error(e)};function at(e){this._internalRoot=e}function ai(e){this._internalRoot=e}function as(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function al(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ao(){}ai.prototype.render=at.prototype.render=function(e){var n=this._internalRoot;if(null===n)throw Error(h(409));o9(e,n,null,null)},ai.prototype.unmount=at.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var n=e.containerInfo;oR(function(){o9(null,e,null,null)}),n[tR]=null}},ai.prototype.unstable_scheduleHydration=function(e){if(e){var n=nm();e={blockedOn:null,target:e,priority:n};for(var r=0;r<nk.length&&0!==n&&n<nk[r].priority;r++);nk.splice(r,0,e),0===r&&nF(e)}};function aa(e,n,r,t,i){var s=r._reactRootContainer;if(s){var l=s;if("function"==typeof i){var o=i;i=function(){var e=o7(l);o.call(e)}}o9(n,l,e,i)}else l=function(e,n,r,t,i){if(i){if("function"==typeof t){var s=t;t=function(){var e=o7(l);s.call(e)}}var l=o5(n,t,e,0,null,!1,!1,"",ao);return e._reactRootContainer=l,e[tR]=l.current,ts(8===e.nodeType?e.parentNode:e),oR(),l}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof t){var o=t;t=function(){var e=o7(a);o.call(e)}}var a=o8(e,0,!1,null,null,!1,!1,"",ao);return e._reactRootContainer=a,e[tR]=a.current,ts(8===e.nodeType?e.parentNode:e),oR(function(){o9(n,a,r,t)}),a}(r,n,e,i,t);return o7(l)}nu=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var r=nt(n.pendingLanes);0!==r&&(nd(n,1|r),ok(n,eZ()),0==(6&l8)&&(od=eZ()+500,t8()))}break;case 13:oR(function(){var n=iB(e,1);null!==n&&oS(n,e,1,oy())}),an(e,1)}},np=function(e){if(13===e.tag){var n=iB(e,134217728);null!==n&&oS(n,e,134217728,oy()),an(e,134217728)}},nx=function(e){if(13===e.tag){var n=ow(e),r=iB(e,n);null!==r&&oS(r,e,n,oy()),an(e,n)}},nm=function(){return nc},nf=function(e,n){var r=nc;try{return nc=e,n()}finally{nc=r}},e_=function(e,n,r){switch(n){case"input":if(en(e,r),n=r.name,"radio"===r.type&&null!=n){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<r.length;n++){var t=r[n];if(t!==e&&t.form===e.form){var i=tB(t);if(!i)throw Error(h(90));Y(t),en(t,i)}}}break;case"textarea":ea(e,r);break;case"select":null!=(n=r.value)&&es(e,!!r.multiple,n,!1)}},eR=oT,eC=oR;var ad={findFiberByHostInstance:tI,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ac={bundleType:ad.bundleType,version:ad.version,rendererPackageName:ad.rendererPackageName,rendererConfig:ad.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:P.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=e$(e))?null:e.stateNode},findFiberByHostInstance:ad.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ah=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ah.isDisabled&&ah.supportsFiber)try{e6=ah.inject(ac),e5=ah}catch(e){}}n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED={usingClientEntryPoint:!1,Events:[tA,tD,tB,eN,eT,oT]},n.createPortal=function(e,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!as(n))throw Error(h(200));return function(e,n,r){var t=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:F,key:null==t?null:""+t,children:e,containerInfo:n,implementation:null}}(e,n,null,r)},n.createRoot=function(e,n){if(!as(e))throw Error(h(299));var r=!1,t="",i=ar;return null!=n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(t=n.identifierPrefix),void 0!==n.onRecoverableError&&(i=n.onRecoverableError)),n=o8(e,1,!1,null,null,r,!1,t,i),e[tR]=n.current,ts(8===e.nodeType?e.parentNode:e),new at(n)},n.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var n=e._reactInternals;if(void 0===n){if("function"==typeof e.render)throw Error(h(188));throw Error(h(268,e=Object.keys(e).join(",")))}return e=null===(e=e$(n))?null:e.stateNode},n.flushSync=function(e){return oR(e)},n.hydrate=function(e,n,r){if(!al(n))throw Error(h(200));return aa(null,e,n,!0,r)},n.hydrateRoot=function(e,n,r){if(!as(e))throw Error(h(405));var t=null!=r&&r.hydratedSources||null,i=!1,s="",l=ar;if(null!=r&&(!0===r.unstable_strictMode&&(i=!0),void 0!==r.identifierPrefix&&(s=r.identifierPrefix),void 0!==r.onRecoverableError&&(l=r.onRecoverableError)),n=o5(n,null,e,1,null!=r?r:null,i,!1,s,l),e[tR]=n.current,ts(e),t)for(e=0;e<t.length;e++)i=(i=(r=t[e])._getVersion)(r._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[r,i]:n.mutableSourceEagerHydrationData.push(r,i);return new ai(n)},n.render=function(e,n,r){if(!al(n))throw Error(h(200));return aa(null,e,n,!1,r)},n.unmountComponentAtNode=function(e){if(!al(e))throw Error(h(40));return!!e._reactRootContainer&&(oR(function(){aa(null,null,e,!1,function(){e._reactRootContainer=null,e[tR]=null})}),!0)},n.unstable_batchedUpdates=oT,n.unstable_renderSubtreeIntoContainer=function(e,n,r,t){if(!al(r))throw Error(h(200));if(null==e||void 0===e._reactInternals)throw Error(h(38));return aa(e,n,r,!1,t)},n.version="18.2.0-next-9e3b772b8-20220608"},11167:function(e,n,r){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=r("63703")},26176:function(e,n,r){"use strict";var t,i;t=r("32752"),i=r("28656"),n.version=t.version,n.renderToString=t.renderToString,n.renderToStaticMarkup=t.renderToStaticMarkup,n.renderToNodeStream=t.renderToNodeStream,n.renderToStaticNodeStream=t.renderToStaticNodeStream,n.renderToPipeableStream=i.renderToPipeableStream},94086:function(e,n,r){var t="undefined"!=typeof Element,i="function"==typeof Map,s="function"==typeof Set,l="function"==typeof ArrayBuffer&&!!ArrayBuffer.isView;e.exports=function(e,n){try{return function e(n,r){if(n===r)return!0;if(n&&r&&"object"==typeof n&&"object"==typeof r){var o,a,d,c;if(n.constructor!==r.constructor)return!1;if(Array.isArray(n)){if((o=n.length)!=r.length)return!1;for(a=o;0!=a--;)if(!e(n[a],r[a]))return!1;return!0}if(i&&n instanceof Map&&r instanceof Map){if(n.size!==r.size)return!1;for(c=n.entries();!(a=c.next()).done;)if(!r.has(a.value[0]))return!1;for(c=n.entries();!(a=c.next()).done;)if(!e(a.value[1],r.get(a.value[0])))return!1;return!0}if(s&&n instanceof Set&&r instanceof Set){if(n.size!==r.size)return!1;for(c=n.entries();!(a=c.next()).done;)if(!r.has(a.value[0]))return!1;return!0}if(l&&ArrayBuffer.isView(n)&&ArrayBuffer.isView(r)){if((o=n.length)!=r.length)return!1;for(a=o;0!=a--;)if(n[a]!==r[a])return!1;return!0}if(n.constructor===RegExp)return n.source===r.source&&n.flags===r.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===r.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===r.toString();if((o=(d=Object.keys(n)).length)!==Object.keys(r).length)return!1;for(a=o;0!=a--;)if(!Object.prototype.hasOwnProperty.call(r,d[a]))return!1;if(t&&n instanceof Element)return!1;for(a=o;0!=a--;)if(("_owner"!==d[a]&&"__v"!==d[a]&&"__o"!==d[a]||!n.$$typeof)&&!e(n[d[a]],r[d[a]]))return!1;return!0}return n!=n&&r!=r}(e,n)}catch(e){if((e.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw e}}},78585:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{Helmet:function(){return V},HelmetProvider:function(){return z}});var t=r.ir(r("6171")),i=r.ir(r("47459")),s=r.ir(r("94086")),l=r.ir(r("53502")),o=r.ir(r("28722"));function a(){return(a=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}function d(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,c(e,n)}function c(e,n){return(c=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function h(e,n){if(null==e)return{};var r,t,i={},s=Object.keys(e);for(t=0;t<s.length;t++)n.indexOf(r=s[t])>=0||(i[r]=e[r]);return i}var u={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title",FRAGMENT:"Symbol(react.fragment)"},p={rel:["amphtml","canonical","alternate"]},x={type:["application/ld+json"]},m={charset:"",name:["robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},f=Object.keys(u).map(function(e){return u[e]}),j={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},g=Object.keys(j).reduce(function(e,n){return e[j[n]]=n,e},{}),b=function(e,n){for(var r=e.length-1;r>=0;r-=1){var t=e[r];if(Object.prototype.hasOwnProperty.call(t,n))return t[n]}return null},v=function(e){var n=b(e,u.TITLE),r=b(e,"titleTemplate");if(Array.isArray(n)&&(n=n.join("")),r&&n)return r.replace(/%s/g,function(){return n});var t=b(e,"defaultTitle");return n||t||void 0},y=function(e,n){return n.filter(function(n){return void 0!==n[e]}).map(function(n){return n[e]}).reduce(function(e,n){return a({},e,n)},{})},w=function(e,n,r){var t={};return r.filter(function(n){return!!Array.isArray(n[e])||(void 0!==n[e]&&console&&"function"==typeof console.warn&&console.warn("Helmet: "+e+' should be of type "Array". Instead found type "'+typeof n[e]+'"'),!1)}).map(function(n){return n[e]}).reverse().reduce(function(e,r){var i={};r.filter(function(e){for(var r,s=Object.keys(e),l=0;l<s.length;l+=1){var o=s[l],a=o.toLowerCase();-1===n.indexOf(a)||"rel"===r&&"canonical"===e[r].toLowerCase()||"rel"===a&&"stylesheet"===e[a].toLowerCase()||(r=a),-1===n.indexOf(o)||"innerHTML"!==o&&"cssText"!==o&&"itemprop"!==o||(r=o)}if(!r||!e[r])return!1;var d=e[r].toLowerCase();return t[r]||(t[r]={}),i[r]||(i[r]={}),!t[r][d]&&(i[r][d]=!0,!0)}).reverse().forEach(function(n){return e.push(n)});for(var s=Object.keys(i),l=0;l<s.length;l+=1){var o=s[l],d=a({},t[o],i[o]);t[o]=d}return e},[]).reverse()},S=function(e,n){if(Array.isArray(e)&&e.length){for(var r=0;r<e.length;r+=1)if(e[r][n])return!0}return!1},k=function(e){return Array.isArray(e)?e.join(""):e},_=function(e,n){return Array.isArray(e)?e.reduce(function(e,r){return!function(e,n){for(var r=Object.keys(e),t=0;t<r.length;t+=1)if(n[r[t]]&&n[r[t]].includes(e[r[t]]))return!0;return!1}(r,n)?e.default.push(r):e.priority.push(r),e},{priority:[],default:[]}):{default:e}},P=function(e,n){var r;return a({},e,((r={})[n]=void 0,r))},E=[u.NOSCRIPT,u.SCRIPT,u.STYLE],F=function(e,n){return void 0===n&&(n=!0),!1===n?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},N=function(e){return Object.keys(e).reduce(function(n,r){var t=void 0!==e[r]?r+'="'+e[r]+'"':""+r;return n?n+" "+t:t},"")},T=function(e,n){return void 0===n&&(n={}),Object.keys(e).reduce(function(n,r){return n[j[r]||r]=e[r],n},n)},R=function(e,n){return n.map(function(n,r){var i,s=((i={key:r})["data-rh"]=!0,i);return Object.keys(n).forEach(function(e){var r=j[e]||e;"innerHTML"===r||"cssText"===r?s.dangerouslySetInnerHTML={__html:n.innerHTML||n.cssText}:s[r]=n[e]}),t.default.createElement(e,s)})},C=function(e,n,r){switch(e){case u.TITLE:return{toComponent:function(){var e,r,i,s;return r=n.titleAttributes,(i={key:e=n.title})["data-rh"]=!0,s=T(r,i),[t.default.createElement(u.TITLE,s,e)]},toString:function(){var t,i,s,l,o,a;return t=e,i=n.title,s=n.titleAttributes,l=r,o=N(s),a=k(i),o?"<"+t+' data-rh="true" '+o+">"+F(a,l)+"</"+t+">":"<"+t+' data-rh="true">'+F(a,l)+"</"+t+">"}};case"bodyAttributes":case"htmlAttributes":return{toComponent:function(){return T(n)},toString:function(){return N(n)}};default:return{toComponent:function(){return R(e,n)},toString:function(){var t,i,s;return t=e,i=n,s=r,i.reduce(function(e,n){var r=Object.keys(n).filter(function(e){return!("innerHTML"===e||"cssText"===e)}).reduce(function(e,r){var t=void 0===n[r]?r:r+'="'+F(n[r],s)+'"';return e?e+" "+t:t},""),i=n.innerHTML||n.cssText||"",l=-1===E.indexOf(t);return e+"<"+t+' data-rh="true" '+r+(l?"/>":">"+i+"</"+t+">")},"")}}}},M=function(e){var n=e.baseTag,r=e.bodyAttributes,t=e.encode,i=e.htmlAttributes,s=e.noscriptTags,l=e.styleTags,o=e.title,a=e.titleAttributes,d=e.linkTags,c=e.metaTags,h=e.scriptTags,f={toComponent:function(){},toString:function(){return""}};if(e.prioritizeSeoTags){var j,g,b,v,y,w,S,k=(g=(j=e).linkTags,b=j.scriptTags,v=j.encode,y=_(j.metaTags,m),w=_(g,p),S=_(b,x),{priorityMethods:{toComponent:function(){return[].concat(R(u.META,y.priority),R(u.LINK,w.priority),R(u.SCRIPT,S.priority))},toString:function(){return C(u.META,y.priority,v)+" "+C(u.LINK,w.priority,v)+" "+C(u.SCRIPT,S.priority,v)}},metaTags:y.default,linkTags:w.default,scriptTags:S.default});f=k.priorityMethods,d=k.linkTags,c=k.metaTags,h=k.scriptTags}return{priority:f,base:C(u.BASE,n,t),bodyAttributes:C("bodyAttributes",r,t),htmlAttributes:C("htmlAttributes",i,t),link:C(u.LINK,d,t),meta:C(u.META,c,t),noscript:C(u.NOSCRIPT,s,t),script:C(u.SCRIPT,h,t),style:C(u.STYLE,l,t),title:C(u.TITLE,{title:void 0===o?"":o,titleAttributes:a},t)}},O=[],I=function(e,n){var r=this;void 0===n&&(n="undefined"!=typeof document),this.instances=[],this.value={setHelmet:function(e){r.context.helmet=e},helmetInstances:{get:function(){return r.canUseDOM?O:r.instances},add:function(e){(r.canUseDOM?O:r.instances).push(e)},remove:function(e){var n=(r.canUseDOM?O:r.instances).indexOf(e);(r.canUseDOM?O:r.instances).splice(n,1)}}},this.context=e,this.canUseDOM=n,n||(e.helmet=M({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))},A=t.default.createContext({}),D=i.default.shape({setHelmet:i.default.func,helmetInstances:i.default.shape({get:i.default.func,add:i.default.func,remove:i.default.func})}),B="undefined"!=typeof document,z=function(e){function n(r){var t;return(t=e.call(this,r)||this).helmetData=new I(t.props.context,n.canUseDOM),t}return d(n,e),n.prototype.render=function(){return t.default.createElement(A.Provider,{value:this.helmetData.value},this.props.children)},n}(t.Component);z.canUseDOM=B,z.propTypes={context:i.default.shape({helmet:i.default.shape()}),children:i.default.node.isRequired},z.defaultProps={context:{}},z.displayName="HelmetProvider";var L=function(e,n){var r,t=document.head||document.querySelector(u.HEAD),i=t.querySelectorAll(e+"[data-rh]"),s=[].slice.call(i),l=[];return n&&n.length&&n.forEach(function(n){var t=document.createElement(e);for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&("innerHTML"===i?t.innerHTML=n.innerHTML:"cssText"===i?t.styleSheet?t.styleSheet.cssText=n.cssText:t.appendChild(document.createTextNode(n.cssText)):t.setAttribute(i,void 0===n[i]?"":n[i]));t.setAttribute("data-rh","true"),s.some(function(e,n){return r=n,t.isEqualNode(e)})?s.splice(r,1):l.push(t)}),s.forEach(function(e){return e.parentNode.removeChild(e)}),l.forEach(function(e){return t.appendChild(e)}),{oldTags:s,newTags:l}},G=function(e,n){var r=document.getElementsByTagName(e)[0];if(r){for(var t=r.getAttribute("data-rh"),i=t?t.split(","):[],s=[].concat(i),l=Object.keys(n),o=0;o<l.length;o+=1){var a=l[o],d=n[a]||"";r.getAttribute(a)!==d&&r.setAttribute(a,d),-1===i.indexOf(a)&&i.push(a);var c=s.indexOf(a);-1!==c&&s.splice(c,1)}for(var h=s.length-1;h>=0;h-=1)r.removeAttribute(s[h]);i.length===s.length?r.removeAttribute("data-rh"):r.getAttribute("data-rh")!==l.join(",")&&r.setAttribute("data-rh",l.join(","))}},W=function(e,n){var r,t,i=e.baseTag,s=e.htmlAttributes,l=e.linkTags,o=e.metaTags,a=e.noscriptTags,d=e.onChangeClientState,c=e.scriptTags,h=e.styleTags,p=e.title,x=e.titleAttributes;G(u.BODY,e.bodyAttributes),G(u.HTML,s),r=p,t=x,void 0!==r&&document.title!==r&&(document.title=k(r)),G(u.TITLE,t);var m={baseTag:L(u.BASE,i),linkTags:L(u.LINK,l),metaTags:L(u.META,o),noscriptTags:L(u.NOSCRIPT,a),scriptTags:L(u.SCRIPT,c),styleTags:L(u.STYLE,h)},f={},j={};Object.keys(m).forEach(function(e){var n=m[e],r=n.newTags,t=n.oldTags;r.length&&(f[e]=r),t.length&&(j[e]=m[e].oldTags)}),n&&n(),d(e,f,j)},U=null,H=function(e){function n(){for(var n,r=arguments.length,t=Array(r),i=0;i<r;i++)t[i]=arguments[i];return(n=e.call.apply(e,[this].concat(t))||this).rendered=!1,n}d(n,e);var r=n.prototype;return r.shouldComponentUpdate=function(e){return!(0,o.default)(e,this.props)},r.componentDidUpdate=function(){this.emitChange()},r.componentWillUnmount=function(){this.props.context.helmetInstances.remove(this),this.emitChange()},r.emitChange=function(){var e,n,r=this.props.context,t=r.setHelmet,i=null,s={baseTag:(e=["href"],(n=r.helmetInstances.get().map(function(e){var n=a({},e.props);return delete n.context,n})).filter(function(e){return void 0!==e[u.BASE]}).map(function(e){return e[u.BASE]}).reverse().reduce(function(n,r){if(!n.length)for(var t=Object.keys(r),i=0;i<t.length;i+=1){var s=t[i].toLowerCase();if(-1!==e.indexOf(s)&&r[s])return n.concat(r)}return n},[])),bodyAttributes:y("bodyAttributes",n),defer:b(n,"defer"),encode:b(n,"encodeSpecialCharacters"),htmlAttributes:y("htmlAttributes",n),linkTags:w(u.LINK,["rel","href"],n),metaTags:w(u.META,["name","charset","http-equiv","property","itemprop"],n),noscriptTags:w(u.NOSCRIPT,["innerHTML"],n),onChangeClientState:b(n,"onChangeClientState")||function(){},scriptTags:w(u.SCRIPT,["src","innerHTML"],n),styleTags:w(u.STYLE,["cssText"],n),title:v(n),titleAttributes:y("titleAttributes",n),prioritizeSeoTags:S(n,"prioritizeSeoTags")};z.canUseDOM?(U&&cancelAnimationFrame(U),s.defer?U=requestAnimationFrame(function(){W(s,function(){U=null})}):(W(s),U=null)):M&&(i=M(s)),t(i)},r.init=function(){this.rendered||(this.rendered=!0,this.props.context.helmetInstances.add(this),this.emitChange())},r.render=function(){return this.init(),null},n}(t.Component);H.propTypes={context:D.isRequired},H.displayName="HelmetDispatcher";var q=["children"],X=["children"],V=function(e){function n(){return e.apply(this,arguments)||this}d(n,e);var r=n.prototype;return r.shouldComponentUpdate=function(e){return!(0,s.default)(P(this.props,"helmetData"),P(e,"helmetData"))},r.mapNestedChildrenToProps=function(e,n){if(!n)return null;switch(e.type){case u.SCRIPT:case u.NOSCRIPT:return{innerHTML:n};case u.STYLE:return{cssText:n};default:throw Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")}},r.flattenArrayTypeChildren=function(e){var n,r=e.child,t=e.arrayTypeChildren;return a({},t,((n={})[r.type]=[].concat(t[r.type]||[],[a({},e.newChildProps,this.mapNestedChildrenToProps(r,e.nestedChildren))]),n))},r.mapObjectTypeChildren=function(e){var n,r,t=e.child,i=e.newProps,s=e.newChildProps,l=e.nestedChildren;switch(t.type){case u.TITLE:return a({},i,((n={})[t.type]=l,n.titleAttributes=a({},s),n));case u.BODY:return a({},i,{bodyAttributes:a({},s)});case u.HTML:return a({},i,{htmlAttributes:a({},s)});default:return a({},i,((r={})[t.type]=a({},s),r))}},r.mapArrayTypeChildrenToProps=function(e,n){var r=a({},n);return Object.keys(e).forEach(function(n){var t;r=a({},r,((t={})[n]=e[n],t))}),r},r.warnOnInvalidChildren=function(e,n){return(0,l.default)(f.some(function(n){return e.type===n}),"function"==typeof e.type?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":"Only elements types "+f.join(", ")+" are allowed. Helmet does not support rendering <"+e.type+"> elements. Refer to our API for more information."),(0,l.default)(!n||"string"==typeof n||Array.isArray(n)&&!n.some(function(e){return"string"!=typeof e}),"Helmet expects a string as a child of <"+e.type+">. Did you forget to wrap your children in braces? ( <"+e.type+">{``}</"+e.type+"> ) Refer to our API for more information."),!0},r.mapChildrenToProps=function(e,n){var r=this,i={};return t.default.Children.forEach(e,function(e){if(e&&e.props){var t=e.props,s=t.children,l=h(t,q),o=Object.keys(l).reduce(function(e,n){return e[g[n]||n]=l[n],e},{}),a=e.type;switch("symbol"==typeof a?a=a.toString():r.warnOnInvalidChildren(e,s),a){case u.FRAGMENT:n=r.mapChildrenToProps(s,n);break;case u.LINK:case u.META:case u.NOSCRIPT:case u.SCRIPT:case u.STYLE:i=r.flattenArrayTypeChildren({child:e,arrayTypeChildren:i,newChildProps:o,nestedChildren:s});break;default:n=r.mapObjectTypeChildren({child:e,newProps:n,newChildProps:o,nestedChildren:s})}}}),this.mapArrayTypeChildrenToProps(i,n)},r.render=function(){var e=this.props,n=e.children,r=h(e,X),i=a({},r),s=r.helmetData;return n&&(i=this.mapChildrenToProps(n,i)),!s||s instanceof I||(s=new I(s.context,s.instances)),s?t.default.createElement(H,a({},i,{context:s.value,helmetData:void 0})):t.default.createElement(A.Consumer,null,function(e){return t.default.createElement(H,a({},i,{context:e}))})},n}(t.Component);V.propTypes={base:i.default.object,bodyAttributes:i.default.object,children:i.default.oneOfType([i.default.arrayOf(i.default.node),i.default.node]),defaultTitle:i.default.string,defer:i.default.bool,encodeSpecialCharacters:i.default.bool,htmlAttributes:i.default.object,link:i.default.arrayOf(i.default.object),meta:i.default.arrayOf(i.default.object),noscript:i.default.arrayOf(i.default.object),onChangeClientState:i.default.func,script:i.default.arrayOf(i.default.object),style:i.default.arrayOf(i.default.object),title:i.default.string,titleAttributes:i.default.object,titleTemplate:i.default.string,prioritizeSeoTags:i.default.bool,helmetData:i.default.object},V.defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1},V.displayName="Helmet"},89440:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.lazyWithPreload=void 0;var t=r("6171");function i(e){var n,r,i=(0,t.lazy)(e),s=(0,t.forwardRef)(function(e,r){var s=(0,t.useRef)(null!=n?n:i);return(0,t.createElement)(s.current,Object.assign(r?{ref:r}:{},e))});return s.preload=function(){return!r&&(r=e().then(function(e){return n=e.default})),r},s}n.lazyWithPreload=i,n.default=i},66811:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{AbortedDeferredError:function(){return a.AbortedDeferredError},Await:function(){return a.Await},MemoryRouter:function(){return a.MemoryRouter},Navigate:function(){return a.Navigate},NavigationType:function(){return a.NavigationType},Outlet:function(){return a.Outlet},Route:function(){return a.Route},Router:function(){return a.Router},RouterProvider:function(){return a.RouterProvider},Routes:function(){return a.Routes},UNSAFE_DataRouterContext:function(){return a.UNSAFE_DataRouterContext},UNSAFE_DataRouterStateContext:function(){return a.UNSAFE_DataRouterStateContext},UNSAFE_LocationContext:function(){return a.UNSAFE_LocationContext},UNSAFE_NavigationContext:function(){return a.UNSAFE_NavigationContext},UNSAFE_RouteContext:function(){return a.UNSAFE_RouteContext},UNSAFE_useRouteId:function(){return a.UNSAFE_useRouteId},createMemoryRouter:function(){return a.createMemoryRouter},createPath:function(){return a.createPath},createRoutesFromChildren:function(){return a.createRoutesFromChildren},createRoutesFromElements:function(){return a.createRoutesFromElements},defer:function(){return a.defer},generatePath:function(){return a.generatePath},isRouteErrorResponse:function(){return a.isRouteErrorResponse},json:function(){return a.json},matchPath:function(){return a.matchPath},matchRoutes:function(){return a.matchRoutes},parsePath:function(){return a.parsePath},redirect:function(){return a.redirect},renderMatches:function(){return a.renderMatches},resolvePath:function(){return a.resolvePath},unstable_useBlocker:function(){return a.unstable_useBlocker},useActionData:function(){return a.useActionData},useAsyncError:function(){return a.useAsyncError},useAsyncValue:function(){return a.useAsyncValue},useHref:function(){return a.useHref},useInRouterContext:function(){return a.useInRouterContext},useLoaderData:function(){return a.useLoaderData},useLocation:function(){return a.useLocation},useMatch:function(){return a.useMatch},useMatches:function(){return a.useMatches},useNavigate:function(){return a.useNavigate},useNavigation:function(){return a.useNavigation},useNavigationType:function(){return a.useNavigationType},useOutlet:function(){return a.useOutlet},useOutletContext:function(){return a.useOutletContext},useParams:function(){return a.useParams},useResolvedPath:function(){return a.useResolvedPath},useRevalidator:function(){return a.useRevalidator},useRouteError:function(){return a.useRouteError},useRouteLoaderData:function(){return a.useRouteLoaderData},useRoutes:function(){return a.useRoutes},BrowserRouter:function(){return y},Form:function(){return F},HashRouter:function(){return w},Link:function(){return P},NavLink:function(){return E},ScrollRestoration:function(){return T},UNSAFE_useScrollRestoration:function(){return U},createBrowserRouter:function(){return g},createHashRouter:function(){return b},createSearchParams:function(){return x},unstable_HistoryRouter:function(){return S},unstable_usePrompt:function(){return q},useBeforeUnload:function(){return H},useFetcher:function(){return z},useFetchers:function(){return L},useFormAction:function(){return D},useLinkClickHandler:function(){return M},useSearchParams:function(){return O},useSubmit:function(){return I}});var t,i,s,l,o=r.ir(r("6171")),a=r("44870"),d=r("57402");function c(){return(c=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}function h(e,n){if(null==e)return{};var r,t,i={},s=Object.keys(e);for(t=0;t<s.length;t++)r=s[t],!(n.indexOf(r)>=0)&&(i[r]=e[r]);return i}let u="application/x-www-form-urlencoded";function p(e){return null!=e&&"string"==typeof e.tagName}function x(e){return void 0===e&&(e=""),new URLSearchParams("string"==typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((n,r)=>{let t=e[r];return n.concat(Array.isArray(t)?t.map(e=>[r,e]):[[r,t]])},[]))}let m=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],f=["aria-current","caseSensitive","className","end","style","to","children"],j=["reloadDocument","replace","method","action","onSubmit","fetcherKey","routeId","relative","preventScrollReset"];function g(e,n){return(0,d.createRouter)({basename:null==n?void 0:n.basename,future:c({},null==n?void 0:n.future,{v7_prependBasename:!0}),history:(0,d.createBrowserHistory)({window:null==n?void 0:n.window}),hydrationData:(null==n?void 0:n.hydrationData)||v(),routes:e,mapRouteProperties:a.UNSAFE_mapRouteProperties}).initialize()}function b(e,n){return(0,d.createRouter)({basename:null==n?void 0:n.basename,future:c({},null==n?void 0:n.future,{v7_prependBasename:!0}),history:(0,d.createHashHistory)({window:null==n?void 0:n.window}),hydrationData:(null==n?void 0:n.hydrationData)||v(),routes:e,mapRouteProperties:a.UNSAFE_mapRouteProperties}).initialize()}function v(){var e;let n=null==(e=window)?void 0:e.__staticRouterHydrationData;return n&&n.errors&&(n=c({},n,{errors:function(e){if(!e)return null;let n=Object.entries(e),r={};for(let[e,t]of n)if(t&&"RouteErrorResponse"===t.__type)r[e]=new d.ErrorResponse(t.status,t.statusText,t.data,!0===t.internal);else if(t&&"Error"===t.__type){let n=Error(t.message);n.stack="",r[e]=n}else r[e]=t;return r}(n.errors)})),n}function y(e){let{basename:n,children:r,window:t}=e,i=o.useRef();null==i.current&&(i.current=(0,d.createBrowserHistory)({window:t,v5Compat:!0}));let s=i.current,[l,c]=o.useState({action:s.action,location:s.location});return o.useLayoutEffect(()=>s.listen(c),[s]),o.createElement(a.Router,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:s})}function w(e){let{basename:n,children:r,window:t}=e,i=o.useRef();null==i.current&&(i.current=(0,d.createHashHistory)({window:t,v5Compat:!0}));let s=i.current,[l,c]=o.useState({action:s.action,location:s.location});return o.useLayoutEffect(()=>s.listen(c),[s]),o.createElement(a.Router,{basename:n,children:r,location:l.location,navigationType:l.action,navigator:s})}function S(e){let{basename:n,children:r,history:t}=e,[i,s]=o.useState({action:t.action,location:t.location});return o.useLayoutEffect(()=>t.listen(s),[t]),o.createElement(a.Router,{basename:n,children:r,location:i.location,navigationType:i.action,navigator:t})}let k="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,P=o.forwardRef(function(e,n){let r,{onClick:t,relative:i,reloadDocument:s,replace:l,state:u,target:p,to:x,preventScrollReset:f}=e,j=h(e,m),{basename:g}=o.useContext(a.UNSAFE_NavigationContext),b=!1;if("string"==typeof x&&_.test(x)&&(r=x,k))try{let e=new URL(window.location.href),n=new URL(x.startsWith("//")?e.protocol+x:x),r=(0,d.stripBasename)(n.pathname,g);n.origin===e.origin&&null!=r?x=r+n.search+n.hash:b=!0}catch(e){}let v=(0,a.useHref)(x,{relative:i}),y=M(x,{replace:l,state:u,target:p,preventScrollReset:f,relative:i});return o.createElement("a",c({},j,{href:r||v,onClick:b||s?t:function(e){t&&t(e),!e.defaultPrevented&&y(e)},ref:n,target:p}))}),E=o.forwardRef(function(e,n){let r,{"aria-current":t="page",caseSensitive:i=!1,className:s="",end:l=!1,style:d,to:u,children:p}=e,x=h(e,f),m=(0,a.useResolvedPath)(u,{relative:x.relative}),j=(0,a.useLocation)(),g=o.useContext(a.UNSAFE_DataRouterStateContext),{navigator:b}=o.useContext(a.UNSAFE_NavigationContext),v=b.encodeLocation?b.encodeLocation(m).pathname:m.pathname,y=j.pathname,w=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;!i&&(y=y.toLowerCase(),w=w?w.toLowerCase():null,v=v.toLowerCase());let S=y===v||!l&&y.startsWith(v)&&"/"===y.charAt(v.length),k=null!=w&&(w===v||!l&&w.startsWith(v)&&"/"===w.charAt(v.length)),_=S?t:void 0;r="function"==typeof s?s({isActive:S,isPending:k}):[s,S?"active":null,k?"pending":null].filter(Boolean).join(" ");let E="function"==typeof d?d({isActive:S,isPending:k}):d;return o.createElement(P,c({},x,{"aria-current":_,className:r,ref:n,style:E,to:u}),"function"==typeof p?p({isActive:S,isPending:k}):p)}),F=o.forwardRef((e,n)=>o.createElement(N,c({},e,{ref:n}))),N=o.forwardRef((e,n)=>{let{reloadDocument:r,replace:t,method:i="get",action:s,onSubmit:l,fetcherKey:a,routeId:d,relative:u,preventScrollReset:p}=e,x=h(e,j),m=A(a,d),f="get"===i.toLowerCase()?"get":"post",g=D(s,{relative:u});return o.createElement("form",c({ref:n,method:f,action:g,onSubmit:r?l:e=>{if(l&&l(e),e.defaultPrevented)return;e.preventDefault();let n=e.nativeEvent.submitter,r=(null==n?void 0:n.getAttribute("formmethod"))||i;m(n||e.currentTarget,{method:r,replace:t,relative:u,preventScrollReset:p})}},x))});function T(e){let{getKey:n,storageKey:r}=e;return U({getKey:n,storageKey:r}),null}function R(e){let n=o.useContext(a.UNSAFE_DataRouterContext);return n||(0,d.UNSAFE_invariant)(!1),n}function C(e){let n=o.useContext(a.UNSAFE_DataRouterStateContext);return n||(0,d.UNSAFE_invariant)(!1),n}function M(e,n){let{target:r,replace:t,state:i,preventScrollReset:s,relative:l}=void 0===n?{}:n,d=(0,a.useNavigate)(),c=(0,a.useLocation)(),h=(0,a.useResolvedPath)(e,{relative:l});return o.useCallback(n=>{var o,u,p;if(o=n,u=r,0===o.button&&(!u||"_self"===u)&&!((p=o).metaKey||p.altKey||p.ctrlKey||p.shiftKey)){n.preventDefault();let r=void 0!==t?t:(0,a.createPath)(c)===(0,a.createPath)(h);d(e,{replace:r,state:i,preventScrollReset:s,relative:l})}},[c,d,h,t,i,r,e,s,l])}function O(e){let n=o.useRef(x(e)),r=o.useRef(!1),t=(0,a.useLocation)(),i=o.useMemo(()=>(function(e,n){let r=x(e);if(n)for(let e of n.keys())!r.has(e)&&n.getAll(e).forEach(n=>{r.append(e,n)});return r})(t.search,r.current?null:n.current),[t.search]),s=(0,a.useNavigate)(),l=o.useCallback((e,n)=>{let t=x("function"==typeof e?e(i):e);r.current=!0,s("?"+t,n)},[s,i]);return[i,l]}function I(){return A()}function A(e,n){let{router:r}=R(s.UseSubmitImpl),{basename:t}=o.useContext(a.UNSAFE_NavigationContext),i=(0,a.UNSAFE_useRouteId)();return o.useCallback(function(s,l){if(void 0===l&&(l={}),"undefined"==typeof document)throw Error("You are calling submit during the server render. Try calling submit within a `useEffect` or callback instead.");let{action:o,method:a,encType:h,formData:x}=function(e,n,r){var t,i,s;let l,o,a;let c=null;if(p(t=e)&&"form"===t.tagName.toLowerCase()){let t=n.submissionTrigger;if(n.action)c=n.action;else{let n=e.getAttribute("action");c=n?(0,d.stripBasename)(n,r):null}l=n.method||e.getAttribute("method")||"get",o=n.encType||e.getAttribute("enctype")||u,a=new FormData(e),t&&t.name&&a.append(t.name,t.value)}else{;if(p(i=e)&&"button"===i.tagName.toLowerCase()||p(s=e)&&"input"===s.tagName.toLowerCase()&&("submit"===e.type||"image"===e.type)){let t=e.form;if(null==t)throw Error('Cannot submit a <button> or <input type="submit"> without a <form>');if(n.action)c=n.action;else{let n=e.getAttribute("formaction")||t.getAttribute("action");c=n?(0,d.stripBasename)(n,r):null}l=n.method||e.getAttribute("formmethod")||t.getAttribute("method")||"get",o=n.encType||e.getAttribute("formenctype")||t.getAttribute("enctype")||u,a=new FormData(t),e.name&&a.append(e.name,e.value)}else if(p(e))throw Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');else if(l=n.method||"get",c=n.action||null,o=n.encType||u,e instanceof FormData)a=e;else if(a=new FormData,e instanceof URLSearchParams)for(let[n,r]of e)a.append(n,r);else if(null!=e)for(let n of Object.keys(e))a.append(n,e[n])}return{action:c,method:l.toLowerCase(),encType:o,formData:a}}(s,l,t),m={preventScrollReset:l.preventScrollReset,formData:x,formMethod:a,formEncType:h};e?(null!=n||(0,d.UNSAFE_invariant)(!1),r.fetch(e,n,o,m)):r.navigate(o,c({},m,{replace:l.replace,fromRouteId:i}))},[r,t,e,n,i])}function D(e,n){let{relative:r}=void 0===n?{}:n,{basename:t}=o.useContext(a.UNSAFE_NavigationContext),i=o.useContext(a.UNSAFE_RouteContext);i||(0,d.UNSAFE_invariant)(!1);let[s]=i.matches.slice(-1),l=c({},(0,a.useResolvedPath)(e||".",{relative:r})),h=(0,a.useLocation)();if(null==e&&(l.search=h.search,l.hash=h.hash,s.route.index)){let e=new URLSearchParams(l.search);e.delete("index"),l.search=e.toString()?"?"+e.toString():""}return(!e||"."===e)&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),"/"!==t&&(l.pathname="/"===l.pathname?t:(0,d.joinPaths)([t,l.pathname])),(0,a.createPath)(l)}(t=s||(s={})).UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher",(i=l||(l={})).UseFetchers="useFetchers",i.UseScrollRestoration="useScrollRestoration";let B=0;function z(){var e;let{router:n}=R(s.UseFetcher),r=o.useContext(a.UNSAFE_RouteContext);r||(0,d.UNSAFE_invariant)(!1);let t=null==(e=r.matches[r.matches.length-1])?void 0:e.route.id;null!=t||(0,d.UNSAFE_invariant)(!1);let[i]=o.useState(()=>String(++B)),[l]=o.useState(()=>{var e,n;return t||(0,d.UNSAFE_invariant)(!1),e=i,n=t,o.forwardRef((r,t)=>o.createElement(N,c({},r,{ref:t,fetcherKey:e,routeId:n})))}),[h]=o.useState(()=>e=>{n||(0,d.UNSAFE_invariant)(!1),t||(0,d.UNSAFE_invariant)(!1),n.fetch(i,t,e)}),u=A(i,t),p=n.getFetcher(i),x=o.useMemo(()=>c({Form:l,submit:u,load:h},p),[p,l,u,h]);return o.useEffect(()=>()=>{if(!n){console.warn("No router available to clean up from useFetcher()");return}n.deleteFetcher(i)},[n,i]),x}function L(){return[...C(l.UseFetchers).fetchers.values()]}let G="react-router-scroll-positions",W={};function U(e){let{getKey:n,storageKey:r}=void 0===e?{}:e,{router:t}=R(s.UseScrollRestoration),{restoreScrollPosition:i,preventScrollReset:d}=C(l.UseScrollRestoration),c=(0,a.useLocation)(),h=(0,a.useMatches)(),u=(0,a.useNavigation)();o.useEffect(()=>(window.history.scrollRestoration="manual",()=>{window.history.scrollRestoration="auto"}),[]),function(e,n){let{capture:r}=n||{};o.useEffect(()=>{let n=null!=r?{capture:r}:void 0;return window.addEventListener("pagehide",e,n),()=>{window.removeEventListener("pagehide",e,n)}},[e,r])}(o.useCallback(()=>{"idle"===u.state&&(W[(n?n(c,h):null)||c.key]=window.scrollY),sessionStorage.setItem(r||G,JSON.stringify(W)),window.history.scrollRestoration="auto"},[r,n,u.state,c,h])),"undefined"!=typeof document&&(o.useLayoutEffect(()=>{try{let e=sessionStorage.getItem(r||G);e&&(W=JSON.parse(e))}catch(e){}},[r]),o.useLayoutEffect(()=>{let e=null==t?void 0:t.enableScrollRestoration(W,()=>window.scrollY,n);return()=>e&&e()},[t,n]),o.useLayoutEffect(()=>{if(!1!==i){if("number"==typeof i){window.scrollTo(0,i);return}if(c.hash){let e=document.getElementById(c.hash.slice(1));if(e){e.scrollIntoView();return}}!0!==d&&window.scrollTo(0,0)}},[c,i,d]))}function H(e,n){let{capture:r}=n||{};o.useEffect(()=>{let n=null!=r?{capture:r}:void 0;return window.addEventListener("beforeunload",e,n),()=>{window.removeEventListener("beforeunload",e,n)}},[e,r])}function q(e){let{when:n,message:r}=e,t=(0,a.unstable_useBlocker)(n);o.useEffect(()=>{"blocked"===t.state&&!n&&t.reset()},[t,n]),o.useEffect(()=>{"blocked"===t.state&&(window.confirm(r)?setTimeout(t.proceed,0):t.reset())},[t,r])}},25768:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=r("6171"),i=r("57402"),s=r("44870"),l=r("66811"),o=function(e){if(e&&e.__esModule)return e;var n=Object.create(null);return e&&Object.keys(e).forEach(function(r){if("default"!==r){var t=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,t.get?t:{enumerable:!0,get:function(){return e[r]}})}}),n.default=e,Object.freeze(n)}(t);function a({routes:e,state:n}){return s.UNSAFE_useRoutesImpl(e,void 0,n)}function d(){return{createHref:c,encodeLocation:h,push(e){throw Error(`You cannot use navigator.push() on the server because it is a stateless environment. This error was probably triggered when you did a \`navigate(${JSON.stringify(e)})\` somewhere in your app.`)},replace(e){throw Error(`You cannot use navigator.replace() on the server because it is a stateless environment. This error was probably triggered when you did a \`navigate(${JSON.stringify(e)}, { replace: true })\` somewhere in your app.`)},go(e){throw Error(`You cannot use navigator.go() on the server because it is a stateless environment. This error was probably triggered when you did a \`navigate(${e})\` somewhere in your app.`)},back(){throw Error("You cannot use navigator.back() on the server because it is a stateless environment.")},forward(){throw Error("You cannot use navigator.forward() on the server because it is a stateless environment.")}}}function c(e){return"string"==typeof e?e:l.createPath(e)}function h(e){let n="string"==typeof e?l.parsePath(e):e;return{pathname:n.pathname||"",search:n.search||"",hash:n.hash||""}}let u={"&":"\\u0026",">":"\\u003e","<":"\\u003c","\u2028":"\\u2028","\u2029":"\\u2029"},p=/[&><\u2028\u2029]/g;n.StaticRouter=function({basename:e,children:n,location:r="/"}){"string"==typeof r&&(r=l.parsePath(r));let t=i.Action.Pop,s={pathname:r.pathname||"/",search:r.search||"",hash:r.hash||"",state:r.state||null,key:r.key||"default"},a=d();return o.createElement(l.Router,{basename:e,children:n,location:s,navigationType:t,navigator:a,static:!0})},n.StaticRouterProvider=function({context:e,router:n,hydrate:r=!0,nonce:t}){n&&e||i.UNSAFE_invariant(!1);let s={router:n,navigator:d(),static:!0,staticContext:e,basename:e.basename||"/"},c="";!1!==r&&(c=`window.__staticRouterHydrationData = JSON.parse(${function(e){return e.replace(p,e=>u[e])}(JSON.stringify(JSON.stringify({loaderData:e.loaderData,actionData:e.actionData,errors:function(e){if(!e)return null;let n=Object.entries(e),r={};for(let[e,t]of n)i.isRouteErrorResponse(t)?r[e]={...t,__type:"RouteErrorResponse"}:t instanceof Error?r[e]={message:t.message,__type:"Error"}:r[e]=t;return r}(e.errors)})))});`);let{state:h}=s.router;return o.createElement(o.Fragment,null,o.createElement(l.UNSAFE_DataRouterContext.Provider,{value:s},o.createElement(l.UNSAFE_DataRouterStateContext.Provider,{value:h},o.createElement(l.Router,{basename:s.basename,location:h.location,navigationType:h.historyAction,navigator:s.navigator,static:s.static},o.createElement(a,{routes:n.routes,state:h})))),c?o.createElement("script",{suppressHydrationWarning:!0,nonce:t,dangerouslySetInnerHTML:{__html:c}}):null)},n.createStaticHandler=function(e,n){return i.createStaticHandler(e,{...n,mapRouteProperties:s.UNSAFE_mapRouteProperties})},n.createStaticRouter=function(e,n){let r={},t=i.UNSAFE_convertRoutesToDataRoutes(e,s.UNSAFE_mapRouteProperties,void 0,r),l=n.matches.map(e=>{let n=r[e.route.id]||e.route;return{...e,route:n}}),o=e=>`You cannot use router.${e}() on the server because it is a stateless environment`;return{get basename(){return n.basename},get state(){return{historyAction:i.Action.Pop,location:n.location,matches:l,loaderData:n.loaderData,actionData:n.actionData,errors:n.errors,initialized:!0,navigation:i.IDLE_NAVIGATION,restoreScrollPosition:null,preventScrollReset:!1,revalidation:"idle",fetchers:new Map,blockers:new Map}},get routes(){return t},initialize(){throw o("initialize")},subscribe(){throw o("subscribe")},enableScrollRestoration(){throw o("enableScrollRestoration")},navigate(){throw o("navigate")},fetch(){throw o("fetch")},revalidate(){throw o("revalidate")},createHref:c,encodeLocation:h,getFetcher:()=>i.IDLE_FETCHER,deleteFetcher(){throw o("deleteFetcher")},dispose(){throw o("dispose")},getBlocker:()=>i.IDLE_BLOCKER,deleteBlocker(){throw o("deleteBlocker")},_internalFetchControllers:new Map,_internalActiveDeferreds:new Map,_internalSetRoutes(){throw o("_internalSetRoutes")}}}},44870:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{AbortedDeferredError:function(){return c.AbortedDeferredError},NavigationType:function(){return c.Action},createPath:function(){return c.createPath},defer:function(){return c.defer},generatePath:function(){return c.generatePath},isRouteErrorResponse:function(){return c.isRouteErrorResponse},json:function(){return c.json},matchPath:function(){return c.matchPath},matchRoutes:function(){return c.matchRoutes},parsePath:function(){return c.parsePath},redirect:function(){return c.redirect},resolvePath:function(){return c.resolvePath},Await:function(){return el},MemoryRouter:function(){return ee},Navigate:function(){return en},Outlet:function(){return er},Route:function(){return et},Router:function(){return ei},RouterProvider:function(){return K},Routes:function(){return es},UNSAFE_DataRouterContext:function(){return u},UNSAFE_DataRouterStateContext:function(){return p},UNSAFE_LocationContext:function(){return f},UNSAFE_NavigationContext:function(){return m},UNSAFE_RouteContext:function(){return j},UNSAFE_mapRouteProperties:function(){return eu},UNSAFE_useRouteId:function(){return L},UNSAFE_useRoutesImpl:function(){return C},createMemoryRouter:function(){return ep},createRoutesFromChildren:function(){return ec},createRoutesFromElements:function(){return ec},renderMatches:function(){return eh},unstable_useBlocker:function(){return Q},useActionData:function(){return X},useAsyncError:function(){return J},useAsyncValue:function(){return $},useHref:function(){return b},useInRouterContext:function(){return v},useLoaderData:function(){return H},useLocation:function(){return y},useMatch:function(){return S},useMatches:function(){return U},useNavigate:function(){return _},useNavigation:function(){return G},useNavigationType:function(){return w},useOutlet:function(){return F},useOutletContext:function(){return E},useParams:function(){return N},useResolvedPath:function(){return T},useRevalidator:function(){return W},useRouteError:function(){return V},useRouteLoaderData:function(){return q},useRoutes:function(){return R}});var t,i,s,l,o,a,d=r.ir(r("6171")),c=r("57402");function h(){return(h=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e}).apply(this,arguments)}let u=d.createContext(null),p=d.createContext(null),x=d.createContext(null),m=d.createContext(null),f=d.createContext(null),j=d.createContext({outlet:null,matches:[],isDataRoute:!1}),g=d.createContext(null);function b(e,n){let{relative:r}=void 0===n?{}:n;v()||(0,c.UNSAFE_invariant)(!1);let{basename:t,navigator:i}=d.useContext(m),{hash:s,pathname:l,search:o}=T(e,{relative:r}),a=l;return"/"!==t&&(a="/"===l?t:(0,c.joinPaths)([t,l])),i.createHref({pathname:a,search:o,hash:s})}function v(){return null!=d.useContext(f)}function y(){return v()||(0,c.UNSAFE_invariant)(!1),d.useContext(f).location}function w(){return d.useContext(f).navigationType}function S(e){v()||(0,c.UNSAFE_invariant)(!1);let{pathname:n}=y();return d.useMemo(()=>(0,c.matchPath)(e,n),[n,e])}function k(e){!d.useContext(m).static&&d.useLayoutEffect(e)}function _(){let{isDataRoute:e}=d.useContext(j);return e?function(){let{router:e}=D(l.UseNavigateStable),n=z(o.UseNavigateStable),r=d.useRef(!1);return k(()=>{r.current=!0}),d.useCallback(function(t,i){void 0===i&&(i={}),r.current&&("number"==typeof t?e.navigate(t):e.navigate(t,h({fromRouteId:n},i)))},[e,n])}():function(){v()||(0,c.UNSAFE_invariant)(!1);let e=d.useContext(u),{basename:n,navigator:r}=d.useContext(m),{matches:t}=d.useContext(j),{pathname:i}=y(),s=JSON.stringify((0,c.UNSAFE_getPathContributingMatches)(t).map(e=>e.pathnameBase)),l=d.useRef(!1);return k(()=>{l.current=!0}),d.useCallback(function(t,o){if(void 0===o&&(o={}),!l.current)return;if("number"==typeof t){r.go(t);return}let a=(0,c.resolveTo)(t,JSON.parse(s),i,"path"===o.relative);null==e&&"/"!==n&&(a.pathname="/"===a.pathname?n:(0,c.joinPaths)([n,a.pathname])),(o.replace?r.replace:r.push)(a,o.state,o)},[n,r,s,i,e])}()}let P=d.createContext(null);function E(){return d.useContext(P)}function F(e){let n=d.useContext(j).outlet;return n?d.createElement(P.Provider,{value:e},n):n}function N(){let{matches:e}=d.useContext(j),n=e[e.length-1];return n?n.params:{}}function T(e,n){let{relative:r}=void 0===n?{}:n,{matches:t}=d.useContext(j),{pathname:i}=y(),s=JSON.stringify((0,c.UNSAFE_getPathContributingMatches)(t).map(e=>e.pathnameBase));return d.useMemo(()=>(0,c.resolveTo)(e,JSON.parse(s),i,"path"===r),[e,s,i,r])}function R(e,n){return C(e,n)}function C(e,n,r){let t;v()||(0,c.UNSAFE_invariant)(!1);let{navigator:i}=d.useContext(m),{matches:s}=d.useContext(j),l=s[s.length-1],o=l?l.params:{};l&&l.pathname;let a=l?l.pathnameBase:"/";l&&l.route;let u=y();if(n){var p;let e="string"==typeof n?(0,c.parsePath)(n):n;"/"===a||(null==(p=e.pathname)?void 0:p.startsWith(a))||(0,c.UNSAFE_invariant)(!1),t=e}else t=u;let x=t.pathname||"/",g="/"===a?x:x.slice(a.length)||"/",b=(0,c.matchRoutes)(e,{pathname:g}),w=A(b&&b.map(e=>Object.assign({},e,{params:Object.assign({},o,e.params),pathname:(0,c.joinPaths)([a,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?a:(0,c.joinPaths)([a,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),s,r);return n&&w?d.createElement(f.Provider,{value:{location:h({pathname:"/",search:"",hash:"",state:null,key:"default"},t),navigationType:c.Action.Pop}},w):w}let M=d.createElement(function(){let e=V(),n=(0,c.isRouteErrorResponse)(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null;return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},n),r?d.createElement("pre",{style:{padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"}},r):null,null)},null);class O extends d.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||"idle"!==n.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?d.createElement(j.Provider,{value:this.props.routeContext},d.createElement(g.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function I(e){let{routeContext:n,match:r,children:t}=e,i=d.useContext(u);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),d.createElement(j.Provider,{value:n},t)}function A(e,n,r){var t,i;if(void 0===n&&(n=[]),void 0===r&&(r=null),null==e){if(null==(i=r)||!i.errors)return null;e=r.matches}let s=e,l=null==(t=r)?void 0:t.errors;if(null!=l){let e=s.findIndex(e=>e.route.id&&(null==l?void 0:l[e.route.id]));e>=0||(0,c.UNSAFE_invariant)(!1),s=s.slice(0,Math.min(s.length,e+1))}return s.reduceRight((e,t,i)=>{let o=t.route.id?null==l?void 0:l[t.route.id]:null,a=null;r&&(a=t.route.errorElement||M);let c=n.concat(s.slice(0,i+1)),h=()=>{let n;return n=o?a:t.route.Component?d.createElement(t.route.Component,null):t.route.element?t.route.element:e,d.createElement(I,{match:t,routeContext:{outlet:e,matches:c,isDataRoute:null!=r},children:n})};return r&&(t.route.ErrorBoundary||t.route.errorElement||0===i)?d.createElement(O,{location:r.location,revalidation:r.revalidation,component:a,error:o,children:h(),routeContext:{outlet:null,matches:c,isDataRoute:!0}}):h()},null)}function D(e){let n=d.useContext(u);return n||(0,c.UNSAFE_invariant)(!1),n}function B(e){let n=d.useContext(p);return n||(0,c.UNSAFE_invariant)(!1),n}(t=l||(l={})).UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",(i=o||(o={})).UseBlocker="useBlocker",i.UseLoaderData="useLoaderData",i.UseActionData="useActionData",i.UseRouteError="useRouteError",i.UseNavigation="useNavigation",i.UseRouteLoaderData="useRouteLoaderData",i.UseMatches="useMatches",i.UseRevalidator="useRevalidator",i.UseNavigateStable="useNavigate",i.UseRouteId="useRouteId";function z(e){var n;let r;let t=(n=0,r=d.useContext(j),r||(0,c.UNSAFE_invariant)(!1),r),i=t.matches[t.matches.length-1];return i.route.id||(0,c.UNSAFE_invariant)(!1),i.route.id}function L(){return z(o.UseRouteId)}function G(){return B(o.UseNavigation).navigation}function W(){let e=D(l.UseRevalidator),n=B(o.UseRevalidator);return{revalidate:e.router.revalidate,state:n.revalidation}}function U(){let{matches:e,loaderData:n}=B(o.UseMatches);return d.useMemo(()=>e.map(e=>{let{pathname:r,params:t}=e;return{id:e.route.id,pathname:r,params:t,data:n[e.route.id],handle:e.route.handle}}),[e,n])}function H(){let e=B(o.UseLoaderData),n=z(o.UseLoaderData);if(e.errors&&null!=e.errors[n]){console.error("You cannot `useLoaderData` in an errorElement (routeId: "+n+")");return}return e.loaderData[n]}function q(e){return B(o.UseRouteLoaderData).loaderData[e]}function X(){let e=B(o.UseActionData);return d.useContext(j)||(0,c.UNSAFE_invariant)(!1),Object.values((null==e?void 0:e.actionData)||{})[0]}function V(){var e;let n=d.useContext(g),r=B(o.UseRouteError),t=z(o.UseRouteError);return n?n:null==(e=r.errors)?void 0:e[t]}function $(){let e=d.useContext(x);return null==e?void 0:e._data}function J(){let e=d.useContext(x);return null==e?void 0:e._error}let Y=0;function Q(e){let{router:n}=D(l.UseBlocker),r=B(o.UseBlocker),[t]=d.useState(()=>String(++Y)),i=d.useCallback(n=>"function"==typeof e?!!e(n):!!e,[e]),s=n.getBlocker(t,i);return d.useEffect(()=>()=>n.deleteBlocker(t),[n,t]),r.blockers.get(t)||s}function K(e){let{fallbackElement:n,router:r}=e,[t,i]=d.useState(r.state);d.useLayoutEffect(()=>r.subscribe(i),[r,i]);let s=d.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:e=>r.navigate(e),push:(e,n,t)=>r.navigate(e,{state:n,preventScrollReset:null==t?void 0:t.preventScrollReset}),replace:(e,n,t)=>r.navigate(e,{replace:!0,state:n,preventScrollReset:null==t?void 0:t.preventScrollReset})}),[r]),l=r.basename||"/",o=d.useMemo(()=>({router:r,navigator:s,static:!1,basename:l}),[r,s,l]);return d.createElement(d.Fragment,null,d.createElement(u.Provider,{value:o},d.createElement(p.Provider,{value:t},d.createElement(ei,{basename:r.basename,location:r.state.location,navigationType:r.state.historyAction,navigator:s},r.state.initialized?d.createElement(Z,{routes:r.routes,state:t}):n))),null)}function Z(e){let{routes:n,state:r}=e;return C(n,void 0,r)}function ee(e){let{basename:n,children:r,initialEntries:t,initialIndex:i}=e,s=d.useRef();null==s.current&&(s.current=(0,c.createMemoryHistory)({initialEntries:t,initialIndex:i,v5Compat:!0}));let l=s.current,[o,a]=d.useState({action:l.action,location:l.location});return d.useLayoutEffect(()=>l.listen(a),[l]),d.createElement(ei,{basename:n,children:r,location:o.location,navigationType:o.action,navigator:l})}function en(e){let{to:n,replace:r,state:t,relative:i}=e;v()||(0,c.UNSAFE_invariant)(!1);let{matches:s}=d.useContext(j),{pathname:l}=y(),o=_(),a=JSON.stringify((0,c.resolveTo)(n,(0,c.UNSAFE_getPathContributingMatches)(s).map(e=>e.pathnameBase),l,"path"===i));return d.useEffect(()=>o(JSON.parse(a),{replace:r,state:t,relative:i}),[o,a,i,r,t]),null}function er(e){return F(e.context)}function et(e){(0,c.UNSAFE_invariant)(!1)}function ei(e){let{basename:n="/",children:r=null,location:t,navigationType:i=c.Action.Pop,navigator:s,static:l=!1}=e;v()&&(0,c.UNSAFE_invariant)(!1);let o=n.replace(/^\/*/,"/"),a=d.useMemo(()=>({basename:o,navigator:s,static:l}),[o,s,l]);"string"==typeof t&&(t=(0,c.parsePath)(t));let{pathname:h="/",search:u="",hash:p="",state:x=null,key:j="default"}=t,g=d.useMemo(()=>{let e=(0,c.stripBasename)(h,o);return null==e?null:{location:{pathname:e,search:u,hash:p,state:x,key:j},navigationType:i}},[o,h,u,p,x,j,i]);return null==g?null:d.createElement(m.Provider,{value:a},d.createElement(f.Provider,{children:r,value:g}))}function es(e){var n;let{children:r,location:t}=e;return n=ec(r),C(n,t)}function el(e){let{children:n,errorElement:r,resolve:t}=e;return d.createElement(ea,{resolve:t,errorElement:r},d.createElement(ed,null,n))}(s=a||(a={}))[s.pending=0]="pending",s[s.success=1]="success",s[s.error=2]="error";let eo=new Promise(()=>{});class ea extends d.Component{constructor(e){super(e),this.state={error:null}}static getDerivedStateFromError(e){return{error:e}}componentDidCatch(e,n){console.error("<Await> caught the following error during render",e,n)}render(){let{children:e,errorElement:n,resolve:r}=this.props,t=null,i=a.pending;if(r instanceof Promise){if(this.state.error){i=a.error;let e=this.state.error;Object.defineProperty(t=Promise.reject().catch(()=>{}),"_tracked",{get:()=>!0}),Object.defineProperty(t,"_error",{get:()=>e})}else r._tracked?i=void 0!==(t=r)._error?a.error:void 0!==t._data?a.success:a.pending:(i=a.pending,Object.defineProperty(r,"_tracked",{get:()=>!0}),t=r.then(e=>Object.defineProperty(r,"_data",{get:()=>e}),e=>Object.defineProperty(r,"_error",{get:()=>e})))}else i=a.success,Object.defineProperty(t=Promise.resolve(),"_tracked",{get:()=>!0}),Object.defineProperty(t,"_data",{get:()=>r});if(i===a.error&&t._error instanceof c.AbortedDeferredError)throw eo;if(i===a.error&&!n)throw t._error;if(i===a.error)return d.createElement(x.Provider,{value:t,children:n});if(i===a.success)return d.createElement(x.Provider,{value:t,children:e});throw t}}function ed(e){let{children:n}=e,r=$(),t="function"==typeof n?n(r):n;return d.createElement(d.Fragment,null,t)}function ec(e,n){void 0===n&&(n=[]);let r=[];return d.Children.forEach(e,(e,t)=>{if(!d.isValidElement(e))return;let i=[...n,t];if(e.type===d.Fragment){r.push.apply(r,ec(e.props.children,i));return}e.type!==et&&(0,c.UNSAFE_invariant)(!1),!e.props.index||!e.props.children||(0,c.UNSAFE_invariant)(!1);let s={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=ec(e.props.children,i)),r.push(s)}),r}function eh(e){return A(e)}function eu(e){let n={hasErrorBoundary:null!=e.ErrorBoundary||null!=e.errorElement};return e.Component&&Object.assign(n,{element:d.createElement(e.Component),Component:void 0}),e.ErrorBoundary&&Object.assign(n,{errorElement:d.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),n}function ep(e,n){return(0,c.createRouter)({basename:null==n?void 0:n.basename,future:h({},null==n?void 0:n.future,{v7_prependBasename:!0}),history:(0,c.createMemoryHistory)({initialEntries:null==n?void 0:n.initialEntries,initialIndex:null==n?void 0:n.initialIndex}),hydrationData:null==n?void 0:n.hydrationData,routes:e,mapRouteProperties:eu}).initialize()}},10606:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=function(e,n){return -1!==e.listLanguages().indexOf(n)}},7873:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return c}});var t=r.ir(r("21223")),i=r.ir(r("6367")),s=r.ir(r("6171"));function l(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,t)}return r}function o(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?l(Object(r),!0).forEach(function(n){(0,i.default)(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var a={};function d(e){return e.join(" ")}function c(e){var n=e.node,r=e.stylesheet,i=e.style,l=e.useInlineStyles,d=e.key,h=n.properties,u=n.type,p=n.tagName,x=n.value;if("text"===u)return x;if(p){var m,f,j,g,b=(m=r,f=l,j=0,function(e){return j+=1,e.map(function(e,n){return c({node:e,stylesheet:m,useInlineStyles:f,key:"code-segment-".concat(j,"-").concat(n)})})});if(l){var v=Object.keys(r).reduce(function(e,n){return n.split(".").forEach(function(n){!e.includes(n)&&e.push(n)}),e},[]),y=h.className&&h.className.includes("token")?["token"]:[],w=h.className&&y.concat(h.className.filter(function(e){return!v.includes(e)}));g=o(o({},h),{},{className:w.join(" ")||void 0,style:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return(function(e){if(0===e.length||1===e.length)return e;var n,r,t=e.join(".");if(!a[t]){;a[t]=(r=(n=e).length,0===r||1===r?n:2===r?[n[0],n[1],"".concat(n[0],".").concat(n[1]),"".concat(n[1],".").concat(n[0])]:3===r?[n[0],n[1],n[2],"".concat(n[0],".").concat(n[1]),"".concat(n[0],".").concat(n[2]),"".concat(n[1],".").concat(n[0]),"".concat(n[1],".").concat(n[2]),"".concat(n[2],".").concat(n[0]),"".concat(n[2],".").concat(n[1]),"".concat(n[0],".").concat(n[1],".").concat(n[2]),"".concat(n[0],".").concat(n[2],".").concat(n[1]),"".concat(n[1],".").concat(n[0],".").concat(n[2]),"".concat(n[1],".").concat(n[2],".").concat(n[0]),"".concat(n[2],".").concat(n[0],".").concat(n[1]),"".concat(n[2],".").concat(n[1],".").concat(n[0])]:r>=4?[n[0],n[1],n[2],n[3],"".concat(n[0],".").concat(n[1]),"".concat(n[0],".").concat(n[2]),"".concat(n[0],".").concat(n[3]),"".concat(n[1],".").concat(n[0]),"".concat(n[1],".").concat(n[2]),"".concat(n[1],".").concat(n[3]),"".concat(n[2],".").concat(n[0]),"".concat(n[2],".").concat(n[1]),"".concat(n[2],".").concat(n[3]),"".concat(n[3],".").concat(n[0]),"".concat(n[3],".").concat(n[1]),"".concat(n[3],".").concat(n[2]),"".concat(n[0],".").concat(n[1],".").concat(n[2]),"".concat(n[0],".").concat(n[1],".").concat(n[3]),"".concat(n[0],".").concat(n[2],".").concat(n[1]),"".concat(n[0],".").concat(n[2],".").concat(n[3]),"".concat(n[0],".").concat(n[3],".").concat(n[1]),"".concat(n[0],".").concat(n[3],".").concat(n[2]),"".concat(n[1],".").concat(n[0],".").concat(n[2]),"".concat(n[1],".").concat(n[0],".").concat(n[3]),"".concat(n[1],".").concat(n[2],".").concat(n[0]),"".concat(n[1],".").concat(n[2],".").concat(n[3]),"".concat(n[1],".").concat(n[3],".").concat(n[0]),"".concat(n[1],".").concat(n[3],".").concat(n[2]),"".concat(n[2],".").concat(n[0],".").concat(n[1]),"".concat(n[2],".").concat(n[0],".").concat(n[3]),"".concat(n[2],".").concat(n[1],".").concat(n[0]),"".concat(n[2],".").concat(n[1],".").concat(n[3]),"".concat(n[2],".").concat(n[3],".").concat(n[0]),"".concat(n[2],".").concat(n[3],".").concat(n[1]),"".concat(n[3],".").concat(n[0],".").concat(n[1]),"".concat(n[3],".").concat(n[0],".").concat(n[2]),"".concat(n[3],".").concat(n[1],".").concat(n[0]),"".concat(n[3],".").concat(n[1],".").concat(n[2]),"".concat(n[3],".").concat(n[2],".").concat(n[0]),"".concat(n[3],".").concat(n[2],".").concat(n[1]),"".concat(n[0],".").concat(n[1],".").concat(n[2],".").concat(n[3]),"".concat(n[0],".").concat(n[1],".").concat(n[3],".").concat(n[2]),"".concat(n[0],".").concat(n[2],".").concat(n[1],".").concat(n[3]),"".concat(n[0],".").concat(n[2],".").concat(n[3],".").concat(n[1]),"".concat(n[0],".").concat(n[3],".").concat(n[1],".").concat(n[2]),"".concat(n[0],".").concat(n[3],".").concat(n[2],".").concat(n[1]),"".concat(n[1],".").concat(n[0],".").concat(n[2],".").concat(n[3]),"".concat(n[1],".").concat(n[0],".").concat(n[3],".").concat(n[2]),"".concat(n[1],".").concat(n[2],".").concat(n[0],".").concat(n[3]),"".concat(n[1],".").concat(n[2],".").concat(n[3],".").concat(n[0]),"".concat(n[1],".").concat(n[3],".").concat(n[0],".").concat(n[2]),"".concat(n[1],".").concat(n[3],".").concat(n[2],".").concat(n[0]),"".concat(n[2],".").concat(n[0],".").concat(n[1],".").concat(n[3]),"".concat(n[2],".").concat(n[0],".").concat(n[3],".").concat(n[1]),"".concat(n[2],".").concat(n[1],".").concat(n[0],".").concat(n[3]),"".concat(n[2],".").concat(n[1],".").concat(n[3],".").concat(n[0]),"".concat(n[2],".").concat(n[3],".").concat(n[0],".").concat(n[1]),"".concat(n[2],".").concat(n[3],".").concat(n[1],".").concat(n[0]),"".concat(n[3],".").concat(n[0],".").concat(n[1],".").concat(n[2]),"".concat(n[3],".").concat(n[0],".").concat(n[2],".").concat(n[1]),"".concat(n[3],".").concat(n[1],".").concat(n[0],".").concat(n[2]),"".concat(n[3],".").concat(n[1],".").concat(n[2],".").concat(n[0]),"".concat(n[3],".").concat(n[2],".").concat(n[0],".").concat(n[1]),"".concat(n[3],".").concat(n[2],".").concat(n[1],".").concat(n[0])]:void 0)}return a[t]})(e.filter(function(e){return"token"!==e})).reduce(function(e,n){return o(o({},e),r[n])},n)}(h.className,Object.assign({},h.style,void 0===i?{}:i),r)})}else g=o(o({},h),{},{className:h.className.join(" ")});var S=b(n.children);return s.default.createElement(p,(0,t.default)({key:d},g),S)}}},3197:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return b}});var t=r.ir(r("57403")),i=r.ir(r("58895")),s=r.ir(r("6367")),l=r.ir(r("6171")),o=r.ir(r("7873")),a=r.ir(r("10606")),d=["language","children","style","customStyle","codeTagProps","useInlineStyles","showLineNumbers","showInlineLineNumbers","startingLineNumber","lineNumberContainerStyle","lineNumberStyle","wrapLines","wrapLongLines","lineProps","renderer","PreTag","CodeTag","code","astGenerator"];function c(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,t)}return r}function h(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?c(Object(r),!0).forEach(function(n){(0,s.default)(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var u=/\n/g;function p(e){var n,r,t,i,s=e.codeString,o=e.codeStyle,a=e.containerStyle,d=void 0===a?{float:"left",paddingRight:"10px"}:a,c=e.numberStyle,h=e.startingLineNumber;return l.default.createElement("code",{style:Object.assign({},o,d)},(r=(n={lines:s.replace(/\n$/,"").split("\n"),style:void 0===c?{}:c,startingLineNumber:h}).lines,t=n.startingLineNumber,i=n.style,r.map(function(e,n){var r=n+t;return l.default.createElement("span",{key:"line-".concat(n),className:"react-syntax-highlighter-line-number",style:"function"==typeof i?i(r):i},"".concat(r,"\n"))})))}function x(e,n){return{type:"element",tagName:"span",properties:{key:"line-number--".concat(e),className:["comment","linenumber","react-syntax-highlighter-line-number"],style:n},children:[{type:"text",value:e}]}}function m(e,n,r){var t,i={display:"inline-block",minWidth:(t=r,"".concat(t.toString().length,".25em")),paddingRight:"1em",textAlign:"right",userSelect:"none"},s="function"==typeof e?e(n):e;return h(h({},i),s)}function f(e){var n=e.children,r=e.lineNumber,t=e.lineNumberStyle,i=e.largestLineNumber,s=e.showInlineLineNumbers,l=e.lineProps,o=void 0===l?{}:l,a=e.className,d=e.showLineNumbers,c=e.wrapLongLines,u="function"==typeof o?o(r):o;if(u.className=void 0===a?[]:a,r&&s){var p=m(t,r,i);n.unshift(x(r,p))}return c&d&&(u.style=h(h({},u.style),{},{display:"flex"})),{type:"element",tagName:"span",properties:u,children:n}}function j(e){var n=e.rows,r=e.stylesheet,t=e.useInlineStyles;return n.map(function(e,n){return(0,o.default)({node:e,stylesheet:r,useInlineStyles:t,key:"code-segement".concat(n)})})}function g(e){return e&&void 0!==e.highlightAuto}function b(e,n){return function(r){var s=r.language,o=r.children,c=r.style,b=void 0===c?n:c,v=r.customStyle,y=void 0===v?{}:v,w=r.codeTagProps,S=void 0===w?{className:s?"language-".concat(s):void 0,style:h(h({},b['code[class*="language-"]']),b['code[class*="language-'.concat(s,'"]')])}:w,k=r.useInlineStyles,_=void 0===k||k,P=r.showLineNumbers,E=void 0!==P&&P,F=r.showInlineLineNumbers,N=void 0===F||F,T=r.startingLineNumber,R=void 0===T?1:T,C=r.lineNumberContainerStyle,M=r.lineNumberStyle,O=void 0===M?{}:M,I=r.wrapLines,A=r.wrapLongLines,D=void 0!==A&&A,B=r.lineProps,z=void 0===B?{}:B,L=r.renderer,G=r.PreTag,W=void 0===G?"pre":G,U=r.CodeTag,H=void 0===U?"code":U,q=r.code,X=void 0===q?(Array.isArray(o)?o[0]:o)||"":q,V=r.astGenerator,$=(0,t.default)(r,d);V=V||e;var J=E?l.default.createElement(p,{containerStyle:C,codeStyle:S.style||{},numberStyle:O,startingLineNumber:R,codeString:X}):null,Y=b.hljs||b['pre[class*="language-"]']||{backgroundColor:"#fff"},Q=g(V)?"hljs":"prismjs",K=_?Object.assign({},$,{style:Object.assign({},Y,y)}):Object.assign({},$,{className:$.className?"".concat(Q," ").concat($.className):Q,style:Object.assign({},y)});if(D?S.style=h(h({},S.style),{},{whiteSpace:"pre-wrap"}):S.style=h(h({},S.style),{},{whiteSpace:"pre"}),!V)return l.default.createElement(W,K,J,l.default.createElement(H,S,X));(void 0===I&&L||D)&&(I=!0),L=L||j;var Z=[{type:"text",value:X}],ee=function(e){var n=e.astGenerator,r=e.language,t=e.code,i=e.defaultCodeValue;if(g(n)){var s=(0,a.default)(n,r);return"text"===r?{value:i,language:"text"}:s?n.highlight(r,t):n.highlightAuto(t)}try{return r&&"text"!==r?{value:n.highlight(t,r)}:{value:i}}catch(e){return{value:i}}}({astGenerator:V,language:s,code:X,defaultCodeValue:Z});null===ee.language&&(ee.value=Z);var en=ee.value.length+R,er=function(e,n,r,t,s,l,o,a,d){var c,h=function e(n){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],s=0;s<n.length;s++){var l=n[s];if("text"===l.type)t.push(f({children:[l],className:(0,i.default)(new Set(r))}));else if(l.children){var o=r.concat(l.properties.className);e(l.children,o).forEach(function(e){return t.push(e)})}}return t}(e.value),p=[],j=-1,g=0;function b(e,i){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return n||l.length>0?function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return f({children:e,lineNumber:n,lineNumberStyle:a,largestLineNumber:o,showInlineLineNumbers:s,lineProps:r,className:i,showLineNumbers:t,wrapLongLines:d})}(e,i,l):function(e,n){if(t&&n&&s){var r=m(a,n,o);e.unshift(x(n,r))}return e}(e,i)}for(;g<h.length;)!function(){var e=h[g],n=e.children[0].value;if(n.match(u)){var r=n.split("\n");r.forEach(function(n,i){var s=t&&p.length+l,o={type:"text",value:"".concat(n,"\n")};if(0===i){var a=b(h.slice(j+1,g).concat(f({children:[o],className:e.properties.className})),s);p.push(a)}else if(i===r.length-1){var d=h[g+1]&&h[g+1].children&&h[g+1].children[0],c={type:"text",value:"".concat(n)};if(d){var u=f({children:[c],className:e.properties.className});h.splice(g+1,0,u)}else{var x=b([c],s,e.properties.className);p.push(x)}}else{var m=b([o],s,e.properties.className);p.push(m)}}),j=g}g++}();if(j!==h.length-1){var v=h.slice(j+1,h.length);if(v&&v.length){var y=b(v,t&&p.length+l);p.push(y)}}return n?p:(c=[]).concat.apply(c,p)}(ee,I,z,E,N,R,en,O,D);return l.default.createElement(W,K,l.default.createElement(H,S,!N&&J,L({rows:er,stylesheet:b,useInlineStyles:_})))}}},72858:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"PrismLight",{enumerable:!0,get:function(){return t.default}});var t=r.ir(r("79249"))},97575:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=r.ir(r("46285")).default},81130:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=r.ir(r("5340")).default},33204:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=r.ir(r("69870")).default},4249:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=r.ir(r("84641")).default},54466:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=r.ir(r("62178")).default},73846:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=r.ir(r("18055")).default},68448:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=r.ir(r("75271")).default},29385:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=r.ir(r("24667")).default},64227:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=r.ir(r("49317")).default},57077:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=r.ir(r("35944")).default},14917:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=r.ir(r("73987")).default},73513:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=r.ir(r("93871")).default},43184:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=r.ir(r("94369")).default},79249:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return l}});var t=r.ir(r("3197")),i=r.ir(r("41567")),s=(0,t.default)(i.default,{});s.registerLanguage=function(e,n){return i.default.register(n)},s.alias=function(e,n){return i.default.alias(e,n)};var l=s},10676:function(e,n,r){"use strict";var t=r("6171"),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,o=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function d(e,n,r){var t,s={},d=null,c=null;for(t in void 0!==r&&(d=""+r),void 0!==n.key&&(d=""+n.key),void 0!==n.ref&&(c=n.ref),n)l.call(n,t)&&!a.hasOwnProperty(t)&&(s[t]=n[t]);if(e&&e.defaultProps)for(t in n=e.defaultProps)void 0===s[t]&&(s[t]=n[t]);return{$$typeof:i,type:e,key:d,ref:c,props:s,_owner:o.current}}n.Fragment=s,n.jsx=d,n.jsxs=d},60470:function(e,n,r){"use strict";var t=Symbol.for("react.element"),i=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),d=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),x=Symbol.iterator,m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,j={};function g(e,n,r){this.props=e,this.context=n,this.refs=j,this.updater=r||m}function b(){}function v(e,n,r){this.props=e,this.context=n,this.refs=j,this.updater=r||m}g.prototype.isReactComponent={},g.prototype.setState=function(e,n){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,n,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=g.prototype;var y=v.prototype=new b;y.constructor=v,f(y,g.prototype),y.isPureReactComponent=!0;var w=Array.isArray,S=Object.prototype.hasOwnProperty,k={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function P(e,n,r){var i,s={},l=null,o=null;if(null!=n)for(i in void 0!==n.ref&&(o=n.ref),void 0!==n.key&&(l=""+n.key),n)S.call(n,i)&&!_.hasOwnProperty(i)&&(s[i]=n[i]);var a=arguments.length-2;if(1===a)s.children=r;else if(1<a){for(var d=Array(a),c=0;c<a;c++)d[c]=arguments[c+2];s.children=d}if(e&&e.defaultProps)for(i in a=e.defaultProps)void 0===s[i]&&(s[i]=a[i]);return{$$typeof:t,type:e,key:l,ref:o,props:s,_owner:k.current}}function E(e){return"object"==typeof e&&null!==e&&e.$$typeof===t}var F=/\/+/g;function N(e,n){var r,t;return"object"==typeof e&&null!==e&&null!=e.key?(r=""+e.key,t={"=":"=0",":":"=2"},"$"+r.replace(/[=:]/g,function(e){return t[e]})):n.toString(36)}function T(e,n,r){if(null==e)return e;var s=[],l=0;return!function e(n,r,s,l,o){var a,d,c,h=typeof n;("undefined"===h||"boolean"===h)&&(n=null);var u=!1;if(null===n)u=!0;else switch(h){case"string":case"number":u=!0;break;case"object":switch(n.$$typeof){case t:case i:u=!0}}if(u){;return o=o(u=n),n=""===l?"."+N(u,0):l,w(o)?(s="",null!=n&&(s=n.replace(F,"$&/")+"/"),e(o,r,s,"",function(e){return e})):null!=o&&(E(o)&&(a=o,d=s+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(F,"$&/")+"/")+n,o={$$typeof:t,type:a.type,key:d,ref:a.ref,props:a.props,_owner:a._owner}),r.push(o)),1}if(u=0,l=""===l?".":l+":",w(n))for(var p=0;p<n.length;p++){h=n[p];var m=l+N(h,p);u+=e(h,r,s,m,o)}else{;if("function"==typeof(m=null===(c=n)||"object"!=typeof c?null:"function"==typeof(c=x&&c[x]||c["@@iterator"])?c:null))for(n=m.call(n),p=0;!(h=n.next()).done;)m=l+N(h=h.value,p++),u+=e(h,r,s,m,o);else if("object"===h)throw Error("Objects are not valid as a React child (found: "+("[object Object]"===(r=String(n))?"object with keys {"+Object.keys(n).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.")}return u}(e,s,"","",function(e){return n.call(r,e,l++)}),s}function R(e){if(-1===e._status){var n=e._result;(n=n()).then(function(n){(0===e._status||-1===e._status)&&(e._status=1,e._result=n)},function(n){(0===e._status||-1===e._status)&&(e._status=2,e._result=n)}),-1===e._status&&(e._status=0,e._result=n)}if(1===e._status)return e._result.default;throw e._result}var C={current:null},M={transition:null};n.Children={map:T,forEach:function(e,n,r){T(e,function(){n.apply(this,arguments)},r)},count:function(e){var n=0;return T(e,function(){n++}),n},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},n.Component=g,n.Fragment=s,n.Profiler=o,n.PureComponent=v,n.StrictMode=l,n.Suspense=h,n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED={ReactCurrentDispatcher:C,ReactCurrentBatchConfig:M,ReactCurrentOwner:k},n.cloneElement=function(e,n,r){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=f({},e.props),s=e.key,l=e.ref,o=e._owner;if(null!=n){if(void 0!==n.ref&&(l=n.ref,o=k.current),void 0!==n.key&&(s=""+n.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(d in n)S.call(n,d)&&!_.hasOwnProperty(d)&&(i[d]=void 0===n[d]&&void 0!==a?a[d]:n[d])}var d=arguments.length-2;if(1===d)i.children=r;else if(1<d){a=Array(d);for(var c=0;c<d;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:t,type:e.type,key:s,ref:l,props:i,_owner:o}},n.createContext=function(e){return(e={$$typeof:d,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},n.createElement=P,n.createFactory=function(e){var n=P.bind(null,e);return n.type=e,n},n.createRef=function(){return{current:null}},n.forwardRef=function(e){return{$$typeof:c,render:e}},n.isValidElement=E,n.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:R}},n.memo=function(e,n){return{$$typeof:u,type:e,compare:void 0===n?null:n}},n.startTransition=function(e){var n=M.transition;M.transition={};try{e()}finally{M.transition=n}},n.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},n.useCallback=function(e,n){return C.current.useCallback(e,n)},n.useContext=function(e){return C.current.useContext(e)},n.useDebugValue=function(){},n.useDeferredValue=function(e){return C.current.useDeferredValue(e)},n.useEffect=function(e,n){return C.current.useEffect(e,n)},n.useId=function(){return C.current.useId()},n.useImperativeHandle=function(e,n,r){return C.current.useImperativeHandle(e,n,r)},n.useInsertionEffect=function(e,n){return C.current.useInsertionEffect(e,n)},n.useLayoutEffect=function(e,n){return C.current.useLayoutEffect(e,n)},n.useMemo=function(e,n){return C.current.useMemo(e,n)},n.useReducer=function(e,n,r){return C.current.useReducer(e,n,r)},n.useRef=function(e){return C.current.useRef(e)},n.useState=function(e){return C.current.useState(e)},n.useSyncExternalStore=function(e,n,r){return C.current.useSyncExternalStore(e,n,r)},n.useTransition=function(){return C.current.useTransition()},n.version="18.2.0"},6171:function(e,n,r){"use strict";e.exports=r("60470")},9880:function(e,n,r){"use strict";e.exports=r("10676")},41567:function(e,n,r){"use strict";var t="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof global?global:{},i=function(){var e="Prism"in t,n=e?t.Prism:void 0;return function(){e?t.Prism=n:delete t.Prism,e=void 0,n=void 0}}();t.Prism={manual:!0,disableWorkerMessageHandler:!0};var s=r("55589"),l=r("63716"),o=r("62920"),a=r("61976"),d=r("5340"),c=r("29645"),h=r("84641");i();var u={}.hasOwnProperty;function p(){}p.prototype=o;var x=new p;function m(e){if("function"!=typeof e||!e.displayName)throw Error("Expected `function` for `grammar`, got `"+e+"`");void 0===x.languages[e.displayName]&&e(x)}e.exports=x,x.highlight=function(e,n){var r,t=o.highlight;if("string"!=typeof e)throw Error("Expected `string` for `value`, got `"+e+"`");if("Object"===x.util.type(n))r=n,n=null;else{if("string"!=typeof n)throw Error("Expected `string` for `name`, got `"+n+"`");if(u.call(x.languages,n))r=x.languages[n];else throw Error("Unknown language: `"+n+"` is not registered")}return t.call(this,e,r,n)},x.register=m,x.alias=function(e,n){var r,t,i,s,l=x.languages,o=e;for(r in n&&((o={})[e]=n),o)for(i=(t="string"==typeof(t=o[r])?[t]:t).length,s=-1;++s<i;)l[t[s]]=l[r]},x.registered=function(e){if("string"!=typeof e)throw Error("Expected `string` for `language`, got `"+e+"`");return u.call(x.languages,e)},x.listLanguages=function(){var e,n=x.languages,r=[];for(e in n)u.call(n,e)&&"object"==typeof n[e]&&r.push(e);return r},m(a),m(d),m(c),m(h),x.util.encode=function(e){return e},x.Token.stringify=function(e,n,r){var t;return"string"==typeof e?{type:"text",value:e}:"Array"===x.util.type(e)?function(e,n){for(var r,t=[],i=e.length,s=-1;++s<i;)""!==(r=e[s])&&null!=r&&t.push(r);for(s=-1,i=t.length;++s<i;)r=t[s],t[s]=x.Token.stringify(r,n,t);return t}(e,n):(t={type:e.type,content:x.Token.stringify(e.content,n,r),tag:"span",classes:["token",e.type],attributes:{},language:n,parent:r},e.alias&&(t.classes=t.classes.concat(e.alias)),x.hooks.run("wrap",t),s(t.tag+"."+t.classes.join("."),function(e){var n;for(n in e)e[n]=l(e[n]);return e}(t.attributes),t.content))}},46285:function(e,n,r){"use strict";function t(e){!function(e){var n="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",r={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},t={bash:r,environment:{pattern:RegExp("\\$"+n),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+n),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};e.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+n),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:t},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:r}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:t},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:t.entity}}],environment:{pattern:RegExp("\\$?"+n),alias:"constant"},variable:t.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},r.inside=e.languages.bash;for(var i=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],s=t.variable[1].inside,l=0;l<i.length;l++)s[i[l]]=e.languages.bash[i[l]];e.languages.shell=e.languages.bash}(e)}e.exports=t,t.displayName="bash",t.aliases=["shell"]},29645:function(e,n,r){"use strict";function t(e){e.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}e.exports=t,t.displayName="clike",t.aliases=[]},5340:function(e,n,r){"use strict";function t(e){var n,r,t;r=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/,(n=e).languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+r.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+r.source+"$"),alias:"url"}}},selector:{pattern:RegExp("(^|[{}\\s])[^{}\\s](?:[^{};\"'\\s]|\\s+(?![\\s{])|"+r.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:r,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},n.languages.css.atrule.inside.rest=n.languages.css,t=n.languages.markup,t&&(t.tag.addInlined("style","css"),t.tag.addAttribute("style","css"))}e.exports=t,t.displayName="css",t.aliases=[]},69870:function(e,n,r){"use strict";function t(e){var n,r;(n=e).languages.diff={coord:[/^(?:\*{3}|-{3}|\+{3}).*$/m,/^@@.*@@$/m,/^\d.*$/m]},r={"deleted-sign":"-","deleted-arrow":"<","inserted-sign":"+","inserted-arrow":">",unchanged:" ",diff:"!"},Object.keys(r).forEach(function(e){var t=r[e],i=[];!/^\w+$/.test(e)&&i.push(/\w+/.exec(e)[0]),"diff"===e&&i.push("bold"),n.languages.diff[e]={pattern:RegExp("^(?:["+t+"].*(?:\r\n?|\n|(?![\\s\\S])))+","m"),alias:i,inside:{line:{pattern:/(.)(?=[\s\S]).*(?:\r\n?|\n)?/,lookbehind:!0},prefix:{pattern:/[\s\S]/,alias:/\w+/.exec(e)[0]}}}}),Object.defineProperty(n.languages.diff,"PREFIXES",{value:r})}e.exports=t,t.displayName="diff",t.aliases=[]},84641:function(e,n,r){"use strict";function t(e){e.languages.javascript=e.languages.extend("clike",{"class-name":[e.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|")+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),e.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,e.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:e.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:e.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:e.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:e.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:e.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),e.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:e.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),e.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),e.languages.markup&&(e.languages.markup.tag.addInlined("script","javascript"),e.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),e.languages.js=e.languages.javascript}e.exports=t,t.displayName="javascript",t.aliases=["js"]},62178:function(e,n,r){"use strict";function t(e){e.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},e.languages.webmanifest=e.languages.json}e.exports=t,t.displayName="json",t.aliases=["webmanifest"]},18055:function(e,n,r){"use strict";function t(e){!function(e){var n=e.util.clone(e.languages.javascript),r=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,t=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,i=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function s(e,n){return RegExp(e=e.replace(/<S>/g,function(){return r}).replace(/<BRACES>/g,function(){return t}).replace(/<SPREAD>/g,function(){return i}),n)}i=s(i).source,e.languages.jsx=e.languages.extend("markup",n),e.languages.jsx.tag.pattern=s(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),e.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,e.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,e.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,e.languages.jsx.tag.inside.comment=n.comment,e.languages.insertBefore("inside","attr-name",{spread:{pattern:s(/<SPREAD>/.source),inside:e.languages.jsx}},e.languages.jsx.tag),e.languages.insertBefore("inside","special-attr",{script:{pattern:s(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:e.languages.jsx}}},e.languages.jsx.tag);var l=function(e){return e?"string"==typeof e?e:"string"==typeof e.content?e.content:e.content.map(l).join(""):""},o=function(n){for(var r=[],t=0;t<n.length;t++){var i=n[t],s=!1;if("string"!=typeof i&&("tag"===i.type&&i.content[0]&&"tag"===i.content[0].type?"</"===i.content[0].content[0].content?r.length>0&&r[r.length-1].tagName===l(i.content[0].content[1])&&r.pop():"/>"===i.content[i.content.length-1].content||r.push({tagName:l(i.content[0].content[1]),openedBraces:0}):r.length>0&&"punctuation"===i.type&&"{"===i.content?r[r.length-1].openedBraces++:r.length>0&&r[r.length-1].openedBraces>0&&"punctuation"===i.type&&"}"===i.content?r[r.length-1].openedBraces--:s=!0),(s||"string"==typeof i)&&r.length>0&&0===r[r.length-1].openedBraces){var a=l(i);t<n.length-1&&("string"==typeof n[t+1]||"plain-text"===n[t+1].type)&&(a+=l(n[t+1]),n.splice(t+1,1)),t>0&&("string"==typeof n[t-1]||"plain-text"===n[t-1].type)&&(a=l(n[t-1])+a,n.splice(t-1,1),t--),n[t]=new e.Token("plain-text",a,null,a)}i.content&&"string"!=typeof i.content&&o(i.content)}};e.hooks.add("after-tokenize",function(e){("jsx"===e.language||"tsx"===e.language)&&o(e.tokens)})}(e)}e.exports=t,t.displayName="jsx",t.aliases=[]},75271:function(e,n,r){"use strict";function t(e){e.languages.less=e.languages.extend("css",{comment:[/\/\*[\s\S]*?\*\//,{pattern:/(^|[^\\])\/\/.*/,lookbehind:!0}],atrule:{pattern:/@[\w-](?:\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{punctuation:/[:()]/}},selector:{pattern:/(?:@\{[\w-]+\}|[^{};\s@])(?:@\{[\w-]+\}|\((?:[^(){}]|\([^(){}]*\))*\)|[^(){};@\s]|\s+(?!\s))*?(?=\s*\{)/,inside:{variable:/@+[\w-]+/}},property:/(?:@\{[\w-]+\}|[\w-])+(?:\+_?)?(?=\s*:)/,operator:/[+\-*\/]/}),e.languages.insertBefore("less","property",{variable:[{pattern:/@[\w-]+\s*:/,inside:{punctuation:/:/}},/@@?[\w-]+/],"mixin-usage":{pattern:/([{;]\s*)[.#](?!\d)[\w-].*?(?=[(;])/,lookbehind:!0,alias:"function"}})}e.exports=t,t.displayName="less",t.aliases=[]},24667:function(e,n,r){"use strict";function t(e){!function(e){var n=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function r(e){return e=e.replace(/<inner>/g,function(){return n}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+e+")")}var t=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,i=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return t}),s=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;e.languages.markdown=e.languages.extend("markup",{}),e.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:e.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+i+s+"(?:"+i+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+i+s+")(?:"+i+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(t),inside:e.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+i+")"+s+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+i+"$"),inside:{"table-header":{pattern:RegExp(t),alias:"important",inside:e.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:r(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:r(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:r(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:r(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(n){["url","bold","italic","strike","code-snippet"].forEach(function(r){n!==r&&(e.languages.markdown[n].inside.content.inside[r]=e.languages.markdown[r])})}),e.hooks.add("after-tokenize",function(e){("markdown"===e.language||"md"===e.language)&&function e(n){if(n&&"string"!=typeof n)for(var r=0,t=n.length;r<t;r++){var i=n[r];if("code"!==i.type){e(i.content);continue}var s=i.content[1],l=i.content[3];if(s&&l&&"code-language"===s.type&&"code-block"===l.type&&"string"==typeof s.content){var o=s.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp"),a="language-"+(o=(/[a-z][\w-]*/i.exec(o)||[""])[0].toLowerCase());l.alias?"string"==typeof l.alias?l.alias=[l.alias,a]:l.alias.push(a):l.alias=[a]}}}(e.tokens)}),e.hooks.add("wrap",function(n){if("code-block"===n.type){for(var r="",t=0,i=n.classes.length;t<i;t++){var s=n.classes[t],d=/language-(.+)/.exec(s);if(d){r=d[1];break}}var c=e.languages[r];if(c)n.content=e.highlight(function(e){var n=e.replace(l,"");return n=n.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(e,n){if("#"===(n=n.toLowerCase())[0]){var r;return a(r="x"===n[1]?parseInt(n.slice(2),16):Number(n.slice(1)))}var t=o[n];return t?t:e})}(n.content.value),c,r);else if(r&&"none"!==r&&e.plugins.autoloader){var h="md-"+new Date().valueOf()+"-"+Math.floor(1e16*Math.random());n.attributes.id=h,e.plugins.autoloader.loadLanguages(r,function(){var n=document.getElementById(h);n&&(n.innerHTML=e.highlight(n.textContent,e.languages[r],r))})}}});var l=RegExp(e.languages.markup.tag.pattern.source,"gi"),o={amp:"&",lt:"<",gt:">",quot:'"'},a=String.fromCodePoint||String.fromCharCode;e.languages.md=e.languages.markdown}(e)}e.exports=t,t.displayName="markdown",t.aliases=["md"]},61976:function(e,n,r){"use strict";function t(e){e.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},e.languages.markup.tag.inside["attr-value"].inside.entity=e.languages.markup.entity,e.languages.markup.doctype.inside["internal-subset"].inside=e.languages.markup,e.hooks.add("wrap",function(e){"entity"===e.type&&(e.attributes.title=e.content.value.replace(/&amp;/,"&"))}),Object.defineProperty(e.languages.markup.tag,"addInlined",{value:function(n,r){var t={};t["language-"+r]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:e.languages[r]},t.cdata=/^<!\[CDATA\[|\]\]>$/i;var i={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:t}};i["language-"+r]={pattern:/[\s\S]+/,inside:e.languages[r]};var s={};s[n]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return n}),"i"),lookbehind:!0,greedy:!0,inside:i},e.languages.insertBefore("markup","cdata",s)}}),Object.defineProperty(e.languages.markup.tag,"addAttribute",{value:function(n,r){e.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+n+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[r,"language-"+r],inside:e.languages[r]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),e.languages.html=e.languages.markup,e.languages.mathml=e.languages.markup,e.languages.svg=e.languages.markup,e.languages.xml=e.languages.extend("markup",{}),e.languages.ssml=e.languages.xml,e.languages.atom=e.languages.xml,e.languages.rss=e.languages.xml}e.exports=t,t.displayName="markup",t.aliases=["html","mathml","svg","xml","ssml","atom","rss"]},49317:function(e,n,r){"use strict";function t(e){e.languages.scss=e.languages.extend("css",{comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|\/\/.*)/,lookbehind:!0},atrule:{pattern:/@[\w-](?:\([^()]+\)|[^()\s]|\s+(?!\s))*?(?=\s+[{;])/,inside:{rule:/@[\w-]+/}},url:/(?:[-a-z]+-)?url(?=\()/i,selector:{pattern:/(?=\S)[^@;{}()]?(?:[^@;{}()\s]|\s+(?!\s)|#\{\$[-\w]+\})+(?=\s*\{(?:\}|\s|[^}][^:{}]*[:{][^}]))/,inside:{parent:{pattern:/&/,alias:"important"},placeholder:/%[-\w]+/,variable:/\$[-\w]+|#\{\$[-\w]+\}/}},property:{pattern:/(?:[-\w]|\$[-\w]|#\{\$[-\w]+\})+(?=\s*:)/,inside:{variable:/\$[-\w]+|#\{\$[-\w]+\}/}}}),e.languages.insertBefore("scss","atrule",{keyword:[/@(?:content|debug|each|else(?: if)?|extend|for|forward|function|if|import|include|mixin|return|use|warn|while)\b/i,{pattern:/( )(?:from|through)(?= )/,lookbehind:!0}]}),e.languages.insertBefore("scss","important",{variable:/\$[-\w]+|#\{\$[-\w]+\}/}),e.languages.insertBefore("scss","function",{"module-modifier":{pattern:/\b(?:as|hide|show|with)\b/i,alias:"keyword"},placeholder:{pattern:/%[-\w]+/,alias:"selector"},statement:{pattern:/\B!(?:default|optional)\b/i,alias:"keyword"},boolean:/\b(?:false|true)\b/,null:{pattern:/\bnull\b/,alias:"keyword"},operator:{pattern:/(\s)(?:[-+*\/%]|[=!]=|<=?|>=?|and|not|or)(?=\s)/,lookbehind:!0}}),e.languages.scss.atrule.inside.rest=e.languages.scss}e.exports=t,t.displayName="scss",t.aliases=[]},35944:function(e,n,r){"use strict";var t=r("18055"),i=r("73987");function s(e){var n,r,s;e.register(t),e.register(i),r=(n=e).util.clone(n.languages.typescript),n.languages.tsx=n.languages.extend("jsx",r),delete n.languages.tsx.parameter,delete n.languages.tsx["literal-property"],s=n.languages.tsx.tag,s.pattern=RegExp(/(^|[^\w$]|(?=<\/))/.source+"(?:"+s.pattern.source+")",s.pattern.flags),s.lookbehind=!0}e.exports=s,s.displayName="tsx",s.aliases=[]},73987:function(e,n,r){"use strict";function t(e){var n,r;(n=e).languages.typescript=n.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),n.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete n.languages.typescript.parameter,delete n.languages.typescript["literal-property"],r=n.languages.extend("typescript",{}),delete r["class-name"],n.languages.typescript["class-name"].inside=r,n.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:r}}}}),n.languages.ts=n.languages.typescript}e.exports=t,t.displayName="typescript",t.aliases=["ts"]},93871:function(e,n,r){"use strict";function t(e){!function(e){function n(n,r){e.languages[n]&&e.languages.insertBefore(n,"comment",{"doc-comment":r})}var r=e.languages.markup.tag,t={pattern:/\/\/\/.*/,greedy:!0,alias:"comment",inside:{tag:r}};n("csharp",t),n("fsharp",t),n("vbnet",{pattern:/'''.*/,greedy:!0,alias:"comment",inside:{tag:r}})}(e)}e.exports=t,t.displayName="xmlDoc",t.aliases=[]},94369:function(e,n,r){"use strict";function t(e){!function(e){var n=/[*&][^\s[\]{},]+/,r=/!(?:<[\w\-%#;/?:@&=+$,.!~*'()[\]]+>|(?:[a-zA-Z\d-]*!)?[\w\-%#;/?:@&=+$.~*'()]+)?/,t="(?:"+r.source+"(?:[ 	]+"+n.source+")?|"+n.source+"(?:[ 	]+"+r.source+")?)",i=/(?:[^\s\x00-\x08\x0e-\x1f!"#%&'*,\-:>?@[\]`{|}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]|[?:-]<PLAIN>)(?:[ \t]*(?:(?![#:])<PLAIN>|:<PLAIN>))*/.source.replace(/<PLAIN>/g,function(){return/[^\s\x00-\x08\x0e-\x1f,[\]{}\x7f-\x84\x86-\x9f\ud800-\udfff\ufffe\uffff]/.source}),s=/"(?:[^"\\\r\n]|\\.)*"|'(?:[^'\\\r\n]|\\.)*'/.source;function l(e,n){return n=(n||"").replace(/m/g,"")+"m",RegExp(/([:\-,[{]\s*(?:\s<<prop>>[ \t]+)?)(?:<<value>>)(?=[ \t]*(?:$|,|\]|\}|(?:[\r\n]\s*)?#))/.source.replace(/<<prop>>/g,function(){return t}).replace(/<<value>>/g,function(){return e}),n)}e.languages.yaml={scalar:{pattern:RegExp(/([\-:]\s*(?:\s<<prop>>[ \t]+)?[|>])[ \t]*(?:((?:\r?\n|\r)[ \t]+)\S[^\r\n]*(?:\2[^\r\n]+)*)/.source.replace(/<<prop>>/g,function(){return t})),lookbehind:!0,alias:"string"},comment:/#.*/,key:{pattern:RegExp(/((?:^|[:\-,[{\r\n?])[ \t]*(?:<<prop>>[ \t]+)?)<<key>>(?=\s*:\s)/.source.replace(/<<prop>>/g,function(){return t}).replace(/<<key>>/g,function(){return"(?:"+i+"|"+s+")"})),lookbehind:!0,greedy:!0,alias:"atrule"},directive:{pattern:/(^[ \t]*)%.+/m,lookbehind:!0,alias:"important"},datetime:{pattern:l(/\d{4}-\d\d?-\d\d?(?:[tT]|[ \t]+)\d\d?:\d{2}:\d{2}(?:\.\d*)?(?:[ \t]*(?:Z|[-+]\d\d?(?::\d{2})?))?|\d{4}-\d{2}-\d{2}|\d\d?:\d{2}(?::\d{2}(?:\.\d*)?)?/.source),lookbehind:!0,alias:"number"},boolean:{pattern:l(/false|true/.source,"i"),lookbehind:!0,alias:"important"},null:{pattern:l(/null|~/.source,"i"),lookbehind:!0,alias:"important"},string:{pattern:l(s),lookbehind:!0,greedy:!0},number:{pattern:l(/[+-]?(?:0x[\da-f]+|0o[0-7]+|(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?|\.inf|\.nan)/.source,"i"),lookbehind:!0},tag:r,important:n,punctuation:/---|[:[\]{}\-,|>?]|\.\.\./},e.languages.yml=e.languages.yaml}(e)}e.exports=t,t.displayName="yaml",t.aliases=["yml"]},3366:function(e,n,r){"use strict";function t(e,n){var r=e.length;e.push(n);e:for(;0<r;){var t=r-1>>>1,i=e[t];if(0<l(i,n))e[t]=n,e[r]=i,r=t;else break e}}function i(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var n=e[0],r=e.pop();if(r!==n){e[0]=r;e:for(var t=0,i=e.length,s=i>>>1;t<s;){var o=2*(t+1)-1,a=e[o],d=o+1,c=e[d];if(0>l(a,r))d<i&&0>l(c,a)?(e[t]=c,e[d]=r,t=d):(e[t]=a,e[o]=r,t=o);else if(d<i&&0>l(c,r))e[t]=c,e[d]=r,t=d;else break e}}return n}function l(e,n){var r=e.sortIndex-n.sortIndex;return 0!==r?r:e.id-n.id}if("object"==typeof performance&&"function"==typeof performance.now){var o,a=performance;n.unstable_now=function(){return a.now()}}else{var d=Date,c=d.now();n.unstable_now=function(){return d.now()-c}}var h=[],u=[],p=1,x=null,m=3,f=!1,j=!1,g=!1,b="function"==typeof setTimeout?setTimeout:null,v="function"==typeof clearTimeout?clearTimeout:null,y="undefined"!=typeof setImmediate?setImmediate:null;function w(e){for(var n=i(u);null!==n;){if(null===n.callback)s(u);else if(n.startTime<=e)s(u),n.sortIndex=n.expirationTime,t(h,n);else break;n=i(u)}}function S(e){if(g=!1,w(e),!j){if(null!==i(h))j=!0,O(k);else{var n=i(u);null!==n&&I(S,n.startTime-e)}}}function k(e,r){j=!1,g&&(g=!1,v(E),E=-1),f=!0;var t=m;try{for(w(r),x=i(h);null!==x&&(!(x.expirationTime>r)||e&&!T());){var l=x.callback;if("function"==typeof l){x.callback=null,m=x.priorityLevel;var o=l(x.expirationTime<=r);r=n.unstable_now(),"function"==typeof o?x.callback=o:x===i(h)&&s(h),w(r)}else s(h);x=i(h)}if(null!==x)var a=!0;else{var d=i(u);null!==d&&I(S,d.startTime-r),a=!1}return a}finally{x=null,m=t,f=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _=!1,P=null,E=-1,F=5,N=-1;function T(){return!(n.unstable_now()-N<F)}function R(){if(null!==P){var e=n.unstable_now();N=e;var r=!0;try{r=P(!0,e)}finally{r?o():(_=!1,P=null)}}else _=!1}if("function"==typeof y)o=function(){y(R)};else if("undefined"!=typeof MessageChannel){var C=new MessageChannel,M=C.port2;C.port1.onmessage=R,o=function(){M.postMessage(null)}}else o=function(){b(R,0)};function O(e){P=e,_||(_=!0,o())}function I(e,r){E=b(function(){e(n.unstable_now())},r)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(e){e.callback=null},n.unstable_continueExecution=function(){j||f||(j=!0,O(k))},n.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<e?Math.floor(1e3/e):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return i(h)},n.unstable_next=function(e){switch(m){case 1:case 2:case 3:var n=3;break;default:n=m}var r=m;m=n;try{return e()}finally{m=r}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=m;m=e;try{return n()}finally{m=r}},n.unstable_scheduleCallback=function(e,r,s){var l=n.unstable_now();switch(s="object"==typeof s&&null!==s?"number"==typeof(s=s.delay)&&0<s?l+s:l:l,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return o=s+o,e={id:p++,callback:r,priorityLevel:e,startTime:s,expirationTime:o,sortIndex:-1},s>l?(e.sortIndex=s,t(u,e),null===i(h)&&e===i(u)&&(g?(v(E),E=-1):g=!0,I(S,s-l))):(e.sortIndex=o,t(h,e),j||f||(j=!0,O(k))),e},n.unstable_shouldYield=T,n.unstable_wrapCallback=function(e){var n=m;return function(){var r=m;m=n;try{return e.apply(this,arguments)}finally{m=r}}}},10406:function(e,n,r){"use strict";e.exports=r("3366")},28722:function(e,n,r){e.exports=function(e,n,r,t){var i=r?r.call(t,e,n):void 0;if(void 0!==i)return!!i;if(e===n)return!0;if("object"!=typeof e||!e||"object"!=typeof n||!n)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(n),a=0;a<s.length;a++){var d=s[a];if(!o(d))return!1;var c=e[d],h=n[d];if(!1===(i=r?r.call(t,c,h,d):void 0)||void 0===i&&c!==h)return!1}return!0}},47296:function(e,n,r){"use strict";n.parse=function(e){var n=String(e||"").trim();return""===n?[]:n.split(t)},n.stringify=function(e){return e.join(" ").trim()};var t=/[ \t\n\r\f]+/g},23072:function(e,n,r){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var n=document.activeElement,r=[],t=0;t<e.rangeCount;t++)r.push(e.getRangeAt(t));switch(n.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":n.blur();break;default:n=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),!e.rangeCount&&r.forEach(function(n){e.addRange(n)}),n&&n.focus()}}},56296:function(e,n,r){e.exports=function(){for(var e={},n=0;n<arguments.length;n++){var r=arguments[n];for(var i in r)t.call(r,i)&&(e[i]=r[i])}return e};var t=Object.prototype.hasOwnProperty},16759:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=[r.ir(r("70169")).default]},33190:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"routes",{enumerable:!0,get:function(){return ne}});var t=r.ir(r("6171"));r("89440");var i=r.ir(r("70090")),s=r.ir(r("18642")),l=r.ir(r("65475")),o=r.ir(r("85893")),a=r.ir(r("91594")),d=r.ir(r("70795")),c=r.ir(r("7546")),h=r.ir(r("61340")),u=r.ir(r("24860")),p=r.ir(r("89441")),x=r.ir(r("38692")),m=r.ir(r("11916")),f=r.ir(r("97082")),j=r.ir(r("19830")),g=r.ir(r("72742")),b=r.ir(r("77386")),v=r.ir(r("86158")),y=r.ir(r("73407")),w=r.ir(r("81756")),S=r.ir(r("62189")),k=r.ir(r("58182")),_=r.ir(r("70664")),P=r.ir(r("23003")),E=r.ir(r("31503")),F=r.ir(r("39541")),N=r.ir(r("58134")),T=r.ir(r("28579")),R=r.ir(r("7931")),C=r.ir(r("42245")),M=r.ir(r("89414")),O=r.ir(r("66146")),I=r.ir(r("77613")),A=r.ir(r("90390")),D=r.ir(r("847")),B=r.ir(r("37340")),z=r.ir(r("35515")),L=r.ir(r("22072")),G=r.ir(r("39458")),W=r.ir(r("25728")),U=r.ir(r("39032")),H=r.ir(r("9553")),q=r.ir(r("184")),X=r.ir(r("74885")),V=r.ir(r("38281")),$=r.ir(r("74158")),J=r.ir(r("32699")),Y=r.ir(r("71202")),Q=r.ir(r("21725")),K=r.ir(r("21724")),Z=r.ir(r("75775")),ee=r.ir(r("92746")),en=r.ir(r("62037")),er=r.ir(r("63865")),et=r.ir(r("13282")),ei=r.ir(r("95151")),es=r.ir(r("23598")),el=r.ir(r("49193")),eo=r.ir(r("97366")),ea=r.ir(r("23688")),ed=r.ir(r("25231")),ec=r.ir(r("20221")),eh=r.ir(r("32252")),eu=r.ir(r("54404")),ep=r.ir(r("6618")),ex=r.ir(r("63207")),em=r.ir(r("13635")),ef=r.ir(r("88737")),ej=r.ir(r("32709")),eg=r.ir(r("15654")),eb=r.ir(r("76837")),ev=r.ir(r("59639")),ey=r.ir(r("35478")),ew=r.ir(r("10248")),eS=r.ir(r("11410")),ek=r.ir(r("18875")),e_=r.ir(r("32393")),eP=r.ir(r("41813")),eE=r.ir(r("77044")),eF=r.ir(r("42075")),eN=r.ir(r("10868")),eT=r.ir(r("13840")),eR=r.ir(r("29827")),eC=r.ir(r("20099")),eM=r.ir(r("51319")),eO=r.ir(r("77760")),eI=r.ir(r("29396")),eA=r.ir(r("83657")),eD=r.ir(r("37941")),eB=r.ir(r("3307")),ez=r.ir(r("13458")),eL=r.ir(r("93351")),eG=r.ir(r("2908")),eW=r.ir(r("64100")),eU=r.ir(r("53349")),eH=r.ir(r("40811")),eq=r.ir(r("51558")),eX=r.ir(r("22727")),eV=r.ir(r("40275")),e$=r.ir(r("35903")),eJ=r.ir(r("94871")),eY=r.ir(r("18766")),eQ=r.ir(r("75824")),eK=r.ir(r("81837")),eZ=r.ir(r("21010")),e0=r.ir(r("63736")),e2=r.ir(r("17713")),e1=r.ir(r("47166")),e3=r.ir(r("70859")),e4=r.ir(r("62103")),e8=r.ir(r("27438")),e6=r.ir(r("92591")),e5=r.ir(r("68859")),e9=r.ir(r("16405")),e7=r.ir(r("77924"));let ne=[{path:"/builder/en/api/builder-core",element:t.default.createElement(i.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/api/builder-core.mdx",preload:()=>i,lang:"en"},{path:"/builder/en/api/builder-instance",element:t.default.createElement(s.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/api/builder-instance.mdx",preload:()=>s,lang:"en"},{path:"/builder/en/api/builder-types",element:t.default.createElement(l.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/api/builder-types.mdx",preload:()=>l,lang:"en"},{path:"/builder/en/api/config-dev",element:t.default.createElement(o.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/api/config-dev.mdx",preload:()=>o,lang:"en"},{path:"/builder/en/api/config-experiments",element:t.default.createElement(a.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/api/config-experiments.mdx",preload:()=>a,lang:"en"},{path:"/builder/en/api/config-html",element:t.default.createElement(d.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/api/config-html.mdx",preload:()=>d,lang:"en"},{path:"/builder/en/api/config-output",element:t.default.createElement(c.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/api/config-output.mdx",preload:()=>c,lang:"en"},{path:"/builder/en/api/config-performance",element:t.default.createElement(h.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/api/config-performance.mdx",preload:()=>h,lang:"en"},{path:"/builder/en/api/config-security",element:t.default.createElement(u.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/api/config-security.mdx",preload:()=>u,lang:"en"},{path:"/builder/en/api/config-source",element:t.default.createElement(p.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/api/config-source.mdx",preload:()=>p,lang:"en"},{path:"/builder/en/api/config-tools",element:t.default.createElement(x.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/api/config-tools.mdx",preload:()=>x,lang:"en"},{path:"/builder/en/api/",element:t.default.createElement(m.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/api/index.mdx",preload:()=>m,lang:"en"},{path:"/builder/en/api/plugin-core",element:t.default.createElement(f.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/api/plugin-core.mdx",preload:()=>f,lang:"en"},{path:"/builder/en/api/plugin-hooks",element:t.default.createElement(j.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/api/plugin-hooks.mdx",preload:()=>j,lang:"en"},{path:"/builder/en/guide/advanced/alias",element:t.default.createElement(g.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/advanced/alias.md",preload:()=>g,lang:"en"},{path:"/builder/en/guide/advanced/browser-compatibility",element:t.default.createElement(b.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/advanced/browser-compatibility.md",preload:()=>b,lang:"en"},{path:"/builder/en/guide/advanced/browserslist",element:t.default.createElement(v.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/advanced/browserslist.md",preload:()=>v,lang:"en"},{path:"/builder/en/guide/advanced/custom-webpack-config",element:t.default.createElement(y.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/advanced/custom-webpack-config.md",preload:()=>y,lang:"en"},{path:"/builder/en/guide/advanced/define",element:t.default.createElement(w.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/advanced/define.md",preload:()=>w,lang:"en"},{path:"/builder/en/guide/advanced/hmr",element:t.default.createElement(S.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/advanced/hmr.md",preload:()=>S,lang:"en"},{path:"/builder/en/guide/advanced/rem",element:t.default.createElement(k.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/advanced/rem.md",preload:()=>k,lang:"en"},{path:"/builder/en/guide/advanced/rspack-start",element:t.default.createElement(_.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/advanced/rspack-start.mdx",preload:()=>_,lang:"en"},{path:"/builder/en/guide/basic/build-target",element:t.default.createElement(P.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/basic/build-target.md",preload:()=>P,lang:"en"},{path:"/builder/en/guide/basic/builder-cli",element:t.default.createElement(E.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/basic/builder-cli.mdx",preload:()=>E,lang:"en"},{path:"/builder/en/guide/basic/builder-config",element:t.default.createElement(F.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/basic/builder-config.mdx",preload:()=>F,lang:"en"},{path:"/builder/en/guide/basic/css-modules",element:t.default.createElement(N.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/basic/css-modules.md",preload:()=>N,lang:"en"},{path:"/builder/en/guide/basic/css-usage",element:t.default.createElement(T.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/basic/css-usage.md",preload:()=>T,lang:"en"},{path:"/builder/en/guide/basic/html-template",element:t.default.createElement(R.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/basic/html-template.md",preload:()=>R,lang:"en"},{path:"/builder/en/guide/basic/json-files",element:t.default.createElement(C.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/basic/json-files.md",preload:()=>C,lang:"en"},{path:"/builder/en/guide/basic/output-files",element:t.default.createElement(M.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/basic/output-files.md",preload:()=>M,lang:"en"},{path:"/builder/en/guide/basic/static-assets",element:t.default.createElement(O.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/basic/static-assets.md",preload:()=>O,lang:"en"},{path:"/builder/en/guide/basic/svg-assets",element:t.default.createElement(I.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/basic/svg-assets.md",preload:()=>I,lang:"en"},{path:"/builder/en/guide/basic/typescript",element:t.default.createElement(A.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/basic/typescript.md",preload:()=>A,lang:"en"},{path:"/builder/en/guide/basic/wasm-assets",element:t.default.createElement(D.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/basic/wasm-assets.md",preload:()=>D,lang:"en"},{path:"/builder/en/guide/debug/debug-mode",element:t.default.createElement(B.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/debug/debug-mode.md",preload:()=>B,lang:"en"},{path:"/builder/en/guide/debug/inspector",element:t.default.createElement(z.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/debug/inspector.md",preload:()=>z,lang:"en"},{path:"/builder/en/guide/faq/exceptions",element:t.default.createElement(L.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/faq/exceptions.md",preload:()=>L,lang:"en"},{path:"/builder/en/guide/faq/features",element:t.default.createElement(G.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/faq/features.md",preload:()=>G,lang:"en"},{path:"/builder/en/guide/faq/general",element:t.default.createElement(W.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/faq/general.md",preload:()=>W,lang:"en"},{path:"/builder/en/guide/faq/hmr",element:t.default.createElement(U.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/faq/hmr.md",preload:()=>U,lang:"en"},{path:"/builder/en/guide/features",element:t.default.createElement(H.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/features.mdx",preload:()=>H,lang:"en"},{path:"/builder/en/guide/glossary",element:t.default.createElement(q.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/glossary.mdx",preload:()=>q,lang:"en"},{path:"/builder/en/guide/introduction",element:t.default.createElement(X.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/introduction.mdx",preload:()=>X,lang:"en"},{path:"/builder/en/guide/optimization/build-performance",element:t.default.createElement(V.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/optimization/build-performance.mdx",preload:()=>V,lang:"en"},{path:"/builder/en/guide/optimization/inline-assets",element:t.default.createElement($.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/optimization/inline-assets.md",preload:()=>$,lang:"en"},{path:"/builder/en/guide/optimization/optimize-bundle",element:t.default.createElement(J.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/optimization/optimize-bundle.md",preload:()=>J,lang:"en"},{path:"/builder/en/guide/optimization/split-chunk",element:t.default.createElement(Y.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/optimization/split-chunk.md",preload:()=>Y,lang:"en"},{path:"/builder/en/guide/quick-start",element:t.default.createElement(Q.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/quick-start.mdx",preload:()=>Q,lang:"en"},{path:"/builder/en/",element:t.default.createElement(K.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/index.md",preload:()=>K,lang:"en"},{path:"/builder/en/plugins/introduction",element:t.default.createElement(Z.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/plugins/introduction.md",preload:()=>Z,lang:"en"},{path:"/builder/en/plugins/list",element:t.default.createElement(ee.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/plugins/list.md",preload:()=>ee,lang:"en"},{path:"/builder/en/plugins/plugin-esbuild",element:t.default.createElement(en.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/plugins/plugin-esbuild.mdx",preload:()=>en,lang:"en"},{path:"/builder/en/plugins/plugin-image-compress",element:t.default.createElement(er.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/plugins/plugin-image-compress.mdx",preload:()=>er,lang:"en"},{path:"/builder/en/plugins/plugin-node-polyfill",element:t.default.createElement(et.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/plugins/plugin-node-polyfill.mdx",preload:()=>et,lang:"en"},{path:"/builder/en/plugins/plugin-stylus",element:t.default.createElement(ei.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/plugins/plugin-stylus.mdx",preload:()=>ei,lang:"en"},{path:"/builder/en/plugins/plugin-swc",element:t.default.createElement(es.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/plugins/plugin-swc.mdx",preload:()=>es,lang:"en"},{path:"/builder/en/plugins/plugin-vue",element:t.default.createElement(el.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/plugins/plugin-vue.mdx",preload:()=>el,lang:"en"},{path:"/builder/api/builder-core",element:t.default.createElement(eo.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/api/builder-core.mdx",preload:()=>eo,lang:"zh"},{path:"/builder/api/builder-instance",element:t.default.createElement(ea.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/api/builder-instance.mdx",preload:()=>ea,lang:"zh"},{path:"/builder/api/builder-types",element:t.default.createElement(ed.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/api/builder-types.mdx",preload:()=>ed,lang:"zh"},{path:"/builder/api/config-dev",element:t.default.createElement(ec.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/api/config-dev.mdx",preload:()=>ec,lang:"zh"},{path:"/builder/api/config-experiments",element:t.default.createElement(eh.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/api/config-experiments.mdx",preload:()=>eh,lang:"zh"},{path:"/builder/api/config-html",element:t.default.createElement(eu.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/api/config-html.mdx",preload:()=>eu,lang:"zh"},{path:"/builder/api/config-output",element:t.default.createElement(ep.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/api/config-output.mdx",preload:()=>ep,lang:"zh"},{path:"/builder/api/config-performance",element:t.default.createElement(ex.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/api/config-performance.mdx",preload:()=>ex,lang:"zh"},{path:"/builder/api/config-security",element:t.default.createElement(em.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/api/config-security.mdx",preload:()=>em,lang:"zh"},{path:"/builder/api/config-source",element:t.default.createElement(ef.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/api/config-source.mdx",preload:()=>ef,lang:"zh"},{path:"/builder/api/config-tools",element:t.default.createElement(ej.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/api/config-tools.mdx",preload:()=>ej,lang:"zh"},{path:"/builder/api/",element:t.default.createElement(eg.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/api/index.mdx",preload:()=>eg,lang:"zh"},{path:"/builder/api/plugin-core",element:t.default.createElement(eb.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/api/plugin-core.mdx",preload:()=>eb,lang:"zh"},{path:"/builder/api/plugin-hooks",element:t.default.createElement(ev.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/api/plugin-hooks.mdx",preload:()=>ev,lang:"zh"},{path:"/builder/guide/advanced/alias",element:t.default.createElement(ey.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/advanced/alias.md",preload:()=>ey,lang:"zh"},{path:"/builder/guide/advanced/browser-compatibility",element:t.default.createElement(ew.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/advanced/browser-compatibility.md",preload:()=>ew,lang:"zh"},{path:"/builder/guide/advanced/browserslist",element:t.default.createElement(eS.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/advanced/browserslist.md",preload:()=>eS,lang:"zh"},{path:"/builder/guide/advanced/custom-webpack-config",element:t.default.createElement(ek.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/advanced/custom-webpack-config.md",preload:()=>ek,lang:"zh"},{path:"/builder/guide/advanced/define",element:t.default.createElement(e_.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/advanced/define.md",preload:()=>e_,lang:"zh"},{path:"/builder/guide/advanced/hmr",element:t.default.createElement(eP.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/advanced/hmr.md",preload:()=>eP,lang:"zh"},{path:"/builder/guide/advanced/rem",element:t.default.createElement(eE.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/advanced/rem.md",preload:()=>eE,lang:"zh"},{path:"/builder/guide/advanced/rspack-start",element:t.default.createElement(eF.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/advanced/rspack-start.mdx",preload:()=>eF,lang:"zh"},{path:"/builder/guide/basic/build-target",element:t.default.createElement(eN.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/basic/build-target.md",preload:()=>eN,lang:"zh"},{path:"/builder/guide/basic/builder-cli",element:t.default.createElement(eT.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/basic/builder-cli.mdx",preload:()=>eT,lang:"zh"},{path:"/builder/guide/basic/builder-config",element:t.default.createElement(eR.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/basic/builder-config.mdx",preload:()=>eR,lang:"zh"},{path:"/builder/guide/basic/css-modules",element:t.default.createElement(eC.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/basic/css-modules.md",preload:()=>eC,lang:"zh"},{path:"/builder/guide/basic/css-usage",element:t.default.createElement(eM.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/basic/css-usage.md",preload:()=>eM,lang:"zh"},{path:"/builder/guide/basic/html-template",element:t.default.createElement(eO.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/basic/html-template.md",preload:()=>eO,lang:"zh"},{path:"/builder/guide/basic/json-files",element:t.default.createElement(eI.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/basic/json-files.md",preload:()=>eI,lang:"zh"},{path:"/builder/guide/basic/output-files",element:t.default.createElement(eA.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/basic/output-files.md",preload:()=>eA,lang:"zh"},{path:"/builder/guide/basic/static-assets",element:t.default.createElement(eD.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/basic/static-assets.md",preload:()=>eD,lang:"zh"},{path:"/builder/guide/basic/svg-assets",element:t.default.createElement(eB.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/basic/svg-assets.md",preload:()=>eB,lang:"zh"},{path:"/builder/guide/basic/typescript",element:t.default.createElement(ez.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/basic/typescript.md",preload:()=>ez,lang:"zh"},{path:"/builder/guide/basic/wasm-assets",element:t.default.createElement(eL.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/basic/wasm-assets.md",preload:()=>eL,lang:"zh"},{path:"/builder/guide/debug/debug-mode",element:t.default.createElement(eG.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/debug/debug-mode.md",preload:()=>eG,lang:"zh"},{path:"/builder/guide/debug/inspector",element:t.default.createElement(eW.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/debug/inspector.md",preload:()=>eW,lang:"zh"},{path:"/builder/guide/faq/exceptions",element:t.default.createElement(eU.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/faq/exceptions.md",preload:()=>eU,lang:"zh"},{path:"/builder/guide/faq/features",element:t.default.createElement(eH.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/faq/features.md",preload:()=>eH,lang:"zh"},{path:"/builder/guide/faq/general",element:t.default.createElement(eq.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/faq/general.md",preload:()=>eq,lang:"zh"},{path:"/builder/guide/faq/hmr",element:t.default.createElement(eX.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/faq/hmr.md",preload:()=>eX,lang:"zh"},{path:"/builder/guide/features",element:t.default.createElement(eV.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/features.mdx",preload:()=>eV,lang:"zh"},{path:"/builder/guide/glossary",element:t.default.createElement(e$.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/glossary.mdx",preload:()=>e$,lang:"zh"},{path:"/builder/guide/introduction",element:t.default.createElement(eJ.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/introduction.mdx",preload:()=>eJ,lang:"zh"},{path:"/builder/guide/optimization/build-performance",element:t.default.createElement(eY.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/optimization/build-performance.mdx",preload:()=>eY,lang:"zh"},{path:"/builder/guide/optimization/inline-assets",element:t.default.createElement(eQ.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/optimization/inline-assets.md",preload:()=>eQ,lang:"zh"},{path:"/builder/guide/optimization/optimize-bundle",element:t.default.createElement(eK.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/optimization/optimize-bundle.md",preload:()=>eK,lang:"zh"},{path:"/builder/guide/optimization/split-chunk",element:t.default.createElement(eZ.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/optimization/split-chunk.md",preload:()=>eZ,lang:"zh"},{path:"/builder/guide/quick-start",element:t.default.createElement(e0.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/quick-start.mdx",preload:()=>e0,lang:"zh"},{path:"/builder/",element:t.default.createElement(e2.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/index.md",preload:()=>e2,lang:"zh"},{path:"/builder/plugins/introduction",element:t.default.createElement(e1.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/plugins/introduction.md",preload:()=>e1,lang:"zh"},{path:"/builder/plugins/list",element:t.default.createElement(e3.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/plugins/list.md",preload:()=>e3,lang:"zh"},{path:"/builder/plugins/plugin-esbuild",element:t.default.createElement(e4.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/plugins/plugin-esbuild.mdx",preload:()=>e4,lang:"zh"},{path:"/builder/plugins/plugin-image-compress",element:t.default.createElement(e8.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/plugins/plugin-image-compress.mdx",preload:()=>e8,lang:"zh"},{path:"/builder/plugins/plugin-node-polyfill",element:t.default.createElement(e6.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/plugins/plugin-node-polyfill.mdx",preload:()=>e6,lang:"zh"},{path:"/builder/plugins/plugin-stylus",element:t.default.createElement(e5.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/plugins/plugin-stylus.mdx",preload:()=>e5,lang:"zh"},{path:"/builder/plugins/plugin-swc",element:t.default.createElement(e9.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/plugins/plugin-swc.mdx",preload:()=>e9,lang:"zh"},{path:"/builder/plugins/plugin-vue",element:t.default.createElement(e7.default),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/plugins/plugin-vue.mdx",preload:()=>e7,lang:"zh"}]},53318:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"routes",{enumerable:!0,get:function(){return nn}});var t=r.ir(r("6171")),i=r("89440");let s=(0,i.lazyWithPreload)(()=>r.el("70090").then(r.bind(r,"70090")).then(r.ir)),l=(0,i.lazyWithPreload)(()=>r.el("18642").then(r.bind(r,"18642")).then(r.ir)),o=(0,i.lazyWithPreload)(()=>r.el("65475").then(r.bind(r,"65475")).then(r.ir)),a=(0,i.lazyWithPreload)(()=>r.el("85893").then(r.bind(r,"85893")).then(r.ir)),d=(0,i.lazyWithPreload)(()=>r.el("91594").then(r.bind(r,"91594")).then(r.ir)),c=(0,i.lazyWithPreload)(()=>r.el("70795").then(r.bind(r,"70795")).then(r.ir)),h=(0,i.lazyWithPreload)(()=>r.el("7546").then(r.bind(r,"7546")).then(r.ir)),u=(0,i.lazyWithPreload)(()=>r.el("61340").then(r.bind(r,"61340")).then(r.ir)),p=(0,i.lazyWithPreload)(()=>r.el("24860").then(r.bind(r,"24860")).then(r.ir)),x=(0,i.lazyWithPreload)(()=>r.el("89441").then(r.bind(r,"89441")).then(r.ir)),m=(0,i.lazyWithPreload)(()=>r.el("38692").then(r.bind(r,"38692")).then(r.ir)),f=(0,i.lazyWithPreload)(()=>r.el("11916").then(r.bind(r,"11916")).then(r.ir)),j=(0,i.lazyWithPreload)(()=>r.el("97082").then(r.bind(r,"97082")).then(r.ir)),g=(0,i.lazyWithPreload)(()=>r.el("19830").then(r.bind(r,"19830")).then(r.ir)),b=(0,i.lazyWithPreload)(()=>r.el("72742").then(r.bind(r,"72742")).then(r.ir)),v=(0,i.lazyWithPreload)(()=>r.el("77386").then(r.bind(r,"77386")).then(r.ir)),y=(0,i.lazyWithPreload)(()=>r.el("86158").then(r.bind(r,"86158")).then(r.ir)),w=(0,i.lazyWithPreload)(()=>r.el("73407").then(r.bind(r,"73407")).then(r.ir)),S=(0,i.lazyWithPreload)(()=>r.el("81756").then(r.bind(r,"81756")).then(r.ir)),k=(0,i.lazyWithPreload)(()=>r.el("62189").then(r.bind(r,"62189")).then(r.ir)),_=(0,i.lazyWithPreload)(()=>r.el("58182").then(r.bind(r,"58182")).then(r.ir)),P=(0,i.lazyWithPreload)(()=>r.el("70664").then(r.bind(r,"70664")).then(r.ir)),E=(0,i.lazyWithPreload)(()=>r.el("23003").then(r.bind(r,"23003")).then(r.ir)),F=(0,i.lazyWithPreload)(()=>r.el("31503").then(r.bind(r,"31503")).then(r.ir)),N=(0,i.lazyWithPreload)(()=>r.el("39541").then(r.bind(r,"39541")).then(r.ir)),T=(0,i.lazyWithPreload)(()=>r.el("58134").then(r.bind(r,"58134")).then(r.ir)),R=(0,i.lazyWithPreload)(()=>r.el("28579").then(r.bind(r,"28579")).then(r.ir)),C=(0,i.lazyWithPreload)(()=>r.el("7931").then(r.bind(r,"7931")).then(r.ir)),M=(0,i.lazyWithPreload)(()=>r.el("42245").then(r.bind(r,"42245")).then(r.ir)),O=(0,i.lazyWithPreload)(()=>r.el("89414").then(r.bind(r,"89414")).then(r.ir)),I=(0,i.lazyWithPreload)(()=>r.el("66146").then(r.bind(r,"66146")).then(r.ir)),A=(0,i.lazyWithPreload)(()=>r.el("77613").then(r.bind(r,"77613")).then(r.ir)),D=(0,i.lazyWithPreload)(()=>r.el("90390").then(r.bind(r,"90390")).then(r.ir)),B=(0,i.lazyWithPreload)(()=>r.el("847").then(r.bind(r,"847")).then(r.ir)),z=(0,i.lazyWithPreload)(()=>r.el("37340").then(r.bind(r,"37340")).then(r.ir)),L=(0,i.lazyWithPreload)(()=>r.el("35515").then(r.bind(r,"35515")).then(r.ir)),G=(0,i.lazyWithPreload)(()=>r.el("22072").then(r.bind(r,"22072")).then(r.ir)),W=(0,i.lazyWithPreload)(()=>r.el("39458").then(r.bind(r,"39458")).then(r.ir)),U=(0,i.lazyWithPreload)(()=>r.el("25728").then(r.bind(r,"25728")).then(r.ir)),H=(0,i.lazyWithPreload)(()=>r.el("39032").then(r.bind(r,"39032")).then(r.ir)),q=(0,i.lazyWithPreload)(()=>r.el("9553").then(r.bind(r,"9553")).then(r.ir)),X=(0,i.lazyWithPreload)(()=>r.el("184").then(r.bind(r,"184")).then(r.ir)),V=(0,i.lazyWithPreload)(()=>r.el("74885").then(r.bind(r,"74885")).then(r.ir)),$=(0,i.lazyWithPreload)(()=>r.el("38281").then(r.bind(r,"38281")).then(r.ir)),J=(0,i.lazyWithPreload)(()=>r.el("74158").then(r.bind(r,"74158")).then(r.ir)),Y=(0,i.lazyWithPreload)(()=>r.el("32699").then(r.bind(r,"32699")).then(r.ir)),Q=(0,i.lazyWithPreload)(()=>r.el("71202").then(r.bind(r,"71202")).then(r.ir)),K=(0,i.lazyWithPreload)(()=>r.el("21725").then(r.bind(r,"21725")).then(r.ir)),Z=(0,i.lazyWithPreload)(()=>r.el("21724").then(r.bind(r,"21724")).then(r.ir)),ee=(0,i.lazyWithPreload)(()=>r.el("75775").then(r.bind(r,"75775")).then(r.ir)),en=(0,i.lazyWithPreload)(()=>r.el("92746").then(r.bind(r,"92746")).then(r.ir)),er=(0,i.lazyWithPreload)(()=>r.el("62037").then(r.bind(r,"62037")).then(r.ir)),et=(0,i.lazyWithPreload)(()=>r.el("63865").then(r.bind(r,"63865")).then(r.ir)),ei=(0,i.lazyWithPreload)(()=>r.el("13282").then(r.bind(r,"13282")).then(r.ir)),es=(0,i.lazyWithPreload)(()=>r.el("95151").then(r.bind(r,"95151")).then(r.ir)),el=(0,i.lazyWithPreload)(()=>r.el("23598").then(r.bind(r,"23598")).then(r.ir)),eo=(0,i.lazyWithPreload)(()=>r.el("49193").then(r.bind(r,"49193")).then(r.ir)),ea=(0,i.lazyWithPreload)(()=>r.el("97366").then(r.bind(r,"97366")).then(r.ir)),ed=(0,i.lazyWithPreload)(()=>r.el("23688").then(r.bind(r,"23688")).then(r.ir)),ec=(0,i.lazyWithPreload)(()=>r.el("25231").then(r.bind(r,"25231")).then(r.ir)),eh=(0,i.lazyWithPreload)(()=>r.el("20221").then(r.bind(r,"20221")).then(r.ir)),eu=(0,i.lazyWithPreload)(()=>r.el("32252").then(r.bind(r,"32252")).then(r.ir)),ep=(0,i.lazyWithPreload)(()=>r.el("54404").then(r.bind(r,"54404")).then(r.ir)),ex=(0,i.lazyWithPreload)(()=>r.el("6618").then(r.bind(r,"6618")).then(r.ir)),em=(0,i.lazyWithPreload)(()=>r.el("63207").then(r.bind(r,"63207")).then(r.ir)),ef=(0,i.lazyWithPreload)(()=>r.el("13635").then(r.bind(r,"13635")).then(r.ir)),ej=(0,i.lazyWithPreload)(()=>r.el("88737").then(r.bind(r,"88737")).then(r.ir)),eg=(0,i.lazyWithPreload)(()=>r.el("32709").then(r.bind(r,"32709")).then(r.ir)),eb=(0,i.lazyWithPreload)(()=>r.el("15654").then(r.bind(r,"15654")).then(r.ir)),ev=(0,i.lazyWithPreload)(()=>r.el("76837").then(r.bind(r,"76837")).then(r.ir)),ey=(0,i.lazyWithPreload)(()=>r.el("59639").then(r.bind(r,"59639")).then(r.ir)),ew=(0,i.lazyWithPreload)(()=>r.el("35478").then(r.bind(r,"35478")).then(r.ir)),eS=(0,i.lazyWithPreload)(()=>r.el("10248").then(r.bind(r,"10248")).then(r.ir)),ek=(0,i.lazyWithPreload)(()=>r.el("11410").then(r.bind(r,"11410")).then(r.ir)),e_=(0,i.lazyWithPreload)(()=>r.el("18875").then(r.bind(r,"18875")).then(r.ir)),eP=(0,i.lazyWithPreload)(()=>r.el("32393").then(r.bind(r,"32393")).then(r.ir)),eE=(0,i.lazyWithPreload)(()=>r.el("41813").then(r.bind(r,"41813")).then(r.ir)),eF=(0,i.lazyWithPreload)(()=>r.el("77044").then(r.bind(r,"77044")).then(r.ir)),eN=(0,i.lazyWithPreload)(()=>r.el("42075").then(r.bind(r,"42075")).then(r.ir)),eT=(0,i.lazyWithPreload)(()=>r.el("10868").then(r.bind(r,"10868")).then(r.ir)),eR=(0,i.lazyWithPreload)(()=>r.el("13840").then(r.bind(r,"13840")).then(r.ir)),eC=(0,i.lazyWithPreload)(()=>r.el("29827").then(r.bind(r,"29827")).then(r.ir)),eM=(0,i.lazyWithPreload)(()=>r.el("20099").then(r.bind(r,"20099")).then(r.ir)),eO=(0,i.lazyWithPreload)(()=>r.el("51319").then(r.bind(r,"51319")).then(r.ir)),eI=(0,i.lazyWithPreload)(()=>r.el("77760").then(r.bind(r,"77760")).then(r.ir)),eA=(0,i.lazyWithPreload)(()=>r.el("29396").then(r.bind(r,"29396")).then(r.ir)),eD=(0,i.lazyWithPreload)(()=>r.el("83657").then(r.bind(r,"83657")).then(r.ir)),eB=(0,i.lazyWithPreload)(()=>r.el("37941").then(r.bind(r,"37941")).then(r.ir)),ez=(0,i.lazyWithPreload)(()=>r.el("3307").then(r.bind(r,"3307")).then(r.ir)),eL=(0,i.lazyWithPreload)(()=>r.el("13458").then(r.bind(r,"13458")).then(r.ir)),eG=(0,i.lazyWithPreload)(()=>r.el("93351").then(r.bind(r,"93351")).then(r.ir)),eW=(0,i.lazyWithPreload)(()=>r.el("2908").then(r.bind(r,"2908")).then(r.ir)),eU=(0,i.lazyWithPreload)(()=>r.el("64100").then(r.bind(r,"64100")).then(r.ir)),eH=(0,i.lazyWithPreload)(()=>r.el("53349").then(r.bind(r,"53349")).then(r.ir)),eq=(0,i.lazyWithPreload)(()=>r.el("40811").then(r.bind(r,"40811")).then(r.ir)),eX=(0,i.lazyWithPreload)(()=>r.el("51558").then(r.bind(r,"51558")).then(r.ir)),eV=(0,i.lazyWithPreload)(()=>r.el("22727").then(r.bind(r,"22727")).then(r.ir)),e$=(0,i.lazyWithPreload)(()=>r.el("40275").then(r.bind(r,"40275")).then(r.ir)),eJ=(0,i.lazyWithPreload)(()=>r.el("35903").then(r.bind(r,"35903")).then(r.ir)),eY=(0,i.lazyWithPreload)(()=>r.el("94871").then(r.bind(r,"94871")).then(r.ir)),eQ=(0,i.lazyWithPreload)(()=>r.el("18766").then(r.bind(r,"18766")).then(r.ir)),eK=(0,i.lazyWithPreload)(()=>r.el("75824").then(r.bind(r,"75824")).then(r.ir)),eZ=(0,i.lazyWithPreload)(()=>r.el("81837").then(r.bind(r,"81837")).then(r.ir)),e0=(0,i.lazyWithPreload)(()=>r.el("21010").then(r.bind(r,"21010")).then(r.ir)),e2=(0,i.lazyWithPreload)(()=>r.el("63736").then(r.bind(r,"63736")).then(r.ir)),e1=(0,i.lazyWithPreload)(()=>r.el("17713").then(r.bind(r,"17713")).then(r.ir)),e3=(0,i.lazyWithPreload)(()=>r.el("47166").then(r.bind(r,"47166")).then(r.ir)),e4=(0,i.lazyWithPreload)(()=>r.el("70859").then(r.bind(r,"70859")).then(r.ir)),e8=(0,i.lazyWithPreload)(()=>r.el("62103").then(r.bind(r,"62103")).then(r.ir)),e6=(0,i.lazyWithPreload)(()=>r.el("27438").then(r.bind(r,"27438")).then(r.ir)),e5=(0,i.lazyWithPreload)(()=>r.el("92591").then(r.bind(r,"92591")).then(r.ir)),e9=(0,i.lazyWithPreload)(()=>r.el("68859").then(r.bind(r,"68859")).then(r.ir)),e7=(0,i.lazyWithPreload)(()=>r.el("16405").then(r.bind(r,"16405")).then(r.ir)),ne=(0,i.lazyWithPreload)(()=>r.el("77924").then(r.bind(r,"77924")).then(r.ir)),nn=[{path:"/builder/en/api/builder-core",element:t.default.createElement(s),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/api/builder-core.mdx",preload:async()=>(await s.preload(),r.el("70090").then(r.bind(r,"70090")).then(r.ir)),lang:"en"},{path:"/builder/en/api/builder-instance",element:t.default.createElement(l),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/api/builder-instance.mdx",preload:async()=>(await l.preload(),r.el("18642").then(r.bind(r,"18642")).then(r.ir)),lang:"en"},{path:"/builder/en/api/builder-types",element:t.default.createElement(o),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/api/builder-types.mdx",preload:async()=>(await o.preload(),r.el("65475").then(r.bind(r,"65475")).then(r.ir)),lang:"en"},{path:"/builder/en/api/config-dev",element:t.default.createElement(a),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/api/config-dev.mdx",preload:async()=>(await a.preload(),r.el("85893").then(r.bind(r,"85893")).then(r.ir)),lang:"en"},{path:"/builder/en/api/config-experiments",element:t.default.createElement(d),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/api/config-experiments.mdx",preload:async()=>(await d.preload(),r.el("91594").then(r.bind(r,"91594")).then(r.ir)),lang:"en"},{path:"/builder/en/api/config-html",element:t.default.createElement(c),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/api/config-html.mdx",preload:async()=>(await c.preload(),r.el("70795").then(r.bind(r,"70795")).then(r.ir)),lang:"en"},{path:"/builder/en/api/config-output",element:t.default.createElement(h),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/api/config-output.mdx",preload:async()=>(await h.preload(),r.el("7546").then(r.bind(r,"7546")).then(r.ir)),lang:"en"},{path:"/builder/en/api/config-performance",element:t.default.createElement(u),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/api/config-performance.mdx",preload:async()=>(await u.preload(),r.el("61340").then(r.bind(r,"61340")).then(r.ir)),lang:"en"},{path:"/builder/en/api/config-security",element:t.default.createElement(p),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/api/config-security.mdx",preload:async()=>(await p.preload(),r.el("24860").then(r.bind(r,"24860")).then(r.ir)),lang:"en"},{path:"/builder/en/api/config-source",element:t.default.createElement(x),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/api/config-source.mdx",preload:async()=>(await x.preload(),r.el("89441").then(r.bind(r,"89441")).then(r.ir)),lang:"en"},{path:"/builder/en/api/config-tools",element:t.default.createElement(m),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/api/config-tools.mdx",preload:async()=>(await m.preload(),r.el("38692").then(r.bind(r,"38692")).then(r.ir)),lang:"en"},{path:"/builder/en/api/",element:t.default.createElement(f),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/api/index.mdx",preload:async()=>(await f.preload(),r.el("11916").then(r.bind(r,"11916")).then(r.ir)),lang:"en"},{path:"/builder/en/api/plugin-core",element:t.default.createElement(j),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/api/plugin-core.mdx",preload:async()=>(await j.preload(),r.el("97082").then(r.bind(r,"97082")).then(r.ir)),lang:"en"},{path:"/builder/en/api/plugin-hooks",element:t.default.createElement(g),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/api/plugin-hooks.mdx",preload:async()=>(await g.preload(),r.el("19830").then(r.bind(r,"19830")).then(r.ir)),lang:"en"},{path:"/builder/en/guide/advanced/alias",element:t.default.createElement(b),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/advanced/alias.md",preload:async()=>(await b.preload(),r.el("72742").then(r.bind(r,"72742")).then(r.ir)),lang:"en"},{path:"/builder/en/guide/advanced/browser-compatibility",element:t.default.createElement(v),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/advanced/browser-compatibility.md",preload:async()=>(await v.preload(),r.el("77386").then(r.bind(r,"77386")).then(r.ir)),lang:"en"},{path:"/builder/en/guide/advanced/browserslist",element:t.default.createElement(y),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/advanced/browserslist.md",preload:async()=>(await y.preload(),r.el("86158").then(r.bind(r,"86158")).then(r.ir)),lang:"en"},{path:"/builder/en/guide/advanced/custom-webpack-config",element:t.default.createElement(w),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/advanced/custom-webpack-config.md",preload:async()=>(await w.preload(),r.el("73407").then(r.bind(r,"73407")).then(r.ir)),lang:"en"},{path:"/builder/en/guide/advanced/define",element:t.default.createElement(S),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/advanced/define.md",preload:async()=>(await S.preload(),r.el("81756").then(r.bind(r,"81756")).then(r.ir)),lang:"en"},{path:"/builder/en/guide/advanced/hmr",element:t.default.createElement(k),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/advanced/hmr.md",preload:async()=>(await k.preload(),r.el("62189").then(r.bind(r,"62189")).then(r.ir)),lang:"en"},{path:"/builder/en/guide/advanced/rem",element:t.default.createElement(_),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/advanced/rem.md",preload:async()=>(await _.preload(),r.el("58182").then(r.bind(r,"58182")).then(r.ir)),lang:"en"},{path:"/builder/en/guide/advanced/rspack-start",element:t.default.createElement(P),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/advanced/rspack-start.mdx",preload:async()=>(await P.preload(),r.el("70664").then(r.bind(r,"70664")).then(r.ir)),lang:"en"},{path:"/builder/en/guide/basic/build-target",element:t.default.createElement(E),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/basic/build-target.md",preload:async()=>(await E.preload(),r.el("23003").then(r.bind(r,"23003")).then(r.ir)),lang:"en"},{path:"/builder/en/guide/basic/builder-cli",element:t.default.createElement(F),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/basic/builder-cli.mdx",preload:async()=>(await F.preload(),r.el("31503").then(r.bind(r,"31503")).then(r.ir)),lang:"en"},{path:"/builder/en/guide/basic/builder-config",element:t.default.createElement(N),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/basic/builder-config.mdx",preload:async()=>(await N.preload(),r.el("39541").then(r.bind(r,"39541")).then(r.ir)),lang:"en"},{path:"/builder/en/guide/basic/css-modules",element:t.default.createElement(T),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/basic/css-modules.md",preload:async()=>(await T.preload(),r.el("58134").then(r.bind(r,"58134")).then(r.ir)),lang:"en"},{path:"/builder/en/guide/basic/css-usage",element:t.default.createElement(R),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/basic/css-usage.md",preload:async()=>(await R.preload(),r.el("28579").then(r.bind(r,"28579")).then(r.ir)),lang:"en"},{path:"/builder/en/guide/basic/html-template",element:t.default.createElement(C),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/basic/html-template.md",preload:async()=>(await C.preload(),r.el("7931").then(r.bind(r,"7931")).then(r.ir)),lang:"en"},{path:"/builder/en/guide/basic/json-files",element:t.default.createElement(M),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/basic/json-files.md",preload:async()=>(await M.preload(),r.el("42245").then(r.bind(r,"42245")).then(r.ir)),lang:"en"},{path:"/builder/en/guide/basic/output-files",element:t.default.createElement(O),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/basic/output-files.md",preload:async()=>(await O.preload(),r.el("89414").then(r.bind(r,"89414")).then(r.ir)),lang:"en"},{path:"/builder/en/guide/basic/static-assets",element:t.default.createElement(I),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/basic/static-assets.md",preload:async()=>(await I.preload(),r.el("66146").then(r.bind(r,"66146")).then(r.ir)),lang:"en"},{path:"/builder/en/guide/basic/svg-assets",element:t.default.createElement(A),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/basic/svg-assets.md",preload:async()=>(await A.preload(),r.el("77613").then(r.bind(r,"77613")).then(r.ir)),lang:"en"},{path:"/builder/en/guide/basic/typescript",element:t.default.createElement(D),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/basic/typescript.md",preload:async()=>(await D.preload(),r.el("90390").then(r.bind(r,"90390")).then(r.ir)),lang:"en"},{path:"/builder/en/guide/basic/wasm-assets",element:t.default.createElement(B),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/basic/wasm-assets.md",preload:async()=>(await B.preload(),r.el("847").then(r.bind(r,"847")).then(r.ir)),lang:"en"},{path:"/builder/en/guide/debug/debug-mode",element:t.default.createElement(z),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/debug/debug-mode.md",preload:async()=>(await z.preload(),r.el("37340").then(r.bind(r,"37340")).then(r.ir)),lang:"en"},{path:"/builder/en/guide/debug/inspector",element:t.default.createElement(L),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/debug/inspector.md",preload:async()=>(await L.preload(),r.el("35515").then(r.bind(r,"35515")).then(r.ir)),lang:"en"},{path:"/builder/en/guide/faq/exceptions",element:t.default.createElement(G),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/faq/exceptions.md",preload:async()=>(await G.preload(),r.el("22072").then(r.bind(r,"22072")).then(r.ir)),lang:"en"},{path:"/builder/en/guide/faq/features",element:t.default.createElement(W),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/faq/features.md",preload:async()=>(await W.preload(),r.el("39458").then(r.bind(r,"39458")).then(r.ir)),lang:"en"},{path:"/builder/en/guide/faq/general",element:t.default.createElement(U),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/faq/general.md",preload:async()=>(await U.preload(),r.el("25728").then(r.bind(r,"25728")).then(r.ir)),lang:"en"},{path:"/builder/en/guide/faq/hmr",element:t.default.createElement(H),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/faq/hmr.md",preload:async()=>(await H.preload(),r.el("39032").then(r.bind(r,"39032")).then(r.ir)),lang:"en"},{path:"/builder/en/guide/features",element:t.default.createElement(q),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/features.mdx",preload:async()=>(await q.preload(),r.el("9553").then(r.bind(r,"9553")).then(r.ir)),lang:"en"},{path:"/builder/en/guide/glossary",element:t.default.createElement(X),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/glossary.mdx",preload:async()=>(await X.preload(),r.el("184").then(r.bind(r,"184")).then(r.ir)),lang:"en"},{path:"/builder/en/guide/introduction",element:t.default.createElement(V),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/introduction.mdx",preload:async()=>(await V.preload(),r.el("74885").then(r.bind(r,"74885")).then(r.ir)),lang:"en"},{path:"/builder/en/guide/optimization/build-performance",element:t.default.createElement($),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/optimization/build-performance.mdx",preload:async()=>(await $.preload(),r.el("38281").then(r.bind(r,"38281")).then(r.ir)),lang:"en"},{path:"/builder/en/guide/optimization/inline-assets",element:t.default.createElement(J),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/optimization/inline-assets.md",preload:async()=>(await J.preload(),r.el("74158").then(r.bind(r,"74158")).then(r.ir)),lang:"en"},{path:"/builder/en/guide/optimization/optimize-bundle",element:t.default.createElement(Y),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/optimization/optimize-bundle.md",preload:async()=>(await Y.preload(),r.el("32699").then(r.bind(r,"32699")).then(r.ir)),lang:"en"},{path:"/builder/en/guide/optimization/split-chunk",element:t.default.createElement(Q),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/optimization/split-chunk.md",preload:async()=>(await Q.preload(),r.el("71202").then(r.bind(r,"71202")).then(r.ir)),lang:"en"},{path:"/builder/en/guide/quick-start",element:t.default.createElement(K),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/quick-start.mdx",preload:async()=>(await K.preload(),r.el("21725").then(r.bind(r,"21725")).then(r.ir)),lang:"en"},{path:"/builder/en/",element:t.default.createElement(Z),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/index.md",preload:async()=>(await Z.preload(),r.el("21724").then(r.bind(r,"21724")).then(r.ir)),lang:"en"},{path:"/builder/en/plugins/introduction",element:t.default.createElement(ee),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/plugins/introduction.md",preload:async()=>(await ee.preload(),r.el("75775").then(r.bind(r,"75775")).then(r.ir)),lang:"en"},{path:"/builder/en/plugins/list",element:t.default.createElement(en),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/plugins/list.md",preload:async()=>(await en.preload(),r.el("92746").then(r.bind(r,"92746")).then(r.ir)),lang:"en"},{path:"/builder/en/plugins/plugin-esbuild",element:t.default.createElement(er),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/plugins/plugin-esbuild.mdx",preload:async()=>(await er.preload(),r.el("62037").then(r.bind(r,"62037")).then(r.ir)),lang:"en"},{path:"/builder/en/plugins/plugin-image-compress",element:t.default.createElement(et),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/plugins/plugin-image-compress.mdx",preload:async()=>(await et.preload(),r.el("63865").then(r.bind(r,"63865")).then(r.ir)),lang:"en"},{path:"/builder/en/plugins/plugin-node-polyfill",element:t.default.createElement(ei),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/plugins/plugin-node-polyfill.mdx",preload:async()=>(await ei.preload(),r.el("13282").then(r.bind(r,"13282")).then(r.ir)),lang:"en"},{path:"/builder/en/plugins/plugin-stylus",element:t.default.createElement(es),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/plugins/plugin-stylus.mdx",preload:async()=>(await es.preload(),r.el("95151").then(r.bind(r,"95151")).then(r.ir)),lang:"en"},{path:"/builder/en/plugins/plugin-swc",element:t.default.createElement(el),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/plugins/plugin-swc.mdx",preload:async()=>(await el.preload(),r.el("23598").then(r.bind(r,"23598")).then(r.ir)),lang:"en"},{path:"/builder/en/plugins/plugin-vue",element:t.default.createElement(eo),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/plugins/plugin-vue.mdx",preload:async()=>(await eo.preload(),r.el("49193").then(r.bind(r,"49193")).then(r.ir)),lang:"en"},{path:"/builder/api/builder-core",element:t.default.createElement(ea),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/api/builder-core.mdx",preload:async()=>(await ea.preload(),r.el("97366").then(r.bind(r,"97366")).then(r.ir)),lang:"zh"},{path:"/builder/api/builder-instance",element:t.default.createElement(ed),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/api/builder-instance.mdx",preload:async()=>(await ed.preload(),r.el("23688").then(r.bind(r,"23688")).then(r.ir)),lang:"zh"},{path:"/builder/api/builder-types",element:t.default.createElement(ec),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/api/builder-types.mdx",preload:async()=>(await ec.preload(),r.el("25231").then(r.bind(r,"25231")).then(r.ir)),lang:"zh"},{path:"/builder/api/config-dev",element:t.default.createElement(eh),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/api/config-dev.mdx",preload:async()=>(await eh.preload(),r.el("20221").then(r.bind(r,"20221")).then(r.ir)),lang:"zh"},{path:"/builder/api/config-experiments",element:t.default.createElement(eu),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/api/config-experiments.mdx",preload:async()=>(await eu.preload(),r.el("32252").then(r.bind(r,"32252")).then(r.ir)),lang:"zh"},{path:"/builder/api/config-html",element:t.default.createElement(ep),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/api/config-html.mdx",preload:async()=>(await ep.preload(),r.el("54404").then(r.bind(r,"54404")).then(r.ir)),lang:"zh"},{path:"/builder/api/config-output",element:t.default.createElement(ex),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/api/config-output.mdx",preload:async()=>(await ex.preload(),r.el("6618").then(r.bind(r,"6618")).then(r.ir)),lang:"zh"},{path:"/builder/api/config-performance",element:t.default.createElement(em),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/api/config-performance.mdx",preload:async()=>(await em.preload(),r.el("63207").then(r.bind(r,"63207")).then(r.ir)),lang:"zh"},{path:"/builder/api/config-security",element:t.default.createElement(ef),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/api/config-security.mdx",preload:async()=>(await ef.preload(),r.el("13635").then(r.bind(r,"13635")).then(r.ir)),lang:"zh"},{path:"/builder/api/config-source",element:t.default.createElement(ej),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/api/config-source.mdx",preload:async()=>(await ej.preload(),r.el("88737").then(r.bind(r,"88737")).then(r.ir)),lang:"zh"},{path:"/builder/api/config-tools",element:t.default.createElement(eg),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/api/config-tools.mdx",preload:async()=>(await eg.preload(),r.el("32709").then(r.bind(r,"32709")).then(r.ir)),lang:"zh"},{path:"/builder/api/",element:t.default.createElement(eb),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/api/index.mdx",preload:async()=>(await eb.preload(),r.el("15654").then(r.bind(r,"15654")).then(r.ir)),lang:"zh"},{path:"/builder/api/plugin-core",element:t.default.createElement(ev),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/api/plugin-core.mdx",preload:async()=>(await ev.preload(),r.el("76837").then(r.bind(r,"76837")).then(r.ir)),lang:"zh"},{path:"/builder/api/plugin-hooks",element:t.default.createElement(ey),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/api/plugin-hooks.mdx",preload:async()=>(await ey.preload(),r.el("59639").then(r.bind(r,"59639")).then(r.ir)),lang:"zh"},{path:"/builder/guide/advanced/alias",element:t.default.createElement(ew),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/advanced/alias.md",preload:async()=>(await ew.preload(),r.el("35478").then(r.bind(r,"35478")).then(r.ir)),lang:"zh"},{path:"/builder/guide/advanced/browser-compatibility",element:t.default.createElement(eS),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/advanced/browser-compatibility.md",preload:async()=>(await eS.preload(),r.el("10248").then(r.bind(r,"10248")).then(r.ir)),lang:"zh"},{path:"/builder/guide/advanced/browserslist",element:t.default.createElement(ek),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/advanced/browserslist.md",preload:async()=>(await ek.preload(),r.el("11410").then(r.bind(r,"11410")).then(r.ir)),lang:"zh"},{path:"/builder/guide/advanced/custom-webpack-config",element:t.default.createElement(e_),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/advanced/custom-webpack-config.md",preload:async()=>(await e_.preload(),r.el("18875").then(r.bind(r,"18875")).then(r.ir)),lang:"zh"},{path:"/builder/guide/advanced/define",element:t.default.createElement(eP),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/advanced/define.md",preload:async()=>(await eP.preload(),r.el("32393").then(r.bind(r,"32393")).then(r.ir)),lang:"zh"},{path:"/builder/guide/advanced/hmr",element:t.default.createElement(eE),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/advanced/hmr.md",preload:async()=>(await eE.preload(),r.el("41813").then(r.bind(r,"41813")).then(r.ir)),lang:"zh"},{path:"/builder/guide/advanced/rem",element:t.default.createElement(eF),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/advanced/rem.md",preload:async()=>(await eF.preload(),r.el("77044").then(r.bind(r,"77044")).then(r.ir)),lang:"zh"},{path:"/builder/guide/advanced/rspack-start",element:t.default.createElement(eN),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/advanced/rspack-start.mdx",preload:async()=>(await eN.preload(),r.el("42075").then(r.bind(r,"42075")).then(r.ir)),lang:"zh"},{path:"/builder/guide/basic/build-target",element:t.default.createElement(eT),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/basic/build-target.md",preload:async()=>(await eT.preload(),r.el("10868").then(r.bind(r,"10868")).then(r.ir)),lang:"zh"},{path:"/builder/guide/basic/builder-cli",element:t.default.createElement(eR),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/basic/builder-cli.mdx",preload:async()=>(await eR.preload(),r.el("13840").then(r.bind(r,"13840")).then(r.ir)),lang:"zh"},{path:"/builder/guide/basic/builder-config",element:t.default.createElement(eC),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/basic/builder-config.mdx",preload:async()=>(await eC.preload(),r.el("29827").then(r.bind(r,"29827")).then(r.ir)),lang:"zh"},{path:"/builder/guide/basic/css-modules",element:t.default.createElement(eM),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/basic/css-modules.md",preload:async()=>(await eM.preload(),r.el("20099").then(r.bind(r,"20099")).then(r.ir)),lang:"zh"},{path:"/builder/guide/basic/css-usage",element:t.default.createElement(eO),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/basic/css-usage.md",preload:async()=>(await eO.preload(),r.el("51319").then(r.bind(r,"51319")).then(r.ir)),lang:"zh"},{path:"/builder/guide/basic/html-template",element:t.default.createElement(eI),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/basic/html-template.md",preload:async()=>(await eI.preload(),r.el("77760").then(r.bind(r,"77760")).then(r.ir)),lang:"zh"},{path:"/builder/guide/basic/json-files",element:t.default.createElement(eA),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/basic/json-files.md",preload:async()=>(await eA.preload(),r.el("29396").then(r.bind(r,"29396")).then(r.ir)),lang:"zh"},{path:"/builder/guide/basic/output-files",element:t.default.createElement(eD),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/basic/output-files.md",preload:async()=>(await eD.preload(),r.el("83657").then(r.bind(r,"83657")).then(r.ir)),lang:"zh"},{path:"/builder/guide/basic/static-assets",element:t.default.createElement(eB),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/basic/static-assets.md",preload:async()=>(await eB.preload(),r.el("37941").then(r.bind(r,"37941")).then(r.ir)),lang:"zh"},{path:"/builder/guide/basic/svg-assets",element:t.default.createElement(ez),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/basic/svg-assets.md",preload:async()=>(await ez.preload(),r.el("3307").then(r.bind(r,"3307")).then(r.ir)),lang:"zh"},{path:"/builder/guide/basic/typescript",element:t.default.createElement(eL),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/basic/typescript.md",preload:async()=>(await eL.preload(),r.el("13458").then(r.bind(r,"13458")).then(r.ir)),lang:"zh"},{path:"/builder/guide/basic/wasm-assets",element:t.default.createElement(eG),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/basic/wasm-assets.md",preload:async()=>(await eG.preload(),r.el("93351").then(r.bind(r,"93351")).then(r.ir)),lang:"zh"},{path:"/builder/guide/debug/debug-mode",element:t.default.createElement(eW),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/debug/debug-mode.md",preload:async()=>(await eW.preload(),r.el("2908").then(r.bind(r,"2908")).then(r.ir)),lang:"zh"},{path:"/builder/guide/debug/inspector",element:t.default.createElement(eU),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/debug/inspector.md",preload:async()=>(await eU.preload(),r.el("64100").then(r.bind(r,"64100")).then(r.ir)),lang:"zh"},{path:"/builder/guide/faq/exceptions",element:t.default.createElement(eH),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/faq/exceptions.md",preload:async()=>(await eH.preload(),r.el("53349").then(r.bind(r,"53349")).then(r.ir)),lang:"zh"},{path:"/builder/guide/faq/features",element:t.default.createElement(eq),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/faq/features.md",preload:async()=>(await eq.preload(),r.el("40811").then(r.bind(r,"40811")).then(r.ir)),lang:"zh"},{path:"/builder/guide/faq/general",element:t.default.createElement(eX),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/faq/general.md",preload:async()=>(await eX.preload(),r.el("51558").then(r.bind(r,"51558")).then(r.ir)),lang:"zh"},{path:"/builder/guide/faq/hmr",element:t.default.createElement(eV),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/faq/hmr.md",preload:async()=>(await eV.preload(),r.el("22727").then(r.bind(r,"22727")).then(r.ir)),lang:"zh"},{path:"/builder/guide/features",element:t.default.createElement(e$),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/features.mdx",preload:async()=>(await e$.preload(),r.el("40275").then(r.bind(r,"40275")).then(r.ir)),lang:"zh"},{path:"/builder/guide/glossary",element:t.default.createElement(eJ),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/glossary.mdx",preload:async()=>(await eJ.preload(),r.el("35903").then(r.bind(r,"35903")).then(r.ir)),lang:"zh"},{path:"/builder/guide/introduction",element:t.default.createElement(eY),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/introduction.mdx",preload:async()=>(await eY.preload(),r.el("94871").then(r.bind(r,"94871")).then(r.ir)),lang:"zh"},{path:"/builder/guide/optimization/build-performance",element:t.default.createElement(eQ),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/optimization/build-performance.mdx",preload:async()=>(await eQ.preload(),r.el("18766").then(r.bind(r,"18766")).then(r.ir)),lang:"zh"},{path:"/builder/guide/optimization/inline-assets",element:t.default.createElement(eK),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/optimization/inline-assets.md",preload:async()=>(await eK.preload(),r.el("75824").then(r.bind(r,"75824")).then(r.ir)),lang:"zh"},{path:"/builder/guide/optimization/optimize-bundle",element:t.default.createElement(eZ),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/optimization/optimize-bundle.md",preload:async()=>(await eZ.preload(),r.el("81837").then(r.bind(r,"81837")).then(r.ir)),lang:"zh"},{path:"/builder/guide/optimization/split-chunk",element:t.default.createElement(e0),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/optimization/split-chunk.md",preload:async()=>(await e0.preload(),r.el("21010").then(r.bind(r,"21010")).then(r.ir)),lang:"zh"},{path:"/builder/guide/quick-start",element:t.default.createElement(e2),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/quick-start.mdx",preload:async()=>(await e2.preload(),r.el("63736").then(r.bind(r,"63736")).then(r.ir)),lang:"zh"},{path:"/builder/",element:t.default.createElement(e1),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/index.md",preload:async()=>(await e1.preload(),r.el("17713").then(r.bind(r,"17713")).then(r.ir)),lang:"zh"},{path:"/builder/plugins/introduction",element:t.default.createElement(e3),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/plugins/introduction.md",preload:async()=>(await e3.preload(),r.el("47166").then(r.bind(r,"47166")).then(r.ir)),lang:"zh"},{path:"/builder/plugins/list",element:t.default.createElement(e4),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/plugins/list.md",preload:async()=>(await e4.preload(),r.el("70859").then(r.bind(r,"70859")).then(r.ir)),lang:"zh"},{path:"/builder/plugins/plugin-esbuild",element:t.default.createElement(e8),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/plugins/plugin-esbuild.mdx",preload:async()=>(await e8.preload(),r.el("62103").then(r.bind(r,"62103")).then(r.ir)),lang:"zh"},{path:"/builder/plugins/plugin-image-compress",element:t.default.createElement(e6),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/plugins/plugin-image-compress.mdx",preload:async()=>(await e6.preload(),r.el("27438").then(r.bind(r,"27438")).then(r.ir)),lang:"zh"},{path:"/builder/plugins/plugin-node-polyfill",element:t.default.createElement(e5),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/plugins/plugin-node-polyfill.mdx",preload:async()=>(await e5.preload(),r.el("92591").then(r.bind(r,"92591")).then(r.ir)),lang:"zh"},{path:"/builder/plugins/plugin-stylus",element:t.default.createElement(e9),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/plugins/plugin-stylus.mdx",preload:async()=>(await e9.preload(),r.el("68859").then(r.bind(r,"68859")).then(r.ir)),lang:"zh"},{path:"/builder/plugins/plugin-swc",element:t.default.createElement(e7),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/plugins/plugin-swc.mdx",preload:async()=>(await e7.preload(),r.el("16405").then(r.bind(r,"16405")).then(r.ir)),lang:"zh"},{path:"/builder/plugins/plugin-vue",element:t.default.createElement(ne),filePath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/plugins/plugin-vue.mdx",preload:async()=>(await ne.preload(),r.el("77924").then(r.bind(r,"77924")).then(r.ir)),lang:"zh"}]},36349:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t={en:"3b5df9fe",zh:"dda89152"}},72540:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t={title:"Modern.js Builder",description:"",icon:"https://lf3-static.bytednsdoc.com/obj/eden-cn/zq-uylkvT/ljhwZthlaukjlkulzlp/logo-1x-0104.png",themeConfig:{footer:{message:"Copyright \xa9 2023 ByteDance."},socialLinks:[{icon:"github",mode:"link",content:"https://github.com/web-infra-dev/modern.js/tree/main/packages/builder"}],locales:[{lang:"zh",label:"简体中文",nav:[{text:"指南",link:"/guide/introduction",activeMatch:"/guide/"},{text:"API",link:"/api/",activeMatch:"/api/"},{text:"插件",link:"/plugins/introduction",activeMatch:"/plugins/"}],sidebar:{"/guide/":[{text:"开始",collapsed:!1,collapsible:!1,items:[{text:"介绍",link:"/guide/introduction"},{text:"快速上手",link:"/guide/quick-start"},{text:"名词解释",link:"/guide/glossary"},{text:"功能导航",link:"/guide/features"}]},{text:"基础",collapsed:!1,collapsible:!1,items:[{text:"Builder 配置项",link:"/guide/basic/builder-config"},{text:"构建产物类型",link:"/guide/basic/build-target"},{text:"构建产物目录",link:"/guide/basic/output-files"},{text:"引用样式资源",link:"/guide/basic/css-usage"},{text:"引用静态资源",link:"/guide/basic/static-assets"},{text:"引用 SVG 资源",link:"/guide/basic/svg-assets"},{text:"引用 JSON 文件",link:"/guide/basic/json-files"},{text:"引用 Wasm 资源",link:"/guide/basic/wasm-assets"},{text:"配置 HTML 模板",link:"/guide/basic/html-template"},{text:"使用 CSS Modules",link:"/guide/basic/css-modules"},{text:"使用 TypeScript",link:"/guide/basic/typescript"},{text:"使用 Builder CLI",link:"/guide/basic/builder-cli"}]},{text:"进阶",collapsed:!1,collapsible:!1,items:[{text:"使用 Rspack",link:"/guide/advanced/rspack-start"},{text:"路径别名",link:"/guide/advanced/alias"},{text:"环境变量",link:"/guide/advanced/define"},{text:"模块热替换",link:"/guide/advanced/hmr"},{text:"开启 REM 适配",link:"/guide/advanced/rem"},{text:"设置浏览器范围",link:"/guide/advanced/browserslist"},{text:"浏览器兼容性",link:"/guide/advanced/browser-compatibility"},{text:"修改 webpack 配置",link:"/guide/advanced/custom-webpack-config"}]},{text:"优化",collapsed:!1,collapsible:!1,items:[{text:"产物体积优化",link:"/guide/optimization/optimize-bundle"},{text:"提升构建性能",link:"/guide/optimization/build-performance"},{text:"拆包最佳实践",link:"/guide/optimization/split-chunk"},{text:"静态资源内联",link:"/guide/optimization/inline-assets"}]},{text:"调试",collapsed:!1,collapsible:!1,items:[{text:"开启调试模式",link:"/guide/debug/debug-mode"},{text:"使用 Webpack Inspector",link:"/guide/debug/inspector"}]},{text:"常见问题",collapsed:!1,collapsible:!1,items:[{text:"通用类问题",link:"/guide/faq/general"},{text:"功能类问题",link:"/guide/faq/features"},{text:"异常类问题",link:"/guide/faq/exceptions"},{text:"热更新问题",link:"/guide/faq/hmr"}]}],"/api/":[{text:"API 总览",link:"/api/"},{text:"配置",collapsed:!1,collapsible:!1,items:[{text:"Source Config",link:"/api/config-source"},{text:"Html Config",link:"/api/config-html"},{text:"Security Config",link:"/api/config-security"},{text:"Dev Config",link:"/api/config-dev"},{text:"Output Config",link:"/api/config-output"},{text:"Tools Config",link:"/api/config-tools"},{text:"Performance Config",link:"/api/config-performance"},{text:"Experiments Config",link:"/api/config-experiments"}]},{text:"Node API",collapsed:!1,collapsible:!1,items:[{text:"Builder Core",link:"/api/builder-core"},{text:"Builder Instance",link:"/api/builder-instance"},{text:"Builder Types",link:"/api/builder-types"}]},{text:"Plugin API",collapsed:!1,collapsible:!1,items:[{text:"Plugin Core",link:"/api/plugin-core"},{text:"Plugin Hooks",link:"/api/plugin-hooks"}]}],"/plugins":[{text:"指南",collapsed:!1,collapsible:!1,items:[{text:"插件系统",link:"/plugins/introduction"}]},{text:"列表",collapsed:!1,collapsible:!1,items:[{text:"总览",link:"/plugins/list"},{text:"Vue 插件",link:"/plugins/plugin-vue"},{text:"SWC 插件",link:"/plugins/plugin-swc"},{text:"Stylus 插件",link:"/plugins/plugin-stylus"},{text:"Esbuild 插件",link:"/plugins/plugin-esbuild"},{text:"Node Polyfill 插件",link:"/plugins/plugin-node-polyfill"},{text:"Image Compress 插件",link:"/plugins/plugin-image-compress"}]}]},title:"Modern.js Builder",outlineTitle:"目录",prevPageText:"上一页",nextPageText:"下一页",description:"一个面向 Web 开发场景的构建引擎"},{lang:"en",label:"English",nav:[{text:"Guide",link:"/en/guide/introduction",activeMatch:"/guide/"},{text:"API",link:"/en/api/",activeMatch:"/api/"},{text:"Plugins",link:"/en/plugins/introduction",activeMatch:"/plugins/"}],sidebar:{"/en/guide/":[{text:"Getting Started",collapsed:!1,collapsible:!1,items:[{text:"Introduction",link:"/en/guide/introduction"},{text:"Quick Start",link:"/en/guide/quick-start"},{text:"Glossary",link:"/en/guide/glossary"},{text:"All Features",link:"/en/guide/features"}]},{text:"Basic",collapsed:!1,collapsible:!1,items:[{text:"Builder Config",link:"/en/guide/basic/builder-config"},{text:"Build Target",link:"/en/guide/basic/build-target"},{text:"Output Files",link:"/en/guide/basic/output-files"},{text:"CSS Usage",link:"/en/guide/basic/css-usage"},{text:"Import Static Assets",link:"/en/guide/basic/static-assets"},{text:"Import SVG Assets",link:"/en/guide/basic/svg-assets"},{text:"Import JSON Files",link:"/en/guide/basic/json-files"},{text:"Import Wasm Assets",link:"/en/guide/basic/wasm-assets"},{text:"HTML Template",link:"/en/guide/basic/html-template"},{text:"Use CSS Modules",link:"/en/guide/basic/css-modules"},{text:"Use TypeScript",link:"/en/guide/basic/typescript"},{text:"Use Builder CLI",link:"/en/guide/basic/builder-cli"}]},{text:"Advanced",collapsed:!1,collapsible:!1,items:[{text:"Using Rspack",link:"/en/guide/advanced/rspack-start"},{text:"Alias",link:"/en/guide/advanced/alias"},{text:"Environment Variables",link:"/en/guide/advanced/define"},{text:"Hot Module Replacement",link:"/en/guide/advanced/hmr"},{text:"REM adaptation",link:"/en/guide/advanced/rem"},{text:"Browserslist",link:"/en/guide/advanced/browserslist"},{text:"Browser Compatibility",link:"/en/guide/advanced/browser-compatibility"},{text:"Custom webpack config",link:"/en/guide/advanced/custom-webpack-config"}]},{text:"Optimization",collapsed:!1,collapsible:!1,items:[{text:"Bundle Size Optimization",link:"/en/guide/optimization/optimize-bundle"},{text:"Improve Build Performance",link:"/en/guide/optimization/build-performance"},{text:"Chunk Splitting Practice",link:"/en/guide/optimization/split-chunk"},{text:"Inline Static Assets",link:"/en/guide/optimization/inline-assets"}]},{text:"Debug",collapsed:!1,collapsible:!1,items:[{text:"Debug Mode",link:"/en/guide/debug/debug-mode"},{text:"Using Webpack Inspector",link:"/en/guide/debug/inspector"}]},{text:"FAQ",collapsed:!1,collapsible:!1,items:[{text:"General FAQ",link:"/en/guide/faq/general"},{text:"Features FAQ",link:"/en/guide/faq/features"},{text:"Exceptions FAQ",link:"/en/guide/faq/exceptions"},{text:"HMR FAQ",link:"/en/guide/faq/hmr"}]}],"/en/api/":[{text:"API Reference",link:"/en/api/"},{text:"Config",collapsed:!1,collapsible:!1,items:[{text:"Source Config",link:"/en/api/config-source"},{text:"Html Config",link:"/en/api/config-html"},{text:"Security Config",link:"/en/api/config-security"},{text:"Dev Config",link:"/en/api/config-dev"},{text:"Output Config",link:"/en/api/config-output"},{text:"Tools Config",link:"/en/api/config-tools"},{text:"Performance Config",link:"/en/api/config-performance"},{text:"Experiments Config",link:"/en/api/config-experiments"}]},{text:"Node API",collapsed:!1,collapsible:!1,items:[{text:"Builder Core",link:"/en/api/builder-core"},{text:"Builder Instance",link:"/en/api/builder-instance"},{text:"Builder Types",link:"/en/api/builder-types"}]},{text:"Plugin API",collapsed:!1,collapsible:!1,items:[{text:"Plugin Core",link:"/en/api/plugin-core"},{text:"Plugin Hooks",link:"/en/api/plugin-hooks"}]}],"/en/plugins":[{text:"Guide",collapsed:!1,collapsible:!1,items:[{text:"Introduce to Plugin",link:"/en/plugins/introduction"}]},{text:"List",collapsed:!1,collapsible:!1,items:[{text:"Overview",link:"/en/plugins/list"},{text:"Vue Plugin",link:"/en/plugins/plugin-vue"},{text:"SWC Plugin",link:"/en/plugins/plugin-swc"},{text:"Stylus Plugin",link:"/en/plugins/plugin-stylus"},{text:"Esbuild Plugin",link:"/en/plugins/plugin-esbuild"},{text:"Node Polyfill Plugin",link:"/en/plugins/plugin-node-polyfill"},{text:"Image Compress Plugin",link:"/en/plugins/plugin-image-compress"}]}]},title:"Modern.js Builder",description:"A build engine for web development."}],editLink:{docRepoBaseUrl:"https://github.com/web-infra-dev/modern.js/tree/main/packages/document/builder-doc/docs",text:"Edit this page on GitHub"}},base:"/builder/",root:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs",lang:"zh",logo:"",search:{mode:"local"},pages:[{title:"Builder Core",routePath:"/builder/en/api/builder-core",lang:"en",toc:[{text:"createBuilder",id:"createbuilder",depth:2,charIndex:73},{text:"builderWebpackProvider",id:"builderwebpackprovider",depth:3,charIndex:331},{text:"builderRspackProvider",id:"builderrspackprovider",depth:3,charIndex:621},{text:"options",id:"options",depth:3,charIndex:907},{text:"mergeBuilderConfig",id:"mergebuilderconfig",depth:2,charIndex:1730},{text:"webpack",id:"webpack",depth:2,charIndex:2205},{text:"HtmlWebpackPlugin",id:"htmlwebpackplugin",depth:2,charIndex:2508}],frontmatter:{extractApiHeaders:[2]},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/api/builder-core.mdx",_relativePath:"en/api/builder-core.mdx"},{title:"Builder Instance",routePath:"/builder/en/api/builder-instance",lang:"en",toc:[{text:"builder.context",id:"buildercontext",depth:2,charIndex:90},{text:"builder.context.entry",id:"buildercontextentry",depth:3,charIndex:182},{text:"builder.context.target",id:"buildercontexttarget",depth:3,charIndex:324},{text:"builder.context.rootPath",id:"buildercontextrootpath",depth:3,charIndex:572},{text:"builder.context.srcPath",id:"buildercontextsrcpath",depth:3,charIndex:725},{text:"builder.context.distPath",id:"buildercontextdistpath",depth:3,charIndex:827},{text:"builder.context.cachePath",id:"buildercontextcachepath",depth:3,charIndex:1001},{text:"builder.context.configPath",id:"buildercontextconfigpath",depth:3,charIndex:1111},{text:"builder.context.tsconfigPath",id:"buildercontexttsconfigpath",depth:3,charIndex:1303},{text:"builder.context.framework",id:"buildercontextframework",depth:3,charIndex:1506},{text:"builder.context.devServer",id:"buildercontextdevserver",depth:3,charIndex:1666},{text:"builder.context.bundlerType",id:"buildercontextbundlertype",depth:3,charIndex:1848},{text:"builder.build",id:"builderbuild",depth:2,charIndex:1967},{text:"Development environment build",id:"development-environment-build",depth:3,charIndex:2261},{text:"Monitor file changes",id:"monitor-file-changes",depth:3,charIndex:2436},{text:"Custom Compiler",id:"custom-compiler",depth:3,charIndex:2590},{text:"builder.startDevServer",id:"builderstartdevserver",depth:2,charIndex:2744},{text:"Disable Print URLs",id:"disable-print-urls",depth:3,charIndex:4048},{text:"Strict Port",id:"strict-port",depth:3,charIndex:4485},{text:"Custom Compiler",id:"custom-compiler-1",depth:3,charIndex:4757},{text:"builder.serve",id:"builderserve",depth:2,charIndex:4920},{text:"builder.createCompiler",id:"buildercreatecompiler",depth:2,charIndex:5577},{text:"builder.addPlugins",id:"builderaddplugins",depth:2,charIndex:6035},{text:"builder.removePlugins",id:"builderremoveplugins",depth:2,charIndex:6692},{text:"builder.isPluginExists",id:"builderispluginexists",depth:2,charIndex:7137},{text:"builder.inspectConfig",id:"builderinspectconfig",depth:2,charIndex:7392},{text:"builder.onBeforeCreateCompiler",id:"builderonbeforecreatecompiler",depth:2,charIndex:8700},{text:"builder.onAfterCreateCompiler",id:"builderonaftercreatecompiler",depth:2,charIndex:9264},{text:"builder.onBeforeBuild",id:"builderonbeforebuild",depth:2,charIndex:9785},{text:"builder.onAfterBuild",id:"builderonafterbuild",depth:2,charIndex:10227},{text:"builder.onBeforeStartDevServer",id:"builderonbeforestartdevserver",depth:2,charIndex:10570},{text:"builder.onAfterStartDevServer",id:"builderonafterstartdevserver",depth:2,charIndex:10823},{text:"builder.onDevCompileDone",id:"builderondevcompiledone",depth:2,charIndex:11172},{text:"builder.onExit",id:"builderonexit",depth:2,charIndex:11612},{text:"builder.getBuilderConfig",id:"buildergetbuilderconfig",depth:2,charIndex:11839},{text:"builder.getNormalizedConfig",id:"buildergetnormalizedconfig",depth:2,charIndex:12145},{text:"builder.getHTMLPaths",id:"buildergethtmlpaths",depth:2,charIndex:12755}],frontmatter:{extractApiHeaders:[2]},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/api/builder-instance.mdx",_relativePath:"en/api/builder-instance.mdx"},{title:"Builder Types",routePath:"/builder/en/api/builder-types",lang:"en",toc:[{text:"BuilderInstance",id:"builderinstance",depth:2,charIndex:81},{text:"BuilderContext",id:"buildercontext",depth:2,charIndex:323},{text:"BuilderPlugin",id:"builderplugin",depth:2,charIndex:453},{text:"BuilderTarget",id:"buildertarget",depth:2,charIndex:650},{text:"BuilderEntry",id:"builderentry",depth:2,charIndex:697},{text:"CreateBuilderOptions",id:"createbuilderoptions",depth:2,charIndex:775}],frontmatter:{extractApiHeaders:[2]},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/api/builder-types.mdx",_relativePath:"en/api/builder-types.mdx"},{title:"Dev Config",routePath:"/builder/en/api/config-dev",lang:"en",toc:[{text:"dev.assetPrefix",id:"devassetprefix",depth:2,charIndex:73},{text:"Boolean Type",id:"boolean-type",depth:3,charIndex:619},{text:"String type",id:"string-type",depth:3,charIndex:877},{text:"dev.beforeStartUrl",id:"devbeforestarturl",depth:2,charIndex:1093},{text:"dev.hmr",id:"devhmr",depth:2,charIndex:1437},{text:"dev.host",id:"devhost",depth:2,charIndex:1650},{text:"dev.https",id:"devhttps",depth:2,charIndex:2035},{text:"Automatically generate certificates",id:"automatically-generate-certificates",depth:4,charIndex:2380},{text:"Manually set the certificate",id:"manually-set-the-certificate",depth:4,charIndex:3135},{text:"dev.port",id:"devport",depth:2,charIndex:3586},{text:"Example",id:"example",depth:3,charIndex:3798},{text:"dev.progressBar",id:"devprogressbar",depth:2,charIndex:3884},{text:"dev.startUrl",id:"devstarturl",depth:2,charIndex:4301},{text:"Port placeholder",id:"port-placeholder",depth:3,charIndex:4887}],frontmatter:{extractApiHeaders:[2]},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/api/config-dev.mdx",_relativePath:"en/api/config-dev.mdx"},{title:"Experiments Config",routePath:"/builder/en/api/config-experiments",lang:"en",toc:[{text:"experiments.lazyCompilation",id:"experimentslazycompilation",depth:2,charIndex:230},{text:"Lazy Compilation for Dynamic Imports",id:"lazy-compilation-for-dynamic-imports",depth:3,charIndex:837},{text:"Lazy Compilation for Entires",id:"lazy-compilation-for-entires",depth:3,charIndex:1295},{text:"Limitations",id:"limitations",depth:3,charIndex:2126},{text:"Disable split chunks",id:"disable-split-chunks",depth:4,charIndex:2140},{text:"Use proxy",id:"use-proxy",depth:4,charIndex:2443}],frontmatter:{extractApiHeaders:[2]},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/api/config-experiments.mdx",_relativePath:"en/api/config-experiments.mdx"},{title:"Html Config",routePath:"/builder/en/api/config-html",lang:"en",toc:[{text:"html.appIcon",id:"htmlappicon",depth:2,charIndex:74},{text:"Example",id:"example",depth:3,charIndex:524},{text:"html.crossorigin",id:"htmlcrossorigin",depth:2,charIndex:846},{text:"Example",id:"example-1",depth:3,charIndex:-1},{text:"Optional Values",id:"optional-values",depth:3,charIndex:-1},{text:"html.disableHtmlFolder",id:"htmldisablehtmlfolder",depth:2,charIndex:-1},{text:"Example",id:"example-2",depth:3,charIndex:524},{text:"html.favicon",id:"htmlfavicon",depth:2,charIndex:-1},{text:"Example",id:"example-3",depth:3,charIndex:-1},{text:"html.faviconByEntries",id:"htmlfaviconbyentries",depth:2,charIndex:-1},{text:"Example",id:"example-4",depth:3,charIndex:524},{text:"html.inject",id:"htmlinject",depth:2,charIndex:-1},{text:"Default inject position",id:"default-inject-position",depth:4,charIndex:-1},{text:"Inject into body",id:"inject-into-body",depth:4,charIndex:-1},{text:"html.injectByEntries",id:"htmlinjectbyentries",depth:2,charIndex:-1},{text:"Example",id:"example-5",depth:3,charIndex:-1},{text:"html.meta",id:"htmlmeta",depth:2,charIndex:-1},{text:"String Type",id:"string-type",depth:3,charIndex:-1},{text:"Object Type",id:"object-type",depth:3,charIndex:-1},{text:"Remove Default Value",id:"remove-default-value",depth:3,charIndex:-1},{text:"html.metaByEntries",id:"htmlmetabyentries",depth:2,charIndex:-1},{text:"Example",id:"example-6",depth:3,charIndex:524},{text:"html.mountId",id:"htmlmountid",depth:2,charIndex:-1},{text:"Example",id:"example-7",depth:3,charIndex:-1},{text:"Notes",id:"notes",depth:3,charIndex:-1},{text:"Update Relevant Code",id:"update-relevant-code",depth:4,charIndex:-1},{text:"Custom Templates",id:"custom-templates",depth:4,charIndex:-1},{text:"html.scriptLoading",id:"htmlscriptloading",depth:2,charIndex:-1},{text:"defer",id:"defer",depth:3,charIndex:-1},{text:"blocking",id:"blocking",depth:3,charIndex:-1},{text:"module",id:"module",depth:3,charIndex:-1},{text:"html.tags",id:"htmltags",depth:2,charIndex:-1},{text:"Tag Object",id:"tag-object",depth:4,charIndex:-1},{text:"Tags Handler",id:"tags-handler",depth:4,charIndex:-1},{text:"Limitation",id:"limitation",depth:4,charIndex:-1},{text:"html.tagsByEntries",id:"htmltagsbyentries",depth:2,charIndex:-1},{text:"Example",id:"example-8",depth:3,charIndex:524},{text:"html.template",id:"htmltemplate",depth:2,charIndex:-1},{text:"Example",id:"example-9",depth:3,charIndex:-1},{text:"html.templateByEntries",id:"htmltemplatebyentries",depth:2,charIndex:-1},{text:"Example",id:"example-10",depth:3,charIndex:524},{text:"html.templateParameters",id:"htmltemplateparameters",depth:2,charIndex:-1},{text:"Example",id:"example-11",depth:3,charIndex:-1},{text:"html.templateParametersByEntries",id:"htmltemplateparametersbyentries",depth:2,charIndex:-1},{text:"Example",id:"example-12",depth:3,charIndex:524},{text:"html.title",id:"htmltitle",depth:2,charIndex:-1},{text:"html.titleByEntries",id:"htmltitlebyentries",depth:2,charIndex:-1},{text:"Example",id:"example-13",depth:3,charIndex:-1}],frontmatter:{extractApiHeaders:[2]},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/api/config-html.mdx",_relativePath:"en/api/config-html.mdx"},{title:"Output Config",routePath:"/builder/en/api/config-output",lang:"en",toc:[{text:"output.assetPrefix",id:"outputassetprefix",depth:2,charIndex:-1},{text:"Example",id:"example",depth:3,charIndex:-1},{text:"output.assetsRetry",id:"outputassetsretry",depth:2,charIndex:-1},{text:"assetsRetry.domain",id:"assetsretrydomain",depth:3,charIndex:-1},{text:"assetsRetry.type",id:"assetsretrytype",depth:3,charIndex:-1},{text:"assetsRetry.max",id:"assetsretrymax",depth:3,charIndex:-1},{text:"assetsRetry.test",id:"assetsretrytest",depth:3,charIndex:-1},{text:"assetsRetry.crossOrigin",id:"assetsretrycrossorigin",depth:3,charIndex:-1},{text:"assetsRetry.onRetry",id:"assetsretryonretry",depth:3,charIndex:-1},{text:"assetsRetry.onSuccess",id:"assetsretryonsuccess",depth:3,charIndex:-1},{text:"assetsRetry.onFail",id:"assetsretryonfail",depth:3,charIndex:-1},{text:"assetsRetry.inlineScript",id:"assetsretryinlinescript",depth:3,charIndex:-1},{text:"Notes",id:"notes",depth:3,charIndex:-1},{text:"output.charset",id:"outputcharset",depth:2,charIndex:-1},{text:"output.cleanDistPath",id:"outputcleandistpath",depth:2,charIndex:-1},{text:"output.convertToRem",id:"outputconverttorem",depth:2,charIndex:-1},{text:"Boolean Type",id:"boolean-type",depth:3,charIndex:-1},{text:"Object Type",id:"object-type",depth:3,charIndex:-1},{text:"Example",id:"example-1",depth:3,charIndex:-1},{text:"output.copy",id:"outputcopy",depth:2,charIndex:-1},{text:"output.cssModules",id:"outputcssmodules",depth:2,charIndex:-1},{text:"cssModules.auto",id:"cssmodulesauto",depth:3,charIndex:-1},{text:"output.cssModuleLocalIdentName",id:"outputcssmodulelocalidentname",depth:2,charIndex:-1},{text:"Default Value",id:"default-value",depth:3,charIndex:-1},{text:"Template String",id:"template-string",depth:3,charIndex:-1},{text:"Example",id:"example-2",depth:3,charIndex:-1},{text:"output.dataUriLimit",id:"outputdataurilimit",depth:2,charIndex:-1},{text:"Example",id:"example-3",depth:3,charIndex:-1},{text:"output.disableCssExtract",id:"outputdisablecssextract",depth:2,charIndex:-1},{text:"Example",id:"example-4",depth:3,charIndex:-1},{text:"output.disableCssModuleExtension",id:"outputdisablecssmoduleextension",depth:2,charIndex:-1},{text:"Example",id:"example-5",depth:3,charIndex:-1},{text:"Detailed",id:"detailed",depth:3,charIndex:-1},{text:"disableCssModuleExtension is false (default)",id:"disablecssmoduleextension-is-false-(default)",depth:4,charIndex:-1},{text:"disableCssModuleExtension is true",id:"disablecssmoduleextension-is-true",depth:4,charIndex:-1},{text:"output.distPath",id:"outputdistpath",depth:2,charIndex:-1},{text:"Example",id:"example-6",depth:3,charIndex:-1},{text:"output.disableMinimize",id:"outputdisableminimize",depth:2,charIndex:-1},{text:"output.disableSourceMap",id:"outputdisablesourcemap",depth:2,charIndex:-1},{text:"output.disableSvgr",id:"outputdisablesvgr",depth:2,charIndex:-1},{text:"output.disableTsChecker",id:"outputdisabletschecker",depth:2,charIndex:-1},{text:"Blocking Compilation",id:"blocking-compilation",depth:3,charIndex:-1},{text:"Example",id:"example-7",depth:3,charIndex:-1},{text:"output.disableFilenameHash",id:"outputdisablefilenamehash",depth:2,charIndex:-1},{text:"Example",id:"example-8",depth:3,charIndex:-1},{text:"output.disableInlineRuntimeChunk",id:"outputdisableinlineruntimechunk",depth:2,charIndex:-1},{text:"Disable Inlining",id:"disable-inlining",depth:3,charIndex:-1},{text:"Merge Into Page Chunk",id:"merge-into-page-chunk",depth:3,charIndex:-1},{text:"output.enableAssetManifest",id:"outputenableassetmanifest",depth:2,charIndex:-1},{text:"Example",id:"example-9",depth:3,charIndex:-1},{text:"output.enableAssetFallback",id:"outputenableassetfallback",depth:2,charIndex:-1},{text:"Example",id:"example-10",depth:3,charIndex:-1},{text:"output.enableLatestDecorators",id:"outputenablelatestdecorators",depth:2,charIndex:-1},{text:"output.enableCssModuleTSDeclaration",id:"outputenablecssmoduletsdeclaration",depth:2,charIndex:-1},{text:"Example",id:"example-11",depth:3,charIndex:-1},{text:"output.enableInlineScripts",id:"outputenableinlinescripts",depth:2,charIndex:-1},{text:"Example",id:"example-12",depth:3,charIndex:-1},{text:"Using RegExp",id:"using-regexp",depth:3,charIndex:-1},{text:"output.enableInlineStyles",id:"outputenableinlinestyles",depth:2,charIndex:-1},{text:"Example",id:"example-13",depth:3,charIndex:-1},{text:"Using RegExp",id:"using-regexp-1",depth:3,charIndex:-1},{text:"output.externals",id:"outputexternals",depth:2,charIndex:-1},{text:"Example",id:"example-14",depth:3,charIndex:-1},{text:"output.filename",id:"outputfilename",depth:2,charIndex:-1},{text:"Example",id:"example-15",depth:3,charIndex:-1},{text:"Filename of Async Modules",id:"filename-of-async-modules",depth:3,charIndex:-1},{text:"output.legalComments",id:"outputlegalcomments",depth:2,charIndex:-1},{text:"Example",id:"example-16",depth:3,charIndex:-1},{text:"output.overrideBrowserslist",id:"outputoverridebrowserslist",depth:2,charIndex:-1},{text:"Priority",id:"priority",depth:4,charIndex:-1},{text:"Default Value",id:"default-value-1",depth:4,charIndex:-1},{text:"Example",id:"example-17",depth:3,charIndex:-1},{text:"Set according to Targets",id:"set-according-to-targets",depth:4,charIndex:-1},{text:"output.polyfill",id:"outputpolyfill",depth:2,charIndex:-1},{text:"Config",id:"config",depth:3,charIndex:-1},{text:"entry",id:"entry",depth:4,charIndex:-1},{text:"usage",id:"usage",depth:4,charIndex:-1},{text:"ua",id:"ua",depth:4,charIndex:-1},{text:"off",id:"off",depth:4,charIndex:-1},{text:"output.svgDefaultExport",id:"outputsvgdefaultexport",depth:2,charIndex:-1}],frontmatter:{extractApiHeaders:[2]},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/api/config-output.mdx",_relativePath:"en/api/config-output.mdx"},{title:"Performance Config",routePath:"/builder/en/api/config-performance",lang:"en",toc:[{text:"performance.buildCache",id:"performancebuildcache",depth:2,charIndex:89},{text:"performance.bundleAnalyze",id:"performancebundleanalyze",depth:2,charIndex:966},{text:"Enable Bundle Analyze",id:"enable-bundle-analyze",depth:3,charIndex:1431},{text:"Override Default Configuration",id:"override-default-configuration",depth:3,charIndex:2182},{text:"Size Types",id:"size-types",depth:3,charIndex:2515},{text:"Generate stats.json",id:"generate-statsjson",depth:3,charIndex:2984},{text:"Notes",id:"notes",depth:3,charIndex:3211},{text:"performance.chunkSplit",id:"performancechunksplit",depth:2,charIndex:3745},{text:"chunkSplit.strategy",id:"chunksplitstrategy",depth:3,charIndex:4532},{text:"Default Strategy",id:"default-strategy",depth:3,charIndex:5081},{text:"chunkSplit.minSize",id:"chunksplitminsize",depth:3,charIndex:6034},{text:"chunkSplit.maxSize",id:"chunksplitmaxsize",depth:3,charIndex:6411},{text:"chunkSplit.forceSplitting",id:"chunksplitforcesplitting",depth:3,charIndex:6794},{text:"chunkSplit.splitChunks",id:"chunksplitsplitchunks",depth:3,charIndex:-1},{text:"chunkSplit.override",id:"chunksplitoverride",depth:3,charIndex:-1},{text:"performance.printFileSize",id:"performanceprintfilesize",depth:2,charIndex:-1},{text:"Example",id:"example",depth:3,charIndex:-1},{text:"performance.profile",id:"performanceprofile",depth:2,charIndex:-1},{text:"Example",id:"example-1",depth:3,charIndex:-1},{text:"performance.removeConsole",id:"performanceremoveconsole",depth:2,charIndex:-1},{text:"Remove all consoles",id:"remove-all-consoles",depth:4,charIndex:-1},{text:"Remove specific console",id:"remove-specific-console",depth:4,charIndex:-1},{text:"performance.removeMomentLocale",id:"performanceremovemomentlocale",depth:2,charIndex:-1}],frontmatter:{extractApiHeaders:[2]},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/api/config-performance.mdx",_relativePath:"en/api/config-performance.mdx"},{title:"Security Config",routePath:"/builder/en/api/config-security",lang:"en",toc:[{text:"security.sri",id:"securitysri",depth:2,charIndex:86},{text:"Introduce SRI",id:"introduce-sri",depth:4,charIndex:624},{text:"Example",id:"example",depth:4,charIndex:1100},{text:"security.checkSyntax",id:"securitychecksyntax",depth:2,charIndex:1494},{text:"Example",id:"example-1",depth:3,charIndex:1830},{text:"Error Log",id:"error-log",depth:3,charIndex:2303},{text:"Solution",id:"solution",depth:3,charIndex:2707}],frontmatter:{extractApiHeaders:[2]},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/api/config-security.mdx",_relativePath:"en/api/config-security.mdx"},{title:"Source Config",routePath:"/builder/en/api/config-source",lang:"en",toc:[{text:"source.alias",id:"sourcealias",depth:2,charIndex:104},{text:"Object Type",id:"object-type",depth:3,charIndex:470},{text:"Function Type",id:"function-type",depth:3,charIndex:798},{text:"Exact Matching",id:"exact-matching",depth:3,charIndex:1263},{text:"source.alias",id:"sourcealias-1",depth:2,charIndex:1717},{text:"Compile Npm Packages",id:"compile-npm-packages",depth:3,charIndex:2825},{text:"Compile Sub Dependencies",id:"compile-sub-dependencies",depth:3,charIndex:3867},{text:"Compile Libraries in Monorepo",id:"compile-libraries-in-monorepo",depth:3,charIndex:4333},{text:"Compile CommonJS Module",id:"compile-commonjs-module",depth:3,charIndex:4987},{text:"Matching Symlink",id:"matching-symlink",depth:3,charIndex:5506},{text:"Precautions",id:"precautions",depth:3,charIndex:5927},{text:"source.exclude",id:"sourceexclude",depth:2,charIndex:6485},{text:"source.compileJsDataURI",id:"sourcecompilejsdatauri",depth:2,charIndex:7056},{text:"Example",id:"example",depth:3,charIndex:7402},{text:"source.define",id:"sourcedefine",depth:2,charIndex:7519},{text:"Example",id:"example-1",depth:3,charIndex:8299},{text:"source.globalVars",id:"sourceglobalvars",depth:2,charIndex:8799},{text:"Example",id:"example-2",depth:3,charIndex:9292},{text:"Function Usage",id:"function-usage",depth:3,charIndex:9635},{text:"Difference with define",id:"difference-with-define",depth:3,charIndex:10075},{text:"Precautions",id:"precautions-1",depth:3,charIndex:10763},{text:"source.moduleScopes",id:"sourcemodulescopes",depth:2,charIndex:11219},{text:"Example",id:"example-3",depth:3,charIndex:11494},{text:"Array Type",id:"array-type",depth:3,charIndex:11939},{text:"Function Type",id:"function-type-1",depth:3,charIndex:12091},{text:"source.transformImport",id:"sourcetransformimport",depth:2,charIndex:12329},{text:"Example",id:"example-4",depth:3,charIndex:14060},{text:"Disable Default Config",id:"disable-default-config",depth:3,charIndex:14388},{text:"Configuration",id:"configuration",depth:3,charIndex:14820},{text:"libraryName",id:"libraryname",depth:4,charIndex:14836},{text:"libraryDirectory",id:"librarydirectory",depth:4,charIndex:14923},{text:"style",id:"style",depth:4,charIndex:15141},{text:"styleLibraryDirectory",id:"stylelibrarydirectory",depth:4,charIndex:15457},{text:"camelToDashComponentName",id:"cameltodashcomponentname",depth:4,charIndex:15824},{text:"transformToDefaultImport",id:"transformtodefaultimport",depth:4,charIndex:15995},{text:"customName",id:"customname",depth:4,charIndex:16171},{text:"customStyleName",id:"customstylename",depth:4,charIndex:17044},{text:"source.preEntry",id:"sourcepreentry",depth:2,charIndex:17929},{text:"Add a single script",id:"add-a-single-script",depth:4,charIndex:18196},{text:"Add global style",id:"add-global-style",depth:4,charIndex:18574},{text:"Add multiple scripts",id:"add-multiple-scripts",depth:4,charIndex:18834},{text:"source.resolveExtensionPrefix",id:"sourceresolveextensionprefix",depth:2,charIndex:19064},{text:"Example",id:"example-5",depth:3,charIndex:19345},{text:"Set according to Targets",id:"set-according-to-targets",depth:4,charIndex:19720},{text:"source.resolveMainFields",id:"sourceresolvemainfields",depth:2,charIndex:20329},{text:"Example",id:"example-6",depth:3,charIndex:20612},{text:"Set according to Targets",id:"set-according-to-targets-1",depth:4,charIndex:20716},{text:"Handling npm packages",id:"handling-npm-packages",depth:3,charIndex:21326},{text:"source.include",id:"sourceinclude",depth:2,charIndex:22102},{text:"source.exclude",id:"sourceexclude-1",depth:2,charIndex:22120},{text:"source.compileJsDataURI",id:"sourcecompilejsdatauri-1",depth:2,charIndex:22138},{text:"source.define",id:"sourcedefine-1",depth:2,charIndex:22165},{text:"source.globalVars",id:"sourceglobalvars-1",depth:2,charIndex:22182},{text:"source.moduleScopes",id:"sourcemodulescopes-1",depth:2,charIndex:22203},{text:"source.transformImport",id:"sourcetransformimport-1",depth:2,charIndex:22226},{text:"source.preEntry",id:"sourcepreentry-1",depth:2,charIndex:22252},{text:"source.resolveExtensionPrefix",id:"sourceresolveextensionprefix-1",depth:2,charIndex:22271},{text:"source.resolveMainFields",id:"sourceresolvemainfields-1",depth:2,charIndex:-1}],frontmatter:{extractApiHeaders:[2]},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/api/config-source.mdx",_relativePath:"en/api/config-source.mdx"},{title:"Tools Config",routePath:"/builder/en/api/config-tools",lang:"en",toc:[{text:"tools.autoprefixer",id:"toolsautoprefixer",depth:2,charIndex:85},{text:"Object Type",id:"object-type",depth:3,charIndex:402},{text:"Function Type",id:"function-type",depth:3,charIndex:636},{text:"tools.babel",id:"toolsbabel",depth:2,charIndex:957},{text:"Usage Scenarios",id:"usage-scenarios",depth:3,charIndex:1084},{text:"Function Type",id:"function-type-1",depth:3,charIndex:1671},{text:"Object Type",id:"object-type-1",depth:3,charIndex:2635},{text:"Util Functions",id:"util-functions",depth:3,charIndex:3174},{text:"addPlugins",id:"addplugins",depth:4,charIndex:3294},{text:"addPresets",id:"addpresets",depth:4,charIndex:3681},{text:"removePlugins",id:"removeplugins",depth:4,charIndex:3931},{text:"removePresets",id:"removepresets",depth:4,charIndex:4258},{text:"addIncludes",id:"addincludes",depth:4,charIndex:4592},{text:"addExcludes",id:"addexcludes",depth:4,charIndex:5213},{text:"modifyPresetEnvOptions",id:"modifypresetenvoptions",depth:4,charIndex:5818},{text:"modifyPresetReactOptions",id:"modifypresetreactoptions",depth:4,charIndex:6231},{text:"Debugging Babel Configuration",id:"debugging-babel-configuration",depth:3,charIndex:6623},{text:"tools.bundlerChain",id:"toolsbundlerchain",depth:2,charIndex:7108},{text:"Utils",id:"utils",depth:3,charIndex:8139},{text:"env",id:"env",depth:4,charIndex:8147},{text:"isProd",id:"isprod",depth:4,charIndex:8509},{text:"target",id:"target",depth:4,charIndex:8796},{text:"isServer",id:"isserver",depth:4,charIndex:9087},{text:"isWebWorker",id:"iswebworker",depth:4,charIndex:9336},{text:"HtmlPlugin",id:"htmlplugin",depth:3,charIndex:9607},{text:"CHAIN_ID",id:"chain_id",depth:4,charIndex:9869},{text:"CHAIN_ID.ONE_OF",id:"chain_idone_of",depth:3,charIndex:10221},{text:"CHAIN_ID.USE",id:"chain_iduse",depth:3,charIndex:10681},{text:"CHAIN_ID.PLUGIN",id:"chain_idplugin",depth:3,charIndex:11006},{text:"Examples",id:"examples",depth:3,charIndex:11638},{text:"tools.cssExtract",id:"toolscssextract",depth:2,charIndex:11715},{text:"Object Type",id:"object-type-2",depth:3,charIndex:12263},{text:"Function Type",id:"function-type-2",depth:3,charIndex:12532},{text:"tools.cssLoader",id:"toolscssloader",depth:2,charIndex:12970},{text:"Object Type",id:"object-type-3",depth:3,charIndex:13734},{text:"Function Type",id:"function-type-3",depth:3,charIndex:13966},{text:"tools.devServer",id:"toolsdevserver",depth:2,charIndex:14306},{text:"Options",id:"options",depth:3,charIndex:14423},{text:"after",id:"after",depth:4,charIndex:14433},{text:"before",id:"before",depth:4,charIndex:15358},{text:"client",id:"client",depth:4,charIndex:15709},{text:"compress",id:"compress",depth:4,charIndex:16394},{text:"devMiddleware",id:"devmiddleware",depth:4,charIndex:16667},{text:"headers",id:"headers",depth:4,charIndex:16928},{text:"historyApiFallback",id:"historyapifallback",depth:4,charIndex:17128},{text:"hot",id:"hot",depth:4,charIndex:17542},{text:"https",id:"https",depth:4,charIndex:17623},{text:"liveReload",id:"livereload",depth:4,charIndex:18166},{text:"setupMiddlewares",id:"setupmiddlewares",depth:4,charIndex:18434},{text:"proxy",id:"proxy",depth:4,charIndex:19901},{text:"watch",id:"watch",depth:4,charIndex:22092},{text:"tools.htmlPlugin",id:"toolshtmlplugin",depth:2,charIndex:22212},{text:"Object Type",id:"object-type-4",depth:3,charIndex:22993},{text:"Function Type",id:"function-type-4",depth:3,charIndex:23211},{text:"Boolean Type",id:"boolean-type",depth:3,charIndex:23681},{text:"tools.inspector",id:"toolsinspector",depth:2,charIndex:23850},{text:"Object Type",id:"object-type-5",depth:3,charIndex:24185},{text:"Function Type",id:"function-type-5",depth:3,charIndex:24444},{text:"tools.less",id:"toolsless",depth:2,charIndex:24727},{text:"Object Type",id:"object-type-6",depth:3,charIndex:25006},{text:"Function Type",id:"function-type-6",depth:3,charIndex:25358},{text:"Util Function",id:"util-function",depth:3,charIndex:25797},{text:"addExcludes",id:"addexcludes-1",depth:4,charIndex:25813},{text:"tools.minifyCss",id:"toolsminifycss",depth:2,charIndex:26145},{text:"Object Type",id:"object-type-7",depth:3,charIndex:26576},{text:"Function Type",id:"function-type-7",depth:3,charIndex:26896},{text:"tools.postcss",id:"toolspostcss",depth:2,charIndex:27275},{text:"Function Type",id:"function-type-8",depth:3,charIndex:27933},{text:"Object Type",id:"object-type-8",depth:3,charIndex:29131},{text:"Util Functions",id:"util-functions-1",depth:3,charIndex:29609},{text:"addPlugins",id:"addplugins-1",depth:4,charIndex:29626},{text:"tools.pug",id:"toolspug",depth:2,charIndex:30297},{text:"Boolean Type",id:"boolean-type-1",depth:3,charIndex:30411},{text:"Object Type",id:"object-type-9",depth:3,charIndex:30659},{text:"Function Type",id:"function-type-9",depth:3,charIndex:30878},{text:"tools.sass",id:"toolssass",depth:2,charIndex:31184},{text:"Object Type",id:"object-type-10",depth:3,charIndex:31412},{text:"Function Type",id:"function-type-10",depth:3,charIndex:31693},{text:"Utility Function",id:"utility-function",depth:3,charIndex:32141},{text:"addExcludes",id:"addexcludes-2",depth:4,charIndex:32160},{text:"tools.styleLoader",id:"toolsstyleloader",depth:2,charIndex:32492},{text:"Object Type",id:"object-type-11",depth:3,charIndex:32754},{text:"Function Type",id:"function-type-11",depth:3,charIndex:32989},{text:"tools.styledComponents",id:"toolsstyledcomponents",depth:2,charIndex:33329},{text:"tools.terser",id:"toolsterser",depth:2,charIndex:34164},{text:"Object Type",id:"object-type-12",depth:3,charIndex:34543},{text:"Function Type",id:"function-type-12",depth:3,charIndex:34797},{text:"tools.tsLoader",id:"toolstsloader",depth:2,charIndex:35225},{text:"Object Type",id:"object-type-13",depth:3,charIndex:35508},{text:"Function Type",id:"function-type-13",depth:3,charIndex:35976},{text:"Util Functions",id:"util-functions-2",depth:3,charIndex:36400},{text:"addIncludes",id:"addincludes-1",depth:4,charIndex:36537},{text:"addExcludes",id:"addexcludes-3",depth:4,charIndex:36909},{text:"tools.tsChecker",id:"toolstschecker",depth:2,charIndex:37260},{text:"Object Type",id:"object-type-14",depth:3,charIndex:38026},{text:"Function Type",id:"function-type-14",depth:3,charIndex:38128},{text:"tools.webpack",id:"toolswebpack",depth:2,charIndex:38316},{text:"Object Type",id:"object-type-15",depth:3,charIndex:38633},{text:"Function Type",id:"function-type-15",depth:3,charIndex:38967},{text:"Utils",id:"utils-1",depth:3,charIndex:39484},{text:"env",id:"env-1",depth:4,charIndex:39611},{text:"isProd",id:"isprod-1",depth:4,charIndex:39992},{text:"target",id:"target-1",depth:4,charIndex:40298},{text:"isServer",id:"isserver-1",depth:4,charIndex:40601},{text:"isWebWorker",id:"iswebworker-1",depth:4,charIndex:40867},{text:"webpack",id:"webpack",depth:4,charIndex:41154},{text:"HtmlWebpackPlugin",id:"htmlwebpackplugin",depth:4,charIndex:41398},{text:"addRules",id:"addrules",depth:4,charIndex:41635},{text:"prependPlugins",id:"prependplugins",depth:4,charIndex:42214},{text:"appendPlugins",id:"appendplugins",depth:4,charIndex:42749},{text:"removePlugin",id:"removeplugin",depth:4,charIndex:43276},{text:"mergeConfig",id:"mergeconfig",depth:4,charIndex:43620},{text:"getCompiledPath",id:"getcompiledpath",depth:4,charIndex:43914},{text:"tools.webpackChain",id:"toolswebpackchain",depth:2,charIndex:44058},{text:"Utils",id:"utils-2",depth:3,charIndex:44775},{text:"env",id:"env-2",depth:4,charIndex:44783},{text:"isProd",id:"isprod-2",depth:4,charIndex:45145},{text:"target",id:"target-2",depth:4,charIndex:45432},{text:"isServer",id:"isserver-2",depth:4,charIndex:45723},{text:"isWebWorker",id:"iswebworker-2",depth:4,charIndex:45972},{text:"webpack",id:"webpack-1",depth:4,charIndex:46242},{text:"HtmlWebpackPlugin",id:"htmlwebpackplugin-1",depth:4,charIndex:46475},{text:"getCompiledPath",id:"getcompiledpath-1",depth:4,charIndex:46712},{text:"CHAIN_ID",id:"chain_id-1",depth:4,charIndex:47374},{text:"CHAIN_ID.ONE_OF",id:"chain_idone_of-1",depth:3,charIndex:47919},{text:"CHAIN_ID.USE",id:"chain_iduse-1",depth:3,charIndex:48379},{text:"CHAIN_ID.PLUGIN",id:"chain_idplugin-1",depth:3,charIndex:49343},{text:"CHAIN_ID.MINIMIZER",id:"chain_idminimizer",depth:3,charIndex:51099},{text:"Examples",id:"examples-1",depth:3,charIndex:51413},{text:"Add/Modify/Delete loader",id:"add/modify/delete-loader",depth:4,charIndex:51539},{text:"Add/Modify/Delete plugin",id:"add/modify/delete-plugin",depth:4,charIndex:52117},{text:"tools.rspack",id:"toolsrspack",depth:2,charIndex:52690},{text:"Object Type",id:"object-type-16",depth:3,charIndex:52843},{text:"Function Type",id:"function-type-16",depth:3,charIndex:53174},{text:"Utils",id:"utils-3",depth:3,charIndex:53804},{text:"env",id:"env-3",depth:4,charIndex:53812},{text:"isProd",id:"isprod-3",depth:4,charIndex:54192},{text:"target",id:"target-3",depth:4,charIndex:54497},{text:"isServer",id:"isserver-3",depth:4,charIndex:54799},{text:"isWebWorker",id:"iswebworker-3",depth:4,charIndex:55064},{text:"addRules",id:"addrules-1",depth:4,charIndex:55350},{text:"prependPlugins",id:"prependplugins-1",depth:4,charIndex:55927},{text:"appendPlugins",id:"appendplugins-1",depth:4,charIndex:56374},{text:"removePlugin",id:"removeplugin-1",depth:4,charIndex:56813},{text:"mergeConfig",id:"mergeconfig-1",depth:4,charIndex:57142},{text:"getCompiledPath",id:"getcompiledpath-2",depth:4,charIndex:57432}],frontmatter:{extractApiHeaders:[2]},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/api/config-tools.mdx",_relativePath:"en/api/config-tools.mdx"},{title:"API",routePath:"/builder/en/api/",lang:"en",toc:[],frontmatter:{overview:!0},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/api/index.mdx",_relativePath:"en/api/index.mdx"},{title:"Plugin Core",routePath:"/builder/en/api/plugin-core",lang:"en",toc:[{text:"BuilderPlugin",id:"builderplugin",depth:2,charIndex:59},{text:"Pre-Plugins",id:"pre-plugins",depth:3,charIndex:1323},{text:"Post-Plugins",id:"post-plugins",depth:3,charIndex:1797},{text:"Removing Plugins",id:"removing-plugins",depth:3,charIndex:2174},{text:"BuilderPluginAPI",id:"builderpluginapi",depth:2,charIndex:2596},{text:"Plugin for webpack-provider",id:"plugin-for-webpack-provider",depth:3,charIndex:3013},{text:"Plugins for rspack-provider",id:"plugins-for-rspack-provider",depth:3,charIndex:3344},{text:"Plugins for both webpack-provider and rspack-provider",id:"plugins-for-both-webpack-provider-and-rspack-provider",depth:3,charIndex:3672},{text:"api.context",id:"apicontext",depth:2,charIndex:4354},{text:"api.getBuilderConfig",id:"apigetbuilderconfig",depth:2,charIndex:4656},{text:"api.getNormalizedConfig",id:"apigetnormalizedconfig",depth:2,charIndex:4982},{text:"api.isPluginExists",id:"apiispluginexists",depth:2,charIndex:5616},{text:"api.getHTMLPaths",id:"apigethtmlpaths",depth:2,charIndex:5877}],frontmatter:{extractApiHeaders:[2]},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/api/plugin-core.mdx",_relativePath:"en/api/plugin-core.mdx"},{title:"Plugin Hooks",routePath:"/builder/en/api/plugin-hooks",lang:"en",toc:[{text:"Overview",id:"overview",depth:2,charIndex:74},{text:"Common Hooks",id:"common-hooks",depth:2,charIndex:1219},{text:"modifyBuilderConfig",id:"modifybuilderconfig",depth:3,charIndex:1235},{text:"modifyBundlerChain experimental",id:"modifybundlerchain-experimental",depth:3,charIndex:1944},{text:"modifyWebpackChain",id:"modifywebpackchain",depth:3,charIndex:3215},{text:"modifyWebpackConfig",id:"modifywebpackconfig",depth:3,charIndex:4006},{text:"modifyRspackConfig",id:"modifyrspackconfig",depth:3,charIndex:5267},{text:"onBeforeCreateCompiler",id:"onbeforecreatecompiler",depth:3,charIndex:6038},{text:"onAfterCreateCompiler",id:"onaftercreatecompiler",depth:3,charIndex:6653},{text:"Build Hooks",id:"build-hooks",depth:2,charIndex:7225},{text:"onBeforeBuild",id:"onbeforebuild",depth:3,charIndex:7240},{text:"onAfterBuild",id:"onafterbuild",depth:3,charIndex:7733},{text:"Dev Server Hooks",id:"dev-server-hooks",depth:2,charIndex:8127},{text:"onBeforeStartDevServer",id:"onbeforestartdevserver",depth:3,charIndex:8147},{text:"onAfterStartDevServer",id:"onafterstartdevserver",depth:3,charIndex:8451},{text:"onDevCompileDone",id:"ondevcompiledone",depth:3,charIndex:8851},{text:"Other Hooks",id:"other-hooks",depth:2,charIndex:9358},{text:"onExit",id:"onexit",depth:3,charIndex:9373}],frontmatter:{extractApiHeaders:[2]},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/api/plugin-hooks.mdx",_relativePath:"en/api/plugin-hooks.mdx"},{title:"Alias",routePath:"/builder/en/guide/advanced/alias",lang:"en",toc:[{text:"Using source.alias config",id:"using-sourcealias-config",depth:2,charIndex:604},{text:"Using paths config in tsconfig.json",id:"using-paths-config-in-tsconfigjson",depth:2,charIndex:1199}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/advanced/alias.md",_relativePath:"en/guide/advanced/alias.md"},{title:"Browser Compatibility",routePath:"/builder/en/guide/advanced/browser-compatibility",lang:"en",toc:[{text:"Set browserslist",id:"set-browserslist",depth:2,charIndex:119},{text:"Background knowledge",id:"background-knowledge",depth:2,charIndex:826},{text:"Syntax downgrade and API downgrade",id:"syntax-downgrade-and-api-downgrade",depth:3,charIndex:999},{text:"Syntax transpilation",id:"syntax-transpilation",depth:3,charIndex:1742},{text:"API Polyfill",id:"api-polyfill",depth:3,charIndex:4176},{text:"Downgrade method",id:"downgrade-method",depth:2,charIndex:6084},{text:"Downgrade the current project code",id:"downgrade-the-current-project-code",depth:3,charIndex:6928},{text:"Downgrade third-party dependencies",id:"downgrade-third-party-dependencies",depth:3,charIndex:7136},{text:"Downgrade the code out of the current project",id:"downgrade-the-code-out-of-the-current-project",depth:3,charIndex:7598},{text:"Polyfill mode",id:"polyfill-mode",depth:2,charIndex:8414},{text:"entry mode",id:"entry-mode",depth:3,charIndex:8723},{text:"usage mode",id:"usage-mode",depth:3,charIndex:9342},{text:"Disable Polyfill",id:"disable-polyfill",depth:3,charIndex:10349}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/advanced/browser-compatibility.md",_relativePath:"en/guide/advanced/browser-compatibility.md"},{title:"Browserslist",routePath:"/builder/en/guide/advanced/browserslist",lang:"en",toc:[{text:"What is Browserslist",id:"what-is-browserslist",depth:2,charIndex:111},{text:"Set Browserslist",id:"set-browserslist",depth:2,charIndex:1740},{text:"Example",id:"example",depth:3,charIndex:1886},{text:"Effective Scope",id:"effective-scope",depth:3,charIndex:2156},{text:"Use output.overrideBrowserslist config",id:"use-outputoverridebrowserslist-config",depth:3,charIndex:2598},{text:"Commonly used Browserslist",id:"commonly-used-browserslist",depth:2,charIndex:3983},{text:"Desktop PC scenario",id:"desktop-pc-scenario",depth:3,charIndex:4112},{text:"Mobile H5 scenario",id:"mobile-h5-scenario",depth:3,charIndex:4782},{text:"Default Browserslist",id:"default-browserslist",depth:2,charIndex:5390},{text:"Web Target",id:"web-target",depth:3,charIndex:5635},{text:"Node Target",id:"node-target",depth:3,charIndex:5809},{text:"Web Worker Target",id:"web-worker-target",depth:3,charIndex:5899},{text:"Modern Web Target",id:"modern-web-target",depth:3,charIndex:6041},{text:"Query browser support",id:"query-browser-support",depth:2,charIndex:6224}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/advanced/browserslist.md",_relativePath:"en/guide/advanced/browserslist.md"},{title:"Custom webpack config",routePath:"/builder/en/guide/advanced/custom-webpack-config",lang:"en",toc:[{text:"Modify the webpack configuration object",id:"modify-the-webpack-configuration-object",depth:2,charIndex:156},{text:"Using webpack-chain",id:"using-webpack-chain",depth:2,charIndex:702},{text:"tools.webpackChain config",id:"toolswebpackchain-config",depth:3,charIndex:999},{text:"webpack-chain Basics",id:"webpack-chain-basics",depth:2,charIndex:1597},{text:"How does webpack-chain locate",id:"how-does-webpack-chain-locate",depth:3,charIndex:1748},{text:"webpack-chain id type",id:"webpack-chain-id-type",depth:3,charIndex:2474},{text:"webpack-chain Demo",id:"webpack-chain-demo",depth:2,charIndex:3196},{text:"Add/Modify/Delete loader",id:"add/modify/delete-loader",depth:3,charIndex:3218},{text:"Add/Modify/Delete plugin",id:"add/modify/delete-plugin",depth:3,charIndex:3797},{text:"Modify the config according to environment",id:"modify-the-config-according-to-environment",depth:3,charIndex:4370}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/advanced/custom-webpack-config.md",_relativePath:"en/guide/advanced/custom-webpack-config.md"},{title:"Environment Variables",routePath:"/builder/en/guide/advanced/define",lang:"en",toc:[{text:"Default Variables",id:"default-variables",depth:2,charIndex:250},{text:"process.env.NODE_ENV",id:"processenvnode_env",depth:3,charIndex:271},{text:"process.env.ASSET_PREFIX",id:"processenvasset_prefix",depth:3,charIndex:997},{text:"Using define config",id:"using-define-config",depth:2,charIndex:1902},{text:"Replace Expressions",id:"replace-expressions",depth:3,charIndex:2381},{text:"process.env Injection",id:"processenv-injection",depth:3,charIndex:3355},{text:"Setup Environment Variables",id:"setup-environment-variables",depth:2,charIndex:4151},{text:"Declare type of environment variable",id:"declare-type-of-environment-variable",depth:2,charIndex:5100},{text:"Tree Shaking",id:"tree-shaking",depth:2,charIndex:5606},{text:"In-source testing",id:"in-source-testing",depth:2,charIndex:6609}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/advanced/define.md",_relativePath:"en/guide/advanced/define.md"},{title:"Hot Module Replacement",routePath:"/builder/en/guide/advanced/hmr",lang:"en",toc:[{text:"Enabling HMR",id:"enabling-hmr",depth:2,charIndex:495},{text:"Specify HMR URL",id:"specify-hmr-url",depth:2,charIndex:749},{text:"Default Config",id:"default-config",depth:3,charIndex:988},{text:"Proxy",id:"proxy",depth:3,charIndex:1481},{text:"Live reloading vs Hot reloading",id:"live-reloading-vs-hot-reloading",depth:2,charIndex:1845},{text:"FAQ",id:"faq",depth:2,charIndex:2529}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/advanced/hmr.md",_relativePath:"en/guide/advanced/hmr.md"},{title:"REM adaptation",routePath:"/builder/en/guide/advanced/rem",lang:"en",toc:[{text:"Enabling REM adaptability",id:"enabling-rem-adaptability",depth:2,charIndex:207},{text:"CSS conversion properties",id:"css-conversion-properties",depth:2,charIndex:456},{text:"Setting the page rootFontSize",id:"setting-the-page-rootfontsize",depth:2,charIndex:1104},{text:"Customize maxRootFontSize",id:"customize-maxrootfontsize",depth:2,charIndex:1705},{text:"How to determine if REM is in effect？",id:"how-to-determine-if-rem-is-in-effect？",depth:2,charIndex:2236},{text:"How to get the rootFontSize value that is actually in effect on the page?",id:"how-to-get-the-rootfontsize-value-that-is-actually-in-effect-on-the-page?",depth:2,charIndex:2512}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/advanced/rem.md",_relativePath:"en/guide/advanced/rem.md"},{title:"Using Rspack",routePath:"/builder/en/guide/advanced/rspack-start",lang:"en",toc:[{text:"Enable Rspack",id:"enable-rspack",depth:2,charIndex:618},{text:"Enable in Modern.js framework",id:"enable-in-modernjs-framework",depth:3,charIndex:635},{text:"Use Builder in a front-end framework",id:"use-builder-in-a-front-end-framework",depth:3,charIndex:800},{text:"Migrating from webpack to Rspack",id:"migrating-from-webpack-to-rspack",depth:2,charIndex:1289},{text:"1. Builder configuration differences",id:"1-builder-configuration-differences",depth:3,charIndex:1742},{text:"Source Config",id:"source-config",depth:4,charIndex:1948},{text:"Html Config",id:"html-config",depth:4,charIndex:2194},{text:"Security Config",id:"security-config",depth:4,charIndex:2328},{text:"Dev Config",id:"dev-config",depth:4,charIndex:2478},{text:"Output Config",id:"output-config",depth:4,charIndex:2609},{text:"Experiments Config",id:"experiments-config",depth:4,charIndex:2946},{text:"Performance Config",id:"performance-config",depth:4,charIndex:3107},{text:"Tools Config",id:"tools-config",depth:4,charIndex:3326},{text:"2. Migrating from webpackChain to bundlerChain",id:"2-migrating-from-webpackchain-to-bundlerchain",depth:3,charIndex:3959},{text:"CHAIN_ID differences",id:"chain_id-differences",depth:4,charIndex:4574},{text:"3. Migrating from tools.webpack to tools.rspack",id:"3-migrating-from-toolswebpack-to-toolsrspack",depth:3,charIndex:4829},{text:"4. Babel Configuration Migration",id:"4-babel-configuration-migration",depth:3,charIndex:5447},{text:"5. SWC Configuration Support",id:"5-swc-configuration-support",depth:3,charIndex:6751},{text:"6. Webpack Plugin Migration",id:"6-webpack-plugin-migration",depth:3,charIndex:7062},{text:"Compare with Rspack CLI",id:"compare-with-rspack-cli",depth:2,charIndex:7742},{text:"FAQ",id:"faq",depth:2,charIndex:9273},{text:"After enabling Rspack, the performance is not as fast as expected?",id:"after-enabling-rspack,-the-performance-is-not-as-fast-as-expected?",depth:3,charIndex:9280}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/advanced/rspack-start.mdx",_relativePath:"en/guide/advanced/rspack-start.mdx"},{title:"Build Target",routePath:"/builder/en/guide/basic/build-target",lang:"en",toc:[{text:"Default Target",id:"default-target",depth:2,charIndex:363},{text:"Optional Targets",id:"optional-targets",depth:2,charIndex:574},{text:"Multiple Targets",id:"multiple-targets",depth:2,charIndex:949},{text:"Node Target",id:"node-target",depth:2,charIndex:1239},{text:"Web Worker Target",id:"web-worker-target",depth:2,charIndex:2071},{text:"Modern Web Target",id:"modern-web-target",depth:2,charIndex:3106}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/basic/build-target.md",_relativePath:"en/guide/basic/build-target.md"},{title:"Use Builder CLI",routePath:"/builder/en/guide/basic/builder-cli",lang:"en",toc:[{text:"Install",id:"install",depth:2,charIndex:422},{text:"Commands",id:"commands",depth:2,charIndex:1005},{text:"builder dev",id:"builder-dev",depth:3,charIndex:1149},{text:"builder build",id:"builder-build",depth:3,charIndex:1383},{text:"builder serve",id:"builder-serve",depth:3,charIndex:1592},{text:"Configuration",id:"configuration",depth:2,charIndex:1891},{text:"Build Entry",id:"build-entry",depth:2,charIndex:2476}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/basic/builder-cli.mdx",_relativePath:"en/guide/basic/builder-cli.mdx"},{title:"Builder Config",routePath:"/builder/en/guide/basic/builder-config",lang:"en",toc:[{text:"Config Categories",id:"config-categories",depth:2,charIndex:85},{text:"Default Values",id:"default-values",depth:2,charIndex:612},{text:"Use Config",id:"use-config",depth:2,charIndex:972},{text:"In the Upper Framework",id:"in-the-upper-framework",depth:3,charIndex:986},{text:"Using the Node API",id:"using-the-node-api",depth:3,charIndex:1576},{text:"Relationship with Framework Config",id:"relationship-with-framework-config",depth:2,charIndex:1871},{text:"Debug the config",id:"debug-the-config",depth:2,charIndex:2186}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/basic/builder-config.mdx",_relativePath:"en/guide/basic/builder-config.mdx"},{title:"Use CSS Modules",routePath:"/builder/en/guide/basic/css-modules",lang:"en",toc:[{text:"Example",id:"example",depth:2,charIndex:539},{text:"Enable CSS Modules for all CSS files",id:"enable-css-modules-for-all-css-files",depth:2,charIndex:730},{text:"Enable CSS Modules for the specified style file",id:"enable-css-modules-for-the-specified-style-file",depth:2,charIndex:1355},{text:"Custom Class Names",id:"custom-class-names",depth:2,charIndex:1772},{text:"Add Type Declaration",id:"add-type-declaration",depth:2,charIndex:2123},{text:"Generate exact type definitions",id:"generate-exact-type-definitions",depth:2,charIndex:3955},{text:"Example",id:"example-1",depth:3,charIndex:4453},{text:"Related configuration",id:"related-configuration",depth:3,charIndex:5081}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/basic/css-modules.md",_relativePath:"en/guide/basic/css-modules.md"},{title:"CSS Usage",routePath:"/builder/en/guide/basic/css-usage",lang:"en",toc:[{text:"Using Less, Sass and Stylus",id:"using-less,-sass-and-stylus",depth:2,charIndex:268},{text:"Using PostCSS",id:"using-postcss",depth:2,charIndex:675},{text:"Builtin PostCSS plugins",id:"builtin-postcss-plugins",depth:3,charIndex:1032},{text:"Using CSS Modules",id:"using-css-modules",depth:2,charIndex:2438},{text:"CSS Minify",id:"css-minify",depth:2,charIndex:2539},{text:"Inline CSS Files",id:"inline-css-files",depth:2,charIndex:3186},{text:"Import CSS in node_modules",id:"import-css-in-node_modules",depth:2,charIndex:-1}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/basic/css-usage.md",_relativePath:"en/guide/basic/css-usage.md"},{title:"HTML Template",routePath:"/builder/en/guide/basic/html-template",lang:"en",toc:[{text:"Set Template",id:"set-template",depth:2,charIndex:261},{text:"Set Page Title",id:"set-page-title",depth:2,charIndex:748},{text:"Set Page Icon",id:"set-page-icon",depth:2,charIndex:-1},{text:"Set Meta Tags",id:"set-meta-tags",depth:2,charIndex:-1},{text:"Set Template Parameters",id:"set-template-parameters",depth:2,charIndex:-1},{text:"Template Engine",id:"template-engine",depth:2,charIndex:-1},{text:"",id:"",depth:3,charIndex:-1},{text:"",id:"-1",depth:3,charIndex:-1},{text:"",id:"-2",depth:3,charIndex:-1},{text:"Injecting Tags",id:"injecting-tags",depth:2,charIndex:-1},{text:"Tag Object",id:"tag-object",depth:3,charIndex:-1},{text:"Tags Handler",id:"tags-handler",depth:3,charIndex:-1}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/basic/html-template.md",_relativePath:"en/guide/basic/html-template.md"},{title:"Import JSON Files",routePath:"/builder/en/guide/basic/json-files",lang:"en",toc:[{text:"JSON file",id:"json-file",depth:2,charIndex:129},{text:"Example",id:"example",depth:3,charIndex:199},{text:"Named Import",id:"named-import",depth:3,charIndex:331},{text:"YAML file",id:"yaml-file",depth:2,charIndex:419},{text:"Example",id:"example-1",depth:3,charIndex:634},{text:"Add type declaration",id:"add-type-declaration",depth:3,charIndex:769},{text:"Toml file",id:"toml-file",depth:2,charIndex:1104},{text:"Example",id:"example-2",depth:3,charIndex:1297},{text:"Add type declaration",id:"add-type-declaration-1",depth:3,charIndex:1434}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/basic/json-files.md",_relativePath:"en/guide/basic/json-files.md"},{title:"Output Files",routePath:"/builder/en/guide/basic/output-files",lang:"en",toc:[{text:"Default Directory Structure",id:"default-directory-structure",depth:2,charIndex:142},{text:"Modify the Directory",id:"modify-the-directory",depth:2,charIndex:1354},{text:"Static Assets",id:"static-assets",depth:2,charIndex:1762},{text:"Node.js Output Directory",id:"nodejs-output-directory",depth:2,charIndex:2675},{text:"Flatten the Directory",id:"flatten-the-directory",depth:2,charIndex:3325},{text:"Not Written to Disk",id:"not-written-to-disk",depth:2,charIndex:3840}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/basic/output-files.md",_relativePath:"en/guide/basic/output-files.md"},{title:"Import Static Assets",routePath:"/builder/en/guide/basic/static-assets",lang:"en",toc:[{text:"Assets Format",id:"assets-format",depth:2,charIndex:586},{text:"Import Assets in JS file",id:"import-assets-in-js-file",depth:2,charIndex:1097},{text:"Import Assets in CSS file",id:"import-assets-in-css-file",depth:2,charIndex:1346},{text:"Import Results",id:"import-results",depth:2,charIndex:1597},{text:"Output Files",id:"output-files",depth:2,charIndex:2136},{text:"URL Prefix",id:"url-prefix",depth:2,charIndex:2384},{text:"Add Type Declaration",id:"add-type-declaration",depth:2,charIndex:2757},{text:"Image Format",id:"image-format",depth:2,charIndex:3531}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/basic/static-assets.md",_relativePath:"en/guide/basic/static-assets.md"},{title:"Import SVG Assets",routePath:"/builder/en/guide/basic/svg-assets",lang:"en",toc:[{text:"Import SVG in JS file",id:"import-svg-in-js-file",depth:2,charIndex:506},{text:"Modify the Default Export",id:"modify-the-default-export",depth:2,charIndex:858},{text:"Import SVG in CSS file",id:"import-svg-in-css-file",depth:2,charIndex:1207},{text:"Assets Processing",id:"assets-processing",depth:2,charIndex:1398},{text:"Disable SVGR Processing",id:"disable-svgr-processing",depth:2,charIndex:1732},{text:"Add type declaration",id:"add-type-declaration",depth:2,charIndex:2138}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/basic/svg-assets.md",_relativePath:"en/guide/basic/svg-assets.md"},{title:"Use TypeScript",routePath:"/builder/en/guide/basic/typescript",lang:"en",toc:[{text:"TypeScript compilation",id:"typescript-compilation",depth:2,charIndex:151},{text:"Why Babel is the default option",id:"why-babel-is-the-default-option",depth:3,charIndex:1325},{text:"Type checking",id:"type-checking",depth:2,charIndex:1812}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/basic/typescript.md",_relativePath:"en/guide/basic/typescript.md"},{title:"Import Wasm Assets",routePath:"/builder/en/guide/basic/wasm-assets",lang:"en",toc:[{text:"Import",id:"import",depth:2,charIndex:307},{text:"Output Directory",id:"output-directory",depth:2,charIndex:875},{text:"Add Type Declaration",id:"add-type-declaration",depth:2,charIndex:1174}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/basic/wasm-assets.md",_relativePath:"en/guide/basic/wasm-assets.md"},{title:"Debug Mode",routePath:"/builder/en/guide/debug/debug-mode",lang:"en",toc:[{text:"Log Information",id:"log-information",depth:2,charIndex:474},{text:"Builder Config File",id:"builder-config-file",depth:2,charIndex:1324},{text:"Webpack Config File",id:"webpack-config-file",depth:2,charIndex:1863},{text:"Rspack Config File",id:"rspack-config-file",depth:2,charIndex:2809}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/debug/debug-mode.md",_relativePath:"en/guide/debug/debug-mode.md"},{title:"Using Webpack Inspector",routePath:"/builder/en/guide/debug/inspector",lang:"en",toc:[{text:"Introduction",id:"introduction",depth:2,charIndex:63},{text:"Enable",id:"enable",depth:2,charIndex:698},{text:"Debug Panel",id:"debug-panel",depth:2,charIndex:1429},{text:"Config Preview Mode",id:"config-preview-mode",depth:3,charIndex:1570},{text:"List Mode",id:"list-mode",depth:3,charIndex:1768},{text:"Loader Statistics",id:"loader-statistics",depth:3,charIndex:1921},{text:"Dependency Graph Mode",id:"dependency-graph-mode",depth:3,charIndex:1999}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/debug/inspector.md",_relativePath:"en/guide/debug/inspector.md"},{title:"Exceptions FAQ",routePath:"/builder/en/guide/faq/exceptions",lang:"en",toc:[{text:"\\'compilation\\' argument error when webpack compiling?",id:"\\'compilation\\'-argument-error-when-webpack-compiling?",depth:3,charIndex:-1},{text:"Find ES6+ code in the compiled files?",id:"find-es6+-code-in-the-compiled-files?",depth:3,charIndex:1962},{text:"Failed import other modules in Monorepo?",id:"failed-import-other-modules-in-monorepo?",depth:3,charIndex:2432},{text:"Compile error You may need additional loader?",id:"compile-error-you-may-need-additional-loader?",depth:3,charIndex:2939},{text:"Find exports is not defined runtime error?",id:"find-exports-is-not-defined-runtime-error?",depth:3,charIndex:3761},{text:'Compile error \\"Error: ES Modules may not assign module.exports or exports.*, Use ESM export syntax\\"?',id:'compile-error-\\"error:-es-modules-may-not-assign-moduleexports-or-exports*,-use-esm-export-syntax\\"?',depth:3,charIndex:-1},{text:"The compilation progress bar is stuck, but there is no Error log in the terminal?",id:"the-compilation-progress-bar-is-stuck,-but-there-is-no-error-log-in-the-terminal?",depth:3,charIndex:-1},{text:"The webpack cache does not work?",id:"the-webpack-cache-does-not-work?",depth:3,charIndex:7206},{text:"Tree shaking does not take effect?",id:"tree-shaking-does-not-take-effect?",depth:3,charIndex:8241},{text:"JavaScript heap out of memory when compiling?",id:"javascript-heap-out-of-memory-when-compiling?",depth:3,charIndex:8973},{text:"Can\\'t resolve \\'core-js/modules/xxx.js\\' when compiling?",id:"can\\'t-resolve-\\'core-js/modules/xxxjs\\'-when-compiling?",depth:3,charIndex:-1},{text:"Compilation error after referencing a type from lodash",id:"compilation-error-after-referencing-a-type-from-lodash",depth:3,charIndex:12028},{text:"Division in Less file doesn\\'t work?",id:"division-in-less-file-doesn\\'t-work?",depth:3,charIndex:-1},{text:"Compile error ‘TypeError: Cannot delete property \\'xxx\\' of #<Object>’",id:"compile-error-‘typeerror:-cannot-delete-property-\\'xxx\\'-of-#<object>’",depth:3,charIndex:-1}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/faq/exceptions.md",_relativePath:"en/guide/faq/exceptions.md"},{title:"Features FAQ",routePath:"/builder/en/guide/faq/features",lang:"en",toc:[{text:"How to import UI Component library on demand?",id:"how-to-import-ui-component-library-on-demand?",depth:3,charIndex:3},{text:"How to run ESLint during compilation?",id:"how-to-run-eslint-during-compilation?",depth:3,charIndex:482},{text:"How to configure CDN path for static assets?",id:"how-to-configure-cdn-path-for-static-assets?",depth:3,charIndex:1239},{text:"How to clear the webpack cache?",id:"how-to-clear-the-webpack-cache?",depth:3,charIndex:1622},{text:"How to remove console after production build?",id:"how-to-remove-console-after-production-build?",depth:3,charIndex:1954},{text:"How to view the final generated webpack / Rspack configuration?",id:"how-to-view-the-final-generated-webpack-/-rspack-configuration?",depth:3,charIndex:2374},{text:"Viewing with the inspect command",id:"viewing-with-the-inspect-command",depth:4,charIndex:2440},{text:"Viewing with the Builder debug mode",id:"viewing-with-the-builder-debug-mode",depth:4,charIndex:2912}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/faq/features.md",_relativePath:"en/guide/faq/features.md"},{title:"General FAQ",routePath:"/builder/en/guide/faq/general",lang:"en",toc:[{text:"The relationship between Modern.js Builder and Modern.js?",id:"the-relationship-between-modernjs-builder-and-modernjs?",depth:3,charIndex:3},{text:"Can Builder be used to build libraries or UI components?",id:"can-builder-be-used-to-build-libraries-or-ui-components?",depth:3,charIndex:477},{text:"Will Builder support Turbopack?",id:"will-builder-support-turbopack?",depth:3,charIndex:864},{text:"Will Builder support Vite?",id:"will-builder-support-vite?",depth:3,charIndex:1211}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/faq/general.md",_relativePath:"en/guide/faq/general.md"},{title:"HMR FAQ",routePath:"/builder/en/guide/faq/hmr",lang:"en",toc:[{text:"HMR not working when external React?",id:"hmr-not-working-when-external-react?",depth:3,charIndex:3},{text:"HMR not working when setting filename hash in development mode?",id:"hmr-not-working-when-setting-filename-hash-in-development-mode?",depth:3,charIndex:754},{text:"HMR not working when updating React components?",id:"hmr-not-working-when-updating-react-components?",depth:3,charIndex:1616},{text:"HMR not working when use https?",id:"hmr-not-working-when-use-https?",depth:3,charIndex:2625}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/faq/hmr.md",_relativePath:"en/guide/faq/hmr.md"},{title:"All Features",routePath:"/builder/en/guide/features",lang:"en",toc:[{text:"JavaScript",id:"javascript",depth:2,charIndex:67},{text:"CSS",id:"css",depth:2,charIndex:2423},{text:"HTML",id:"html",depth:2,charIndex:3611},{text:"Development and Debugging",id:"development-and-debugging",depth:2,charIndex:4291},{text:"Frontend Framework",id:"frontend-framework",depth:2,charIndex:4635},{text:"Static Assets",id:"static-assets",depth:2,charIndex:5141},{text:"Performance",id:"performance",depth:2,charIndex:6033}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/features.mdx",_relativePath:"en/guide/features.mdx"},{title:"Glossary",routePath:"/builder/en/guide/glossary",lang:"en",toc:[{text:"Bundler",id:"bundler",depth:2,charIndex:3},{text:"Builder",id:"builder",depth:2,charIndex:359},{text:"Rspack",id:"rspack",depth:2,charIndex:824},{text:"Builder Provider",id:"builder-provider",depth:2,charIndex:1356},{text:"Modern.js",id:"modernjs",depth:2,charIndex:1644},{text:"EdenX",id:"edenx",depth:2,charIndex:1852}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/glossary.mdx",_relativePath:"en/guide/glossary.mdx"},{title:"Introduction",routePath:"/builder/en/guide/introduction",lang:"en",toc:[{text:"Rust Tools",id:"rust-tools",depth:2,charIndex:545},{text:"Position",id:"position",depth:2,charIndex:1488},{text:"Features",id:"features",depth:2,charIndex:2306},{text:"Support Rspack Build",id:"support-rspack-build",depth:3,charIndex:2318},{text:"Deep optimization",id:"deep-optimization",depth:3,charIndex:3560},{text:"Extensible Plugin System",id:"extensible-plugin-system",depth:3,charIndex:3984},{text:"npm packages",id:"npm-packages",depth:2,charIndex:4564},{text:"Next Step",id:"next-step",depth:2,charIndex:5697}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/introduction.mdx",_relativePath:"en/guide/introduction.mdx"},{title:"Improve Build Performance",routePath:"/builder/en/guide/optimization/build-performance",lang:"en",toc:[{text:"General optimization strategy",id:"general-optimization-strategy",depth:2,charIndex:408},{text:"Upgrade Node.js version",id:"upgrade-nodejs-version",depth:3,charIndex:609},{text:"Using Rspack build",id:"using-rspack-build",depth:3,charIndex:1271},{text:"Using SWC or esbuild",id:"using-swc-or-esbuild",depth:3,charIndex:1950},{text:"Avoid using ts-loader",id:"avoid-using-ts-loader",depth:3,charIndex:2907},{text:"Development optimization strategies",id:"development-optimization-strategies",depth:2,charIndex:3324},{text:"Enable Lazy Compilation",id:"enable-lazy-compilation",depth:3,charIndex:3451},{text:"Adjust Source Map format",id:"adjust-source-map-format",depth:3,charIndex:3827},{text:"Adjust Browserslist for development",id:"adjust-browserslist-for-development",depth:3,charIndex:4715},{text:"Production optimization strategies",id:"production-optimization-strategies",depth:2,charIndex:5527},{text:"Disable Source Map",id:"disable-source-map",depth:3,charIndex:5652}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/optimization/build-performance.mdx",_relativePath:"en/guide/optimization/build-performance.mdx"},{title:"Inline Static Assets",routePath:"/builder/en/guide/optimization/inline-assets",lang:"en",toc:[{text:"Automatic Inlining",id:"automatic-inlining",depth:2,charIndex:832},{text:"Force Inlining",id:"force-inlining",depth:2,charIndex:1460},{text:"Referenced from CSS file",id:"referenced-from-css-file",depth:3,charIndex:1938},{text:"Force no inlining",id:"force-no-inlining",depth:2,charIndex:2524},{text:"Referenced from CSS file",id:"referenced-from-css-file-1",depth:3,charIndex:3013},{text:"Inline JS files",id:"inline-js-files",depth:2,charIndex:3549},{text:"Inline CSS files",id:"inline-css-files",depth:2,charIndex:3951},{text:"Add Type Declaration",id:"add-type-declaration",depth:2,charIndex:4277}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/optimization/inline-assets.md",_relativePath:"en/guide/optimization/inline-assets.md"},{title:"Bundle Size Optimization",routePath:"/builder/en/guide/optimization/optimize-bundle",lang:"en",toc:[{text:"Reduce duplicate dependencies",id:"reduce-duplicate-dependencies",depth:2,charIndex:234},{text:"Use lightweight libraries",id:"use-lightweight-libraries",depth:2,charIndex:1013},{text:"Adjust Browserslist",id:"adjust-browserslist",depth:2,charIndex:1375},{text:"Usage polyfill",id:"usage-polyfill",depth:2,charIndex:2004},{text:"Image Compression",id:"image-compression",depth:2,charIndex:2453},{text:"Split Chunk",id:"split-chunk",depth:2,charIndex:2935}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/optimization/optimize-bundle.md",_relativePath:"en/guide/optimization/optimize-bundle.md"},{title:"Chunk Splitting Practice",routePath:"/builder/en/guide/optimization/split-chunk",lang:"en",toc:[{text:"Splitting Strategies",id:"splitting-strategies",depth:2,charIndex:453},{text:"split-by-experience",id:"split-by-experience",depth:3,charIndex:1069},{text:"Behavior",id:"behavior",depth:4,charIndex:1091},{text:"Config",id:"config",depth:4,charIndex:2114},{text:"Notes",id:"notes",depth:4,charIndex:2231},{text:"split-by-module",id:"split-by-module",depth:3,charIndex:2372},{text:"Behavior",id:"behavior-1",depth:4,charIndex:2390},{text:"Config",id:"config-1",depth:4,charIndex:2727},{text:"Notes",id:"notes-1",depth:4,charIndex:2840},{text:"all-in-one",id:"all-in-one",depth:3,charIndex:3230},{text:"Behavior",id:"behavior-2",depth:4,charIndex:3243},{text:"Config",id:"config-2",depth:4,charIndex:3336},{text:"Notes",id:"notes-2",depth:4,charIndex:3444},{text:"single-vendor",id:"single-vendor",depth:3,charIndex:3678},{text:"Behavior",id:"behavior-3",depth:4,charIndex:3694},{text:"Config",id:"config-3",depth:4,charIndex:3800},{text:"Notes",id:"notes-3",depth:4,charIndex:3911},{text:"split-by-size",id:"split-by-size",depth:3,charIndex:4030},{text:"Behavior",id:"behavior-4",depth:4,charIndex:4046},{text:"Config",id:"config-4",depth:4,charIndex:4188},{text:"Custom Splitting Strategy",id:"custom-splitting-strategy",depth:2,charIndex:4344},{text:"Custom Group",id:"custom-group",depth:3,charIndex:4835},{text:"Notes",id:"notes-4",depth:4,charIndex:5308},{text:"Custom Bundler splitChunks Config",id:"custom-bundler-splitchunks-config",depth:3,charIndex:-1}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/optimization/split-chunk.md",_relativePath:"en/guide/optimization/split-chunk.md"},{title:"Quick Start",routePath:"/builder/en/guide/quick-start",lang:"en",toc:[{text:"Environment preparation",id:"environment-preparation",depth:2,charIndex:3},{text:"Use the Modern.js Framework",id:"use-the-modernjs-framework",depth:2,charIndex:961},{text:"Usse the Builder CLI Tool",id:"usse-the-builder-cli-tool",depth:2,charIndex:1675},{text:"Use Builder in a Front-end Framework",id:"use-builder-in-a-front-end-framework",depth:2,charIndex:2083},{text:"1. Install Builder",id:"1-install-builder",depth:3,charIndex:2215},{text:"2. Create Builder Instance",id:"2-create-builder-instance",depth:3,charIndex:2887},{text:"3. Call Builder Instance Method",id:"3-call-builder-instance-method",depth:3,charIndex:3917},{text:"Next Step",id:"next-step",depth:2,charIndex:4861}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/guide/quick-start.mdx",_relativePath:"en/guide/quick-start.mdx"},{title:"",routePath:"/builder/en/",lang:"en",toc:[],frontmatter:{pageType:"home",hero:{name:"Modern.js Builder",tagline:"A Build Engine for web development.",actions:[{theme:"brand",text:"Introduction",link:"/en/guide/introduction.html"},{theme:"alt",text:"Quick Start",link:"/en/guide/quick-start.html"}]},features:[{title:"Rust Bundler",details:"Easily switch to Rspack bundler with faster build speed.",icon:"\uD83D\uDE80"},{title:"Deep optimization",details:"Automatically optimize static resources, ensure the performance of production app.",icon:"\uD83C\uDF6D"},{title:"Out of the box",details:"Base on the best practice at ByteDance, various capabilities are out-of-the-box.",icon:"\uD83D\uDCE6"},{title:"Easy to Configure",details:"Launch with zero configuration, then everything is configurable.",icon:"\uD83D\uDCD6"},{title:"Pluggable",details:"Comes with a lightweight plugin system to meet your customization needs.",icon:"\uD83C\uDFA8"},{title:"Multiple Outputs",details:"Supports building output for Node.js, Web Workers, and other environments.",icon:"✨"}]},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/index.md",_relativePath:"en/index.md"},{title:"Introduce to Plugin",routePath:"/builder/en/plugins/introduction",lang:"en",toc:[{text:"Write a plugin",id:"write-a-plugin",depth:2,charIndex:507},{text:"Lifetime Hooks",id:"lifetime-hooks",depth:2,charIndex:1502},{text:"Use Builder Config",id:"use-builder-config",depth:2,charIndex:1879},{text:"Modify webpack Config",id:"modify-webpack-config",depth:2,charIndex:4547},{text:"Examples",id:"examples",depth:2,charIndex:5059},{text:"Modify Loaders",id:"modify-loaders",depth:3,charIndex:5071},{text:"Add Entry Points",id:"add-entry-points",depth:3,charIndex:5541},{text:"Integrate webpack Plugins",id:"integrate-webpack-plugins",depth:3,charIndex:5796}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/plugins/introduction.md",_relativePath:"en/plugins/introduction.md"},{title:"Overview",routePath:"/builder/en/plugins/list",lang:"en",toc:[{text:"Official Plugins",id:"official-plugins",depth:2,charIndex:3}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/plugins/list.md",_relativePath:"en/plugins/list.md"},{title:"Esbuild Plugin",routePath:"/builder/en/plugins/plugin-esbuild",lang:"en",toc:[{text:"Quick Start",id:"quick-start",depth:2,charIndex:987},{text:"Used in Modern.js framework",id:"used-in-modernjs-framework",depth:3,charIndex:1002},{text:"Use via the Node API",id:"use-via-the-node-api",depth:3,charIndex:1397},{text:"Install",id:"install",depth:4,charIndex:1518},{text:"Register",id:"register",depth:4,charIndex:1749},{text:"Config",id:"config",depth:2,charIndex:1909},{text:"loader",id:"loader",depth:3,charIndex:2065},{text:"Set JSX Format",id:"set-jsx-format",depth:4,charIndex:2473},{text:"Set the target environment",id:"set-the-target-environment",depth:4,charIndex:2833},{text:"Disable transformation",id:"disable-transformation",depth:4,charIndex:3472},{text:"minimize",id:"minimize",depth:3,charIndex:3662},{text:"Set the target environment",id:"set-the-target-environment-1",depth:4,charIndex:4034},{text:"Disable minification",id:"disable-minification",depth:4,charIndex:4206},{text:"Limitations",id:"limitations",depth:2,charIndex:4394},{text:"Compatibility",id:"compatibility",depth:3,charIndex:4570},{text:"Not support Babel plugins",id:"not-support-babel-plugins",depth:3,charIndex:5898},{text:"Bundle Size",id:"bundle-size",depth:3,charIndex:6334}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/plugins/plugin-esbuild.mdx",_relativePath:"en/plugins/plugin-esbuild.mdx"},{title:"Image Compress Plugin",routePath:"/builder/en/plugins/plugin-image-compress",lang:"en",toc:[{text:"Quick Start",id:"quick-start",depth:2,charIndex:181},{text:"Install",id:"install",depth:3,charIndex:290},{text:"Register",id:"register",depth:3,charIndex:543},{text:"Config",id:"config",depth:2,charIndex:959}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/plugins/plugin-image-compress.mdx",_relativePath:"en/plugins/plugin-image-compress.mdx"},{title:"Node Polyfill Plugin",routePath:"/builder/en/plugins/plugin-node-polyfill",lang:"en",toc:[{text:"Quick Start",id:"quick-start",depth:2,charIndex:460},{text:"Used in Modern.js framework",id:"used-in-modernjs-framework",depth:3,charIndex:475},{text:"Use via the Node API",id:"use-via-the-node-api",depth:3,charIndex:794},{text:"Install",id:"install",depth:4,charIndex:915},{text:"Register",id:"register",depth:4,charIndex:1164},{text:"Node Polyfills",id:"node-polyfills",depth:2,charIndex:1335},{text:"Globals",id:"globals",depth:3,charIndex:1353},{text:"Modules",id:"modules",depth:3,charIndex:1533},{text:"Fallbacks",id:"fallbacks",depth:3,charIndex:2034}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/plugins/plugin-node-polyfill.mdx",_relativePath:"en/plugins/plugin-node-polyfill.mdx"},{title:"Stylus Plugin",routePath:"/builder/en/plugins/plugin-stylus",lang:"en",toc:[{text:"Quick Start",id:"quick-start",depth:2,charIndex:120},{text:"Install",id:"install",depth:3,charIndex:135},{text:"Register",id:"register",depth:3,charIndex:368},{text:"Example",id:"example",depth:2,charIndex:757},{text:"Config",id:"config",depth:2,charIndex:1094},{text:"stylusOptions",id:"stylusoptions",depth:3,charIndex:1201},{text:"sourceMap",id:"sourcemap",depth:3,charIndex:1573}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/plugins/plugin-stylus.mdx",_relativePath:"en/plugins/plugin-stylus.mdx"},{title:"SWC Plugin",routePath:"/builder/en/plugins/plugin-swc",lang:"en",toc:[{text:"Usage Scenarios",id:"usage-scenarios",depth:2,charIndex:358},{text:"Rspack Scenario",id:"rspack-scenario",depth:3,charIndex:533},{text:"Babel Plugins",id:"babel-plugins",depth:3,charIndex:792},{text:"Bundle Size",id:"bundle-size",depth:3,charIndex:1791},{text:"Quick Start",id:"quick-start",depth:2,charIndex:2114},{text:"Used in Modern.js framework",id:"used-in-modernjs-framework",depth:3,charIndex:2129},{text:"Use via the Node API",id:"use-via-the-node-api",depth:3,charIndex:2664},{text:"Install",id:"install",depth:4,charIndex:2792},{text:"Register",id:"register",depth:4,charIndex:3011},{text:"Config",id:"config",depth:2,charIndex:3244},{text:"presetReact",id:"presetreact",depth:3,charIndex:3454},{text:"presetEnv",id:"presetenv",depth:3,charIndex:3753},{text:"jsMinify",id:"jsminify",depth:3,charIndex:4026},{text:"cssMinify",id:"cssminify",depth:3,charIndex:4319},{text:"extensions",id:"extensions",depth:3,charIndex:4531},{text:"extensions.reactUtils",id:"extensionsreactutils",depth:4,charIndex:4594},{text:"extensions.lodash",id:"extensionslodash",depth:4,charIndex:5529},{text:"extensions.styledComponents",id:"extensionsstyledcomponents",depth:4,charIndex:5907},{text:"extensions.emotion",id:"extensionsemotion",depth:4,charIndex:6508},{text:"extensions.pluginImport",id:"extensionspluginimport",depth:4,charIndex:7682},{text:"Limitation",id:"limitation",depth:2,charIndex:9172}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/plugins/plugin-swc.mdx",_relativePath:"en/plugins/plugin-swc.mdx"},{title:"Vue Plugin",routePath:"/builder/en/plugins/plugin-vue",lang:"en",toc:[{text:"Quick Start",id:"quick-start",depth:2,charIndex:66},{text:"Install",id:"install",depth:3,charIndex:81},{text:"Register",id:"register",depth:3,charIndex:305},{text:"Config",id:"config",depth:2,charIndex:530},{text:"vueLoaderOptions",id:"vueloaderoptions",depth:3,charIndex:634},{text:"vueJsxOptions",id:"vuejsxoptions",depth:3,charIndex:1007}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/en/plugins/plugin-vue.mdx",_relativePath:"en/plugins/plugin-vue.mdx"},{title:"Builder Core",routePath:"/builder/api/builder-core",lang:"zh",toc:[{text:"createBuilder",id:"createbuilder",depth:2,charIndex:30},{text:"builderWebpackProvider",id:"builderwebpackprovider",depth:3,charIndex:190},{text:"builderRspackProvider",id:"builderrspackprovider",depth:3,charIndex:449},{text:"options",id:"options",depth:3,charIndex:704},{text:"mergeBuilderConfig",id:"mergebuilderconfig",depth:2,charIndex:1222},{text:"webpack",id:"webpack",depth:2,charIndex:1621},{text:"HtmlWebpackPlugin",id:"htmlwebpackplugin",depth:2,charIndex:1787}],frontmatter:{extractApiHeaders:[2]},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/api/builder-core.mdx",_relativePath:"zh/api/builder-core.mdx"},{title:"Builder Instance",routePath:"/builder/api/builder-instance",lang:"zh",toc:[{text:"builder.context",id:"buildercontext",depth:2,charIndex:34},{text:"builder.context.entry",id:"buildercontextentry",depth:3,charIndex:89},{text:"builder.context.target",id:"buildercontexttarget",depth:3,charIndex:193},{text:"builder.context.rootPath",id:"buildercontextrootpath",depth:3,charIndex:402},{text:"builder.context.srcPath",id:"buildercontextsrcpath",depth:3,charIndex:507},{text:"builder.context.distPath",id:"buildercontextdistpath",depth:3,charIndex:580},{text:"builder.context.cachePath",id:"buildercontextcachepath",depth:3,charIndex:702},{text:"builder.context.configPath",id:"buildercontextconfigpath",depth:3,charIndex:787},{text:"builder.context.tsconfigPath",id:"buildercontexttsconfigpath",depth:3,charIndex:916},{text:"builder.context.framework",id:"buildercontextframework",depth:3,charIndex:1059},{text:"builder.context.devServer",id:"buildercontextdevserver",depth:3,charIndex:1167},{text:"builder.context.bundlerType",id:"buildercontextbundlertype",depth:3,charIndex:1314},{text:"builder.build",id:"builderbuild",depth:2,charIndex:1411},{text:"开发环境构建",id:"开发环境构建",depth:3,charIndex:1694},{text:"监听文件变化",id:"监听文件变化",depth:3,charIndex:1801},{text:"自定义 Compiler",id:"自定义-compiler",depth:3,charIndex:1897},{text:"builder.startDevServer",id:"builderstartdevserver",depth:2,charIndex:2022},{text:"自定义 URL 输出",id:"自定义-url-输出",depth:3,charIndex:3053},{text:"严格限制端口",id:"严格限制端口",depth:3,charIndex:3388},{text:"自定义 Compiler",id:"自定义-compiler-1",depth:3,charIndex:3536},{text:"builder.serve",id:"builderserve",depth:2,charIndex:3670},{text:"builder.createCompiler",id:"buildercreatecompiler",depth:2,charIndex:4184},{text:"builder.addPlugins",id:"builderaddplugins",depth:2,charIndex:4471},{text:"builder.removePlugins",id:"builderremoveplugins",depth:2,charIndex:4961},{text:"builder.isPluginExists",id:"builderispluginexists",depth:2,charIndex:5256},{text:"builder.inspectConfig",id:"builderinspectconfig",depth:2,charIndex:5475},{text:"builder.onBeforeCreateCompiler",id:"builderonbeforecreatecompiler",depth:2,charIndex:6394},{text:"builder.onAfterCreateCompiler",id:"builderonaftercreatecompiler",depth:2,charIndex:6850},{text:"builder.onBeforeBuild",id:"builderonbeforebuild",depth:2,charIndex:7264},{text:"builder.onAfterBuild",id:"builderonafterbuild",depth:2,charIndex:7611},{text:"builder.onBeforeStartDevServer",id:"builderonbeforestartdevserver",depth:2,charIndex:7875},{text:"builder.onAfterStartDevServer",id:"builderonafterstartdevserver",depth:2,charIndex:8092},{text:"builder.onDevCompileDone",id:"builderondevcompiledone",depth:2,charIndex:8377},{text:"builder.onExit",id:"builderonexit",depth:2,charIndex:8743},{text:"builder.getBuilderConfig",id:"buildergetbuilderconfig",depth:2,charIndex:8906},{text:"builder.getNormalizedConfig",id:"buildergetnormalizedconfig",depth:2,charIndex:9162},{text:"builder.getHTMLPaths",id:"buildergethtmlpaths",depth:2,charIndex:9537}],frontmatter:{extractApiHeaders:[2]},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/api/builder-instance.mdx",_relativePath:"zh/api/builder-instance.mdx"},{title:"Builder Types",routePath:"/builder/api/builder-types",lang:"zh",toc:[{text:"BuilderInstance",id:"builderinstance",depth:2,charIndex:30},{text:"BuilderContext",id:"buildercontext",depth:2,charIndex:183},{text:"BuilderPlugin",id:"builderplugin",depth:2,charIndex:284},{text:"BuilderTarget",id:"buildertarget",depth:2,charIndex:436},{text:"BuilderEntry",id:"builderentry",depth:2,charIndex:474},{text:"CreateBuilderOptions",id:"createbuilderoptions",depth:2,charIndex:528}],frontmatter:{extractApiHeaders:[2]},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/api/builder-types.mdx",_relativePath:"zh/api/builder-types.mdx"},{title:"Dev Config",routePath:"/builder/api/config-dev",lang:"zh",toc:[{text:"dev.assetPrefix",id:"devassetprefix",depth:2,charIndex:32},{text:"Boolean 类型",id:"boolean-类型",depth:3,charIndex:297},{text:"String 类型",id:"string-类型",depth:3,charIndex:514},{text:"dev.beforeStartUrl",id:"devbeforestarturl",depth:2,charIndex:694},{text:"dev.hmr",id:"devhmr",depth:2,charIndex:959},{text:"dev.host",id:"devhost",depth:2,charIndex:1134},{text:"dev.https",id:"devhttps",depth:2,charIndex:1366},{text:"自动生成证书",id:"自动生成证书",depth:4,charIndex:1662},{text:"手动设置证书",id:"手动设置证书",depth:4,charIndex:2176},{text:"dev.port",id:"devport",depth:2,charIndex:2476},{text:"示例",id:"示例",depth:3,charIndex:2586},{text:"dev.progressBar",id:"devprogressbar",depth:2,charIndex:2658},{text:"dev.startUrl",id:"devstarturl",depth:2,charIndex:2957},{text:"端口号占位符",id:"端口号占位符",depth:3,charIndex:3371}],frontmatter:{extractApiHeaders:[2]},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/api/config-dev.mdx",_relativePath:"zh/api/config-dev.mdx"},{title:"Experiments Config",routePath:"/builder/api/config-experiments",lang:"zh",toc:[{text:"experiments.lazyCompilation",id:"experimentslazycompilation",depth:2,charIndex:109},{text:"延迟编译异步模块",id:"延迟编译异步模块",depth:3,charIndex:411},{text:"延迟编译入口模块",id:"延迟编译入口模块",depth:3,charIndex:667},{text:"局限性",id:"局限性",depth:3,charIndex:1068},{text:"禁用拆包规则",id:"禁用拆包规则",depth:4,charIndex:1074},{text:"使用代理",id:"使用代理",depth:4,charIndex:1167}],frontmatter:{extractApiHeaders:[2]},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/api/config-experiments.mdx",_relativePath:"zh/api/config-experiments.mdx"},{title:"Html Config",routePath:"/builder/api/config-html",lang:"zh",toc:[{text:"html.appIcon",id:"htmlappicon",depth:2,charIndex:34},{text:"示例",id:"示例",depth:3,charIndex:228},{text:"html.crossorigin",id:"htmlcrossorigin",depth:2,charIndex:458},{text:"示例",id:"示例-1",depth:3,charIndex:-1},{text:"可选值",id:"可选值",depth:3,charIndex:-1},{text:"html.disableHtmlFolder",id:"htmldisablehtmlfolder",depth:2,charIndex:-1},{text:"示例",id:"示例-2",depth:3,charIndex:228},{text:"html.favicon",id:"htmlfavicon",depth:2,charIndex:-1},{text:"示例",id:"示例-3",depth:3,charIndex:-1},{text:"html.faviconByEntries",id:"htmlfaviconbyentries",depth:2,charIndex:-1},{text:"示例",id:"示例-4",depth:3,charIndex:228},{text:"html.inject",id:"htmlinject",depth:2,charIndex:-1},{text:"默认插入位置",id:"默认插入位置",depth:4,charIndex:-1},{text:"插入至 body 标签",id:"插入至-body-标签",depth:4,charIndex:-1},{text:"html.injectByEntries",id:"htmlinjectbyentries",depth:2,charIndex:-1},{text:"示例",id:"示例-5",depth:3,charIndex:-1},{text:"html.meta",id:"htmlmeta",depth:2,charIndex:-1},{text:"String 类型",id:"string-类型",depth:3,charIndex:-1},{text:"Object 类型",id:"object-类型",depth:3,charIndex:-1},{text:"移除默认值",id:"移除默认值",depth:3,charIndex:-1},{text:"html.metaByEntries",id:"htmlmetabyentries",depth:2,charIndex:-1},{text:"示例",id:"示例-6",depth:3,charIndex:228},{text:"html.mountId",id:"htmlmountid",depth:2,charIndex:-1},{text:"示例",id:"示例-7",depth:3,charIndex:-1},{text:"注意事项",id:"注意事项",depth:3,charIndex:-1},{text:"更新相关代码",id:"更新相关代码",depth:4,charIndex:-1},{text:"自定义模板",id:"自定义模板",depth:4,charIndex:-1},{text:"html.scriptLoading",id:"htmlscriptloading",depth:2,charIndex:-1},{text:"defer",id:"defer",depth:3,charIndex:-1},{text:"blocking",id:"blocking",depth:3,charIndex:-1},{text:"module",id:"module",depth:3,charIndex:-1},{text:"html.tags",id:"htmltags",depth:2,charIndex:-1},{text:"对象形式",id:"对象形式",depth:4,charIndex:-1},{text:"函数形式",id:"函数形式",depth:4,charIndex:-1},{text:"限制",id:"限制",depth:4,charIndex:-1},{text:"html.tagsByEntries",id:"htmltagsbyentries",depth:2,charIndex:-1},{text:"示例",id:"示例-8",depth:3,charIndex:228},{text:"html.template",id:"htmltemplate",depth:2,charIndex:-1},{text:"示例",id:"示例-9",depth:3,charIndex:-1},{text:"html.templateByEntries",id:"htmltemplatebyentries",depth:2,charIndex:-1},{text:"示例",id:"示例-10",depth:3,charIndex:228},{text:"html.templateParameters",id:"htmltemplateparameters",depth:2,charIndex:-1},{text:"示例",id:"示例-11",depth:3,charIndex:-1},{text:"html.templateParametersByEntries",id:"htmltemplateparametersbyentries",depth:2,charIndex:-1},{text:"示例",id:"示例-12",depth:3,charIndex:228},{text:"html.title",id:"htmltitle",depth:2,charIndex:-1},{text:"html.titleByEntries",id:"htmltitlebyentries",depth:2,charIndex:-1},{text:"示例",id:"示例-13",depth:3,charIndex:-1}],frontmatter:{extractApiHeaders:[2]},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/api/config-html.mdx",_relativePath:"zh/api/config-html.mdx"},{title:"Output Config",routePath:"/builder/api/config-output",lang:"zh",toc:[{text:"output.assetPrefix",id:"outputassetprefix",depth:2,charIndex:-1},{text:"示例",id:"示例",depth:3,charIndex:-1},{text:"output.assetsRetry",id:"outputassetsretry",depth:2,charIndex:-1},{text:"assetsRetry.domain",id:"assetsretrydomain",depth:3,charIndex:-1},{text:"assetsRetry.type",id:"assetsretrytype",depth:3,charIndex:-1},{text:"assetsRetry.max",id:"assetsretrymax",depth:3,charIndex:-1},{text:"assetsRetry.test",id:"assetsretrytest",depth:3,charIndex:-1},{text:"assetsRetry.crossOrigin",id:"assetsretrycrossorigin",depth:3,charIndex:-1},{text:"assetsRetry.onRetry",id:"assetsretryonretry",depth:3,charIndex:-1},{text:"assetsRetry.onSuccess",id:"assetsretryonsuccess",depth:3,charIndex:-1},{text:"assetsRetry.onFail",id:"assetsretryonfail",depth:3,charIndex:-1},{text:"assetsRetry.inlineScript",id:"assetsretryinlinescript",depth:3,charIndex:-1},{text:"注意事项",id:"注意事项",depth:3,charIndex:-1},{text:"output.charset",id:"outputcharset",depth:2,charIndex:-1},{text:"output.cleanDistPath",id:"outputcleandistpath",depth:2,charIndex:-1},{text:"output.convertToRem",id:"outputconverttorem",depth:2,charIndex:-1},{text:"Boolean 类型",id:"boolean-类型",depth:3,charIndex:-1},{text:"Object 类型",id:"object-类型",depth:3,charIndex:-1},{text:"示例",id:"示例-1",depth:3,charIndex:-1},{text:"output.copy",id:"outputcopy",depth:2,charIndex:-1},{text:"output.cssModules",id:"outputcssmodules",depth:2,charIndex:-1},{text:"output.cssModuleLocalIdentName",id:"outputcssmodulelocalidentname",depth:2,charIndex:-1},{text:"默认值",id:"默认值",depth:3,charIndex:-1},{text:"模板字符串",id:"模板字符串",depth:3,charIndex:-1},{text:"示例",id:"示例-2",depth:3,charIndex:-1},{text:"output.dataUriLimit",id:"outputdataurilimit",depth:2,charIndex:-1},{text:"示例",id:"示例-3",depth:3,charIndex:-1},{text:"output.disableCssExtract",id:"outputdisablecssextract",depth:2,charIndex:-1},{text:"示例",id:"示例-4",depth:3,charIndex:-1},{text:"output.disableCssModuleExtension",id:"outputdisablecssmoduleextension",depth:2,charIndex:-1},{text:"示例",id:"示例-5",depth:3,charIndex:-1},{text:"规则",id:"规则",depth:3,charIndex:-1},{text:"未开启 disableCssModuleExtension（默认）",id:"未开启-disablecssmoduleextension（默认）",depth:4,charIndex:-1},{text:"开启 disableCssModuleExtension",id:"开启-disablecssmoduleextension",depth:4,charIndex:-1},{text:"output.distPath",id:"outputdistpath",depth:2,charIndex:-1},{text:"示例",id:"示例-6",depth:3,charIndex:-1},{text:"output.disableMinimize",id:"outputdisableminimize",depth:2,charIndex:-1},{text:"output.disableSourceMap",id:"outputdisablesourcemap",depth:2,charIndex:-1},{text:"output.disableSvgr",id:"outputdisablesvgr",depth:2,charIndex:-1},{text:"output.disableTsChecker",id:"outputdisabletschecker",depth:2,charIndex:-1},{text:"阻塞编译",id:"阻塞编译",depth:3,charIndex:-1},{text:"示例",id:"示例-7",depth:3,charIndex:-1},{text:"output.disableFilenameHash",id:"outputdisablefilenamehash",depth:2,charIndex:-1},{text:"示例",id:"示例-8",depth:3,charIndex:-1},{text:"output.disableInlineRuntimeChunk",id:"outputdisableinlineruntimechunk",depth:2,charIndex:-1},{text:"禁用内联",id:"禁用内联",depth:3,charIndex:-1},{text:"合并到页面文件中",id:"合并到页面文件中",depth:3,charIndex:-1},{text:"output.enableAssetManifest",id:"outputenableassetmanifest",depth:2,charIndex:-1},{text:"示例",id:"示例-9",depth:3,charIndex:-1},{text:"output.enableAssetFallback",id:"outputenableassetfallback",depth:2,charIndex:-1},{text:"示例",id:"示例-10",depth:3,charIndex:-1},{text:"output.enableLatestDecorators",id:"outputenablelatestdecorators",depth:2,charIndex:-1},{text:"output.enableCssModuleTSDeclaration",id:"outputenablecssmoduletsdeclaration",depth:2,charIndex:-1},{text:"Example",id:"example",depth:3,charIndex:-1},{text:"output.enableInlineScripts",id:"outputenableinlinescripts",depth:2,charIndex:-1},{text:"示例",id:"示例-11",depth:3,charIndex:-1},{text:"通过正则匹配",id:"通过正则匹配",depth:3,charIndex:-1},{text:"output.enableInlineStyles",id:"outputenableinlinestyles",depth:2,charIndex:-1},{text:"示例",id:"示例-12",depth:3,charIndex:-1},{text:"通过正则匹配",id:"通过正则匹配-1",depth:3,charIndex:-1},{text:"output.externals",id:"outputexternals",depth:2,charIndex:-1},{text:"示例",id:"示例-13",depth:3,charIndex:-1},{text:"output.filename",id:"outputfilename",depth:2,charIndex:-1},{text:"示例",id:"示例-14",depth:3,charIndex:-1},{text:"异步模块的文件名",id:"异步模块的文件名",depth:3,charIndex:-1},{text:"output.legalComments",id:"outputlegalcomments",depth:2,charIndex:-1},{text:"示例",id:"示例-15",depth:3,charIndex:-1},{text:"output.overrideBrowserslist",id:"outputoverridebrowserslist",depth:2,charIndex:-1},{text:"优先级",id:"优先级",depth:4,charIndex:-1},{text:"默认值",id:"默认值-1",depth:4,charIndex:-1},{text:"示例",id:"示例-16",depth:3,charIndex:-1},{text:"根据产物类型设置",id:"根据产物类型设置",depth:4,charIndex:-1},{text:"output.polyfill",id:"outputpolyfill",depth:2,charIndex:-1},{text:"配置项",id:"配置项",depth:3,charIndex:-1},{text:"entry",id:"entry",depth:4,charIndex:-1},{text:"usage",id:"usage",depth:4,charIndex:-1},{text:"ua",id:"ua",depth:4,charIndex:-1},{text:"off",id:"off",depth:4,charIndex:-1},{text:"output.svgDefaultExport",id:"outputsvgdefaultexport",depth:2,charIndex:-1}],frontmatter:{extractApiHeaders:[2]},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/api/config-output.mdx",_relativePath:"zh/api/config-output.mdx"},{title:"Performance Config",routePath:"/builder/api/config-performance",lang:"zh",toc:[{text:"performance.buildCache",id:"performancebuildcache",depth:2,charIndex:30},{text:"performance.bundleAnalyze",id:"performancebundleanalyze",depth:2,charIndex:688},{text:"启用 Bundle Analyze",id:"启用-bundle-analyze",depth:3,charIndex:1004},{text:"覆盖默认配置",id:"覆盖默认配置",depth:3,charIndex:1436},{text:"Size 类型",id:"size-类型",depth:3,charIndex:1689},{text:"生成 stats.json",id:"生成-statsjson",depth:3,charIndex:1890},{text:"注意事项",id:"注意事项",depth:3,charIndex:2060},{text:"performance.chunkSplit",id:"performancechunksplit",depth:2,charIndex:2252},{text:"chunkSplit.strategy",id:"chunksplitstrategy",depth:3,charIndex:2985},{text:"默认拆包策略",id:"默认拆包策略",depth:3,charIndex:3287},{text:"chunkSplit.minSize",id:"chunksplitminsize",depth:3,charIndex:3861},{text:"chunkSplit.maxSize",id:"chunksplitmaxsize",depth:3,charIndex:4165},{text:"chunkSplit.forceSplitting",id:"chunksplitforcesplitting",depth:3,charIndex:4475},{text:"chunkSplit.splitChunks",id:"chunksplitsplitchunks",depth:3,charIndex:-1},{text:"chunkSplit.override",id:"chunksplitoverride",depth:3,charIndex:-1},{text:"performance.printFileSize",id:"performanceprintfilesize",depth:2,charIndex:-1},{text:"示例",id:"示例",depth:3,charIndex:-1},{text:"performance.profile",id:"performanceprofile",depth:2,charIndex:-1},{text:"示例",id:"示例-1",depth:3,charIndex:-1},{text:"performance.removeConsole",id:"performanceremoveconsole",depth:2,charIndex:-1},{text:"移除所有 console",id:"移除所有-console",depth:4,charIndex:-1},{text:"移除特定的 console",id:"移除特定的-console",depth:4,charIndex:-1},{text:"performance.removeMomentLocale",id:"performanceremovemomentlocale",depth:2,charIndex:-1}],frontmatter:{extractApiHeaders:[2]},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/api/config-performance.mdx",_relativePath:"zh/api/config-performance.mdx"},{title:"Security Config",routePath:"/builder/api/config-security",lang:"zh",toc:[{text:"security.sri",id:"securitysri",depth:2,charIndex:30},{text:"SRI 介绍",id:"sri-介绍",depth:4,charIndex:373},{text:"示例",id:"示例",depth:3,charIndex:610},{text:"security.checkSyntax",id:"securitychecksyntax",depth:2,charIndex:886},{text:"示例",id:"示例-1",depth:3,charIndex:1083},{text:"错误日志",id:"错误日志",depth:3,charIndex:1327},{text:"解决方法",id:"解决方法",depth:3,charIndex:1647}],frontmatter:{extractApiHeaders:[2]},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/api/config-security.mdx",_relativePath:"zh/api/config-security.mdx"},{title:"Source Config",routePath:"/builder/api/config-source",lang:"zh",toc:[{text:"source.alias",id:"sourcealias",depth:2,charIndex:38},{text:"Object 类型",id:"object-类型",depth:3,charIndex:264},{text:"Function 类型",id:"function-类型",depth:3,charIndex:489},{text:"精确匹配",id:"精确匹配",depth:3,charIndex:824},{text:"source.alias",id:"sourcealias-1",depth:2,charIndex:1087},{text:"编译 npm 包",id:"编译-npm-包",depth:3,charIndex:1742},{text:"编译 npm 包的子依赖",id:"编译-npm-包的子依赖",depth:3,charIndex:2192},{text:"编译 Monorepo 中的其他库",id:"编译-monorepo-中的其他库",depth:3,charIndex:2488},{text:"编译 CommonJS 模块",id:"编译-commonjs-模块",depth:3,charIndex:2897},{text:"匹配 Symlink",id:"匹配-symlink",depth:3,charIndex:3247},{text:"注意事项",id:"注意事项",depth:3,charIndex:3491},{text:"source.exclude",id:"sourceexclude",depth:2,charIndex:3770},{text:"source.compileJsDataURI",id:"sourcecompilejsdatauri",depth:2,charIndex:4108},{text:"示例",id:"示例",depth:3,charIndex:4352},{text:"source.define",id:"sourcedefine",depth:2,charIndex:4438},{text:"示例",id:"示例-1",depth:3,charIndex:4807},{text:"source.globalVars",id:"sourceglobalvars",depth:2,charIndex:5250},{text:"示例",id:"示例-2",depth:3,charIndex:5581},{text:"函数用法",id:"函数用法",depth:3,charIndex:5857},{text:"与 define 的区别",id:"与-define-的区别",depth:3,charIndex:6199},{text:"注意事项",id:"注意事项-1",depth:3,charIndex:6731},{text:"source.moduleScopes",id:"sourcemodulescopes",depth:2,charIndex:6969},{text:"示例",id:"示例-3",depth:3,charIndex:7115},{text:"Array 类型",id:"array-类型",depth:3,charIndex:7401},{text:"Function 类型",id:"function-类型-1",depth:3,charIndex:7558},{text:"source.transformImport",id:"sourcetransformimport",depth:2,charIndex:7719},{text:"示例",id:"示例-4",depth:3,charIndex:8963},{text:"禁用默认配置",id:"禁用默认配置",depth:3,charIndex:9208},{text:"配置",id:"配置",depth:3,charIndex:9480},{text:"libraryName",id:"libraryname",depth:4,charIndex:9485},{text:"libraryDirectory",id:"librarydirectory",depth:4,charIndex:9578},{text:"style",id:"style",depth:4,charIndex:9724},{text:"styleLibraryDirectory",id:"stylelibrarydirectory",depth:4,charIndex:9935},{text:"camelToDashComponentName",id:"cameltodashcomponentname",depth:4,charIndex:10151},{text:"transformToDefaultImport",id:"transformtodefaultimport",depth:4,charIndex:10289},{text:"customName",id:"customname",depth:4,charIndex:10408},{text:"customStyleName",id:"customstylename",depth:4,charIndex:10876},{text:"source.preEntry",id:"sourcepreentry",depth:2,charIndex:11352},{text:"添加单个脚本",id:"添加单个脚本",depth:4,charIndex:11489},{text:"添加全局样式",id:"添加全局样式",depth:4,charIndex:11745},{text:"添加多个脚本",id:"添加多个脚本",depth:4,charIndex:11906},{text:"source.resolveExtensionPrefix",id:"sourceresolveextensionprefix",depth:2,charIndex:12057},{text:"示例",id:"示例-5",depth:3,charIndex:12248},{text:"根据产物类型设置",id:"根据产物类型设置",depth:4,charIndex:12554},{text:"source.resolveMainFields",id:"sourceresolvemainfields",depth:2,charIndex:12938},{text:"示例",id:"示例-6",depth:3,charIndex:13150},{text:"根据产物类型设置",id:"根据产物类型设置-1",depth:4,charIndex:13249},{text:"处理 npm 包",id:"处理-npm-包",depth:3,charIndex:13671},{text:"source.include",id:"sourceinclude",depth:2,charIndex:14068},{text:"source.exclude",id:"sourceexclude-1",depth:2,charIndex:14086},{text:"source.compileJsDataURI",id:"sourcecompilejsdatauri-1",depth:2,charIndex:14104},{text:"source.define",id:"sourcedefine-1",depth:2,charIndex:14131},{text:"source.globalVars",id:"sourceglobalvars-1",depth:2,charIndex:14148},{text:"source.moduleScopes",id:"sourcemodulescopes-1",depth:2,charIndex:14169},{text:"source.transformImport",id:"sourcetransformimport-1",depth:2,charIndex:14192},{text:"source.preEntry",id:"sourcepreentry-1",depth:2,charIndex:14218},{text:"source.resolveExtensionPrefix",id:"sourceresolveextensionprefix-1",depth:2,charIndex:14237},{text:"source.resolveMainFields",id:"sourceresolvemainfields-1",depth:2,charIndex:-1}],frontmatter:{extractApiHeaders:[2]},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/api/config-source.mdx",_relativePath:"zh/api/config-source.mdx"},{title:"Tools Config",routePath:"/builder/api/config-tools",lang:"zh",toc:[{text:"tools.autoprefixer",id:"toolsautoprefixer",depth:2,charIndex:32},{text:"Object 类型",id:"object-类型",depth:3,charIndex:290},{text:"Function 类型",id:"function-类型",depth:3,charIndex:461},{text:"tools.babel",id:"toolsbabel",depth:2,charIndex:687},{text:"使用场景",id:"使用场景",depth:3,charIndex:786},{text:"Function 类型",id:"function-类型-1",depth:3,charIndex:1053},{text:"Object 类型",id:"object-类型-1",depth:3,charIndex:1591},{text:"工具函数",id:"工具函数",depth:3,charIndex:2035},{text:"addPlugins",id:"addplugins",depth:4,charIndex:2086},{text:"addPresets",id:"addpresets",depth:4,charIndex:2450},{text:"removePlugins",id:"removeplugins",depth:4,charIndex:2661},{text:"removePresets",id:"removepresets",depth:4,charIndex:2902},{text:"addIncludes",id:"addincludes",depth:4,charIndex:3143},{text:"addExcludes",id:"addexcludes",depth:4,charIndex:3572},{text:"modifyPresetEnvOptions",id:"modifypresetenvoptions",depth:4,charIndex:3973},{text:"modifyPresetReactOptions",id:"modifypresetreactoptions",depth:4,charIndex:4296},{text:"调试 Babel 配置",id:"调试-babel-配置",depth:3,charIndex:4598},{text:"tools.bundlerChain",id:"toolsbundlerchain",depth:2,charIndex:4866},{text:"工具集合",id:"工具集合",depth:3,charIndex:5518},{text:"env",id:"env",depth:4,charIndex:5525},{text:"isProd",id:"isprod",depth:4,charIndex:5815},{text:"target",id:"target",depth:4,charIndex:6033},{text:"isServer",id:"isserver",depth:4,charIndex:6271},{text:"isWebWorker",id:"iswebworker",depth:4,charIndex:6480},{text:"HtmlPlugin",id:"htmlplugin",depth:3,charIndex:6711},{text:"CHAIN_ID",id:"chain_id",depth:4,charIndex:6972},{text:"CHAIN_ID.ONE_OF",id:"chain_idone_of",depth:3,charIndex:7246},{text:"CHAIN_ID.USE",id:"chain_iduse",depth:3,charIndex:7525},{text:"CHAIN_ID.PLUGIN",id:"chain_idplugin",depth:3,charIndex:7767},{text:"常用 BundlerChain 使用示例",id:"常用-bundlerchain-使用示例",depth:3,charIndex:8299},{text:"tools.cssExtract",id:"toolscssextract",depth:2,charIndex:8366},{text:"Object 类型",id:"object-类型-2",depth:3,charIndex:8796},{text:"Function 类型",id:"function-类型-2",depth:3,charIndex:9009},{text:"tools.cssLoader",id:"toolscssloader",depth:2,charIndex:9298},{text:"Object 类型",id:"object-类型-3",depth:3,charIndex:9859},{text:"Function 类型",id:"function-类型-3",depth:3,charIndex:10039},{text:"tools.devServer",id:"toolsdevserver",depth:2,charIndex:10258},{text:"选项",id:"选项",depth:3,charIndex:10339},{text:"after",id:"after",depth:4,charIndex:10344},{text:"before",id:"before",depth:4,charIndex:10978},{text:"client",id:"client",depth:4,charIndex:11237},{text:"compress",id:"compress",depth:4,charIndex:11757},{text:"devMiddleware",id:"devmiddleware",depth:4,charIndex:11943},{text:"headers",id:"headers",depth:4,charIndex:12167},{text:"historyApiFallback",id:"historyapifallback",depth:4,charIndex:12340},{text:"hot",id:"hot",depth:4,charIndex:12635},{text:"https",id:"https",depth:4,charIndex:12706},{text:"liveReload",id:"livereload",depth:4,charIndex:13100},{text:"setupMiddlewares",id:"setupmiddlewares",depth:4,charIndex:13261},{text:"proxy",id:"proxy",depth:4,charIndex:14428},{text:"watch",id:"watch",depth:4,charIndex:16175},{text:"tools.htmlPlugin",id:"toolshtmlplugin",depth:2,charIndex:16248},{text:"Object 类型",id:"object-类型-4",depth:3,charIndex:16895},{text:"Function 类型",id:"function-类型-4",depth:3,charIndex:17066},{text:"Boolean 类型",id:"boolean-类型",depth:3,charIndex:17399},{text:"tools.inspector",id:"toolsinspector",depth:2,charIndex:17536},{text:"Object 类型",id:"object-类型-5",depth:3,charIndex:17784},{text:"Function 类型",id:"function-类型-5",depth:3,charIndex:17961},{text:"tools.less",id:"toolsless",depth:2,charIndex:18164},{text:"Object 类型",id:"object-类型-6",depth:3,charIndex:18384},{text:"Function 类型",id:"function-类型-6",depth:3,charIndex:18618},{text:"工具函数",id:"工具函数-1",depth:3,charIndex:18888},{text:"addExcludes",id:"addexcludes-1",depth:4,charIndex:18895},{text:"tools.minifyCss",id:"toolsminifycss",depth:2,charIndex:19132},{text:"Object 类型",id:"object-类型-7",depth:3,charIndex:19485},{text:"Function 类型",id:"function-类型-7",depth:3,charIndex:19743},{text:"tools.postcss",id:"toolspostcss",depth:2,charIndex:20009},{text:"Function 类型",id:"function-类型-8",depth:3,charIndex:20597},{text:"Object 类型",id:"object-类型-8",depth:3,charIndex:21413},{text:"工具函数",id:"工具函数-2",depth:3,charIndex:21724},{text:"addPlugins",id:"addplugins-1",depth:4,charIndex:21731},{text:"tools.pug",id:"toolspug",depth:2,charIndex:22204},{text:"Boolean 类型",id:"boolean-类型-1",depth:3,charIndex:22290},{text:"Object 类型",id:"object-类型-9",depth:3,charIndex:22459},{text:"Function 类型",id:"function-类型-9",depth:3,charIndex:22627},{text:"tools.sass",id:"toolssass",depth:2,charIndex:22806},{text:"Object 类型",id:"object-类型-10",depth:3,charIndex:22975},{text:"Function 类型",id:"function-类型-10",depth:3,charIndex:23168},{text:"工具函数",id:"工具函数-3",depth:3,charIndex:23454},{text:"addExcludes",id:"addexcludes-2",depth:4,charIndex:23461},{text:"tools.styleLoader",id:"toolsstyleloader",depth:2,charIndex:23698},{text:"Object 类型",id:"object-类型-11",depth:3,charIndex:23878},{text:"Function 类型",id:"function-类型-11",depth:3,charIndex:24023},{text:"tools.styledComponents",id:"toolsstyledcomponents",depth:2,charIndex:24228},{text:"tools.terser",id:"toolsterser",depth:2,charIndex:24807},{text:"Object 类型",id:"object-类型-12",depth:3,charIndex:25108},{text:"Function 类型",id:"function-类型-12",depth:3,charIndex:25292},{text:"tools.tsLoader",id:"toolstsloader",depth:2,charIndex:25537},{text:"Object 类型",id:"object-类型-13",depth:3,charIndex:25734},{text:"Function 类型",id:"function-类型-13",depth:3,charIndex:26063},{text:"工具函数",id:"工具函数-4",depth:3,charIndex:26276},{text:"addIncludes",id:"addincludes-1",depth:4,charIndex:26332},{text:"addExcludes",id:"addexcludes-3",depth:4,charIndex:26613},{text:"tools.tsChecker",id:"toolstschecker",depth:2,charIndex:26878},{text:"Object 类型",id:"object-类型-14",depth:3,charIndex:27601},{text:"Function 类型",id:"function-类型-14",depth:3,charIndex:27657},{text:"tools.webpack",id:"toolswebpack",depth:2,charIndex:27734},{text:"Object 类型",id:"object-类型-15",depth:3,charIndex:27938},{text:"Function 类型",id:"function-类型-15",depth:3,charIndex:28191},{text:"工具集合",id:"工具集合-1",depth:3,charIndex:28502},{text:"env",id:"env-1",depth:4,charIndex:28545},{text:"isProd",id:"isprod-1",depth:4,charIndex:28854},{text:"target",id:"target-1",depth:4,charIndex:29091},{text:"isServer",id:"isserver-1",depth:4,charIndex:29346},{text:"isWebWorker",id:"iswebworker-1",depth:4,charIndex:29572},{text:"webpack",id:"webpack",depth:4,charIndex:29819},{text:"HtmlWebpackPlugin",id:"htmlwebpackplugin",depth:4,charIndex:30053},{text:"addRules",id:"addrules",depth:4,charIndex:30290},{text:"prependPlugins",id:"prependplugins",depth:4,charIndex:30819},{text:"appendPlugins",id:"appendplugins",depth:4,charIndex:31257},{text:"removePlugin",id:"removeplugin",depth:4,charIndex:31694},{text:"mergeConfig",id:"mergeconfig",depth:4,charIndex:31966},{text:"getCompiledPath",id:"getcompiledpath",depth:4,charIndex:32232},{text:"tools.webpackChain",id:"toolswebpackchain",depth:2,charIndex:32340},{text:"工具集合",id:"工具集合-2",depth:3,charIndex:32799},{text:"env",id:"env-2",depth:4,charIndex:32806},{text:"isProd",id:"isprod-2",depth:4,charIndex:33096},{text:"target",id:"target-2",depth:4,charIndex:33314},{text:"isServer",id:"isserver-2",depth:4,charIndex:33552},{text:"isWebWorker",id:"iswebworker-2",depth:4,charIndex:33761},{text:"webpack",id:"webpack-1",depth:4,charIndex:33991},{text:"HtmlWebpackPlugin",id:"htmlwebpackplugin-1",depth:4,charIndex:34214},{text:"getCompiledPath",id:"getcompiledpath-1",depth:4,charIndex:34451},{text:"CHAIN_ID",id:"chain_id-1",depth:4,charIndex:34903},{text:"CHAIN_ID.ONE_OF",id:"chain_idone_of-1",depth:3,charIndex:35344},{text:"CHAIN_ID.USE",id:"chain_iduse-1",depth:3,charIndex:35623},{text:"CHAIN_ID.PLUGIN",id:"chain_idplugin-1",depth:3,charIndex:36383},{text:"CHAIN_ID.MINIMIZER",id:"chain_idminimizer",depth:3,charIndex:37811},{text:"常用 WebpackChain 使用示例",id:"常用-webpackchain-使用示例",depth:3,charIndex:38058},{text:"新增/修改/删除 loader",id:"新增/修改/删除-loader",depth:4,charIndex:38138},{text:"新增/修改/删除 plugin",id:"新增/修改/删除-plugin",depth:4,charIndex:38698},{text:"tools.rspack",id:"toolsrspack",depth:2,charIndex:39238},{text:"Object 类型",id:"object-类型-16",depth:3,charIndex:39362},{text:"Function 类型",id:"function-类型-16",depth:3,charIndex:39612},{text:"工具集合",id:"工具集合-3",depth:3,charIndex:39918},{text:"env",id:"env-3",depth:4,charIndex:39961},{text:"isProd",id:"isprod-3",depth:4,charIndex:40269},{text:"target",id:"target-3",depth:4,charIndex:40505},{text:"isServer",id:"isserver-3",depth:4,charIndex:40759},{text:"isWebWorker",id:"iswebworker-3",depth:4,charIndex:40984},{text:"addRules",id:"addrules-1",depth:4,charIndex:41230},{text:"prependPlugins",id:"prependplugins-1",depth:4,charIndex:41757},{text:"appendPlugins",id:"appendplugins-1",depth:4,charIndex:42107},{text:"removePlugin",id:"removeplugin-1",depth:4,charIndex:42456},{text:"mergeConfig",id:"mergeconfig-1",depth:4,charIndex:42713},{text:"getCompiledPath",id:"getcompiledpath-2",depth:4,charIndex:42975}],frontmatter:{extractApiHeaders:[2]},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/api/config-tools.mdx",_relativePath:"zh/api/config-tools.mdx"},{title:"API",routePath:"/builder/api/",lang:"zh",toc:[],frontmatter:{overview:!0},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/api/index.mdx",_relativePath:"zh/api/index.mdx"},{title:"Plugin Core",routePath:"/builder/api/plugin-core",lang:"zh",toc:[{text:"BuilderPlugin",id:"builderplugin",depth:2,charIndex:35},{text:"前置插件",id:"前置插件",depth:3,charIndex:678},{text:"后置插件",id:"后置插件",depth:3,charIndex:948},{text:"移除插件",id:"移除插件",depth:3,charIndex:1193},{text:"BuilderPluginAPI",id:"builderpluginapi",depth:2,charIndex:1454},{text:"适用于 webpack-provider 的插件",id:"适用于-webpack-provider-的插件",depth:3,charIndex:1661},{text:"适用于 rspack-provider 的插件",id:"适用于-rspack-provider-的插件",depth:3,charIndex:1959},{text:"同时适用于 webpack-provider 和 rspack-provider 的插件",id:"同时适用于-webpack-provider-和-rspack-provider-的插件",depth:3,charIndex:2253},{text:"api.context",id:"apicontext",depth:2,charIndex:2754},{text:"api.getBuilderConfig",id:"apigetbuilderconfig",depth:2,charIndex:2972},{text:"api.getNormalizedConfig",id:"apigetnormalizedconfig",depth:2,charIndex:3252},{text:"api.isPluginExists",id:"apiispluginexists",depth:2,charIndex:3651},{text:"api.getHTMLPaths",id:"apigethtmlpaths",depth:2,charIndex:3876}],frontmatter:{extractApiHeaders:[2]},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/api/plugin-core.mdx",_relativePath:"zh/api/plugin-core.mdx"},{title:"Plugin Hooks",routePath:"/builder/api/plugin-hooks",lang:"zh",toc:[{text:"概览",id:"概览",depth:2,charIndex:32},{text:"通用钩子",id:"通用钩子",depth:2,charIndex:668},{text:"modifyBuilderConfig",id:"modifybuilderconfig",depth:3,charIndex:676},{text:"modifyBundlerChain 实验性",id:"modifybundlerchain-实验性",depth:3,charIndex:1305},{text:"modifyWebpackChain",id:"modifywebpackchain",depth:3,charIndex:2382},{text:"modifyWebpackConfig",id:"modifywebpackconfig",depth:3,charIndex:3124},{text:"modifyRspackConfig",id:"modifyrspackconfig",depth:3,charIndex:4248},{text:"onBeforeCreateCompiler",id:"onbeforecreatecompiler",depth:3,charIndex:4910},{text:"onAfterCreateCompiler",id:"onaftercreatecompiler",depth:3,charIndex:5417},{text:"构建钩子",id:"构建钩子",depth:2,charIndex:5882},{text:"onBeforeBuild",id:"onbeforebuild",depth:3,charIndex:5890},{text:"onAfterBuild",id:"onafterbuild",depth:3,charIndex:6288},{text:"开发服务钩子",id:"开发服务钩子",depth:2,charIndex:6603},{text:"onBeforeStartDevServer",id:"onbeforestartdevserver",depth:3,charIndex:6613},{text:"onAfterStartDevServer",id:"onafterstartdevserver",depth:3,charIndex:6881},{text:"onDevCompileDone",id:"ondevcompiledone",depth:3,charIndex:7217},{text:"其他钩子",id:"其他钩子",depth:2,charIndex:7650},{text:"onExit",id:"onexit",depth:3,charIndex:7658}],frontmatter:{extractApiHeaders:[2]},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/api/plugin-hooks.mdx",_relativePath:"zh/api/plugin-hooks.mdx"},{title:"路径别名",routePath:"/builder/guide/advanced/alias",lang:"zh",toc:[{text:"通过 source.alias 配置",id:"通过-sourcealias-配置",depth:2,charIndex:271},{text:"通过 tsconfig.json 中的 paths 配置",id:"通过-tsconfigjson-中的-paths-配置",depth:2,charIndex:671}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/advanced/alias.md",_relativePath:"zh/guide/advanced/alias.md"},{title:"浏览器兼容性",routePath:"/builder/guide/advanced/browser-compatibility",lang:"zh",toc:[{text:"设置浏览器范围",id:"设置浏览器范围",depth:2,charIndex:40},{text:"背景知识",id:"背景知识",depth:2,charIndex:331},{text:"语法降级和 API 降级",id:"语法降级和-api-降级",depth:3,charIndex:375},{text:"语法转译",id:"语法转译",depth:3,charIndex:646},{text:"API Polyfill",id:"api-polyfill",depth:3,charIndex:1718},{text:"降级方式",id:"降级方式",depth:2,charIndex:2866},{text:"降级当前项目代码",id:"降级当前项目代码",depth:3,charIndex:3168},{text:"降级第三方依赖",id:"降级第三方依赖",depth:3,charIndex:3228},{text:"降级非当前项目的代码",id:"降级非当前项目的代码",depth:3,charIndex:3477},{text:"Polyfill 方案",id:"polyfill-方案",depth:2,charIndex:3918},{text:"entry 方案",id:"entry-方案",depth:3,charIndex:4114},{text:"usage 方案",id:"usage-方案",depth:3,charIndex:4398},{text:"不注入 Polyfill",id:"不注入-polyfill",depth:3,charIndex:4863}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/advanced/browser-compatibility.md",_relativePath:"zh/guide/advanced/browser-compatibility.md"},{title:"设置浏览器范围",routePath:"/builder/guide/advanced/browserslist",lang:"zh",toc:[{text:"什么是 Browserslist",id:"什么是-browserslist",depth:2,charIndex:52},{text:"设置 Browserslist",id:"设置-browserslist",depth:2,charIndex:666},{text:"示例",id:"示例",depth:3,charIndex:753},{text:"生效范围",id:"生效范围",depth:3,charIndex:1002},{text:"使用 output.overrideBrowserslist 配置",id:"使用-outputoverridebrowserslist-配置",depth:3,charIndex:1210},{text:"常用的浏览器范围",id:"常用的浏览器范围",depth:2,charIndex:2113},{text:"桌面端 PC 场景",id:"桌面端-pc-场景",depth:3,charIndex:2158},{text:"移动端 H5 场景",id:"移动端-h5-场景",depth:3,charIndex:2547},{text:"Browserslist 默认值",id:"browserslist-默认值",depth:2,charIndex:2865},{text:"Web 产物",id:"web-产物",depth:3,charIndex:2971},{text:"Node 产物",id:"node-产物",depth:3,charIndex:3070},{text:"Web Worker 产物",id:"web-worker-产物",depth:3,charIndex:3127},{text:"Modern Web 产物",id:"modern-web-产物",depth:3,charIndex:3211},{text:"查询浏览器支持情况",id:"查询浏览器支持情况",depth:2,charIndex:3338}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/advanced/browserslist.md",_relativePath:"zh/guide/advanced/browserslist.md"},{title:"修改 webpack 配置",routePath:"/builder/guide/advanced/custom-webpack-config",lang:"zh",toc:[{text:"修改 webpack 配置对象",id:"修改-webpack-配置对象",depth:2,charIndex:70},{text:"使用 webpack-chain",id:"使用-webpack-chain",depth:2,charIndex:454},{text:"tools.webpackChain 配置项",id:"toolswebpackchain-配置项",depth:3,charIndex:595},{text:"webpack-chain 基础知识",id:"webpack-chain-基础知识",depth:2,charIndex:1014},{text:"webpack-chain 是如何快速定位的",id:"webpack-chain-是如何快速定位的",depth:3,charIndex:1088},{text:"webpack-chain id 的类型",id:"webpack-chain-id-的类型",depth:3,charIndex:1534},{text:"webpack-chain 示例",id:"webpack-chain-示例",depth:2,charIndex:2019},{text:"新增/修改/删除 loader",id:"新增/修改/删除-loader",depth:3,charIndex:2039},{text:"新增/修改/删除 plugin",id:"新增/修改/删除-plugin",depth:3,charIndex:2600},{text:"根据不同环境修改配置",id:"根据不同环境修改配置",depth:3,charIndex:3140}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/advanced/custom-webpack-config.md",_relativePath:"zh/guide/advanced/custom-webpack-config.md"},{title:"环境变量",routePath:"/builder/guide/advanced/define",lang:"zh",toc:[{text:"默认环境变量",id:"默认环境变量",depth:2,charIndex:75},{text:"process.env.NODE_ENV",id:"processenvnode_env",depth:3,charIndex:85},{text:"process.env.ASSET_PREFIX",id:"processenvasset_prefix",depth:3,charIndex:543},{text:"使用 define 配置项",id:"使用-define-配置项",depth:2,charIndex:1091},{text:"替换表达式",id:"替换表达式",depth:3,charIndex:1295},{text:"process.env 注入方式",id:"processenv-注入方式",depth:3,charIndex:1826},{text:"设置环境变量",id:"设置环境变量",depth:2,charIndex:2200},{text:"声明环境变量类型",id:"声明环境变量类型",depth:2,charIndex:2815},{text:"Tree Shaking",id:"tree-shaking",depth:2,charIndex:3063},{text:"源码内联测试",id:"源码内联测试",depth:2,charIndex:3753}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/advanced/define.md",_relativePath:"zh/guide/advanced/define.md"},{title:"模块热替换",routePath:"/builder/guide/advanced/hmr",lang:"zh",toc:[{text:"启用 HMR",id:"启用-hmr",depth:2,charIndex:213},{text:"自定义 HMR URL",id:"自定义-hmr-url",depth:2,charIndex:379},{text:"默认配置",id:"默认配置",depth:3,charIndex:522},{text:"线上代理",id:"线上代理",depth:3,charIndex:894},{text:"Live reloading 和 Hot reloading 的区别",id:"live-reloading-和-hot-reloading-的区别",depth:2,charIndex:1140},{text:"常见问题",id:"常见问题",depth:2,charIndex:1470}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/advanced/hmr.md",_relativePath:"zh/guide/advanced/hmr.md"},{title:"开启 REM 适配",routePath:"/builder/guide/advanced/rem",lang:"zh",toc:[{text:"开启 REM 的适配能力",id:"开启-rem-的适配能力",depth:2,charIndex:91},{text:"CSS 属性值转换",id:"css-属性值转换",depth:2,charIndex:251},{text:"根元素字体大小计算",id:"根元素字体大小计算",depth:2,charIndex:754},{text:"自定义最大根元素字体值",id:"自定义最大根元素字体值",depth:2,charIndex:1159},{text:"如何判断 REM 是否生效？",id:"如何判断-rem-是否生效？",depth:2,charIndex:1424},{text:"如何获取页面实际生效的 rootFontSize 值？",id:"如何获取页面实际生效的-rootfontsize-值？",depth:2,charIndex:1555}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/advanced/rem.md",_relativePath:"zh/guide/advanced/rem.md"},{title:"使用 Rspack",routePath:"/builder/guide/advanced/rspack-start",lang:"zh",toc:[{text:"启用 Rspack",id:"启用-rspack",depth:2,charIndex:253},{text:"在 Modern.js 框架中启用",id:"在-modernjs-框架中启用",depth:3,charIndex:266},{text:"在前端框架中接入",id:"在前端框架中接入",depth:3,charIndex:356},{text:"从 webpack 迁移到 Rspack",id:"从-webpack-迁移到-rspack",depth:2,charIndex:757},{text:"1. Builder 配置差异",id:"1-builder-配置差异",depth:3,charIndex:926},{text:"Source Config",id:"source-config",depth:4,charIndex:990},{text:"Html Config",id:"html-config",depth:4,charIndex:1144},{text:"Security Config",id:"security-config",depth:4,charIndex:1217},{text:"Dev Config",id:"dev-config",depth:4,charIndex:1300},{text:"Output Config",id:"output-config",depth:4,charIndex:1369},{text:"Experiments Config",id:"experiments-config",depth:4,charIndex:1619},{text:"Performance Config",id:"performance-config",depth:4,charIndex:1709},{text:"Tools Config",id:"tools-config",depth:4,charIndex:1861},{text:"2. 从 tools.webpackChain 迁移至 tools.bundlerChain",id:"2-从-toolswebpackchain-迁移至-toolsbundlerchain",depth:3,charIndex:2214},{text:"CHAIN_ID 差异",id:"chain_id-差异",depth:4,charIndex:2690},{text:"3. 从 tools.webpack 迁移至 tools.rspack",id:"3-从-toolswebpack-迁移至-toolsrspack",depth:3,charIndex:2814},{text:"4. Babel 配置迁移",id:"4-babel-配置迁移",depth:3,charIndex:3254},{text:"5. SWC 配置支持",id:"5-swc-配置支持",depth:3,charIndex:4150},{text:"6. Webpack Plugin 插件迁移",id:"6-webpack-plugin-插件迁移",depth:3,charIndex:4278},{text:"对比 Rspack CLI",id:"对比-rspack-cli",depth:2,charIndex:4661},{text:"常见问题",id:"常见问题",depth:2,charIndex:5417},{text:"启用 Rspack 构建后，性能没有预期的快？",id:"启用-rspack-构建后，性能没有预期的快？",depth:3,charIndex:5425}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/advanced/rspack-start.mdx",_relativePath:"zh/guide/advanced/rspack-start.mdx"},{title:"构建产物类型",routePath:"/builder/guide/basic/build-target",lang:"zh",toc:[{text:"默认产物",id:"默认产物",depth:2,charIndex:135},{text:"可选类型",id:"可选类型",depth:2,charIndex:238},{text:"并行构建",id:"并行构建",depth:2,charIndex:496},{text:"Node 产物",id:"node-产物",depth:2,charIndex:654},{text:"Web Worker 产物",id:"web-worker-产物",depth:2,charIndex:1031},{text:"Modern Web 产物",id:"modern-web-产物",depth:2,charIndex:1451}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/basic/build-target.md",_relativePath:"zh/guide/basic/build-target.md"},{title:"使用 Builder CLI",routePath:"/builder/guide/basic/builder-cli",lang:"zh",toc:[{text:"安装",id:"安装",depth:2,charIndex:196},{text:"命令",id:"命令",depth:2,charIndex:609},{text:"builder dev",id:"builder-dev",depth:3,charIndex:662},{text:"builder build",id:"builder-build",depth:3,charIndex:808},{text:"builder serve",id:"builder-serve",depth:3,charIndex:963},{text:"配置",id:"配置",depth:2,charIndex:1142},{text:"构建入口",id:"构建入口",depth:2,charIndex:1487}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/basic/builder-cli.mdx",_relativePath:"zh/guide/basic/builder-cli.mdx"},{title:"Builder 配置项",routePath:"/builder/guide/basic/builder-config",lang:"zh",toc:[{text:"配置分类",id:"配置分类",depth:2,charIndex:39},{text:"配置默认值",id:"配置默认值",depth:2,charIndex:322},{text:"使用配置",id:"使用配置",depth:2,charIndex:444},{text:"在上层框架中使用",id:"在上层框架中使用",depth:3,charIndex:452},{text:"通过 Node API 使用",id:"通过-node-api-使用",depth:3,charIndex:826},{text:"与框架配置的关系",id:"与框架配置的关系",depth:2,charIndex:1060},{text:"调试配置",id:"调试配置",depth:2,charIndex:1177}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/basic/builder-config.mdx",_relativePath:"zh/guide/basic/builder-config.mdx"},{title:"使用 CSS Modules",routePath:"/builder/guide/basic/css-modules",lang:"zh",toc:[{text:"示例",id:"示例",depth:2,charIndex:273},{text:"为所有样式文件启用 CSS Modules",id:"为所有样式文件启用-css-modules",depth:2,charIndex:433},{text:"为指定的样式文件启用 CSS Modules",id:"为指定的样式文件启用-css-modules",depth:2,charIndex:803},{text:"自定义类名",id:"自定义类名",depth:2,charIndex:1120},{text:"添加类型声明",id:"添加类型声明",depth:2,charIndex:1349},{text:"生成准确的类型定义",id:"生成准确的类型定义",depth:2,charIndex:2826},{text:"示例",id:"示例-1",depth:3,charIndex:3125},{text:"相关配置",id:"相关配置",depth:3,charIndex:3610}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/basic/css-modules.md",_relativePath:"zh/guide/basic/css-modules.md"},{title:"引用样式资源",routePath:"/builder/guide/basic/css-usage",lang:"zh",toc:[{text:"使用 Less、Sass 和 Stylus",id:"使用-less、sass-和-stylus",depth:2,charIndex:122},{text:"使用 PostCSS",id:"使用-postcss",depth:2,charIndex:354},{text:"内置 PostCSS 插件",id:"内置-postcss-插件",depth:3,charIndex:667},{text:"使用 CSS Modules",id:"使用-css-modules",depth:2,charIndex:1474},{text:"CSS 压缩",id:"css-压缩",depth:2,charIndex:1537},{text:"内联 CSS 文件",id:"内联-css-文件",depth:2,charIndex:1846},{text:"引用 node_modules 里的样式",id:"引用-node_modules-里的样式",depth:2,charIndex:-1}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/basic/css-usage.md",_relativePath:"zh/guide/basic/css-usage.md"},{title:"配置 HTML 模板",routePath:"/builder/guide/basic/html-template",lang:"zh",toc:[{text:"设置模板文件",id:"设置模板文件",depth:2,charIndex:113},{text:"设置页面标题",id:"设置页面标题",depth:2,charIndex:395},{text:"设置页面图标",id:"设置页面图标",depth:2,charIndex:-1},{text:"设置 meta 标签",id:"设置-meta-标签",depth:2,charIndex:-1},{text:"设置模板参数",id:"设置模板参数",depth:2,charIndex:-1},{text:"模板引擎",id:"模板引擎",depth:2,charIndex:-1},{text:"",id:"",depth:3,charIndex:-1},{text:"",id:"-1",depth:3,charIndex:-1},{text:"",id:"-2",depth:3,charIndex:-1},{text:"注入标签",id:"注入标签",depth:2,charIndex:-1},{text:"对象形式",id:"对象形式",depth:3,charIndex:-1},{text:"函数形式",id:"函数形式",depth:3,charIndex:-1}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/basic/html-template.md",_relativePath:"zh/guide/basic/html-template.md"},{title:"引用 JSON 文件",routePath:"/builder/guide/basic/json-files",lang:"zh",toc:[{text:"JSON 文件",id:"json-文件",depth:2,charIndex:65},{text:"示例",id:"示例",depth:3,charIndex:110},{text:"具名引用",id:"具名引用",depth:3,charIndex:237},{text:"YAML 文件",id:"yaml-文件",depth:2,charIndex:290},{text:"示例",id:"示例-1",depth:3,charIndex:388},{text:"添加类型声明",id:"添加类型声明",depth:3,charIndex:518},{text:"TOML 文件",id:"toml-文件",depth:2,charIndex:758},{text:"示例",id:"示例-2",depth:3,charIndex:846},{text:"添加类型声明",id:"添加类型声明-1",depth:3,charIndex:978}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/basic/json-files.md",_relativePath:"zh/guide/basic/json-files.md"},{title:"构建产物目录",routePath:"/builder/guide/basic/output-files",lang:"zh",toc:[{text:"默认产物目录",id:"默认产物目录",depth:2,charIndex:40},{text:"修改产物目录",id:"修改产物目录",depth:2,charIndex:710},{text:"静态资源",id:"静态资源",depth:2,charIndex:967},{text:"Node.js 产物目录",id:"nodejs-产物目录",depth:2,charIndex:1594},{text:"扁平化产物目录",id:"扁平化产物目录",depth:2,charIndex:2009},{text:"产物不写入磁盘",id:"产物不写入磁盘",depth:2,charIndex:2343}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/basic/output-files.md",_relativePath:"zh/guide/basic/output-files.md"},{title:"引用静态资源",routePath:"/builder/guide/basic/static-assets",lang:"zh",toc:[{text:"静态资源格式",id:"静态资源格式",depth:2,charIndex:193},{text:"在 JS 文件中引用",id:"在-js-文件中引用",depth:2,charIndex:483},{text:"在 CSS 文件中引用",id:"在-css-文件中引用",depth:2,charIndex:641},{text:"引用结果",id:"引用结果",depth:2,charIndex:815},{text:"构建产物",id:"构建产物",depth:2,charIndex:1089},{text:"URL 前缀",id:"url-前缀",depth:2,charIndex:1218},{text:"添加类型声明",id:"添加类型声明",depth:2,charIndex:1454},{text:"图片格式",id:"图片格式",depth:2,charIndex:1841}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/basic/static-assets.md",_relativePath:"zh/guide/basic/static-assets.md"},{title:"引用 SVG 资源",routePath:"/builder/guide/basic/svg-assets",lang:"zh",toc:[{text:"在 JS 文件中引用",id:"在-js-文件中引用",depth:2,charIndex:208},{text:"修改默认导出",id:"修改默认导出",depth:2,charIndex:445},{text:"在 CSS 文件中引用",id:"在-css-文件中引用",depth:2,charIndex:668},{text:"静态资源处理",id:"静态资源处理",depth:2,charIndex:796},{text:"禁用 SVGR 处理",id:"禁用-svgr-处理",depth:2,charIndex:916},{text:"添加类型声明",id:"添加类型声明",depth:2,charIndex:1139}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/basic/svg-assets.md",_relativePath:"zh/guide/basic/svg-assets.md"},{title:"使用 TypeScript",routePath:"/builder/guide/basic/typescript",lang:"zh",toc:[{text:"TypeScript 转译",id:"typescript-转译",depth:2,charIndex:70},{text:"为什么默认使用 Babel",id:"为什么默认使用-babel",depth:3,charIndex:728},{text:"类型检查",id:"类型检查",depth:2,charIndex:966}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/basic/typescript.md",_relativePath:"zh/guide/basic/typescript.md"},{title:"引用 Wasm 资源",routePath:"/builder/guide/basic/wasm-assets",lang:"zh",toc:[{text:"引用方式",id:"引用方式",depth:2,charIndex:152},{text:"输出目录",id:"输出目录",depth:2,charIndex:636},{text:"添加类型声明",id:"添加类型声明",depth:2,charIndex:835}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/basic/wasm-assets.md",_relativePath:"zh/guide/basic/wasm-assets.md"},{title:"开启调试模式",routePath:"/builder/guide/debug/debug-mode",lang:"zh",toc:[{text:"日志信息",id:"日志信息",depth:2,charIndex:229},{text:"Builder 配置文件",id:"builder-配置文件",depth:2,charIndex:803},{text:"webpack 配置文件",id:"webpack-配置文件",depth:2,charIndex:1121},{text:"Rspack 配置文件",id:"rspack-配置文件",depth:2,charIndex:1656}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/debug/debug-mode.md",_relativePath:"zh/guide/debug/debug-mode.md"},{title:"使用 Webpack Inspector",routePath:"/builder/guide/debug/inspector",lang:"zh",toc:[{text:"介绍",id:"介绍",depth:2,charIndex:54},{text:"启用",id:"启用",depth:2,charIndex:340},{text:"调试面板",id:"调试面板",depth:2,charIndex:816},{text:"配置预览模式",id:"配置预览模式",depth:3,charIndex:865},{text:"列表模式",id:"列表模式",depth:3,charIndex:934},{text:"Loader 统计数据",id:"loader-统计数据",depth:3,charIndex:984},{text:"依赖图模式",id:"依赖图模式",depth:3,charIndex:1029}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/debug/inspector.md",_relativePath:"zh/guide/debug/inspector.md"},{title:"异常类问题",routePath:"/builder/guide/faq/exceptions",lang:"zh",toc:[{text:"webpack 编译出现 \\'compilation\\' argument 报错？",id:"webpack-编译出现-\\'compilation\\'-argument-报错？",depth:3,charIndex:-1},{text:"编译产物中存在未编译的 ES6+ 代码？",id:"编译产物中存在未编译的-es6+-代码？",depth:3,charIndex:858},{text:"在 Monorepo 中引用其他模块，代码没有被正确编译？",id:"在-monorepo-中引用其他模块，代码没有被正确编译？",depth:3,charIndex:1117},{text:"编译时报错 You may need additional loader？",id:"编译时报错-you-may-need-additional-loader？",depth:3,charIndex:1395},{text:"打开页面后报错，提示 exports is not defined？",id:"打开页面后报错，提示-exports-is-not-defined？",depth:3,charIndex:1887},{text:'编译时报错 \\"Error: ES Modules may not assign module.exports or exports.*, Use ESM export syntax\\"？',id:'编译时报错-\\"error:-es-modules-may-not-assign-moduleexports-or-exports*,-use-esm-export-syntax\\"？',depth:3,charIndex:-1},{text:"编译进度条卡死，但终端无 Error 日志？",id:"编译进度条卡死，但终端无-error-日志？",depth:3,charIndex:2899},{text:"webpack 编译缓存未生效，应该如何排查？",id:"webpack-编译缓存未生效，应该如何排查？",depth:3,charIndex:4237},{text:"打包后发现 tree shaking 没有生效？",id:"打包后发现-tree-shaking-没有生效？",depth:3,charIndex:4799},{text:"打包时出现 JavaScript heap out of memory?",id:"打包时出现-javascript-heap-out-of-memory?",depth:3,charIndex:5250},{text:"打包时出现 Can\\'t resolve \\'core-js/modules/xxx.js\\'？",id:"打包时出现-can\\'t-resolve-\\'core-js/modules/xxxjs\\'？",depth:3,charIndex:-1},{text:"从 lodash 中引用类型后出现编译报错？",id:"从-lodash-中引用类型后出现编译报错？",depth:3,charIndex:6899},{text:"Less 文件中的除法不生效？",id:"less-文件中的除法不生效？",depth:3,charIndex:7494},{text:"修改配置后，报错 ‘TypeError: Cannot delete property \\'xxx\\' of #<Object>’",id:"修改配置后，报错-‘typeerror:-cannot-delete-property-\\'xxx\\'-of-#<object>’",depth:3,charIndex:-1}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/faq/exceptions.md",_relativePath:"zh/guide/faq/exceptions.md"},{title:"功能类问题",routePath:"/builder/guide/faq/features",lang:"zh",toc:[{text:"如何配置组件库按需引入？",id:"如何配置组件库按需引入？",depth:3,charIndex:3},{text:"如何在编译过程中进行 ESLint 代码校验？",id:"如何在编译过程中进行-eslint-代码校验？",depth:3,charIndex:359},{text:"如何配置静态资源的 CDN 路径？",id:"如何配置静态资源的-cdn-路径？",depth:3,charIndex:830},{text:"如何清空 webpack 编译缓存？",id:"如何清空-webpack-编译缓存？",depth:3,charIndex:1099},{text:"如何移除代码中的 console？",id:"如何移除代码中的-console？",depth:3,charIndex:1327},{text:"如何查看最终生成的 webpack / Rspack 配置?",id:"如何查看最终生成的-webpack-/-rspack-配置?",depth:3,charIndex:1541},{text:"通过 inspect 命令查看",id:"通过-inspect-命令查看",depth:4,charIndex:1574},{text:"通过 Builder 调试模式查看",id:"通过-builder-调试模式查看",depth:4,charIndex:1909}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/faq/features.md",_relativePath:"zh/guide/faq/features.md"},{title:"通用类问题",routePath:"/builder/guide/faq/general",lang:"zh",toc:[{text:"Modern.js Builder 和 Modern.js 的关系？",id:"modernjs-builder-和-modernjs-的关系？",depth:3,charIndex:3},{text:"Builder 能否用于构建工具库或组件库？",id:"builder-能否用于构建工具库或组件库？",depth:3,charIndex:289},{text:"Builder 是否会接入 Turbopack？",id:"builder-是否会接入-turbopack？",depth:3,charIndex:495},{text:"Builder 是否会接入 Vite？",id:"builder-是否会接入-vite？",depth:3,charIndex:740}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/faq/general.md",_relativePath:"zh/guide/faq/general.md"},{title:"热更新问题",routePath:"/builder/guide/faq/hmr",lang:"zh",toc:[{text:"打包时 external React 后，热更新不生效？",id:"打包时-external-react-后，热更新不生效？",depth:3,charIndex:3},{text:"开发环境设置文件名的 hash 后，热更新不生效？",id:"开发环境设置文件名的-hash-后，热更新不生效？",depth:3,charIndex:465},{text:"React 组件的热更新无法生效？",id:"react-组件的热更新无法生效？",depth:3,charIndex:1079},{text:"开启 https 后，热更新不生效？",id:"开启-https-后，热更新不生效？",depth:3,charIndex:1680}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/faq/hmr.md",_relativePath:"zh/guide/faq/hmr.md"},{title:"功能导航",routePath:"/builder/guide/features",lang:"zh",toc:[{text:"JavaScript 编译",id:"javascript-编译",depth:2,charIndex:42},{text:"CSS 编译",id:"css-编译",depth:2,charIndex:1372},{text:"HTML 编译",id:"html-编译",depth:2,charIndex:2119},{text:"开发调试相关",id:"开发调试相关",depth:2,charIndex:2495},{text:"前端框架相关",id:"前端框架相关",depth:2,charIndex:2687},{text:"静态资源相关",id:"静态资源相关",depth:2,charIndex:2937},{text:"性能相关",id:"性能相关",depth:2,charIndex:3393}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/features.mdx",_relativePath:"zh/guide/features.mdx"},{title:"名词解释",routePath:"/builder/guide/glossary",lang:"zh",toc:[{text:"Bundler",id:"bundler",depth:2,charIndex:3},{text:"Builder",id:"builder",depth:2,charIndex:177},{text:"Rspack",id:"rspack",depth:2,charIndex:427},{text:"Builder Provider",id:"builder-provider",depth:2,charIndex:636},{text:"Modern.js",id:"modernjs",depth:2,charIndex:867},{text:"EdenX",id:"edenx",depth:2,charIndex:961}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/glossary.mdx",_relativePath:"zh/guide/glossary.mdx"},{title:"介绍",routePath:"/builder/guide/introduction",lang:"zh",toc:[{text:"Rust 化",id:"rust-化",depth:2,charIndex:232},{text:"定位",id:"定位",depth:2,charIndex:621},{text:"特性",id:"特性",depth:2,charIndex:946},{text:"支持 Rspack 打包",id:"支持-rspack-打包",depth:3,charIndex:952},{text:"深度优化构建产物",id:"深度优化构建产物",depth:3,charIndex:1522},{text:"易于扩展的插件系统",id:"易于扩展的插件系统",depth:3,charIndex:1722},{text:"npm 包",id:"npm-包",depth:2,charIndex:1949},{text:"下一步",id:"下一步",depth:2,charIndex:2816}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/introduction.mdx",_relativePath:"zh/guide/introduction.mdx"},{title:"提升构建性能",routePath:"/builder/guide/optimization/build-performance",lang:"zh",toc:[{text:"通用优化策略",id:"通用优化策略",depth:2,charIndex:170},{text:"升级 Node.js 版本",id:"升级-nodejs-版本",depth:3,charIndex:227},{text:"使用 Rspack 构建",id:"使用-rspack-构建",depth:3,charIndex:602},{text:"使用 SWC 或 esbuild 编译",id:"使用-swc-或-esbuild-编译",depth:3,charIndex:875},{text:"避免使用 ts-loader",id:"避免使用-ts-loader",depth:3,charIndex:1337},{text:"开发环境优化策略",id:"开发环境优化策略",depth:2,charIndex:1579},{text:"开启延迟编译",id:"开启延迟编译",depth:3,charIndex:1610},{text:"调整 Source Map 格式",id:"调整-source-map-格式",depth:3,charIndex:1835},{text:"调整 Browserslist 范围",id:"调整-browserslist-范围",depth:3,charIndex:2414},{text:"生产环境优化策略",id:"生产环境优化策略",depth:2,charIndex:2833},{text:"禁用 Source Map",id:"禁用-source-map",depth:3,charIndex:2864}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/optimization/build-performance.mdx",_relativePath:"zh/guide/optimization/build-performance.mdx"},{title:"静态资源内联",routePath:"/builder/guide/optimization/inline-assets",lang:"zh",toc:[{text:"自动内联",id:"自动内联",depth:2,charIndex:264},{text:"强制内联",id:"强制内联",depth:2,charIndex:597},{text:"从 CSS 文件中引用",id:"从-css-文件中引用",depth:3,charIndex:798},{text:"强制不内联",id:"强制不内联",depth:2,charIndex:1045},{text:"从 CSS 文件中引用",id:"从-css-文件中引用-1",depth:3,charIndex:1269},{text:"内联 JS 文件",id:"内联-js-文件",depth:2,charIndex:1495},{text:"内联 CSS 文件",id:"内联-css-文件",depth:2,charIndex:1765},{text:"添加类型声明",id:"添加类型声明",depth:2,charIndex:1957}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/optimization/inline-assets.md",_relativePath:"zh/guide/optimization/inline-assets.md"},{title:"产物体积优化",routePath:"/builder/guide/optimization/optimize-bundle",lang:"zh",toc:[{text:"减少重复依赖",id:"减少重复依赖",depth:2,charIndex:79},{text:"使用更轻量的库",id:"使用更轻量的库",depth:2,charIndex:459},{text:"提升 Browserslist 范围",id:"提升-browserslist-范围",depth:2,charIndex:642},{text:"按需引入 polyfill",id:"按需引入-polyfill",depth:2,charIndex:962},{text:"使用图片压缩",id:"使用图片压缩",depth:2,charIndex:1217},{text:"代码拆包",id:"代码拆包",depth:2,charIndex:1427}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/optimization/optimize-bundle.md",_relativePath:"zh/guide/optimization/optimize-bundle.md"},{title:"拆包最佳实践",routePath:"/builder/guide/optimization/split-chunk",lang:"zh",toc:[{text:"拆包策略",id:"拆包策略",depth:2,charIndex:119},{text:"split-by-experience",id:"split-by-experience",depth:3,charIndex:452},{text:"分包策略",id:"分包策略",depth:4,charIndex:474},{text:"配置",id:"配置",depth:4,charIndex:1048},{text:"注意事项",id:"注意事项",depth:4,charIndex:1161},{text:"split-by-module",id:"split-by-module",depth:3,charIndex:1210},{text:"分包策略",id:"分包策略-1",depth:4,charIndex:1228},{text:"配置",id:"配置-1",depth:4,charIndex:1262},{text:"注意事项",id:"注意事项-1",depth:4,charIndex:1371},{text:"all-in-one",id:"all-in-one",depth:3,charIndex:1516},{text:"分包策略",id:"分包策略-2",depth:4,charIndex:1529},{text:"配置",id:"配置-2",depth:4,charIndex:1569},{text:"注意事项",id:"注意事项-2",depth:4,charIndex:1673},{text:"single-vendor",id:"single-vendor",depth:3,charIndex:1774},{text:"分包策略",id:"分包策略-3",depth:4,charIndex:1790},{text:"配置",id:"配置-3",depth:4,charIndex:1843},{text:"注意事项",id:"注意事项-3",depth:4,charIndex:1950},{text:"split-by-size",id:"split-by-size",depth:3,charIndex:1995},{text:"分包策略",id:"分包策略-4",depth:4,charIndex:2011},{text:"配置",id:"配置-4",depth:4,charIndex:2073},{text:"自定义拆包",id:"自定义拆包",depth:2,charIndex:2225},{text:"自定义分组",id:"自定义分组",depth:3,charIndex:2407},{text:"注意事项",id:"注意事项-4",depth:4,charIndex:2739},{text:"自定义 bundler 拆包配置",id:"自定义-bundler-拆包配置",depth:3,charIndex:-1}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/optimization/split-chunk.md",_relativePath:"zh/guide/optimization/split-chunk.md"},{title:"快速上手",routePath:"/builder/guide/quick-start",lang:"zh",toc:[{text:"环境准备",id:"环境准备",depth:2,charIndex:3},{text:"使用 Modern.js 框架",id:"使用-modernjs-框架",depth:2,charIndex:552},{text:"使用 Builder CLI 工具",id:"使用-builder-cli-工具",depth:2,charIndex:922},{text:"在前端框架中接入",id:"在前端框架中接入",depth:2,charIndex:1110},{text:"1. 安装 Builder",id:"1-安装-builder",depth:3,charIndex:1159},{text:"2. 创建 Builder 实例",id:"2-创建-builder-实例",depth:3,charIndex:1594},{text:"3. 调用 Builder 实例方法",id:"3-调用-builder-实例方法",depth:3,charIndex:2252},{text:"下一步",id:"下一步",depth:2,charIndex:2778}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/guide/quick-start.mdx",_relativePath:"zh/guide/quick-start.mdx"},{title:"",routePath:"/builder/",lang:"zh",toc:[],frontmatter:{pageType:"home",hero:{name:"Modern.js Builder",tagline:"面向 Web 开发场景的构建引擎",actions:[{theme:"brand",text:"介绍",link:"/guide/introduction.html"},{theme:"alt",text:"快速上手",link:"/guide/quick-start.html"}]},features:[{title:"Rust 构建",details:"轻松切换到 Rspack 构建工具，编译飞快。",icon:"\uD83D\uDE80"},{title:"深度优化",details:"自动优化静态资源，产物性能有保障。",icon:"\uD83C\uDF6D"},{title:"开箱即用",details:"基于字节跳动数千个应用的实践经验，各种能力开箱即用。",icon:"\uD83D\uDCE6"},{title:"易于配置",details:"以零配置启动，然后一切皆可配置。",icon:"\uD83D\uDCD6"},{title:"可插拔",details:"自带轻量级插件系统，满足你的定制诉求。",icon:"\uD83C\uDFA8"},{title:"多种产物",details:"支持构建出运行在 Node.js、Web Worker 等环境的产物。",icon:"✨"}]},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/index.md",_relativePath:"zh/index.md"},{title:"插件系统",routePath:"/builder/plugins/introduction",lang:"zh",toc:[{text:"开发插件",id:"开发插件",depth:2,charIndex:250},{text:"生命周期钩子",id:"生命周期钩子",depth:2,charIndex:929},{text:"使用配置项",id:"使用配置项",depth:2,charIndex:1094},{text:"修改 webpack 配置",id:"修改-webpack-配置",depth:2,charIndex:2863},{text:"参考范例",id:"参考范例",depth:2,charIndex:3200},{text:"修改 Loader",id:"修改-loader",depth:3,charIndex:3208},{text:"添加模块入口",id:"添加模块入口",depth:3,charIndex:3576},{text:"接入 webpack 插件",id:"接入-webpack-插件",depth:3,charIndex:3821}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/plugins/introduction.md",_relativePath:"zh/plugins/introduction.md"},{title:"总览",routePath:"/builder/plugins/list",lang:"zh",toc:[{text:"官方插件",id:"官方插件",depth:2,charIndex:3}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/plugins/list.md",_relativePath:"zh/plugins/list.md"},{title:"Esbuild 插件",routePath:"/builder/plugins/plugin-esbuild",lang:"zh",toc:[{text:"快速开始",id:"快速开始",depth:2,charIndex:447},{text:"在 Modern.js 框架中使用",id:"在-modernjs-框架中使用",depth:3,charIndex:455},{text:"通过 Node API 使用",id:"通过-node-api-使用",depth:3,charIndex:742},{text:"安装插件",id:"安装插件",depth:4,charIndex:812},{text:"注册插件",id:"注册插件",depth:4,charIndex:1001},{text:"配置",id:"配置",depth:2,charIndex:1113},{text:"loader",id:"loader",depth:3,charIndex:1159},{text:"设置 JSX 格式",id:"设置-jsx-格式",depth:4,charIndex:1468},{text:"修改目标环境",id:"修改目标环境",depth:4,charIndex:1717},{text:"关闭代码转译",id:"关闭代码转译",depth:4,charIndex:2068},{text:"minimize",id:"minimize",depth:3,charIndex:2193},{text:"修改目标环境",id:"修改目标环境-1",depth:4,charIndex:2478},{text:"关闭代码压缩",id:"关闭代码压缩",depth:4,charIndex:2586},{text:"esbuild 局限性",id:"esbuild-局限性",depth:2,charIndex:2715},{text:"兼容性",id:"兼容性",depth:3,charIndex:2814},{text:"不支持 Babel 插件",id:"不支持-babel-插件",depth:3,charIndex:3411},{text:"产物体积",id:"产物体积",depth:3,charIndex:3637}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/plugins/plugin-esbuild.mdx",_relativePath:"zh/plugins/plugin-esbuild.mdx"},{title:"Image Compress 插件",routePath:"/builder/plugins/plugin-image-compress",lang:"zh",toc:[{text:"快速开始",id:"快速开始",depth:2,charIndex:64},{text:"安装插件",id:"安装插件",depth:3,charIndex:122},{text:"注册插件",id:"注册插件",depth:3,charIndex:333},{text:"配置项",id:"配置项",depth:2,charIndex:629}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/plugins/plugin-image-compress.mdx",_relativePath:"zh/plugins/plugin-image-compress.mdx"},{title:"Node Polyfill 插件",routePath:"/builder/plugins/plugin-node-polyfill",lang:"zh",toc:[{text:"快速开始",id:"快速开始",depth:2,charIndex:213},{text:"在 Modern.js 框架中使用",id:"在-modernjs-框架中使用",depth:3,charIndex:221},{text:"通过 Node API 使用",id:"通过-node-api-使用",depth:3,charIndex:436},{text:"安装插件",id:"安装插件",depth:4,charIndex:512},{text:"注册插件",id:"注册插件",depth:4,charIndex:719},{text:"Node Polyfills",id:"node-polyfills",depth:2,charIndex:842},{text:"Globals",id:"globals",depth:3,charIndex:860},{text:"Modules",id:"modules",depth:3,charIndex:972},{text:"Fallbacks",id:"fallbacks",depth:3,charIndex:1410}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/plugins/plugin-node-polyfill.mdx",_relativePath:"zh/plugins/plugin-node-polyfill.mdx"},{title:"Stylus 插件",routePath:"/builder/plugins/plugin-stylus",lang:"zh",toc:[{text:"快速开始",id:"快速开始",depth:2,charIndex:66},{text:"安装插件",id:"安装插件",depth:3,charIndex:74},{text:"注册插件",id:"注册插件",depth:3,charIndex:265},{text:"示例",id:"示例",depth:2,charIndex:531},{text:"配置",id:"配置",depth:2,charIndex:785},{text:"stylusOptions",id:"stylusoptions",depth:3,charIndex:825},{text:"sourceMap",id:"sourcemap",depth:3,charIndex:1144}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/plugins/plugin-stylus.mdx",_relativePath:"zh/plugins/plugin-stylus.mdx"},{title:"SWC 插件",routePath:"/builder/plugins/plugin-swc",lang:"zh",toc:[{text:"适用场景",id:"适用场景",depth:2,charIndex:228},{text:"Rspack 场景",id:"rspack-场景",depth:3,charIndex:295},{text:"Babel 插件",id:"babel-插件",depth:3,charIndex:399},{text:"产物体积",id:"产物体积",depth:3,charIndex:1029},{text:"快速开始",id:"快速开始",depth:2,charIndex:1212},{text:"在 Modern.js 框架中使用",id:"在-modernjs-框架中使用",depth:3,charIndex:1220},{text:"通过 Node API 使用",id:"通过-node-api-使用",depth:3,charIndex:1517},{text:"安装插件",id:"安装插件",depth:4,charIndex:1593},{text:"注册插件",id:"注册插件",depth:4,charIndex:1770},{text:"配置",id:"配置",depth:2,charIndex:1915},{text:"presetReact",id:"presetreact",depth:3,charIndex:2119},{text:"presetEnv",id:"presetenv",depth:3,charIndex:2288},{text:"jsMinify",id:"jsminify",depth:3,charIndex:2435},{text:"cssMinify",id:"cssminify",depth:3,charIndex:2596},{text:"extensions",id:"extensions",depth:3,charIndex:2690},{text:"extensions.reactUtils",id:"extensionsreactutils",depth:4,charIndex:2754},{text:"extensions.lodash",id:"extensionslodash",depth:4,charIndex:3634},{text:"extensions.styledComponents",id:"extensionsstyledcomponents",depth:4,charIndex:3913},{text:"extensions.emotion",id:"extensionsemotion",depth:4,charIndex:4270},{text:"extensions.pluginImport",id:"extensionspluginimport",depth:4,charIndex:4975},{text:"限制",id:"限制",depth:2,charIndex:5944}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/plugins/plugin-swc.mdx",_relativePath:"zh/plugins/plugin-swc.mdx"},{title:"Vue 插件",routePath:"/builder/plugins/plugin-vue",lang:"zh",toc:[{text:"快速开始",id:"快速开始",depth:2,charIndex:30},{text:"安装插件",id:"安装插件",depth:3,charIndex:38},{text:"注册插件",id:"注册插件",depth:3,charIndex:220},{text:"配置",id:"配置",depth:2,charIndex:345},{text:"vueLoaderOptions",id:"vueloaderoptions",depth:3,charIndex:382},{text:"vueJsxOptions",id:"vuejsxoptions",depth:3,charIndex:700}],frontmatter:{},_filepath:"/home/runner/work/modern-js/modern-js/packages/document/builder-doc/docs/zh/plugins/plugin-vue.mdx",_relativePath:"zh/plugins/plugin-vue.mdx"}],markdown:{showLineNumbers:!1}}},98868:function(e,n,r){e.exports="data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M28 10v18H10V10h18m0-2H10a2 2 0 0 0-2 2v18a2 2 0 0 0 2 2h18a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2Z' fill='%23cccccc'/%3E%3Cpath d='M4 18H2V4a2 2 0 0 1 2-2h14v2H4Z' fill='%23cccccc'/%3E%3C/svg%3E"},45038:function(e,n,r){e.exports="data:image/svg+xml,%3Csvg width='32' height='32' viewBox='0 0 32 32' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='m13 24l-9-9l1.41-1.41L13 21.17L26.59 7.59L28 9L13 24z' fill='%2360c054'/%3E%3C/svg%3E"},59607:function(e,n,r){e.exports={"next-steps":"d701a",nextSteps:"d701a"}},67011:function(e,n,r){e.exports={description:"_90dd",description:"_90dd",step:"_975a",step:"_975a",title:"_7a2c",title:"_7a2c"}},14968:function(e,n,r){},42898:function(e,n,r){},38980:function(e,n,r){},92144:function(e,n,r){e.exports=require("stream")},15751:function(e,n,r){e.exports=require("util")},77803:function(e,n,r){e.exports=function(e,n){(null==n||n>e.length)&&(n=e.length);for(var r=0,t=Array(n);r<n;r++)t[r]=e[r];return t},e.exports.__esModule=!0,e.exports.default=e.exports},95331:function(e,n,r){var t=r("77803");e.exports=function(e){if(Array.isArray(e))return t(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6367:function(e,n,r){var t=r("83819");e.exports=function(e,n,r){return(n=t(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},21223:function(e,n,r){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},89328:function(e,n,r){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},631:function(e,n,r){e.exports=function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},57403:function(e,n,r){var t=r("72539");e.exports=function(e,n){if(null==e)return{};var r,i,s=t(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(i=0;i<l.length;i++){if(r=l[i],!(n.indexOf(r)>=0))Object.prototype.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}}return s},e.exports.__esModule=!0,e.exports.default=e.exports},72539:function(e,n,r){e.exports=function(e,n){if(null==e)return{};var r,t,i={},s=Object.keys(e);for(t=0;t<s.length;t++)r=s[t],!(n.indexOf(r)>=0)&&(i[r]=e[r]);return i},e.exports.__esModule=!0,e.exports.default=e.exports},58895:function(e,n,r){var t=r("95331"),i=r("89328"),s=r("96341"),l=r("631");e.exports=function(e){return t(e)||i(e)||s(e)||l()},e.exports.__esModule=!0,e.exports.default=e.exports},60456:function(e,n,r){var t=r("92891").default;e.exports=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,n||"default");if("object"!==t(i))return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},83819:function(e,n,r){var t=r("92891").default,i=r("60456");e.exports=function(e){var n=i(e,"string");return"symbol"===t(n)?n:String(n)},e.exports.__esModule=!0,e.exports.default=e.exports},92891:function(e,n,r){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},96341:function(e,n,r){var t=r("77803");e.exports=function(e,n){if(e){if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(e,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},43232:function(e,n,r){var t,i=Object.create,s=Object.defineProperty,l=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyNames,a=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,c=(e,n,r,t)=>{if(n&&"object"==typeof n||"function"==typeof n)for(let i of o(n))d.call(e,i)||i===r||s(e,i,{get:()=>n[i],enumerable:!(t=l(n,i))||t.enumerable});return e},h=(e,n,r)=>(r=null!=e?i(a(e)):{},c(!n&&e&&e.__esModule?r:s(r,"default",{value:e,enumerable:!0}),e)),u={};((e,n)=>{for(var r in n)s(e,r,{get:n[r],enumerable:!0})})(u,{Combobox:()=>eA,Dialog:()=>nx,Disclosure:()=>nS,FocusTrap:()=>eJ,Listbox:()=>nM,Menu:()=>nq,Popover:()=>n1,Portal:()=>ne,RadioGroup:()=>rt,Switch:()=>ro,Tab:()=>rw,Transition:()=>rD}),e.exports=(M=u,c(s({},"__esModule",{value:!0}),M));var p=h(r("6171"),1),x=r("6171"),m=r("6171"),f="undefined"==typeof window||"undefined"==typeof document,j=f?m.useEffect:m.useLayoutEffect,g=r("6171");function b(e){let n=(0,g.useRef)(e);return j(()=>{n.current=e},[e]),n}function v(e,n){let[r,t]=(0,x.useState)(e),i=b(e);return j(()=>t(i.current),[i,t,...n]),r}var y=r("6171");function w(e){"function"==typeof queueMicrotask?queueMicrotask(e):Promise.resolve().then(e).catch(e=>setTimeout(()=>{throw e}))}function S(){let e=[],n=[],r={enqueue(e){n.push(e)},addEventListener:(e,n,t,i)=>(e.addEventListener(n,t,i),r.add(()=>e.removeEventListener(n,t,i))),requestAnimationFrame(...e){let n=requestAnimationFrame(...e);return r.add(()=>cancelAnimationFrame(n))},nextFrame:(...e)=>r.requestAnimationFrame(()=>r.requestAnimationFrame(...e)),setTimeout(...e){let n=setTimeout(...e);return r.add(()=>clearTimeout(n))},microTask(...e){let n={current:!0};return w(()=>{n.current&&e[0]()}),r.add(()=>{n.current=!1})},add:n=>(e.push(n),()=>{let r=e.indexOf(n);if(r>=0){let[n]=e.splice(r,1);n()}}),dispose(){for(let n of e.splice(0))n()},async workQueue(){for(let e of n.splice(0))await e()}};return r}function k(){let[e]=(0,y.useState)(S);return(0,y.useEffect)(()=>()=>e.dispose(),[e]),e}var _=h(r("6171"),1),P=function(e){let n=b(e);return _.default.useCallback((...e)=>n.current(...e),[n])},E=h(r("6171"),1),F=r("6171"),N={serverHandoffComplete:!1};function T(){let[e,n]=(0,F.useState)(N.serverHandoffComplete);return(0,F.useEffect)(()=>{!0!==e&&n(!0)},[e]),(0,F.useEffect)(()=>{!1===N.serverHandoffComplete&&(N.serverHandoffComplete=!0)},[]),e}var R=0;function C(){return++R}var M,O,I=null!=(O=E.default.useId)?O:function(){let e=T(),[n,r]=E.default.useState(e?C:null);return j(()=>{null===n&&r(C())},[n]),null!=n?""+n:void 0},A=r("6171");function D(e,n,...r){if(e in n){let t=n[e];return"function"==typeof t?t(...r):t}let t=Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(n).map(e=>`"${e}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,D),t}function B(e){return f?null:e instanceof Node?e.ownerDocument:null!=e&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}var z=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");function L(e=document.body){return null==e?[]:Array.from(e.querySelectorAll(z)).sort((e,n)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}function G(e,n=0){var r;return e!==(null==(r=B(e))?void 0:r.body)&&D(n,{0:()=>e.matches(z),1(){let n=e;for(;null!==n;){if(n.matches(z))return!0;n=n.parentElement}return!1}})}function W(e){let n=B(e);S().nextFrame(()=>{n&&!G(n.activeElement,0)&&U(e)})}function U(e){null==e||e.focus({preventScroll:!0})}function H(e,n=e=>e){return e.slice().sort((e,r)=>{let t=n(e),i=n(r);if(null===t||null===i)return 0;let s=t.compareDocumentPosition(i);return s&Node.DOCUMENT_POSITION_FOLLOWING?-1:s&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function q(e,n,{sorted:r=!0,relativeTo:t=null,skipElements:i=[]}={}){var s,l,o;let a=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,d=Array.isArray(e)?r?H(e):e:L(e);i.length>0&&(d=d.filter(e=>!i.includes(e))),t=null!=t?t:a.activeElement;let c=(()=>{if(5&n)return 1;if(10&n)return -1;throw Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),h=(()=>{if(1&n)return 0;if(2&n)return Math.max(0,d.indexOf(t))-1;if(4&n)return Math.max(0,d.indexOf(t))+1;if(8&n)return d.length-1;throw Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=32&n?{preventScroll:!0}:{},p=0,x=d.length,m;do{if(p>=x||p+x<=0)return 0;let e=h+p;if(16&n)e=(e+x)%x;else{if(e<0)return 3;if(e>=x)return 1}null==(m=d[e])||m.focus(u),p+=c}while(m!==a.activeElement);return 6&n&&null!=(o=null==(l=null==(s=m)?void 0:s.matches)?void 0:l.call(s,"textarea,input"))&&o&&m.select(),m.hasAttribute("tabindex")||m.setAttribute("tabindex","0"),2}var X=r("6171");function V(e,n,r){let t=b(n);(0,X.useEffect)(()=>{function n(e){t.current(e)}return document.addEventListener(e,n,r),()=>document.removeEventListener(e,n,r)},[e,r])}function $(e,n,r=!0){let t=(0,A.useRef)(!1);function i(r,i){if(!t.current||r.defaultPrevented)return;let s=function e(n){return"function"==typeof n?e(n()):Array.isArray(n)||n instanceof Set?n:[n]}(e),l=i(r);if(null!==l&&l.getRootNode().contains(l)){for(let e of s){if(null===e)continue;let n=e instanceof HTMLElement?e:e.current;if(null!=n&&n.contains(l)||r.composed&&r.composedPath().includes(n))return}return G(l,1)||-1===l.tabIndex||r.preventDefault(),n(r,l)}}(0,A.useEffect)(()=>{requestAnimationFrame(()=>{t.current=r})},[r]);let s=(0,A.useRef)(null);V("mousedown",e=>{var n,r;t.current&&(s.current=(null==(r=null==(n=e.composedPath)?void 0:n.call(e))?void 0:r[0])||e.target)},!0),V("click",e=>{s.current&&(i(e,()=>s.current),s.current=null)},!0),V("blur",e=>i(e,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var J=r("6171");function Y(e){var n;if(e.type)return e.type;let r=null!=(n=e.as)?n:"button";if("string"==typeof r&&"button"===r.toLowerCase())return"button"}function Q(e,n){let[r,t]=(0,J.useState)(()=>Y(e));return j(()=>{t(Y(e))},[e.type,e.as]),j(()=>{r||!n.current||n.current instanceof HTMLButtonElement&&!n.current.hasAttribute("type")&&t("button")},[r,n]),r}var K=r("6171"),Z=Symbol();function ee(e,n=!0){return Object.assign(e,{[Z]:n})}function en(...e){let n=(0,K.useRef)(e);(0,K.useEffect)(()=>{n.current=e},[e]);let r=P(e=>{for(let r of n.current)null!=r&&("function"==typeof r?r(e):r.current=e)});return e.every(e=>null==e||(null==e?void 0:e[Z]))?void 0:r}var er=r("6171");function et({container:e,accept:n,walk:r,enabled:t=!0}){let i=(0,er.useRef)(n),s=(0,er.useRef)(r);(0,er.useEffect)(()=>{i.current=n,s.current=r},[n,r]),j(()=>{if(!e||!t)return;let n=B(e);if(!n)return;let r=i.current,l=s.current,o=Object.assign(e=>r(e),{acceptNode:r}),a=n.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,o,!1);for(;a.nextNode();)l(a.currentNode)},[e,t,i,s])}function ei(e,n){let r=n.resolveItems();if(r.length<=0)return null;let t=n.resolveActiveIndex(),i=null!=t?t:-1,s=(()=>{switch(e.focus){case 0:return r.findIndex(e=>!n.resolveDisabled(e));case 1:{let e=r.slice().reverse().findIndex((e,r,t)=>(-1===i||!(t.length-r-1>=i))&&!n.resolveDisabled(e));return -1===e?e:r.length-1-e}case 2:return r.findIndex((e,r)=>!(r<=i)&&!n.resolveDisabled(e));case 3:{let e=r.slice().reverse().findIndex(e=>!n.resolveDisabled(e));return -1===e?e:r.length-1-e}case 4:return r.findIndex(r=>n.resolveId(r)===e.id);case 5:return null;default:!function(e){throw Error("Unexpected object: "+e)}(e)}})();return -1===s?t:s}var es=r("6171");function el({ourProps:e,theirProps:n,slot:r,defaultTag:t,features:i,visible:s=!0,name:l}){let o=ea(n,e);if(s)return eo(o,r,t,l);let a=null!=i?i:0;if(2&a){let{static:e=!1,...n}=o;if(e)return eo(n,r,t,l)}if(1&a){let{unmount:e=!0,...n}=o;return D(e?0:1,{0:()=>null,1:()=>eo({...n,hidden:!0,style:{display:"none"}},r,t,l)})}return eo(o,r,t,l)}function eo(e,n={},r,t){let{as:i=r,children:s,refName:l="ref",...o}=eh(e,["unmount","static"]),a=void 0!==e.ref?{[l]:e.ref}:{},d="function"==typeof s?s(n):s;o.className&&"function"==typeof o.className&&(o.className=o.className(n));let c={};if(n){let e=!1,r=[];for(let[t,i]of Object.entries(n))"boolean"==typeof i&&(e=!0),!0===i&&r.push(t);e&&(c["data-headlessui-state"]=r.join(" "))}if(i===es.Fragment&&Object.keys(ec(o)).length>0){if(!(0,es.isValidElement)(d)||Array.isArray(d)&&d.length>1)throw Error(['Passing props on "Fragment"!',"",`The current component <${t} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(o).map(e=>`  - ${e}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(e=>`  - ${e}`).join(`
`)].join(`
`));return(0,es.cloneElement)(d,Object.assign({},ea(d.props,ec(eh(o,["ref"]))),c,a,function(...e){return{ref:e.every(e=>null==e)?void 0:n=>{for(let r of e)null!=r&&("function"==typeof r?r(n):r.current=n)}}}(d.ref,a.ref)))}return(0,es.createElement)(i,Object.assign({},eh(o,["ref"]),i!==es.Fragment&&a,i!==es.Fragment&&c),d)}function ea(...e){var n;if(0===e.length)return{};if(1===e.length)return e[0];let r={},t={};for(let n of e)for(let e in n)e.startsWith("on")&&"function"==typeof n[e]?(null!=t[e]||(t[e]=[]),t[e].push(n[e])):r[e]=n[e];if(r.disabled||r["aria-disabled"])return Object.assign(r,Object.fromEntries(Object.keys(t).map(e=>[e,void 0])));for(let e in t)Object.assign(r,{[e](n,...r){for(let i of t[e]){if((n instanceof Event||(null==n?void 0:n.nativeEvent)instanceof Event)&&n.defaultPrevented)return;i(n,...r)}}});return r}function ed(e){var n;return Object.assign((0,es.forwardRef)(e),{displayName:null!=(n=e.displayName)?n:e.name})}function ec(e){let n=Object.assign({},e);for(let e in n)void 0===n[e]&&delete n[e];return n}function eh(e,n=[]){let r=Object.assign({},e);for(let e of n)e in r&&delete r[e];return r}function eu(e){let n=e.parentElement,r=null;for(;n&&!(n instanceof HTMLFieldSetElement);)n instanceof HTMLLegendElement&&(r=n),n=n.parentElement;let t=(null==n?void 0:n.getAttribute("disabled"))==="";return!(t&&function(e){if(!e)return!1;let n=e.previousElementSibling;for(;null!==n;){if(n instanceof HTMLLegendElement)return!1;n=n.previousElementSibling}return!0}(r))&&t}function ep(e={},n=null,r=[]){for(let[t,i]of Object.entries(e))(function e(n,r,t){if(Array.isArray(t))for(let[i,s]of t.entries())e(n,ex(r,i.toString()),s);else t instanceof Date?n.push([r,t.toISOString()]):"boolean"==typeof t?n.push([r,t?"1":"0"]):"string"==typeof t?n.push([r,t]):"number"==typeof t?n.push([r,`${t}`]):null==t?n.push([r,""]):ep(t,r,n)})(r,ex(n,t),i);return r}function ex(e,n){return e?e+"["+n+"]":n}function em(e){var n;let r=null!=(n=null==e?void 0:e.form)?n:e.closest("form");if(r){for(let e of r.elements)if("INPUT"===e.tagName&&"submit"===e.type||"BUTTON"===e.tagName&&"submit"===e.type||"INPUT"===e.nodeName&&"image"===e.type){e.click();return}}}var ef=ed(function(e,n){let{features:r=1,...t}=e;return el({ourProps:{ref:n,"aria-hidden":(2&r)==2||void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(4&r)==4&&(2&r)!=2&&{display:"none"}}},theirProps:t,slot:{},defaultTag:"div",name:"Hidden"})}),ej=h(r("6171"),1),eg=(0,ej.createContext)(null);function eb(){return(0,ej.useContext)(eg)}function ev({value:e,children:n}){return ej.default.createElement(eg.Provider,{value:e},n)}eg.displayName="OpenClosedContext";var ey=r("6171");function ew(e,n,r){let[t,i]=(0,ey.useState)(r),s=void 0!==e,l=(0,ey.useRef)(s),o=(0,ey.useRef)(!1),a=(0,ey.useRef)(!1);return!s||l.current||o.current?s||!l.current||a.current||(a.current=!0,l.current=s,console.error("A component is changing from controlled to uncontrolled. This may be caused by the value changing from a defined value to undefined, which should not happen.")):(o.current=!0,l.current=s,console.error("A component is changing from uncontrolled to controlled. This may be caused by the value changing from undefined to a defined value, which should not happen.")),[s?e:t,P(e=>(s||i(e),null==n?void 0:n(e)))]}var eS=r("6171");function ek(e,n){let r=(0,eS.useRef)([]),t=P(e);(0,eS.useEffect)(()=>{let e=[...r.current];for(let[i,s]of n.entries())if(r.current[i]!==s){let i=t(n,e);return r.current=n,i}},[t,...n])}var e_=r("6171");function eP(e){return[e.screenX,e.screenY]}function eE(){let e=(0,e_.useRef)([-1,-1]);return{wasMoved(n){let r=eP(n);return(e.current[0]!==r[0]||e.current[1]!==r[1])&&(e.current=r,!0)},update(n){e.current=eP(n)}}}function eF(e,n=e=>e){let r=null!==e.activeOptionIndex?e.options[e.activeOptionIndex]:null,t=H(n(e.options.slice()),e=>e.dataRef.current.domRef.current),i=r?t.indexOf(r):null;return -1===i&&(i=null),{options:t,activeOptionIndex:i}}var eN={1:e=>e.dataRef.current.disabled||1===e.comboboxState?e:{...e,activeOptionIndex:null,comboboxState:1},0(e){if(e.dataRef.current.disabled||0===e.comboboxState)return e;let n=e.activeOptionIndex,{isSelected:r}=e.dataRef.current,t=e.options.findIndex(e=>r(e.dataRef.current.value));return -1!==t&&(n=t),{...e,comboboxState:0,activeOptionIndex:n}},2(e,n){var r;if(e.dataRef.current.disabled||e.dataRef.current.optionsRef.current&&!e.dataRef.current.optionsPropsRef.current.static&&1===e.comboboxState)return e;let t=eF(e);if(null===t.activeOptionIndex){let e=t.options.findIndex(e=>!e.dataRef.current.disabled);-1!==e&&(t.activeOptionIndex=e)}let i=ei(n,{resolveItems:()=>t.options,resolveActiveIndex:()=>t.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...e,...t,activeOptionIndex:i,activationTrigger:null!=(r=n.trigger)?r:1}},3:(e,n)=>{let r={id:n.id,dataRef:n.dataRef},t=eF(e,e=>[...e,r]);null===e.activeOptionIndex&&e.dataRef.current.isSelected(n.dataRef.current.value)&&(t.activeOptionIndex=t.options.indexOf(r));let i={...e,...t,activationTrigger:1};return e.dataRef.current.__demoMode&&void 0===e.dataRef.current.value&&(i.activeOptionIndex=0),i},4:(e,n)=>{let r=eF(e,e=>{let r=e.findIndex(e=>e.id===n.id);return -1!==r&&e.splice(r,1),e});return{...e,...r,activationTrigger:1}},5:(e,n)=>({...e,labelId:n.id})},eT=(0,p.createContext)(null);function eR(e){let n=(0,p.useContext)(eT);if(null===n){let n=Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,eR),n}return n}eT.displayName="ComboboxActionsContext";var eC=(0,p.createContext)(null);function eM(e){let n=(0,p.useContext)(eC);if(null===n){let n=Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,eM),n}return n}function eO(e,n){return D(n.type,eN,e,n)}eC.displayName="ComboboxDataContext";var eI=p.Fragment,eA=Object.assign(ed(function(e,n){let{value:r,defaultValue:t,onChange:i,name:s,by:l=(e,n)=>e===n,disabled:o=!1,__demoMode:a=!1,nullable:d=!1,multiple:c=!1,...h}=e,[u=c?[]:void 0,x]=ew(r,i,t),[m,f]=(0,p.useReducer)(eO,{dataRef:(0,p.createRef)(),comboboxState:a?0:1,options:[],activeOptionIndex:null,activationTrigger:1,labelId:null}),g=(0,p.useRef)(!1),b=(0,p.useRef)({static:!1,hold:!1}),v=(0,p.useRef)(null),y=(0,p.useRef)(null),w=(0,p.useRef)(null),S=(0,p.useRef)(null),_=P("string"==typeof l?(e,n)=>(null==e?void 0:e[l])===(null==n?void 0:n[l]):l),E=(0,p.useCallback)(e=>D(F.mode,{1:()=>u.some(n=>_(n,e)),0:()=>_(u,e)}),[u]),F=(0,p.useMemo)(()=>({...m,optionsPropsRef:b,labelRef:v,inputRef:y,buttonRef:w,optionsRef:S,value:u,defaultValue:t,disabled:o,mode:c?1:0,get activeOptionIndex(){if(g.current&&null===m.activeOptionIndex&&m.options.length>0){let e=m.options.findIndex(e=>!e.dataRef.current.disabled);if(-1!==e)return e}return m.activeOptionIndex},compare:_,isSelected:E,nullable:d,__demoMode:a}),[u,t,o,c,d,a,m]);j(()=>{m.dataRef.current=F},[F]),$([F.buttonRef,F.inputRef,F.optionsRef],()=>z.closeCombobox(),0===F.comboboxState);let N=(0,p.useMemo)(()=>({open:0===F.comboboxState,disabled:o,activeIndex:F.activeOptionIndex,activeOption:null===F.activeOptionIndex?null:F.options[F.activeOptionIndex].dataRef.current.value,value:u}),[F,o,u]),T=P(e=>{let n=F.options.find(n=>n.id===e);n&&B(n.dataRef.current.value)}),R=P(()=>{if(null!==F.activeOptionIndex){let{dataRef:e,id:n}=F.options[F.activeOptionIndex];B(e.current.value),z.goToOption(4,n)}}),C=P(()=>{f({type:0}),g.current=!0}),M=P(()=>{f({type:1}),g.current=!1}),O=P((e,n,r)=>(g.current=!1,4===e?f({type:2,focus:4,id:n,trigger:r}):f({type:2,focus:e,trigger:r}))),I=P((e,n)=>(f({type:3,id:e,dataRef:n}),()=>f({type:4,id:e}))),A=P(e=>(f({type:5,id:e}),()=>f({type:5,id:null}))),B=P(e=>D(F.mode,{0:()=>null==x?void 0:x(e),1(){let n=F.value.slice(),r=n.findIndex(n=>_(n,e));return -1===r?n.push(e):n.splice(r,1),null==x?void 0:x(n)}})),z=(0,p.useMemo)(()=>({onChange:B,registerOption:I,registerLabel:A,goToOption:O,closeCombobox:M,openCombobox:C,selectActiveOption:R,selectOption:T}),[]),L=(0,p.useRef)(null),G=k();return(0,p.useEffect)(()=>{L.current&&void 0!==t&&G.addEventListener(L.current,"reset",()=>{B(t)})},[L,B]),p.default.createElement(eT.Provider,{value:z},p.default.createElement(eC.Provider,{value:F},p.default.createElement(ev,{value:D(F.comboboxState,{0:0,1:1})},null!=s&&null!=u&&ep({[s]:u}).map(([e,n],r)=>p.default.createElement(ef,{features:4,ref:0===r?e=>{var n;L.current=null!=(n=null==e?void 0:e.closest("form"))?n:null}:void 0,...ec({key:e,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:e,value:n})})),el({ourProps:null===n?{}:{ref:n},theirProps:h,slot:N,defaultTag:eI,name:"Combobox"}))))}),{Input:ed(function(e,n){var r,t,i,s,l;let o=I(),{id:a=`headlessui-combobox-input-${o}`,onChange:d,displayValue:c,type:h="text",...u}=e,x=eM("Combobox.Input"),m=eR("Combobox.Input"),f=en(x.inputRef,n),j=(0,p.useRef)(!1),g=k();ek(([e,n],[r,t])=>{j.current||!x.inputRef.current||(0===t&&1===n||e!==r)&&(x.inputRef.current.value=e)},["function"==typeof c&&void 0!==x.value?null!=(l=c(x.value))?l:"":"string"==typeof x.value?x.value:"",x.comboboxState]);let b=(0,p.useRef)(!1),y=P(()=>{b.current=!0}),w=P(()=>{setTimeout(()=>{b.current=!1})}),S=P(e=>{switch(j.current=!0,e.key){case"Backspace":case"Delete":if(0!==x.mode||!x.nullable)return;let n=e.currentTarget;g.requestAnimationFrame(()=>{""===n.value&&(m.onChange(null),x.optionsRef.current&&(x.optionsRef.current.scrollTop=0),m.goToOption(5))});break;case"Enter":if(j.current=!1,0!==x.comboboxState||b.current)return;if(e.preventDefault(),e.stopPropagation(),null===x.activeOptionIndex){m.closeCombobox();return}m.selectActiveOption(),0===x.mode&&m.closeCombobox();break;case"ArrowDown":return j.current=!1,e.preventDefault(),e.stopPropagation(),D(x.comboboxState,{0:()=>{m.goToOption(2)},1:()=>{m.openCombobox()}});case"ArrowUp":return j.current=!1,e.preventDefault(),e.stopPropagation(),D(x.comboboxState,{0:()=>{m.goToOption(1)},1:()=>{m.openCombobox(),g.nextFrame(()=>{x.value||m.goToOption(3)})}});case"Home":if(e.shiftKey)break;return j.current=!1,e.preventDefault(),e.stopPropagation(),m.goToOption(0);case"PageUp":return j.current=!1,e.preventDefault(),e.stopPropagation(),m.goToOption(0);case"End":if(e.shiftKey)break;return j.current=!1,e.preventDefault(),e.stopPropagation(),m.goToOption(3);case"PageDown":return j.current=!1,e.preventDefault(),e.stopPropagation(),m.goToOption(3);case"Escape":return j.current=!1,0!==x.comboboxState?void 0:(e.preventDefault(),x.optionsRef.current&&!x.optionsPropsRef.current.static&&e.stopPropagation(),m.closeCombobox());case"Tab":if(j.current=!1,0!==x.comboboxState)return;0===x.mode&&m.selectActiveOption(),m.closeCombobox()}}),_=P(e=>{m.openCombobox(),null==d||d(e)}),E=P(()=>{j.current=!1}),F=v(()=>{if(x.labelId)return[x.labelId].join(" ")},[x.labelId]),N=(0,p.useMemo)(()=>({open:0===x.comboboxState,disabled:x.disabled}),[x]);return el({ourProps:{ref:f,id:a,role:"combobox",type:h,"aria-controls":null==(r=x.optionsRef.current)?void 0:r.id,"aria-expanded":x.disabled?void 0:0===x.comboboxState,"aria-activedescendant":null===x.activeOptionIndex||null==(t=x.options[x.activeOptionIndex])?void 0:t.id,"aria-multiselectable":1===x.mode||void 0,"aria-labelledby":F,defaultValue:null!=(s=null!=(i=e.defaultValue)?i:void 0!==x.defaultValue?null==c?void 0:c(x.defaultValue):null)?s:x.defaultValue,disabled:x.disabled,onCompositionStart:y,onCompositionEnd:w,onKeyDown:S,onChange:_,onBlur:E},theirProps:u,slot:N,defaultTag:"input",name:"Combobox.Input"})}),Button:ed(function(e,n){var r;let t=eM("Combobox.Button"),i=eR("Combobox.Button"),s=en(t.buttonRef,n),l=I(),{id:o=`headlessui-combobox-button-${l}`,...a}=e,d=k(),c=P(e=>{switch(e.key){case"ArrowDown":return e.preventDefault(),e.stopPropagation(),1===t.comboboxState&&i.openCombobox(),d.nextFrame(()=>{var e;return null==(e=t.inputRef.current)?void 0:e.focus({preventScroll:!0})});case"ArrowUp":return e.preventDefault(),e.stopPropagation(),1===t.comboboxState&&(i.openCombobox(),d.nextFrame(()=>{t.value||i.goToOption(3)})),d.nextFrame(()=>{var e;return null==(e=t.inputRef.current)?void 0:e.focus({preventScroll:!0})});case"Escape":return 0!==t.comboboxState?void 0:(e.preventDefault(),t.optionsRef.current&&!t.optionsPropsRef.current.static&&e.stopPropagation(),i.closeCombobox(),d.nextFrame(()=>{var e;return null==(e=t.inputRef.current)?void 0:e.focus({preventScroll:!0})}));default:return}}),h=P(e=>{if(eu(e.currentTarget))return e.preventDefault();0===t.comboboxState?i.closeCombobox():(e.preventDefault(),i.openCombobox()),d.nextFrame(()=>{var e;return null==(e=t.inputRef.current)?void 0:e.focus({preventScroll:!0})})}),u=v(()=>{if(t.labelId)return[t.labelId,o].join(" ")},[t.labelId,o]),x=(0,p.useMemo)(()=>({open:0===t.comboboxState,disabled:t.disabled,value:t.value}),[t]);return el({ourProps:{ref:s,id:o,type:Q(e,t.buttonRef),tabIndex:-1,"aria-haspopup":"listbox","aria-controls":null==(r=t.optionsRef.current)?void 0:r.id,"aria-expanded":t.disabled?void 0:0===t.comboboxState,"aria-labelledby":u,disabled:t.disabled,onClick:h,onKeyDown:c},theirProps:a,slot:x,defaultTag:"button",name:"Combobox.Button"})}),Label:ed(function(e,n){let r=I(),{id:t=`headlessui-combobox-label-${r}`,...i}=e,s=eM("Combobox.Label"),l=eR("Combobox.Label"),o=en(s.labelRef,n);return j(()=>l.registerLabel(t),[t]),el({ourProps:{ref:o,id:t,onClick:P(()=>{var e;return null==(e=s.inputRef.current)?void 0:e.focus({preventScroll:!0})})},theirProps:i,slot:(0,p.useMemo)(()=>({open:0===s.comboboxState,disabled:s.disabled}),[s]),defaultTag:"label",name:"Combobox.Label"})}),Options:ed(function(e,n){var r;let t=I(),{id:i=`headlessui-combobox-options-${t}`,hold:s=!1,...l}=e,o=eM("Combobox.Options"),a=en(o.optionsRef,n),d=eb(),c=null!==d?0===d:0===o.comboboxState;j(()=>{var n;o.optionsPropsRef.current.static=null!=(n=e.static)&&n},[o.optionsPropsRef,e.static]),j(()=>{o.optionsPropsRef.current.hold=s},[o.optionsPropsRef,s]),et({container:o.optionsRef.current,enabled:0===o.comboboxState,accept:e=>"option"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let h=v(()=>{var e,n;return null!=(n=o.labelId)?n:null==(e=o.buttonRef.current)?void 0:e.id},[o.labelId,o.buttonRef.current]),u=(0,p.useMemo)(()=>({open:0===o.comboboxState}),[o]);return el({ourProps:{"aria-activedescendant":null===o.activeOptionIndex||null==(r=o.options[o.activeOptionIndex])?void 0:r.id,"aria-labelledby":h,role:"listbox",id:i,ref:a},theirProps:l,slot:u,defaultTag:"ul",features:3,visible:c,name:"Combobox.Options"})}),Option:ed(function(e,n){var r,t;let i=I(),{id:s=`headlessui-combobox-option-${i}`,disabled:l=!1,value:o,...a}=e,d=eM("Combobox.Option"),c=eR("Combobox.Option"),h=null!==d.activeOptionIndex&&d.options[d.activeOptionIndex].id===s,u=d.isSelected(o),x=(0,p.useRef)(null),m=b({disabled:l,value:o,domRef:x,textValue:null==(t=null==(r=x.current)?void 0:r.textContent)?void 0:t.toLowerCase()}),f=en(n,x),g=P(()=>c.selectOption(s));j(()=>c.registerOption(s,m),[m,s]);let v=(0,p.useRef)(!d.__demoMode);j(()=>{if(!d.__demoMode)return;let e=S();return e.requestAnimationFrame(()=>{v.current=!0}),e.dispose},[]),j(()=>{if(0!==d.comboboxState||!h||!v.current||0===d.activationTrigger)return;let e=S();return e.requestAnimationFrame(()=>{var e,n;null==(n=null==(e=x.current)?void 0:e.scrollIntoView)||n.call(e,{block:"nearest"})}),e.dispose},[x,h,d.comboboxState,d.activationTrigger,d.activeOptionIndex]);let y=P(e=>{if(l)return e.preventDefault();g(),0===d.mode&&c.closeCombobox()}),w=P(()=>{if(l)return c.goToOption(5);c.goToOption(4,s)}),k=eE(),_=P(e=>k.update(e)),E=P(e=>{!k.wasMoved(e)||l||h||c.goToOption(4,s,0)}),F=P(e=>{!k.wasMoved(e)||l||!h||d.optionsPropsRef.current.hold||c.goToOption(5)}),N=(0,p.useMemo)(()=>({active:h,selected:u,disabled:l}),[h,u,l]);return el({ourProps:{id:s,ref:f,role:"option",tabIndex:!0===l?void 0:-1,"aria-disabled":!0===l||void 0,"aria-selected":u,disabled:void 0,onClick:y,onFocus:w,onPointerEnter:_,onMouseEnter:_,onPointerMove:E,onMouseMove:E,onPointerLeave:F,onMouseLeave:F},theirProps:a,slot:N,defaultTag:"li",name:"Combobox.Option"})})}),eD=h(r("6171"),1),eB=h(r("6171"),1),ez=r("6171"),eL=r("6171");function eG(){var e,n;let r,t=(0,ez.useRef)(0);return e="keydown",n=!0,r=b(e=>{"Tab"===e.key&&(t.current=e.shiftKey?1:0)}),(0,eL.useEffect)(()=>{function t(e){r.current(e)}return window.addEventListener(e,t,n),()=>window.removeEventListener(e,t,n)},[e,n]),t}var eW=r("6171");function eU(){let e=(0,eW.useRef)(!1);return j(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var eH=r("6171");function eq(...e){return(0,eH.useMemo)(()=>B(...e),[...e])}var eX=r("6171");function eV(e,n,r,t){let i=b(r);(0,eX.useEffect)(()=>{function r(e){i.current(e)}return(e=null!=e?e:window).addEventListener(n,r,t),()=>e.removeEventListener(n,r,t)},[e,n,t])}var e$=(t=e$||{},t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t),eJ=Object.assign(ed(function(e,n){let r=(0,eB.useRef)(null),t=en(r,n),{initialFocus:i,containers:s,features:l=30,...o}=e;T()||(l=1);let a=eq(r);(function({ownerDocument:e},n){let r=(0,eB.useRef)(null);eV(null==e?void 0:e.defaultView,"focusout",e=>{!n||r.current||(r.current=e.target)},!0),ek(()=>{n||((null==e?void 0:e.activeElement)===(null==e?void 0:e.body)&&U(r.current),r.current=null)},[n]);let t=(0,eB.useRef)(!1);(0,eB.useEffect)(()=>(t.current=!1,()=>{t.current=!0,w(()=>{t.current&&(U(r.current),r.current=null)})}),[])})({ownerDocument:a},!!(16&l));let d=function({ownerDocument:e,container:n,initialFocus:r},t){let i=(0,eB.useRef)(null),s=eU();return ek(()=>{if(!t)return;let l=n.current;l&&w(()=>{if(!s.current)return;let n=null==e?void 0:e.activeElement;if(null!=r&&r.current){if((null==r?void 0:r.current)===n){i.current=n;return}}else if(l.contains(n)){i.current=n;return}null!=r&&r.current?U(r.current):0===q(l,1)&&console.warn("There are no focusable elements inside the <FocusTrap />"),i.current=null==e?void 0:e.activeElement})},[t]),i}({ownerDocument:a,container:r,initialFocus:i},!!(2&l));(function({ownerDocument:e,container:n,containers:r,previousActiveElement:t},i){let s=eU();eV(null==e?void 0:e.defaultView,"focus",e=>{if(!i||!s.current)return;let l=new Set(null==r?void 0:r.current);l.add(n);let o=t.current;if(!o)return;let a=e.target;a&&a instanceof HTMLElement?eY(l,a)?(t.current=a,U(a)):(e.preventDefault(),e.stopPropagation(),U(o)):U(t.current)},!0)})({ownerDocument:a,container:r,containers:s,previousActiveElement:d},!!(8&l));let c=eG(),h=P(e=>{let n=r.current;if(n){var t;t=()=>{D(c.current,{0:()=>q(n,1,{skipElements:[e.relatedTarget]}),1:()=>q(n,8,{skipElements:[e.relatedTarget]})})},t()}}),u=k(),p=(0,eB.useRef)(!1);return eB.default.createElement(eB.default.Fragment,null,!!(4&l)&&eB.default.createElement(ef,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:2}),el({ourProps:{ref:t,onKeyDown(e){"Tab"==e.key&&(p.current=!0,u.requestAnimationFrame(()=>{p.current=!1}))},onBlur(e){let n=new Set(null==s?void 0:s.current);n.add(r);let t=e.relatedTarget;!t||"true"!==t.dataset.headlessuiFocusGuard&&(eY(n,t)||(p.current?q(r.current,16|D(c.current,{0:()=>4,1:()=>2}),{relativeTo:e.target}):e.target instanceof HTMLElement&&U(e.target)))}},theirProps:o,defaultTag:"div",name:"FocusTrap"}),!!(4&l)&&eB.default.createElement(ef,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:2}))}),{features:e$});function eY(e,n){var r;for(let t of e)if(null!=(r=t.current)&&r.contains(n))return!0;return!1}var eQ=new Set,eK=new Map;function eZ(e){e.setAttribute("aria-hidden","true"),e.inert=!0}function e0(e){let n=eK.get(e);n&&(null===n["aria-hidden"]?e.removeAttribute("aria-hidden"):e.setAttribute("aria-hidden",n["aria-hidden"]),e.inert=n.inert)}var e2=h(r("6171"),1),e1=r("11167"),e3=h(r("6171"),1),e4=(0,e3.createContext)(!1);function e8(e){return e3.default.createElement(e4.Provider,{value:e.force},e.children)}var e6=e2.Fragment,e5=ed(function(e,n){let r=(0,e2.useRef)(null),t=en(ee(e=>{r.current=e}),n),i=eq(r),s=function(e){let n=(0,e3.useContext)(e4),r=(0,e2.useContext)(e7),t=eq(e),[i,s]=(0,e2.useState)(()=>{if(!n&&null!==r||f)return null;let e=null==t?void 0:t.getElementById("headlessui-portal-root");if(e)return e;if(null===t)return null;let i=t.createElement("div");return i.setAttribute("id","headlessui-portal-root"),t.body.appendChild(i)});return(0,e2.useEffect)(()=>{null!==i&&(null!=t&&t.body.contains(i)||null==t||t.body.appendChild(i))},[i,t]),(0,e2.useEffect)(()=>{n||null!==r&&s(r.current)},[r,s,n]),i}(r),[l]=(0,e2.useState)(()=>{var e;return f?null:null!=(e=null==i?void 0:i.createElement("div"))?e:null}),o=T(),a=(0,e2.useRef)(!1);return j(()=>{if(a.current=!1,!(!s||!l))return s.contains(l)||(l.setAttribute("data-headlessui-portal",""),s.appendChild(l)),()=>{a.current=!0,w(()=>{var e;a.current&&s&&l&&(s.removeChild(l),s.childNodes.length<=0&&(null==(e=s.parentElement)||e.removeChild(s)))})}},[s,l]),o&&s&&l?(0,e1.createPortal)(el({ourProps:{ref:t},theirProps:e,defaultTag:e6,name:"Portal"}),l):null}),e9=e2.Fragment,e7=(0,e2.createContext)(null),ne=Object.assign(e5,{Group:ed(function(e,n){let{target:r,...t}=e,i={ref:en(n)};return e2.default.createElement(e7.Provider,{value:r},el({ourProps:i,theirProps:t,defaultTag:e9,name:"Popover.Group"}))})}),nn=h(r("6171"),1),nr=(0,nn.createContext)(null);function nt(){let[e,n]=(0,nn.useState)([]);return[e.length>0?e.join(" "):void 0,(0,nn.useMemo)(()=>function(e){let r=P(e=>(n(n=>[...n,e]),()=>n(n=>{let r=n.slice(),t=r.indexOf(e);return -1!==t&&r.splice(t,1),r}))),t=(0,nn.useMemo)(()=>({register:r,slot:e.slot,name:e.name,props:e.props}),[r,e.slot,e.name,e.props]);return nn.default.createElement(nr.Provider,{value:t},e.children)},[n])]}var ni=ed(function(e,n){let r=I(),{id:t=`headlessui-description-${r}`,...i}=e,s=function e(){let n=(0,nn.useContext)(nr);if(null===n){let n=Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(n,e),n}return n}(),l=en(n);return j(()=>s.register(t),[t,s.register]),el({ourProps:{ref:l,...s.props,id:t},theirProps:i,slot:s.slot||{},defaultTag:"p",name:s.name||"Description"})}),ns=h(r("6171"),1),nl=(0,ns.createContext)(()=>{});nl.displayName="StackContext";function no({children:e,onUpdate:n,type:r,element:t,enabled:i}){let s=(0,ns.useContext)(nl),l=P((...e)=>{null==n||n(...e),s(...e)});return j(()=>{let e=void 0===i||!0===i;return e&&l(0,r,t),()=>{e&&l(1,r,t)}},[l,r,t,i]),ns.default.createElement(nl.Provider,{value:l},e)}var na={0:(e,n)=>e.titleId===n.id?e:{...e,titleId:n.id}},nd=(0,eD.createContext)(null);function nc(e){let n=(0,eD.useContext)(nd);if(null===n){let n=Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,nc),n}return n}nd.displayName="DialogContext";function nh(e,n){return D(n.type,na,e,n)}var nu=ed(function(e,n){let r=I(),{id:t=`headlessui-dialog-${r}`,open:i,onClose:s,initialFocus:l,__demoMode:o=!1,...a}=e,[d,c]=(0,eD.useState)(0),h=eb();void 0===i&&null!==h&&(i=D(h,{0:!0,1:!1}));let u=(0,eD.useRef)(new Set),p=(0,eD.useRef)(null),x=en(p,n),m=(0,eD.useRef)(null),f=eq(p),g=e.hasOwnProperty("open")||null!==h,b=e.hasOwnProperty("onClose");if(!g&&!b)throw Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!g)throw Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!b)throw Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if("boolean"!=typeof i)throw Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${i}`);if("function"!=typeof s)throw Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${s}`);let v=i?0:1,[y,w]=(0,eD.useReducer)(nh,{titleId:null,descriptionId:null,panelRef:(0,eD.createRef)()}),k=P(()=>s(!1)),_=P(e=>w({type:0,id:e})),E=!!T()&&!o&&0===v,F=d>1,N=null!==(0,eD.useContext)(nd),R=F?"parent":"leaf";!function(e,n=!0){j(()=>{if(!n||!e.current)return;let r=e.current,t=B(r);if(t){for(let e of(eQ.add(r),eK.keys()))e.contains(r)&&(e0(e),eK.delete(e));return t.querySelectorAll("body > *").forEach(e=>{if(e instanceof HTMLElement){for(let n of eQ)if(e.contains(n))return;1===eQ.size&&(eK.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),eZ(e))}}),()=>{if(eQ.delete(r),eQ.size>0)t.querySelectorAll("body > *").forEach(e=>{if(e instanceof HTMLElement&&!eK.has(e)){for(let n of eQ)if(e.contains(n))return;eK.set(e,{"aria-hidden":e.getAttribute("aria-hidden"),inert:e.inert}),eZ(e)}});else for(let e of eK.keys())e0(e),eK.delete(e)}}},[n])}(p,!!F&&E);let C=P(()=>{var e,n;return[...Array.from(null!=(e=null==f?void 0:f.querySelectorAll("body > *, [data-headlessui-portal]"))?e:[]).filter(e=>!(!(e instanceof HTMLElement)||e.contains(m.current)||y.panelRef.current&&e.contains(y.panelRef.current))),null!=(n=y.panelRef.current)?n:p.current]});$(()=>C(),k,E&&!F),eV(null==f?void 0:f.defaultView,"keydown",e=>{e.defaultPrevented||"Escape"===e.key&&0===v&&(F||(e.preventDefault(),e.stopPropagation(),k()))}),function(e,n,r=()=>[document.body]){(0,eD.useEffect)(()=>{var t;if(!n||!e)return;let i=S(),s=window.pageYOffset;function l(e,n,r){let t=e.style.getPropertyValue(n);return Object.assign(e.style,{[n]:r}),i.add(()=>{Object.assign(e.style,{[n]:t})})}let o=e.documentElement,a=(null!=(t=e.defaultView)?t:window).innerWidth-o.clientWidth;if(l(o,"overflow","hidden"),a>0){let e=o.clientWidth-o.offsetWidth;l(o,"paddingRight",`${a-e}px`)}if(/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0){l(e.body,"marginTop",`-${s}px`),window.scrollTo(0,0);let n=null;i.addEventListener(e,"click",t=>{if(t.target instanceof HTMLElement)try{let i=t.target.closest("a");if(!i)return;let{hash:s}=new URL(i.href),l=e.querySelector(s);l&&!r().some(e=>e.contains(l))&&(n=l)}catch{}},!0),i.addEventListener(e,"touchmove",e=>{e.target instanceof HTMLElement&&!r().some(n=>n.contains(e.target))&&e.preventDefault()},{passive:!1}),i.add(()=>{window.scrollTo(0,window.pageYOffset+s),n&&n.isConnected&&(n.scrollIntoView({block:"nearest"}),n=null)})}return i.dispose},[e,n])}(f,0===v&&!N,C),(0,eD.useEffect)(()=>{if(0!==v||!p.current)return;let e=new IntersectionObserver(e=>{for(let n of e)0===n.boundingClientRect.x&&0===n.boundingClientRect.y&&0===n.boundingClientRect.width&&0===n.boundingClientRect.height&&k()});return e.observe(p.current),()=>e.disconnect()},[v,p,k]);let[M,O]=nt(),A=(0,eD.useMemo)(()=>[{dialogState:v,close:k,setTitleId:_},y],[v,y,k,_]),z=(0,eD.useMemo)(()=>({open:0===v}),[v]),L={ref:x,id:t,role:"dialog","aria-modal":0===v||void 0,"aria-labelledby":y.titleId,"aria-describedby":M};return eD.default.createElement(no,{type:"Dialog",enabled:0===v,element:p,onUpdate:P((e,n,r)=>{"Dialog"===n&&D(e,{0(){u.current.add(r),c(e=>e+1)},1(){u.current.add(r),c(e=>e-1)}})})},eD.default.createElement(e8,{force:!0},eD.default.createElement(ne,null,eD.default.createElement(nd.Provider,{value:A},eD.default.createElement(ne.Group,{target:p},eD.default.createElement(e8,{force:!1},eD.default.createElement(O,{slot:z,name:"Dialog.Description"},eD.default.createElement(eJ,{initialFocus:l,containers:u,features:E?D(R,{parent:eJ.features.RestoreFocus,leaf:eJ.features.All&~eJ.features.FocusLock}):eJ.features.None},el({ourProps:L,theirProps:a,slot:z,defaultTag:"div",features:3,visible:0===v,name:"Dialog"})))))))),eD.default.createElement(ef,{features:4,ref:m}))}),np=ed(function(e,n){let r=I(),{id:t=`headlessui-dialog-overlay-${r}`,...i}=e,[{dialogState:s,close:l}]=nc("Dialog.Overlay");return el({ourProps:{ref:en(n),id:t,"aria-hidden":!0,onClick:P(e=>{if(e.target===e.currentTarget){if(eu(e.currentTarget))return e.preventDefault();e.preventDefault(),e.stopPropagation(),l()}})},theirProps:i,slot:(0,eD.useMemo)(()=>({open:0===s}),[s]),defaultTag:"div",name:"Dialog.Overlay"})}),nx=Object.assign(nu,{Backdrop:ed(function(e,n){let r=I(),{id:t=`headlessui-dialog-backdrop-${r}`,...i}=e,[{dialogState:s},l]=nc("Dialog.Backdrop"),o=en(n);(0,eD.useEffect)(()=>{if(null===l.panelRef.current)throw Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[l.panelRef]);let a=(0,eD.useMemo)(()=>({open:0===s}),[s]);return eD.default.createElement(e8,{force:!0},eD.default.createElement(ne,null,el({ourProps:{ref:o,id:t,"aria-hidden":!0},theirProps:i,slot:a,defaultTag:"div",name:"Dialog.Backdrop"})))}),Panel:ed(function(e,n){let r=I(),{id:t=`headlessui-dialog-panel-${r}`,...i}=e,[{dialogState:s},l]=nc("Dialog.Panel"),o=en(n,l.panelRef),a=(0,eD.useMemo)(()=>({open:0===s}),[s]);return el({ourProps:{ref:o,id:t,onClick:P(e=>{e.stopPropagation()})},theirProps:i,slot:a,defaultTag:"div",name:"Dialog.Panel"})}),Overlay:np,Title:ed(function(e,n){let r=I(),{id:t=`headlessui-dialog-title-${r}`,...i}=e,[{dialogState:s,setTitleId:l}]=nc("Dialog.Title"),o=en(n);return(0,eD.useEffect)(()=>(l(t),()=>l(null)),[t,l]),el({ourProps:{ref:o,id:t},theirProps:i,slot:(0,eD.useMemo)(()=>({open:0===s}),[s]),defaultTag:"h2",name:"Dialog.Title"})}),Description:ni}),nm=h(r("6171"),1),nf={0:e=>({...e,disclosureState:D(e.disclosureState,{0:1,1:0})}),1:e=>1===e.disclosureState?e:{...e,disclosureState:1},4:e=>!0===e.linkedPanel?e:{...e,linkedPanel:!0},5:e=>!1===e.linkedPanel?e:{...e,linkedPanel:!1},2:(e,n)=>e.buttonId===n.buttonId?e:{...e,buttonId:n.buttonId},3:(e,n)=>e.panelId===n.panelId?e:{...e,panelId:n.panelId}},nj=(0,nm.createContext)(null);function ng(e){let n=(0,nm.useContext)(nj);if(null===n){let n=Error(`<${e} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ng),n}return n}nj.displayName="DisclosureContext";var nb=(0,nm.createContext)(null);nb.displayName="DisclosureAPIContext";var nv=(0,nm.createContext)(null);nv.displayName="DisclosurePanelContext";function ny(e,n){return D(n.type,nf,e,n)}var nw=nm.Fragment,nS=Object.assign(ed(function(e,n){let{defaultOpen:r=!1,...t}=e,i=(0,nm.useRef)(null),s=en(n,ee(e=>{i.current=e},void 0===e.as||e.as===nm.Fragment)),l=(0,nm.useRef)(null),o=(0,nm.useRef)(null),a=(0,nm.useReducer)(ny,{disclosureState:r?0:1,linkedPanel:!1,buttonRef:o,panelRef:l,buttonId:null,panelId:null}),[{disclosureState:d,buttonId:c},h]=a,u=P(e=>{h({type:1});let n=B(i);if(!n||!c)return;let r=e?e instanceof HTMLElement?e:e.current instanceof HTMLElement?e.current:n.getElementById(c):n.getElementById(c);null==r||r.focus()}),p=(0,nm.useMemo)(()=>({close:u}),[u]),x=(0,nm.useMemo)(()=>({open:0===d,close:u}),[d,u]);return nm.default.createElement(nj.Provider,{value:a},nm.default.createElement(nb.Provider,{value:p},nm.default.createElement(ev,{value:D(d,{0:0,1:1})},el({ourProps:{ref:s},theirProps:t,slot:x,defaultTag:nw,name:"Disclosure"}))))}),{Button:ed(function(e,n){let r=I(),{id:t=`headlessui-disclosure-button-${r}`,...i}=e,[s,l]=ng("Disclosure.Button"),o=(0,nm.useContext)(nv),a=null!==o&&o===s.panelId,d=(0,nm.useRef)(null),c=en(d,n,a?null:s.buttonRef);(0,nm.useEffect)(()=>{if(!a)return l({type:2,buttonId:t}),()=>{l({type:2,buttonId:null})}},[t,l,a]);let h=P(e=>{var n;if(a){if(1===s.disclosureState)return;switch(e.key){case" ":case"Enter":e.preventDefault(),e.stopPropagation(),l({type:0}),null==(n=s.buttonRef.current)||n.focus()}}else switch(e.key){case" ":case"Enter":e.preventDefault(),e.stopPropagation(),l({type:0})}}),u=P(e=>{if(" "===e.key)e.preventDefault()}),p=P(n=>{var r;eu(n.currentTarget)||e.disabled||(a?(l({type:0}),null==(r=s.buttonRef.current)||r.focus()):l({type:0}))}),x=(0,nm.useMemo)(()=>({open:0===s.disclosureState}),[s]),m=Q(e,d);return el({ourProps:a?{ref:c,type:m,onKeyDown:h,onClick:p}:{ref:c,id:t,type:m,"aria-expanded":e.disabled?void 0:0===s.disclosureState,"aria-controls":s.linkedPanel?s.panelId:void 0,onKeyDown:h,onKeyUp:u,onClick:p},theirProps:i,slot:x,defaultTag:"button",name:"Disclosure.Button"})}),Panel:ed(function(e,n){let r=I(),{id:t=`headlessui-disclosure-panel-${r}`,...i}=e,[s,l]=ng("Disclosure.Panel"),{close:o}=function e(n){let r=(0,nm.useContext)(nb);if(null===r){let r=Error(`<${n} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,e),r}return r}("Disclosure.Panel"),a=en(n,s.panelRef,e=>{l({type:e?4:5})});(0,nm.useEffect)(()=>(l({type:3,panelId:t}),()=>{l({type:3,panelId:null})}),[t,l]);let d=eb(),c=null!==d?0===d:0===s.disclosureState,h=(0,nm.useMemo)(()=>({open:0===s.disclosureState,close:o}),[s,o]);return nm.default.createElement(nv.Provider,{value:s.panelId},el({ourProps:{ref:a,id:t},theirProps:i,slot:h,defaultTag:"div",features:3,visible:c,name:"Disclosure.Panel"}))})}),nk=h(r("6171"),1);function n_(e,n=e=>e){let r=null!==e.activeOptionIndex?e.options[e.activeOptionIndex]:null,t=H(n(e.options.slice()),e=>e.dataRef.current.domRef.current),i=r?t.indexOf(r):null;return -1===i&&(i=null),{options:t,activeOptionIndex:i}}var nP={1:e=>e.dataRef.current.disabled||1===e.listboxState?e:{...e,activeOptionIndex:null,listboxState:1},0(e){if(e.dataRef.current.disabled||0===e.listboxState)return e;let n=e.activeOptionIndex,{isSelected:r}=e.dataRef.current,t=e.options.findIndex(e=>r(e.dataRef.current.value));return -1!==t&&(n=t),{...e,listboxState:0,activeOptionIndex:n}},2(e,n){var r;if(e.dataRef.current.disabled||1===e.listboxState)return e;let t=n_(e),i=ei(n,{resolveItems:()=>t.options,resolveActiveIndex:()=>t.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...e,...t,searchQuery:"",activeOptionIndex:i,activationTrigger:null!=(r=n.trigger)?r:1}},3:(e,n)=>{if(e.dataRef.current.disabled||1===e.listboxState)return e;let r=""!==e.searchQuery?0:1,t=e.searchQuery+n.value.toLowerCase(),i=(null!==e.activeOptionIndex?e.options.slice(e.activeOptionIndex+r).concat(e.options.slice(0,e.activeOptionIndex+r)):e.options).find(e=>{var n;return!e.dataRef.current.disabled&&(null==(n=e.dataRef.current.textValue)?void 0:n.startsWith(t))}),s=i?e.options.indexOf(i):-1;return -1===s||s===e.activeOptionIndex?{...e,searchQuery:t}:{...e,searchQuery:t,activeOptionIndex:s,activationTrigger:1}},4:e=>e.dataRef.current.disabled||1===e.listboxState||""===e.searchQuery?e:{...e,searchQuery:""},5:(e,n)=>{let r={id:n.id,dataRef:n.dataRef},t=n_(e,e=>[...e,r]);return null===e.activeOptionIndex&&e.dataRef.current.isSelected(n.dataRef.current.value)&&(t.activeOptionIndex=t.options.indexOf(r)),{...e,...t}},6:(e,n)=>{let r=n_(e,e=>{let r=e.findIndex(e=>e.id===n.id);return -1!==r&&e.splice(r,1),e});return{...e,...r,activationTrigger:1}},7:(e,n)=>({...e,labelId:n.id})},nE=(0,nk.createContext)(null);function nF(e){let n=(0,nk.useContext)(nE);if(null===n){let n=Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,nF),n}return n}nE.displayName="ListboxActionsContext";var nN=(0,nk.createContext)(null);function nT(e){let n=(0,nk.useContext)(nN);if(null===n){let n=Error(`<${e} /> is missing a parent <Listbox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,nT),n}return n}function nR(e,n){return D(n.type,nP,e,n)}nN.displayName="ListboxDataContext";var nC=nk.Fragment,nM=Object.assign(ed(function(e,n){let{value:r,defaultValue:t,name:i,onChange:s,by:l=(e,n)=>e===n,disabled:o=!1,horizontal:a=!1,multiple:d=!1,...c}=e,h=a?"horizontal":"vertical",u=en(n),[p=d?[]:void 0,x]=ew(r,s,t),[m,f]=(0,nk.useReducer)(nR,{dataRef:(0,nk.createRef)(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),g=(0,nk.useRef)({static:!1,hold:!1}),b=(0,nk.useRef)(null),v=(0,nk.useRef)(null),y=(0,nk.useRef)(null),w=P("string"==typeof l?(e,n)=>(null==e?void 0:e[l])===(null==n?void 0:n[l]):l),S=(0,nk.useCallback)(e=>D(_.mode,{1:()=>p.some(n=>w(n,e)),0:()=>w(p,e)}),[p]),_=(0,nk.useMemo)(()=>({...m,value:p,disabled:o,mode:d?1:0,orientation:h,compare:w,isSelected:S,optionsPropsRef:g,labelRef:b,buttonRef:v,optionsRef:y}),[p,o,d,m]);j(()=>{m.dataRef.current=_},[_]),$([_.buttonRef,_.optionsRef],(e,n)=>{var r;f({type:1}),G(n,1)||(e.preventDefault(),null==(r=_.buttonRef.current)||r.focus())},0===_.listboxState);let E=(0,nk.useMemo)(()=>({open:0===_.listboxState,disabled:o,value:p}),[_,o,p]),F=P(e=>{let n=_.options.find(n=>n.id===e);n&&I(n.dataRef.current.value)}),N=P(()=>{if(null!==_.activeOptionIndex){let{dataRef:e,id:n}=_.options[_.activeOptionIndex];I(e.current.value),f({type:2,focus:4,id:n})}}),T=P(()=>f({type:0})),R=P(()=>f({type:1})),C=P((e,n,r)=>4===e?f({type:2,focus:4,id:n,trigger:r}):f({type:2,focus:e,trigger:r})),M=P((e,n)=>(f({type:5,id:e,dataRef:n}),()=>f({type:6,id:e}))),O=P(e=>(f({type:7,id:e}),()=>f({type:7,id:null}))),I=P(e=>D(_.mode,{0:()=>null==x?void 0:x(e),1(){let n=_.value.slice(),r=n.findIndex(n=>w(n,e));return -1===r?n.push(e):n.splice(r,1),null==x?void 0:x(n)}})),A=P(e=>f({type:3,value:e})),B=P(()=>f({type:4})),z=(0,nk.useMemo)(()=>({onChange:I,registerOption:M,registerLabel:O,goToOption:C,closeListbox:R,openListbox:T,selectActiveOption:N,selectOption:F,search:A,clearSearch:B}),[]),L=(0,nk.useRef)(null),W=k();return(0,nk.useEffect)(()=>{L.current&&void 0!==t&&W.addEventListener(L.current,"reset",()=>{I(t)})},[L,I]),nk.default.createElement(nE.Provider,{value:z},nk.default.createElement(nN.Provider,{value:_},nk.default.createElement(ev,{value:D(_.listboxState,{0:0,1:1})},null!=i&&null!=p&&ep({[i]:p}).map(([e,n],r)=>nk.default.createElement(ef,{features:4,ref:0===r?e=>{var n;L.current=null!=(n=null==e?void 0:e.closest("form"))?n:null}:void 0,...ec({key:e,as:"input",type:"hidden",hidden:!0,readOnly:!0,name:e,value:n})})),el({ourProps:{ref:u},theirProps:c,slot:E,defaultTag:nC,name:"Listbox"}))))}),{Button:ed(function(e,n){var r;let t=I(),{id:i=`headlessui-listbox-button-${t}`,...s}=e,l=nT("Listbox.Button"),o=nF("Listbox.Button"),a=en(l.buttonRef,n),d=k(),c=P(e=>{switch(e.key){case" ":case"Enter":case"ArrowDown":e.preventDefault(),o.openListbox(),d.nextFrame(()=>{l.value||o.goToOption(0)});break;case"ArrowUp":e.preventDefault(),o.openListbox(),d.nextFrame(()=>{l.value||o.goToOption(3)})}}),h=P(e=>{if(" "===e.key)e.preventDefault()}),u=P(e=>{if(eu(e.currentTarget))return e.preventDefault();0===l.listboxState?(o.closeListbox(),d.nextFrame(()=>{var e;return null==(e=l.buttonRef.current)?void 0:e.focus({preventScroll:!0})})):(e.preventDefault(),o.openListbox())}),p=v(()=>{if(l.labelId)return[l.labelId,i].join(" ")},[l.labelId,i]),x=(0,nk.useMemo)(()=>({open:0===l.listboxState,disabled:l.disabled,value:l.value}),[l]);return el({ourProps:{ref:a,id:i,type:Q(e,l.buttonRef),"aria-haspopup":"listbox","aria-controls":null==(r=l.optionsRef.current)?void 0:r.id,"aria-expanded":l.disabled?void 0:0===l.listboxState,"aria-labelledby":p,disabled:l.disabled,onKeyDown:c,onKeyUp:h,onClick:u},theirProps:s,slot:x,defaultTag:"button",name:"Listbox.Button"})}),Label:ed(function(e,n){let r=I(),{id:t=`headlessui-listbox-label-${r}`,...i}=e,s=nT("Listbox.Label"),l=nF("Listbox.Label"),o=en(s.labelRef,n);return j(()=>l.registerLabel(t),[t]),el({ourProps:{ref:o,id:t,onClick:P(()=>{var e;return null==(e=s.buttonRef.current)?void 0:e.focus({preventScroll:!0})})},theirProps:i,slot:(0,nk.useMemo)(()=>({open:0===s.listboxState,disabled:s.disabled}),[s]),defaultTag:"label",name:"Listbox.Label"})}),Options:ed(function(e,n){var r;let t=I(),{id:i=`headlessui-listbox-options-${t}`,...s}=e,l=nT("Listbox.Options"),o=nF("Listbox.Options"),a=en(l.optionsRef,n),d=k(),c=k(),h=eb(),u=null!==h?0===h:0===l.listboxState;(0,nk.useEffect)(()=>{var e;let n=l.optionsRef.current;n&&0===l.listboxState&&n!==(null==(e=B(n))?void 0:e.activeElement)&&n.focus({preventScroll:!0})},[l.listboxState,l.optionsRef]);let p=P(e=>{switch(c.dispose(),e.key){case" ":if(""!==l.searchQuery)return e.preventDefault(),e.stopPropagation(),o.search(e.key);case"Enter":if(e.preventDefault(),e.stopPropagation(),null!==l.activeOptionIndex){let{dataRef:e}=l.options[l.activeOptionIndex];o.onChange(e.current.value)}0===l.mode&&(o.closeListbox(),S().nextFrame(()=>{var e;return null==(e=l.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));break;case D(l.orientation,{vertical:"ArrowDown",horizontal:"ArrowRight"}):return e.preventDefault(),e.stopPropagation(),o.goToOption(2);case D(l.orientation,{vertical:"ArrowUp",horizontal:"ArrowLeft"}):return e.preventDefault(),e.stopPropagation(),o.goToOption(1);case"Home":case"PageUp":return e.preventDefault(),e.stopPropagation(),o.goToOption(0);case"End":case"PageDown":return e.preventDefault(),e.stopPropagation(),o.goToOption(3);case"Escape":return e.preventDefault(),e.stopPropagation(),o.closeListbox(),d.nextFrame(()=>{var e;return null==(e=l.buttonRef.current)?void 0:e.focus({preventScroll:!0})});case"Tab":e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(o.search(e.key),c.setTimeout(()=>o.clearSearch(),350))}}),x=v(()=>{var e,n,r;return null!=(r=null==(e=l.labelRef.current)?void 0:e.id)?r:null==(n=l.buttonRef.current)?void 0:n.id},[l.labelRef.current,l.buttonRef.current]),m=(0,nk.useMemo)(()=>({open:0===l.listboxState}),[l]);return el({ourProps:{"aria-activedescendant":null===l.activeOptionIndex||null==(r=l.options[l.activeOptionIndex])?void 0:r.id,"aria-multiselectable":1===l.mode||void 0,"aria-labelledby":x,"aria-orientation":l.orientation,id:i,onKeyDown:p,role:"listbox",tabIndex:0,ref:a},theirProps:s,slot:m,defaultTag:"ul",features:3,visible:u,name:"Listbox.Options"})}),Option:ed(function(e,n){let r=I(),{id:t=`headlessui-listbox-option-${r}`,disabled:i=!1,value:s,...l}=e,o=nT("Listbox.Option"),a=nF("Listbox.Option"),d=null!==o.activeOptionIndex&&o.options[o.activeOptionIndex].id===t,c=o.isSelected(s),h=(0,nk.useRef)(null),u=b({disabled:i,value:s,domRef:h,get textValue(){var p,x;return null==(x=null==(p=h.current)?void 0:p.textContent)?void 0:x.toLowerCase()}}),m=en(n,h);j(()=>{if(0!==o.listboxState||!d||0===o.activationTrigger)return;let e=S();return e.requestAnimationFrame(()=>{var e,n;null==(n=null==(e=h.current)?void 0:e.scrollIntoView)||n.call(e,{block:"nearest"})}),e.dispose},[h,d,o.listboxState,o.activationTrigger,o.activeOptionIndex]),j(()=>a.registerOption(t,u),[u,t]);let f=P(e=>{if(i)return e.preventDefault();a.onChange(s),0===o.mode&&(a.closeListbox(),S().nextFrame(()=>{var e;return null==(e=o.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))}),g=P(()=>{if(i)return a.goToOption(5);a.goToOption(4,t)}),v=eE(),y=P(e=>v.update(e)),w=P(e=>{!v.wasMoved(e)||i||d||a.goToOption(4,t,0)}),k=P(e=>{v.wasMoved(e)&&!i&&d&&a.goToOption(5)}),_=(0,nk.useMemo)(()=>({active:d,selected:c,disabled:i}),[d,c,i]);return el({ourProps:{id:t,ref:m,role:"option",tabIndex:!0===i?void 0:-1,"aria-disabled":!0===i||void 0,"aria-selected":c,disabled:void 0,onClick:f,onFocus:g,onPointerEnter:y,onMouseEnter:y,onPointerMove:w,onMouseMove:w,onPointerLeave:k,onMouseLeave:k},theirProps:l,slot:_,defaultTag:"li",name:"Listbox.Option"})})}),nO=h(r("6171"),1);function nI(e,n=e=>e){let r=null!==e.activeItemIndex?e.items[e.activeItemIndex]:null,t=H(n(e.items.slice()),e=>e.dataRef.current.domRef.current),i=r?t.indexOf(r):null;return -1===i&&(i=null),{items:t,activeItemIndex:i}}var nA={1:e=>1===e.menuState?e:{...e,activeItemIndex:null,menuState:1},0:e=>0===e.menuState?e:{...e,menuState:0},2:(e,n)=>{var r;let t=nI(e),i=ei(n,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...e,...t,searchQuery:"",activeItemIndex:i,activationTrigger:null!=(r=n.trigger)?r:1}},3:(e,n)=>{let r=""!==e.searchQuery?0:1,t=e.searchQuery+n.value.toLowerCase(),i=(null!==e.activeItemIndex?e.items.slice(e.activeItemIndex+r).concat(e.items.slice(0,e.activeItemIndex+r)):e.items).find(e=>{var n;return(null==(n=e.dataRef.current.textValue)?void 0:n.startsWith(t))&&!e.dataRef.current.disabled}),s=i?e.items.indexOf(i):-1;return -1===s||s===e.activeItemIndex?{...e,searchQuery:t}:{...e,searchQuery:t,activeItemIndex:s,activationTrigger:1}},4:e=>""===e.searchQuery?e:{...e,searchQuery:"",searchActiveItemIndex:null},5:(e,n)=>{let r=nI(e,e=>[...e,{id:n.id,dataRef:n.dataRef}]);return{...e,...r}},6:(e,n)=>{let r=nI(e,e=>{let r=e.findIndex(e=>e.id===n.id);return -1!==r&&e.splice(r,1),e});return{...e,...r,activationTrigger:1}}},nD=(0,nO.createContext)(null);function nB(e){let n=(0,nO.useContext)(nD);if(null===n){let n=Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,nB),n}return n}function nz(e,n){return D(n.type,nA,e,n)}nD.displayName="MenuContext";var nL=nO.Fragment,nG=ed(function(e,n){let r=(0,nO.useReducer)(nz,{menuState:1,buttonRef:(0,nO.createRef)(),itemsRef:(0,nO.createRef)(),items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1}),[{menuState:t,itemsRef:i,buttonRef:s},l]=r,o=en(n);$([s,i],(e,n)=>{var r;l({type:1}),G(n,1)||(e.preventDefault(),null==(r=s.current)||r.focus())},0===t);let a=P(()=>{l({type:1})}),d=(0,nO.useMemo)(()=>({open:0===t,close:a}),[t,a]);return nO.default.createElement(nD.Provider,{value:r},nO.default.createElement(ev,{value:D(t,{0:0,1:1})},el({ourProps:{ref:o},theirProps:e,slot:d,defaultTag:nL,name:"Menu"})))}),nW=ed(function(e,n){var r;let t=I(),{id:i=`headlessui-menu-button-${t}`,...s}=e,[l,o]=nB("Menu.Button"),a=en(l.buttonRef,n),d=k(),c=P(e=>{switch(e.key){case" ":case"Enter":case"ArrowDown":e.preventDefault(),e.stopPropagation(),o({type:0}),d.nextFrame(()=>o({type:2,focus:0}));break;case"ArrowUp":e.preventDefault(),e.stopPropagation(),o({type:0}),d.nextFrame(()=>o({type:2,focus:3}))}}),h=P(e=>{if(" "===e.key)e.preventDefault()}),u=P(n=>{if(eu(n.currentTarget))return n.preventDefault();e.disabled||(0===l.menuState?(o({type:1}),d.nextFrame(()=>{var e;return null==(e=l.buttonRef.current)?void 0:e.focus({preventScroll:!0})})):(n.preventDefault(),o({type:0})))}),p=(0,nO.useMemo)(()=>({open:0===l.menuState}),[l]);return el({ourProps:{ref:a,id:i,type:Q(e,l.buttonRef),"aria-haspopup":"menu","aria-controls":null==(r=l.itemsRef.current)?void 0:r.id,"aria-expanded":e.disabled?void 0:0===l.menuState,onKeyDown:c,onKeyUp:h,onClick:u},theirProps:s,slot:p,defaultTag:"button",name:"Menu.Button"})}),nU=ed(function(e,n){var r,t;let i=I(),{id:s=`headlessui-menu-items-${i}`,...l}=e,[o,a]=nB("Menu.Items"),d=en(o.itemsRef,n),c=eq(o.itemsRef),h=k(),u=eb(),p=null!==u?0===u:0===o.menuState;(0,nO.useEffect)(()=>{let e=o.itemsRef.current;e&&0===o.menuState&&e!==(null==c?void 0:c.activeElement)&&e.focus({preventScroll:!0})},[o.menuState,o.itemsRef,c]),et({container:o.itemsRef.current,enabled:0===o.menuState,accept:e=>"menuitem"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let x=P(e=>{var n,r;switch(h.dispose(),e.key){case" ":if(""!==o.searchQuery)return e.preventDefault(),e.stopPropagation(),a({type:3,value:e.key});case"Enter":if(e.preventDefault(),e.stopPropagation(),a({type:1}),null!==o.activeItemIndex){let{dataRef:e}=o.items[o.activeItemIndex];null==(r=null==(n=e.current)?void 0:n.domRef.current)||r.click()}W(o.buttonRef.current);break;case"ArrowDown":return e.preventDefault(),e.stopPropagation(),a({type:2,focus:2});case"ArrowUp":return e.preventDefault(),e.stopPropagation(),a({type:2,focus:1});case"Home":case"PageUp":return e.preventDefault(),e.stopPropagation(),a({type:2,focus:0});case"End":case"PageDown":return e.preventDefault(),e.stopPropagation(),a({type:2,focus:3});case"Escape":e.preventDefault(),e.stopPropagation(),a({type:1}),S().nextFrame(()=>{var e;return null==(e=o.buttonRef.current)?void 0:e.focus({preventScroll:!0})});break;case"Tab":e.preventDefault(),e.stopPropagation(),a({type:1}),S().nextFrame(()=>{var n,r;n=o.buttonRef.current,r=e.shiftKey?2:4,q(L(),r,{relativeTo:n})});break;default:1===e.key.length&&(a({type:3,value:e.key}),h.setTimeout(()=>a({type:4}),350))}}),m=P(e=>{if(" "===e.key)e.preventDefault()}),f=(0,nO.useMemo)(()=>({open:0===o.menuState}),[o]);return el({ourProps:{"aria-activedescendant":null===o.activeItemIndex||null==(r=o.items[o.activeItemIndex])?void 0:r.id,"aria-labelledby":null==(t=o.buttonRef.current)?void 0:t.id,id:s,onKeyDown:x,onKeyUp:m,role:"menu",tabIndex:0,ref:d},theirProps:l,slot:f,defaultTag:"div",features:3,visible:p,name:"Menu.Items"})}),nH=nO.Fragment,nq=Object.assign(nG,{Button:nW,Items:nU,Item:ed(function(e,n){let r=I(),{id:t=`headlessui-menu-item-${r}`,disabled:i=!1,...s}=e,[l,o]=nB("Menu.Item"),a=null!==l.activeItemIndex&&l.items[l.activeItemIndex].id===t,d=(0,nO.useRef)(null),c=en(n,d);j(()=>{if(0!==l.menuState||!a||0===l.activationTrigger)return;let e=S();return e.requestAnimationFrame(()=>{var e,n;null==(n=null==(e=d.current)?void 0:e.scrollIntoView)||n.call(e,{block:"nearest"})}),e.dispose},[d,a,l.menuState,l.activationTrigger,l.activeItemIndex]);let h=(0,nO.useRef)({disabled:i,domRef:d});j(()=>{h.current.disabled=i},[h,i]),j(()=>{var e,n;h.current.textValue=null==(n=null==(e=d.current)?void 0:e.textContent)?void 0:n.toLowerCase()},[h,d]),j(()=>(o({type:5,id:t,dataRef:h}),()=>o({type:6,id:t})),[h,t]);let u=P(()=>{o({type:1})}),p=P(e=>{if(i)return e.preventDefault();o({type:1}),W(l.buttonRef.current)}),x=P(()=>{if(i)return o({type:2,focus:5});o({type:2,focus:4,id:t})}),m=eE(),f=P(e=>m.update(e)),g=P(e=>{!m.wasMoved(e)||i||a||o({type:2,focus:4,id:t,trigger:0})}),b=P(e=>{m.wasMoved(e)&&!i&&a&&o({type:2,focus:5})}),v=(0,nO.useMemo)(()=>({active:a,disabled:i,close:u}),[a,i,u]);return el({ourProps:{id:t,ref:c,role:"menuitem",tabIndex:!0===i?void 0:-1,"aria-disabled":!0===i||void 0,disabled:void 0,onClick:p,onFocus:x,onPointerEnter:f,onMouseEnter:f,onPointerMove:g,onMouseMove:g,onPointerLeave:b,onMouseLeave:b},theirProps:s,slot:v,defaultTag:nH,name:"Menu.Item"})})}),nX=h(r("6171"),1),nV={0:e=>({...e,popoverState:D(e.popoverState,{0:1,1:0})}),1:e=>1===e.popoverState?e:{...e,popoverState:1},2:(e,n)=>e.button===n.button?e:{...e,button:n.button},3:(e,n)=>e.buttonId===n.buttonId?e:{...e,buttonId:n.buttonId},4:(e,n)=>e.panel===n.panel?e:{...e,panel:n.panel},5:(e,n)=>e.panelId===n.panelId?e:{...e,panelId:n.panelId}},n$=(0,nX.createContext)(null);function nJ(e){let n=(0,nX.useContext)(n$);if(null===n){let n=Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,nJ),n}return n}n$.displayName="PopoverContext";var nY=(0,nX.createContext)(null);function nQ(e){let n=(0,nX.useContext)(nY);if(null===n){let n=Error(`<${e} /> is missing a parent <Popover /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,nQ),n}return n}nY.displayName="PopoverAPIContext";var nK=(0,nX.createContext)(null);function nZ(){return(0,nX.useContext)(nK)}nK.displayName="PopoverGroupContext";var n0=(0,nX.createContext)(null);n0.displayName="PopoverPanelContext";function n2(e,n){return D(n.type,nV,e,n)}var n1=Object.assign(ed(function(e,n){var r;let t=(0,nX.useRef)(null),i=en(n,ee(e=>{t.current=e})),s=(0,nX.useReducer)(n2,{popoverState:1,buttons:[],button:null,buttonId:null,panel:null,panelId:null,beforePanelSentinel:(0,nX.createRef)(),afterPanelSentinel:(0,nX.createRef)()}),[{popoverState:l,button:o,buttonId:a,panel:d,panelId:c,beforePanelSentinel:h,afterPanelSentinel:u},p]=s,x=eq(null!=(r=t.current)?r:o),m=(0,nX.useMemo)(()=>{if(!o||!d)return!1;for(let e of document.querySelectorAll("body > *"))if(Number(null==e?void 0:e.contains(o))^Number(null==e?void 0:e.contains(d)))return!0;let e=L(),n=e.indexOf(o),r=(n+e.length-1)%e.length,t=(n+1)%e.length,i=e[r],s=e[t];return!d.contains(i)&&!d.contains(s)},[o,d]),f=b(a),j=b(c),g=(0,nX.useMemo)(()=>({buttonId:f,panelId:j,close:()=>p({type:1})}),[f,j,p]),v=nZ(),y=null==v?void 0:v.registerPopover,w=P(()=>{var e;return null!=(e=null==v?void 0:v.isFocusWithinPopoverGroup())?e:(null==x?void 0:x.activeElement)&&((null==o?void 0:o.contains(x.activeElement))||(null==d?void 0:d.contains(x.activeElement)))});(0,nX.useEffect)(()=>null==y?void 0:y(g),[y,g]),eV(null==x?void 0:x.defaultView,"focus",e=>{var n,r,t,i;0===l&&(w()||!o||!d||e.target!==window&&(null!=(r=null==(n=h.current)?void 0:n.contains)&&r.call(n,e.target)||null!=(i=null==(t=u.current)?void 0:t.contains)&&i.call(t,e.target)||p({type:1})))},!0),$([o,d],(e,n)=>{p({type:1}),G(n,1)||(e.preventDefault(),null==o||o.focus())},0===l);let S=P(e=>{p({type:1});let n=e?e instanceof HTMLElement?e:"current"in e&&e.current instanceof HTMLElement?e.current:o:o;null==n||n.focus()}),k=(0,nX.useMemo)(()=>({close:S,isPortalled:m}),[S,m]),_=(0,nX.useMemo)(()=>({open:0===l,close:S}),[l,S]);return nX.default.createElement(n$.Provider,{value:s},nX.default.createElement(nY.Provider,{value:k},nX.default.createElement(ev,{value:D(l,{0:0,1:1})},el({ourProps:{ref:i},theirProps:e,slot:_,defaultTag:"div",name:"Popover"}))))}),{Button:ed(function(e,n){let r=I(),{id:t=`headlessui-popover-button-${r}`,...i}=e,[s,l]=nJ("Popover.Button"),{isPortalled:o}=nQ("Popover.Button"),a=(0,nX.useRef)(null),d=`headlessui-focus-sentinel-${I()}`,c=nZ(),h=null==c?void 0:c.closeOthers,u=(0,nX.useContext)(n0),p=null!==u&&u===s.panelId;(0,nX.useEffect)(()=>{if(!p)return l({type:3,buttonId:t}),()=>{l({type:3,buttonId:null})}},[t,l]);let x=en(a,n,p?null:e=>{if(e)s.buttons.push(t);else{let e=s.buttons.indexOf(t);-1!==e&&s.buttons.splice(e,1)}s.buttons.length>1&&console.warn("You are already using a <Popover.Button /> but only 1 <Popover.Button /> is supported."),e&&l({type:2,button:e})}),m=en(a,n),f=eq(a),j=P(e=>{var n,r,t;if(p){if(1===s.popoverState)return;switch(e.key){case" ":case"Enter":e.preventDefault(),null==(r=(n=e.target).click)||r.call(n),l({type:1}),null==(t=s.button)||t.focus()}}else switch(e.key){case" ":case"Enter":e.preventDefault(),e.stopPropagation(),1===s.popoverState&&(null==h||h(s.buttonId)),l({type:0});break;case"Escape":if(0!==s.popoverState)return null==h?void 0:h(s.buttonId);if(!a.current||(null==f?void 0:f.activeElement)&&!a.current.contains(f.activeElement))return;e.preventDefault(),e.stopPropagation(),l({type:1})}}),g=P(e=>{p||" "===e.key&&e.preventDefault()}),b=P(n=>{var r,t;eu(n.currentTarget)||e.disabled||(p?(l({type:1}),null==(r=s.button)||r.focus()):(n.preventDefault(),n.stopPropagation(),1===s.popoverState&&(null==h||h(s.buttonId)),l({type:0}),null==(t=s.button)||t.focus()))}),v=P(e=>{e.preventDefault(),e.stopPropagation()}),y=0===s.popoverState,w=(0,nX.useMemo)(()=>({open:y}),[y]),S=Q(e,a),k=p?{ref:m,type:S,onKeyDown:j,onClick:b}:{ref:x,id:s.buttonId,type:S,"aria-expanded":e.disabled?void 0:0===s.popoverState,"aria-controls":s.panel?s.panelId:void 0,onKeyDown:j,onKeyUp:g,onClick:b,onMouseDown:v},_=eG(),E=P(()=>{let e=s.panel;e&&function(){D(_.current,{0:()=>q(e,1),1:()=>q(e,8)})}()});return nX.default.createElement(nX.default.Fragment,null,el({ourProps:k,theirProps:i,slot:w,defaultTag:"button",name:"Popover.Button"}),y&&!p&&o&&nX.default.createElement(ef,{id:d,features:2,as:"button",type:"button",onFocus:E}))}),Overlay:ed(function(e,n){let r=I(),{id:t=`headlessui-popover-overlay-${r}`,...i}=e,[{popoverState:s},l]=nJ("Popover.Overlay"),o=en(n),a=eb(),d=null!==a?0===a:0===s;return el({ourProps:{ref:o,id:t,"aria-hidden":!0,onClick:P(e=>{if(eu(e.currentTarget))return e.preventDefault();l({type:1})})},theirProps:i,slot:(0,nX.useMemo)(()=>({open:0===s}),[s]),defaultTag:"div",features:3,visible:d,name:"Popover.Overlay"})}),Panel:ed(function(e,n){let r=I(),{id:t=`headlessui-popover-panel-${r}`,focus:i=!1,...s}=e,[l,o]=nJ("Popover.Panel"),{close:a,isPortalled:d}=nQ("Popover.Panel"),c=`headlessui-focus-sentinel-before-${I()}`,h=`headlessui-focus-sentinel-after-${I()}`,u=(0,nX.useRef)(null),p=en(u,n,e=>{o({type:4,panel:e})}),x=eq(u);(0,nX.useEffect)(()=>(o({type:5,panelId:t}),()=>{o({type:5,panelId:null})}),[t,o]);let m=eb(),f=null!==m?0===m:0===l.popoverState,j=P(e=>{var n;if("Escape"===e.key){if(0!==l.popoverState||!u.current||(null==x?void 0:x.activeElement)&&!u.current.contains(x.activeElement))return;e.preventDefault(),e.stopPropagation(),o({type:1}),null==(n=l.button)||n.focus()}});(0,nX.useEffect)(()=>{var n;e.static||1===l.popoverState&&(null==(n=e.unmount)||n)&&o({type:4,panel:null})},[l.popoverState,e.unmount,e.static,o]),(0,nX.useEffect)(()=>{if(!i||0!==l.popoverState||!u.current)return;let e=null==x?void 0:x.activeElement;u.current.contains(e)||q(u.current,1)},[i,u,l.popoverState]);let g=(0,nX.useMemo)(()=>({open:0===l.popoverState,close:a}),[l,a]),b={ref:p,id:l.panelId,onKeyDown:j,onBlur:i&&0===l.popoverState?e=>{var n,r,t,i,s;let a=e.relatedTarget;!a||!u.current||null!=(n=u.current)&&n.contains(a)||(o({type:1}),((null==(t=null==(r=l.beforePanelSentinel.current)?void 0:r.contains)?void 0:t.call(r,a))||(null==(s=null==(i=l.afterPanelSentinel.current)?void 0:i.contains)?void 0:s.call(i,a)))&&a.focus({preventScroll:!0}))}:void 0,tabIndex:-1},v=eG(),y=P(()=>{let e=u.current;e&&function(){D(v.current,{0:()=>{q(e,1)},1:()=>{var e;null==(e=l.button)||e.focus({preventScroll:!0})}})}()}),w=P(()=>{let e=u.current;e&&function(){D(v.current,{0:()=>{var e,n,r;if(!l.button)return;let t=L(),i=t.indexOf(l.button),s=t.slice(0,i+1),o=[...t.slice(i+1),...s];for(let t of o.slice())if((null==(n=null==(e=null==t?void 0:t.id)?void 0:e.startsWith)?void 0:n.call(e,"headlessui-focus-sentinel-"))||(null==(r=l.panel)?void 0:r.contains(t))){let e=o.indexOf(t);-1!==e&&o.splice(e,1)}q(o,1,{sorted:!1})},1:()=>q(e,8)})}()});return nX.default.createElement(n0.Provider,{value:l.panelId},f&&d&&nX.default.createElement(ef,{id:c,ref:l.beforePanelSentinel,features:2,as:"button",type:"button",onFocus:y}),el({ourProps:b,theirProps:s,slot:g,defaultTag:"div",features:3,visible:f,name:"Popover.Panel"}),f&&d&&nX.default.createElement(ef,{id:h,ref:l.afterPanelSentinel,features:2,as:"button",type:"button",onFocus:w}))}),Group:ed(function(e,n){let r=(0,nX.useRef)(null),t=en(r,n),[i,s]=(0,nX.useState)([]),l=P(e=>{s(n=>{let r=n.indexOf(e);if(-1!==r){let e=n.slice();return e.splice(r,1),e}return n})}),o=P(e=>(s(n=>[...n,e]),()=>l(e))),a=P(()=>{var e;let n=B(r);if(!n)return!1;let t=n.activeElement;return!!(null!=(e=r.current)&&e.contains(t))||i.some(e=>{var r,i;return(null==(r=n.getElementById(e.buttonId.current))?void 0:r.contains(t))||(null==(i=n.getElementById(e.panelId.current))?void 0:i.contains(t))})}),d=P(e=>{for(let n of i)n.buttonId.current!==e&&n.close()}),c=(0,nX.useMemo)(()=>({registerPopover:o,unregisterPopover:l,isFocusWithinPopoverGroup:a,closeOthers:d}),[o,l,a,d]),h=(0,nX.useMemo)(()=>({}),[]);return nX.default.createElement(nK.Provider,{value:c},el({ourProps:{ref:t},theirProps:e,slot:h,defaultTag:"div",name:"Popover.Group"}))})}),n3=h(r("6171"),1),n4=r("6171"),n8=h(r("6171"),1),n6=(0,n8.createContext)(null);function n5(){let[e,n]=(0,n8.useState)([]);return[e.length>0?e.join(" "):void 0,(0,n8.useMemo)(()=>function(e){let r=P(e=>(n(n=>[...n,e]),()=>n(n=>{let r=n.slice(),t=r.indexOf(e);return -1!==t&&r.splice(t,1),r}))),t=(0,n8.useMemo)(()=>({register:r,slot:e.slot,name:e.name,props:e.props}),[r,e.slot,e.name,e.props]);return n8.default.createElement(n6.Provider,{value:t},e.children)},[n])]}var n9=ed(function(e,n){let r=I(),{id:t=`headlessui-label-${r}`,passive:i=!1,...s}=e,l=function e(){let n=(0,n8.useContext)(n6);if(null===n){let n=Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(n,e),n}return n}(),o=en(n);j(()=>l.register(t),[t,l.register]);let a={ref:o,...l.props,id:t};return i&&("onClick"in a&&delete a.onClick,"onClick"in s&&delete s.onClick),el({ourProps:a,theirProps:s,slot:l.slot||{},defaultTag:"label",name:l.name||"Label"})}),n7={0(e,n){let r=[...e.options,{id:n.id,element:n.element,propsRef:n.propsRef}];return{...e,options:H(r,e=>e.element.current)}},1(e,n){let r=e.options.slice(),t=e.options.findIndex(e=>e.id===n.id);return -1===t?e:(r.splice(t,1),{...e,options:r})}},re=(0,n3.createContext)(null);re.displayName="RadioGroupDataContext";var rn=(0,n3.createContext)(null);rn.displayName="RadioGroupActionsContext";function rr(e,n){return D(n.type,n7,e,n)}var rt=Object.assign(ed(function(e,n){let r=I(),{id:t=`headlessui-radiogroup-${r}`,value:i,defaultValue:s,name:l,onChange:o,by:a=(e,n)=>e===n,disabled:d=!1,...c}=e,h=P("string"==typeof a?(e,n)=>(null==e?void 0:e[a])===(null==n?void 0:n[a]):a),[u,p]=(0,n3.useReducer)(rr,{options:[]}),x=u.options,[m,f]=n5(),[j,g]=nt(),b=(0,n3.useRef)(null),v=en(b,n),[y,w]=ew(i,o,s),S=(0,n3.useMemo)(()=>x.find(e=>!e.propsRef.current.disabled),[x]),_=(0,n3.useMemo)(()=>x.some(e=>h(e.propsRef.current.value,y)),[x,y]),E=P(e=>{var n;if(d||h(e,y))return!1;let r=null==(n=x.find(n=>h(n.propsRef.current.value,e)))?void 0:n.propsRef.current;return(null==r||!r.disabled)&&(null==w||w(e),!0)});et({container:b.current,accept:e=>"radio"===e.getAttribute("role")?NodeFilter.FILTER_REJECT:e.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT,walk(e){e.setAttribute("role","none")}});let F=P(e=>{let n=b.current;if(!n)return;let r=B(n),t=x.filter(e=>!1===e.propsRef.current.disabled).map(e=>e.element.current);switch(e.key){case"Enter":em(e.currentTarget);break;case"ArrowLeft":case"ArrowUp":if(e.preventDefault(),e.stopPropagation(),2===q(t,18)){let e=x.find(e=>e.element.current===(null==r?void 0:r.activeElement));e&&E(e.propsRef.current.value)}break;case"ArrowRight":case"ArrowDown":if(e.preventDefault(),e.stopPropagation(),2===q(t,20)){let e=x.find(e=>e.element.current===(null==r?void 0:r.activeElement));e&&E(e.propsRef.current.value)}break;case" ":{e.preventDefault(),e.stopPropagation();let n=x.find(e=>e.element.current===(null==r?void 0:r.activeElement));n&&E(n.propsRef.current.value)}}}),N=P(e=>(p({type:0,...e}),()=>p({type:1,id:e.id}))),T=(0,n3.useMemo)(()=>({value:y,firstOption:S,containsCheckedOption:_,disabled:d,compare:h,...u}),[y,S,_,d,h,u]),R=(0,n3.useMemo)(()=>({registerOption:N,change:E}),[N,E]),C=(0,n3.useMemo)(()=>({value:y}),[y]),M=(0,n3.useRef)(null),O=k();return(0,n3.useEffect)(()=>{M.current&&void 0!==s&&O.addEventListener(M.current,"reset",()=>{E(s)})},[M,E]),n3.default.createElement(g,{name:"RadioGroup.Description"},n3.default.createElement(f,{name:"RadioGroup.Label"},n3.default.createElement(rn.Provider,{value:R},n3.default.createElement(re.Provider,{value:T},null!=l&&null!=y&&ep({[l]:y}).map(([e,n],r)=>n3.default.createElement(ef,{features:4,ref:0===r?e=>{var n;M.current=null!=(n=null==e?void 0:e.closest("form"))?n:null}:void 0,...ec({key:e,as:"input",type:"radio",checked:null!=n,hidden:!0,readOnly:!0,name:e,value:n})})),el({ourProps:{ref:v,id:t,role:"radiogroup","aria-labelledby":m,"aria-describedby":j,onKeyDown:F},theirProps:c,slot:C,defaultTag:"div",name:"RadioGroup"})))))}),{Option:ed(function(e,n){var r;let t=I(),{id:i=`headlessui-radiogroup-option-${t}`,value:s,disabled:l=!1,...o}=e,a=(0,n3.useRef)(null),d=en(a,n),[c,h]=n5(),[u,p]=nt(),{addFlag:x,removeFlag:m,hasFlag:f}=function(e=0){let[n,r]=(0,n4.useState)(e);return{addFlag:(0,n4.useCallback)(e=>r(n=>n|e),[n]),hasFlag:(0,n4.useCallback)(e=>!!(n&e),[n]),removeFlag:(0,n4.useCallback)(e=>r(n=>n&~e),[r]),toggleFlag:(0,n4.useCallback)(e=>r(n=>n^e),[r])}}(1),g=b({value:s,disabled:l}),v=function e(n){let r=(0,n3.useContext)(re);if(null===r){let r=Error(`<${n} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,e),r}return r}("RadioGroup.Option"),y=function e(n){let r=(0,n3.useContext)(rn);if(null===r){let r=Error(`<${n} /> is missing a parent <RadioGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,e),r}return r}("RadioGroup.Option");j(()=>y.registerOption({id:i,element:a,propsRef:g}),[i,y,a,e]);let w=P(e=>{var n;if(eu(e.currentTarget))return e.preventDefault();y.change(s)&&(x(2),null==(n=a.current)||n.focus())}),S=P(e=>{if(eu(e.currentTarget))return e.preventDefault();x(2)}),k=P(()=>m(2)),_=(null==(r=v.firstOption)?void 0:r.id)===i,E=v.disabled||l,F=v.compare(v.value,s),N={ref:d,id:i,role:"radio","aria-checked":F?"true":"false","aria-labelledby":c,"aria-describedby":u,"aria-disabled":!!E||void 0,tabIndex:E?-1:F||!v.containsCheckedOption&&_?0:-1,onClick:E?void 0:w,onFocus:E?void 0:S,onBlur:E?void 0:k},T=(0,n3.useMemo)(()=>({checked:F,disabled:E,active:f(2)}),[F,E,f]);return n3.default.createElement(p,{name:"RadioGroup.Description"},n3.default.createElement(h,{name:"RadioGroup.Label"},el({ourProps:N,theirProps:o,slot:T,defaultTag:"div",name:"RadioGroup.Option"})))}),Label:n9,Description:ni}),ri=h(r("6171"),1),rs=(0,ri.createContext)(null);rs.displayName="GroupContext";var rl=ri.Fragment,ro=Object.assign(ed(function(e,n){let r=I(),{id:t=`headlessui-switch-${r}`,checked:i,defaultChecked:s=!1,onChange:l,name:o,value:a,...d}=e,c=(0,ri.useContext)(rs),h=(0,ri.useRef)(null),u=en(h,n,null===c?null:c.setSwitch),[p,x]=ew(i,l,s),m=P(()=>null==x?void 0:x(!p)),f=P(e=>{if(eu(e.currentTarget))return e.preventDefault();e.preventDefault(),m()}),j=P(e=>{" "===e.key?(e.preventDefault(),m()):"Enter"===e.key&&em(e.currentTarget)}),g=P(e=>e.preventDefault()),b=(0,ri.useMemo)(()=>({checked:p}),[p]),v={id:t,ref:u,role:"switch",type:Q(e,h),tabIndex:0,"aria-checked":p,"aria-labelledby":null==c?void 0:c.labelledby,"aria-describedby":null==c?void 0:c.describedby,onClick:f,onKeyUp:j,onKeyPress:g},y=k();return(0,ri.useEffect)(()=>{var e;let n=null==(e=h.current)?void 0:e.closest("form");n&&void 0!==s&&y.addEventListener(n,"reset",()=>{x(s)})},[h,x]),ri.default.createElement(ri.default.Fragment,null,null!=o&&p&&ri.default.createElement(ef,{features:4,...ec({as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:p,name:o,value:a})}),el({ourProps:v,theirProps:d,slot:b,defaultTag:"button",name:"Switch"}))}),{Group:function(e){let[n,r]=(0,ri.useState)(null),[t,i]=n5(),[s,l]=nt(),o=(0,ri.useMemo)(()=>({switch:n,setSwitch:r,labelledby:t,describedby:s}),[n,r,t,s]);return ri.default.createElement(l,{name:"Switch.Description"},ri.default.createElement(i,{name:"Switch.Label",props:{onClick(){n&&(n.click(),n.focus({preventScroll:!0}))}}},ri.default.createElement(rs.Provider,{value:o},el({ourProps:{},theirProps:e,defaultTag:rl,name:"Switch.Group"}))))},Label:n9,Description:ni}),ra=h(r("6171"),1),rd=h(r("6171"),1);function rc({onFocus:e}){let[n,r]=(0,rd.useState)(!0);return n?rd.default.createElement(ef,{as:"button",type:"button",features:2,onFocus:n=>{n.preventDefault();let t,i=50;t=requestAnimationFrame(function n(){if(i--<=0){t&&cancelAnimationFrame(t);return}if(e()){r(!1),cancelAnimationFrame(t);return}t=requestAnimationFrame(n)})}}):null}var rh={0(e,n){let r=e.tabs.filter(e=>{var n;return!(null!=(n=e.current)&&n.hasAttribute("disabled"))});if(n.index<0)return{...e,selectedIndex:e.tabs.indexOf(r[0])};if(n.index>e.tabs.length)return{...e,selectedIndex:e.tabs.indexOf(r[r.length-1])};let t=e.tabs.slice(0,n.index),i=[...e.tabs.slice(n.index),...t].find(e=>r.includes(e));return i?{...e,selectedIndex:e.tabs.indexOf(i)}:e},1(e,n){var r;if(e.tabs.includes(n.tab))return e;let t=e.tabs[e.selectedIndex],i=H([...e.tabs,n.tab],e=>e.current),s=null!=(r=i.indexOf(t))?r:e.selectedIndex;return -1===s&&(s=e.selectedIndex),{...e,tabs:i,selectedIndex:s}},2:(e,n)=>({...e,tabs:e.tabs.filter(e=>e!==n.tab)}),3:(e,n)=>e.panels.includes(n.panel)?e:{...e,panels:H([...e.panels,n.panel],e=>e.current)},4:(e,n)=>({...e,panels:e.panels.filter(e=>e!==n.panel)})},ru=(0,ra.createContext)(null);function rp(e){let n=(0,ra.useContext)(ru);if(null===n){let n=Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,rp),n}return n}ru.displayName="TabsSSRContext";var rx=(0,ra.createContext)(null);function rm(e){let n=(0,ra.useContext)(rx);if(null===n){let n=Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,rm),n}return n}rx.displayName="TabsDataContext";var rf=(0,ra.createContext)(null);function rj(e){let n=(0,ra.useContext)(rf);if(null===n){let n=Error(`<${e} /> is missing a parent <Tab.Group /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,rj),n}return n}function rg(e,n){return D(n.type,rh,e,n)}rf.displayName="TabsActionsContext";var rb=ra.Fragment,rv=ed(function(e,n){let{defaultIndex:r=0,vertical:t=!1,manual:i=!1,onChange:s,selectedIndex:l=null,...o}=e,a=t?"vertical":"horizontal",d=i?"manual":"auto",c=null!==l,h=en(n),[u,p]=(0,ra.useReducer)(rg,{selectedIndex:null!=l?l:r,tabs:[],panels:[]}),x=(0,ra.useMemo)(()=>({selectedIndex:u.selectedIndex}),[u.selectedIndex]),m=b(s||(()=>{})),f=b(u.tabs),g=(0,ra.useMemo)(()=>({orientation:a,activation:d,...u}),[a,d,u]),v=P(e=>(p({type:1,tab:e}),()=>p({type:2,tab:e}))),y=P(e=>(p({type:3,panel:e}),()=>p({type:4,panel:e}))),w=P(e=>{S.current!==e&&m.current(e),c||p({type:0,index:e})}),S=b(c?e.selectedIndex:u.selectedIndex),k=(0,ra.useMemo)(()=>({registerTab:v,registerPanel:y,change:w}),[]);j(()=>{p({type:0,index:null!=l?l:r})},[l]);let _=(0,ra.useRef)({tabs:[],panels:[]});return ra.default.createElement(ru.Provider,{value:_},ra.default.createElement(rf.Provider,{value:k},ra.default.createElement(rx.Provider,{value:g},g.tabs.length<=0&&ra.default.createElement(rc,{onFocus:()=>{var e,n;for(let r of f.current)if((null==(e=r.current)?void 0:e.tabIndex)===0)return null==(n=r.current)||n.focus(),!0;return!1}}),el({ourProps:{ref:h},theirProps:o,slot:x,defaultTag:rb,name:"Tabs"}))))}),ry=ed(function(e,n){let{orientation:r,selectedIndex:t}=rm("Tab.List");return el({ourProps:{ref:en(n),role:"tablist","aria-orientation":r},theirProps:e,slot:{selectedIndex:t},defaultTag:"div",name:"Tabs.List"})}),rw=Object.assign(ed(function(e,n){var r,t;let i=I(),{id:s=`headlessui-tabs-tab-${i}`,...l}=e,{orientation:o,activation:a,selectedIndex:d,tabs:c,panels:h}=rm("Tab"),u=rj("Tab"),p=rm("Tab"),x=rp("Tab"),m=(0,ra.useRef)(null),f=en(m,n);j(()=>u.registerTab(m),[u,m]);let g=x.current.tabs.indexOf(s);-1===g&&(g=x.current.tabs.push(s)-1);let b=c.indexOf(m);-1===b&&(b=g);let v=b===d,y=P(e=>{var n;let r=e();if(2===r&&"auto"===a){let e=null==(n=B(m))?void 0:n.activeElement,r=p.tabs.findIndex(n=>n.current===e);-1!==r&&u.change(r)}return r}),S=P(e=>{let n=c.map(e=>e.current).filter(Boolean);if(" "===e.key||"Enter"===e.key){e.preventDefault(),e.stopPropagation(),u.change(b);return}switch(e.key){case"Home":case"PageUp":return e.preventDefault(),e.stopPropagation(),y(()=>q(n,1));case"End":case"PageDown":return e.preventDefault(),e.stopPropagation(),y(()=>q(n,8))}if(2===y(()=>D(o,{vertical:()=>"ArrowUp"===e.key?q(n,18):"ArrowDown"===e.key?q(n,20):0,horizontal:()=>"ArrowLeft"===e.key?q(n,18):"ArrowRight"===e.key?q(n,20):0})))return e.preventDefault()}),k=(0,ra.useRef)(!1),_=P(()=>{var e;k.current||(k.current=!0,null==(e=m.current)||e.focus(),u.change(b),w(()=>{k.current=!1}))}),E=P(e=>{e.preventDefault()}),F=(0,ra.useMemo)(()=>({selected:v}),[v]);return el({ourProps:{ref:f,onKeyDown:S,onMouseDown:E,onClick:_,id:s,role:"tab",type:Q(e,m),"aria-controls":null==(t=null==(r=h[b])?void 0:r.current)?void 0:t.id,"aria-selected":v,tabIndex:v?0:-1},theirProps:l,slot:F,defaultTag:"button",name:"Tabs.Tab"})}),{Group:rv,List:ry,Panels:ed(function(e,n){let{selectedIndex:r}=rm("Tab.Panels");return el({ourProps:{ref:en(n)},theirProps:e,slot:(0,ra.useMemo)(()=>({selectedIndex:r}),[r]),defaultTag:"div",name:"Tabs.Panels"})}),Panel:ed(function(e,n){var r,t,i,s;let l=I(),{id:o=`headlessui-tabs-panel-${l}`,...a}=e,{selectedIndex:d,tabs:c,panels:h}=rm("Tab.Panel"),u=rj("Tab.Panel"),p=rp("Tab.Panel"),x=(0,ra.useRef)(null),m=en(x,n);j(()=>u.registerPanel(x),[u,x]);let f=p.current.panels.indexOf(o);-1===f&&(f=p.current.panels.push(o)-1);let g=h.indexOf(x);-1===g&&(g=f);let b=g===d,v=(0,ra.useMemo)(()=>({selected:b}),[b]),y={ref:m,id:o,role:"tabpanel","aria-labelledby":null==(t=null==(r=c[g])?void 0:r.current)?void 0:t.id,tabIndex:b?0:-1};return b||null!=(i=a.unmount)&&!i||null!=(s=a.static)&&s?el({ourProps:y,theirProps:a,slot:v,defaultTag:"div",features:3,visible:b,name:"Tabs.Panel"}):ra.default.createElement(ef,{as:"span",...y})})}),rS=h(r("6171"),1);function rk(e,...n){e&&n.length>0&&e.classList.add(...n)}function r_(e,...n){e&&n.length>0&&e.classList.remove(...n)}function rP(e=""){return e.split(" ").filter(e=>e.trim().length>1)}var rE=(0,rS.createContext)(null);rE.displayName="TransitionContext";var rF=(0,rS.createContext)(null);function rN(e){return"children"in e?rN(e.children):e.current.filter(({el:e})=>null!==e.current).filter(({state:e})=>"visible"===e).length>0}function rT(e,n){let r=b(e),t=(0,rS.useRef)([]),i=eU(),s=k(),l=P((e,n=1)=>{let l=t.current.findIndex(({el:n})=>n===e);-1!==l&&(D(n,{0(){t.current.splice(l,1)},1(){t.current[l].state="hidden"}}),s.microTask(()=>{var e;!rN(t)&&i.current&&(null==(e=r.current)||e.call(r))}))}),o=P(e=>{let n=t.current.find(({el:n})=>n===e);return n?"visible"!==n.state&&(n.state="visible"):t.current.push({el:e,state:"visible"}),()=>l(e,0)}),a=(0,rS.useRef)([]),d=(0,rS.useRef)(Promise.resolve()),c=(0,rS.useRef)({enter:[],leave:[],idle:[]}),h=P((e,r,t)=>{a.current.splice(0),n&&(n.chains.current[r]=n.chains.current[r].filter(([n])=>n!==e)),null==n||n.chains.current[r].push([e,new Promise(e=>{a.current.push(e)})]),null==n||n.chains.current[r].push([e,new Promise(e=>{Promise.all(c.current[r].map(([e,n])=>n)).then(()=>e())})]),"enter"===r?d.current=d.current.then(()=>null==n?void 0:n.wait.current).then(()=>t(r)):t(r)}),u=P((e,n,r)=>{Promise.all(c.current[n].splice(0).map(([e,n])=>n)).then(()=>{var e;null==(e=a.current.shift())||e()}).then(()=>r(n))});return(0,rS.useMemo)(()=>({children:t,register:o,unregister:l,onStart:h,onStop:u,wait:d,chains:c}),[o,l,t,h,u,c,d])}function rR(){}rF.displayName="NestingContext";var rC=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function rM(e){var n;let r={};for(let t of rC)r[t]=null!=(n=e[t])?n:rR;return r}var rO=ed(function(e,n){var r;let t,{beforeEnter:i,afterEnter:s,beforeLeave:l,afterLeave:o,enter:a,enterFrom:d,enterTo:c,entered:h,leave:u,leaveFrom:p,leaveTo:x,...m}=e,f=(0,rS.useRef)(null),g=en(f,n),v=m.unmount?0:1,{show:y,appear:w,initial:_}=function(){let e=(0,rS.useContext)(rE);if(null===e)throw Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),[E,F]=(0,rS.useState)(y?"visible":"hidden"),N=function(){let e=(0,rS.useContext)(rF);if(null===e)throw Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}(),{register:R,unregister:C}=N,M=(0,rS.useRef)(null);(0,rS.useEffect)(()=>R(f),[R,f]),(0,rS.useEffect)(()=>{if(1===v&&f.current){if(y&&"visible"!==E){F("visible");return}return D(E,{hidden:()=>C(f),visible:()=>R(f)})}},[E,f,R,C,y,v]);let O=b({enter:rP(a),enterFrom:rP(d),enterTo:rP(c),entered:rP(h),leave:rP(u),leaveFrom:rP(p),leaveTo:rP(x)}),I=(r={beforeEnter:i,afterEnter:s,beforeLeave:l,afterLeave:o},t=(0,rS.useRef)(rM(r)),(0,rS.useEffect)(()=>{t.current=rM(r)},[r]),t),A=T();(0,rS.useEffect)(()=>{if(A&&"visible"===E&&null===f.current)throw Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[f,E,A]);let B=_&&!w,z=!A||B||M.current===y?"idle":y?"enter":"leave",L=P(e=>D(e,{enter:()=>I.current.beforeEnter(),leave:()=>I.current.beforeLeave(),idle:()=>{}})),G=P(e=>D(e,{enter:()=>I.current.afterEnter(),leave:()=>I.current.afterLeave(),idle:()=>{}})),W=rT(()=>{F("hidden"),C(f)},N);(function({container:e,direction:n,classes:r,onStart:t,onStop:i}){let s=eU(),l=k(),o=b(n);j(()=>{let n=S();l.add(n.dispose);let a=e.current;if(a&&"idle"!==o.current&&s.current){var d,c,h,u,p;let e,s,l,x,m,f,j;return n.dispose(),t.current(o.current),n.add((d=a,c=r.current,h="enter"===o.current,u=()=>{n.dispose(),i.current(o.current)},s=h?"enter":"leave",l=S(),x=void 0!==u?(p=u,e={called:!1},(...n)=>{if(!e.called)return e.called=!0,p(...n)}):()=>{},"enter"===s&&(d.removeAttribute("hidden"),d.style.display=""),m=D(s,{enter:()=>c.enter,leave:()=>c.leave}),f=D(s,{enter:()=>c.enterTo,leave:()=>c.leaveTo}),j=D(s,{enter:()=>c.enterFrom,leave:()=>c.leaveFrom}),r_(d,...c.enter,...c.enterTo,...c.enterFrom,...c.leave,...c.leaveFrom,...c.leaveTo,...c.entered),rk(d,...m,...j),l.nextFrame(()=>{r_(d,...j),rk(d,...f),function(e,n){let r=S();if(!e)return r.dispose;let{transitionDuration:t,transitionDelay:i}=getComputedStyle(e),[s,l]=[t,i].map(e=>{let[n=0]=e.split(",").filter(Boolean).map(e=>e.includes("ms")?parseFloat(e):1e3*parseFloat(e)).sort((e,n)=>n-e);return n});if(s+l!==0){let t=r.addEventListener(e,"transitionend",e=>{e.target===e.currentTarget&&(n(),t())})}else n();r.add(()=>n()),r.dispose}(d,()=>(r_(d,...m),rk(d,...c.entered),x()))}),l.dispose)),n.dispose}},[n])})({container:f,classes:O,direction:z,onStart:b(e=>{W.onStart(f,e,L)}),onStop:b(e=>{W.onStop(f,e,G),"leave"!==e||rN(W)||(F("hidden"),C(f))})}),(0,rS.useEffect)(()=>{B&&(1===v?M.current=null:M.current=y)},[y,B,E]);let U=m;return w&&y&&("undefined"==typeof window||"undefined"==typeof document)&&(U={...U,className:function(...e){return e.filter(Boolean).join(" ")}(m.className,...O.current.enter,...O.current.enterFrom)}),rS.default.createElement(rF.Provider,{value:W},rS.default.createElement(ev,{value:D(E,{visible:0,hidden:1})},el({ourProps:{ref:g},theirProps:U,defaultTag:"div",features:1,visible:"visible"===E,name:"Transition.Child"})))}),rI=ed(function(e,n){let{show:r,appear:t=!1,unmount:i,...s}=e,l=(0,rS.useRef)(null),o=en(l,n);T();let a=eb();if(void 0===r&&null!==a&&(r=D(a,{0:!0,1:!1})),![!0,!1].includes(r))throw Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[d,c]=(0,rS.useState)(r?"visible":"hidden"),h=rT(()=>{c("hidden")}),[u,p]=(0,rS.useState)(!0),x=(0,rS.useRef)([r]);j(()=>{!1!==u&&x.current[x.current.length-1]!==r&&(x.current.push(r),p(!1))},[x,r]);let m=(0,rS.useMemo)(()=>({show:r,appear:t,initial:u}),[r,t,u]);(0,rS.useEffect)(()=>{if(r)c("visible");else if(rN(h)){let e=l.current;if(!e)return;let n=e.getBoundingClientRect();0===n.x&&0===n.y&&0===n.width&&0===n.height&&c("hidden")}else c("hidden")},[r,h]);let f={unmount:i};return rS.default.createElement(rF.Provider,{value:h},rS.default.createElement(rE.Provider,{value:m},el({ourProps:{...f,as:rS.Fragment,children:rS.default.createElement(rO,{ref:o,...f,...s})},theirProps:{},defaultTag:rS.Fragment,features:1,visible:"visible"===d,name:"Transition"})))}),rA=ed(function(e,n){let r=null!==(0,rS.useContext)(rE),t=null!==eb();return rS.default.createElement(rS.default.Fragment,null,!r&&t?rS.default.createElement(rI,{ref:n,...e}):rS.default.createElement(rO,{ref:n,...e}))}),rD=Object.assign(rI,{Child:rA,Root:rI})},45643:function(e,n,r){"use strict";e.exports=r("43232")},23169:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{MDXProvider:function(){return t.MDXProvider},useMDXComponents:function(){return t.useMDXComponents}});var t=r("56868")},56868:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{useMDXComponents:function(){return s},MDXProvider:function(){return o}});var t=r.ir(r("6171"));let i=t.default.createContext({});function s(e){let n=t.default.useContext(i);return t.default.useMemo(()=>"function"==typeof e?e(n):{...n,...e},[n,e])}let l={};function o({components:e,children:n,disableParentContext:r}){let o=s(e);return r&&(o=e||l),t.default.createElement(i.Provider,{value:o},n)}},30034:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var t=r.ir(r("5867")),i=r.ir(r("82148")),s=(0,t.default)(i.default,"DataView")},60669:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return d}});var t=r.ir(r("42224")),i=r.ir(r("33224")),s=r.ir(r("21338")),l=r.ir(r("26710")),o=r.ir(r("29849"));function a(e){var n=-1,r=null==e?0:e.length;for(this.clear();++n<r;){var t=e[n];this.set(t[0],t[1])}}a.prototype.clear=t.default,a.prototype.delete=i.default,a.prototype.get=s.default,a.prototype.has=l.default,a.prototype.set=o.default;var d=a},79817:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return d}});var t=r.ir(r("77310")),i=r.ir(r("25951")),s=r.ir(r("55565")),l=r.ir(r("28257")),o=r.ir(r("90447"));function a(e){var n=-1,r=null==e?0:e.length;for(this.clear();++n<r;){var t=e[n];this.set(t[0],t[1])}}a.prototype.clear=t.default,a.prototype.delete=i.default,a.prototype.get=s.default,a.prototype.has=l.default,a.prototype.set=o.default;var d=a},70642:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var t=r.ir(r("5867")),i=r.ir(r("82148")),s=(0,t.default)(i.default,"Map")},82944:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return d}});var t=r.ir(r("41593")),i=r.ir(r("84136")),s=r.ir(r("68209")),l=r.ir(r("34611")),o=r.ir(r("33083"));function a(e){var n=-1,r=null==e?0:e.length;for(this.clear();++n<r;){var t=e[n];this.set(t[0],t[1])}}a.prototype.clear=t.default,a.prototype.delete=i.default,a.prototype.get=s.default,a.prototype.has=l.default,a.prototype.set=o.default;var d=a},9345:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var t=r.ir(r("5867")),i=r.ir(r("82148")),s=(0,t.default)(i.default,"Promise")},22258:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var t=r.ir(r("5867")),i=r.ir(r("82148")),s=(0,t.default)(i.default,"Set")},54020:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t=r.ir(r("82944")),i=r.ir(r("32479")),s=r.ir(r("3825"));function l(e){var n=-1,r=null==e?0:e.length;for(this.__data__=new t.default;++n<r;)this.add(e[n])}l.prototype.add=l.prototype.push=i.default,l.prototype.has=s.default;var o=l},23149:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return c}});var t=r.ir(r("79817")),i=r.ir(r("36183")),s=r.ir(r("7842")),l=r.ir(r("11313")),o=r.ir(r("36257")),a=r.ir(r("77118"));function d(e){var n=this.__data__=new t.default(e);this.size=n.size}d.prototype.clear=i.default,d.prototype.delete=s.default,d.prototype.get=l.default,d.prototype.has=o.default,d.prototype.set=a.default;var c=d},54400:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=r.ir(r("82148")).default.Symbol},9655:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=r.ir(r("82148")).default.Uint8Array},55303:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var t=r.ir(r("5867")),i=r.ir(r("82148")),s=(0,t.default)(i.default,"WeakMap")},7523:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=function(e,n,r,t){for(var i=-1,s=null==e?0:e.length;++i<s;){var l=e[i];n(t,l,r(l),e)}return t}},8207:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=function(e,n){for(var r=-1,t=null==e?0:e.length,i=0,s=[];++r<t;){var l=e[r];n(l,r,e)&&(s[i++]=l)}return s}},67005:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return c}});var t=r.ir(r("77673")),i=r.ir(r("23901")),s=r.ir(r("74095")),l=r.ir(r("86665")),o=r.ir(r("73776")),a=r.ir(r("72945")),d=Object.prototype.hasOwnProperty,c=function(e,n){var r=(0,s.default)(e),c=!r&&(0,i.default)(e),h=!r&&!c&&(0,l.default)(e),u=!r&&!c&&!h&&(0,a.default)(e),p=r||c||h||u,x=p?(0,t.default)(e.length,String):[],m=x.length;for(var f in e)(n||d.call(e,f))&&!(p&&("length"==f||h&&("offset"==f||"parent"==f)||u&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||(0,o.default)(f,m)))&&x.push(f);return x}},80604:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=function(e,n){for(var r=-1,t=null==e?0:e.length,i=Array(t);++r<t;)i[r]=n(e[r],r,e);return i}},71280:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=function(e,n){for(var r=-1,t=n.length,i=e.length;++r<t;)e[i+r]=n[r];return e}},51336:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=function(e,n){for(var r=-1,t=null==e?0:e.length;++r<t;)if(n(e[r],r,e))return!0;return!1}},44877:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var t=r.ir(r("10967")),i=function(e,n){for(var r=e.length;r--;)if((0,t.default)(e[r][0],n))return r;return -1}},12011:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var t=r.ir(r("44938")),i=function(e,n,r,i){return(0,t.default)(e,function(e,t,s){n(i,e,r(e),s)}),i}},47403:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var t=r.ir(r("5339")),i=function(e,n,r){"__proto__"==n&&t.default?(0,t.default)(e,n,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[n]=r}},44938:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var t=r.ir(r("75960")),i=(0,r.ir(r("43864")).default)(t.default)},50688:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=(0,r.ir(r("61566")).default)()},75960:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var t=r.ir(r("50688")),i=r.ir(r("88548")),s=function(e,n){return e&&(0,t.default)(e,n,i.default)}},23024:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var t=r.ir(r("38737")),i=r.ir(r("41461")),s=function(e,n){n=(0,t.default)(n,e);for(var r=0,s=n.length;null!=e&&r<s;)e=e[(0,i.default)(n[r++])];return r&&r==s?e:void 0}},30838:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var t=r.ir(r("71280")),i=r.ir(r("74095")),s=function(e,n,r){var s=n(e);return(0,i.default)(e)?s:(0,t.default)(s,r(e))}},67602:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t=r.ir(r("54400")),i=r.ir(r("13711")),s=r.ir(r("33210")),l=t.default?t.default.toStringTag:void 0,o=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":l&&l in Object(e)?(0,i.default)(e):(0,s.default)(e)}},22725:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=function(e,n){return null!=e&&n in Object(e)}},38949:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var t=r.ir(r("67602")),i=r.ir(r("15463")),s=function(e){return(0,i.default)(e)&&"[object Arguments]"==(0,t.default)(e)}},43674:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var t=r.ir(r("58129")),i=r.ir(r("15463")),s=function e(n,r,s,l,o){return n===r||(null!=n&&null!=r&&((0,i.default)(n)||(0,i.default)(r))?(0,t.default)(n,r,s,l,e,o):n!=n&&r!=r)}},58129:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return m}});var t=r.ir(r("23149")),i=r.ir(r("30952")),s=r.ir(r("34344")),l=r.ir(r("89647")),o=r.ir(r("17395")),a=r.ir(r("74095")),d=r.ir(r("86665")),c=r.ir(r("72945")),h="[object Arguments]",u="[object Array]",p="[object Object]",x=Object.prototype.hasOwnProperty,m=function(e,n,r,m,f,j){var g=(0,a.default)(e),b=(0,a.default)(n),v=g?u:(0,o.default)(e),y=b?u:(0,o.default)(n);v=v==h?p:v,y=y==h?p:y;var w=v==p,S=y==p,k=v==y;if(k&&(0,d.default)(e)){if(!(0,d.default)(n))return!1;g=!0,w=!1}if(k&&!w)return j||(j=new t.default),g||(0,c.default)(e)?(0,i.default)(e,n,r,m,f,j):(0,s.default)(e,n,v,r,m,f,j);if(!(1&r)){var _=w&&x.call(e,"__wrapped__"),P=S&&x.call(n,"__wrapped__");if(_||P){var E=_?e.value():e,F=P?n.value():n;return j||(j=new t.default),f(E,F,r,m,j)}}return!!k&&(j||(j=new t.default),(0,l.default)(e,n,r,m,f,j))}},35750:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var t=r.ir(r("23149")),i=r.ir(r("43674")),s=function(e,n,r,s){var l=r.length,o=l,a=!s;if(null==e)return!o;for(e=Object(e);l--;){var d=r[l];if(a&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++l<o;){var c=(d=r[l])[0],h=e[c],u=d[1];if(a&&d[2]){if(void 0===h&&!(c in e))return!1}else{var p=new t.default;if(s)var x=s(h,u,c,e,n,p);if(!(void 0===x?(0,i.default)(u,h,3,s,p):x))return!1}}return!0}},87896:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return u}});var t=r.ir(r("47776")),i=r.ir(r("64565")),s=r.ir(r("66123")),l=r.ir(r("34266")),o=/^\[object .+?Constructor\]$/,a=Object.prototype,d=Function.prototype.toString,c=a.hasOwnProperty,h=RegExp("^"+d.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),u=function(e){return!(!(0,s.default)(e)||(0,i.default)(e))&&((0,t.default)(e)?h:o).test((0,l.default)(e))}},48227:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t=r.ir(r("67602")),i=r.ir(r("20956")),s=r.ir(r("15463")),l={};l["[object Float32Array]"]=l["[object Float64Array]"]=l["[object Int8Array]"]=l["[object Int16Array]"]=l["[object Int32Array]"]=l["[object Uint8Array]"]=l["[object Uint8ClampedArray]"]=l["[object Uint16Array]"]=l["[object Uint32Array]"]=!0,l["[object Arguments]"]=l["[object Array]"]=l["[object ArrayBuffer]"]=l["[object Boolean]"]=l["[object DataView]"]=l["[object Date]"]=l["[object Error]"]=l["[object Function]"]=l["[object Map]"]=l["[object Number]"]=l["[object Object]"]=l["[object RegExp]"]=l["[object Set]"]=l["[object String]"]=l["[object WeakMap]"]=!1;var o=function(e){return(0,s.default)(e)&&(0,i.default)(e.length)&&!!l[(0,t.default)(e)]}},51461:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var t=r.ir(r("38916")),i=r.ir(r("38802")),s=r.ir(r("67421")),l=r.ir(r("74095")),o=r.ir(r("40982")),a=function(e){return"function"==typeof e?e:null==e?s.default:"object"==typeof e?(0,l.default)(e)?(0,i.default)(e[0],e[1]):(0,t.default)(e):(0,o.default)(e)}},69347:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return l}});var t=r.ir(r("68949")),i=r.ir(r("11798")),s=Object.prototype.hasOwnProperty,l=function(e){if(!(0,t.default)(e))return(0,i.default)(e);var n=[];for(var r in Object(e))s.call(e,r)&&"constructor"!=r&&n.push(r);return n}},38916:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return l}});var t=r.ir(r("35750")),i=r.ir(r("28695")),s=r.ir(r("92782")),l=function(e){var n=(0,i.default)(e);return 1==n.length&&n[0][2]?(0,s.default)(n[0][0],n[0][1]):function(r){return r===e||(0,t.default)(r,e,n)}}},38802:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return c}});var t=r.ir(r("43674")),i=r.ir(r("24114")),s=r.ir(r("45602")),l=r.ir(r("22799")),o=r.ir(r("60147")),a=r.ir(r("92782")),d=r.ir(r("41461")),c=function(e,n){return(0,l.default)(e)&&(0,o.default)(n)?(0,a.default)((0,d.default)(e),n):function(r){var l=(0,i.default)(r,e);return void 0===l&&l===n?(0,s.default)(r,e):(0,t.default)(n,l,3)}}},20860:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=function(e){return function(n){return null==n?void 0:n[e]}}},49678:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var t=r.ir(r("23024")),i=function(e){return function(n){return(0,t.default)(n,e)}}},77673:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=function(e,n){for(var r=-1,t=Array(e);++r<e;)t[r]=n(r);return t}},44749:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return c}});var t=r.ir(r("54400")),i=r.ir(r("80604")),s=r.ir(r("74095")),l=r.ir(r("37817")),o=1/0,a=t.default?t.default.prototype:void 0,d=a?a.toString:void 0,c=function e(n){if("string"==typeof n)return n;if((0,s.default)(n))return(0,i.default)(n,e)+"";if((0,l.default)(n))return d?d.call(n):"";var r=n+"";return"0"==r&&1/n==-o?"-0":r}},33561:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var t=r.ir(r("79755")),i=/^\s+/,s=function(e){return e?e.slice(0,(0,t.default)(e)+1).replace(i,""):e}},30343:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=function(e){return function(n){return e(n)}}},24822:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=function(e,n){return e.has(n)}},38737:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t=r.ir(r("74095")),i=r.ir(r("22799")),s=r.ir(r("57464")),l=r.ir(r("89614")),o=function(e,n){return(0,t.default)(e)?e:(0,i.default)(e,n)?[e]:(0,s.default)((0,l.default)(e))}},51863:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=r.ir(r("82148")).default["__core-js_shared__"]},44103:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t=r.ir(r("7523")),i=r.ir(r("12011")),s=r.ir(r("51461")),l=r.ir(r("74095")),o=function(e,n){return function(r,o){var a=(0,l.default)(r)?t.default:i.default,d=n?n():{};return a(r,e,(0,s.default)(o,2),d)}}},43864:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var t=r.ir(r("20696")),i=function(e,n){return function(r,i){if(null==r)return r;if(!(0,t.default)(r))return e(r,i);for(var s=r.length,l=n?s:-1,o=Object(r);(n?l--:++l<s)&&!1!==i(o[l],l,o););return r}}},61566:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=function(e){return function(n,r,t){for(var i=-1,s=Object(n),l=t(n),o=l.length;o--;){var a=l[e?o:++i];if(!1===r(s[a],a,s))break}return n}}},5339:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var t=r.ir(r("5867")),i=function(){try{var e=(0,t.default)(Object,"defineProperty");return e({},"",{}),e}catch(e){}}()},30952:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return l}});var t=r.ir(r("54020")),i=r.ir(r("51336")),s=r.ir(r("24822")),l=function(e,n,r,l,o,a){var d=1&r,c=e.length,h=n.length;if(c!=h&&!(d&&h>c))return!1;var u=a.get(e),p=a.get(n);if(u&&p)return u==n&&p==e;var x=-1,m=!0,f=2&r?new t.default:void 0;for(a.set(e,n),a.set(n,e);++x<c;){var j=e[x],g=n[x];if(l)var b=d?l(g,j,x,n,e,a):l(j,g,x,e,n,a);if(void 0!==b){if(b)continue;m=!1;break}if(f){if(!(0,i.default)(n,function(e,n){if(!(0,s.default)(f,n)&&(j===e||o(j,e,r,l,a)))return f.push(n)})){m=!1;break}}else if(!(j===g||o(j,g,r,l,a))){m=!1;break}}return a.delete(e),a.delete(n),m}},34344:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return h}});var t=r.ir(r("54400")),i=r.ir(r("9655")),s=r.ir(r("10967")),l=r.ir(r("30952")),o=r.ir(r("45022")),a=r.ir(r("90753")),d=t.default?t.default.prototype:void 0,c=d?d.valueOf:void 0,h=function(e,n,r,t,d,h,u){switch(r){case"[object DataView]":if(e.byteLength!=n.byteLength||e.byteOffset!=n.byteOffset)break;e=e.buffer,n=n.buffer;case"[object ArrayBuffer]":if(e.byteLength!=n.byteLength||!h(new i.default(e),new i.default(n)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,s.default)(+e,+n);case"[object Error]":return e.name==n.name&&e.message==n.message;case"[object RegExp]":case"[object String]":return e==n+"";case"[object Map]":var p=o.default;case"[object Set]":var x=1&t;if(p||(p=a.default),e.size!=n.size&&!x)break;var m=u.get(e);if(m)return m==n;t|=2,u.set(e,n);var f=(0,l.default)(p(e),p(n),t,d,h,u);return u.delete(e),f;case"[object Symbol]":if(c)return c.call(e)==c.call(n)}return!1}},89647:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var t=r.ir(r("58562")),i=Object.prototype.hasOwnProperty,s=function(e,n,r,s,l,o){var a=1&r,d=(0,t.default)(e),c=d.length;if(c!=(0,t.default)(n).length&&!a)return!1;for(var h=c;h--;){var u=d[h];if(!(a?u in n:i.call(n,u)))return!1}var p=o.get(e),x=o.get(n);if(p&&x)return p==n&&x==e;var m=!0;o.set(e,n),o.set(n,e);for(var f=a;++h<c;){var j=e[u=d[h]],g=n[u];if(s)var b=a?s(g,j,u,n,e,o):s(j,g,u,e,n,o);if(!(void 0===b?j===g||l(j,g,r,s,o):b)){m=!1;break}f||(f="constructor"==u)}if(m&&!f){var v=e.constructor,y=n.constructor;v!=y&&"constructor"in e&&"constructor"in n&&!("function"==typeof v&&v instanceof v&&"function"==typeof y&&y instanceof y)&&(m=!1)}return o.delete(e),o.delete(n),m}},84531:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t="object"==typeof global&&global&&global.Object===Object&&global},58562:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return l}});var t=r.ir(r("30838")),i=r.ir(r("27113")),s=r.ir(r("88548")),l=function(e){return(0,t.default)(e,s.default,i.default)}},54753:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var t=r.ir(r("26235")),i=function(e,n){var r=e.__data__;return(0,t.default)(n)?r["string"==typeof n?"string":"hash"]:r.map}},28695:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var t=r.ir(r("60147")),i=r.ir(r("88548")),s=function(e){for(var n=(0,i.default)(e),r=n.length;r--;){var s=n[r],l=e[s];n[r]=[s,l,(0,t.default)(l)]}return n}},5867:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var t=r.ir(r("87896")),i=r.ir(r("28383")),s=function(e,n){var r=(0,i.default)(e,n);return(0,t.default)(r)?r:void 0}},13711:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var t=r.ir(r("54400")),i=Object.prototype,s=i.hasOwnProperty,l=i.toString,o=t.default?t.default.toStringTag:void 0,a=function(e){var n=s.call(e,o),r=e[o];try{e[o]=void 0;var t=!0}catch(e){}var i=l.call(e);return t&&(n?e[o]=r:delete e[o]),i}},27113:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t=r.ir(r("8207")),i=r.ir(r("53060")),s=Object.prototype.propertyIsEnumerable,l=Object.getOwnPropertySymbols,o=l?function(e){return null==e?[]:(e=Object(e),(0,t.default)(l(e),function(n){return s.call(e,n)}))}:i.default},17395:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return y}});var t=r.ir(r("30034")),i=r.ir(r("70642")),s=r.ir(r("9345")),l=r.ir(r("22258")),o=r.ir(r("55303")),a=r.ir(r("67602")),d=r.ir(r("34266")),c="[object Map]",h="[object Promise]",u="[object Set]",p="[object WeakMap]",x="[object DataView]",m=(0,d.default)(t.default),f=(0,d.default)(i.default),j=(0,d.default)(s.default),g=(0,d.default)(l.default),b=(0,d.default)(o.default),v=a.default;(t.default&&v(new t.default(new ArrayBuffer(1)))!=x||i.default&&v(new i.default)!=c||s.default&&v(s.default.resolve())!=h||l.default&&v(new l.default)!=u||o.default&&v(new o.default)!=p)&&(v=function(e){var n=(0,a.default)(e),r="[object Object]"==n?e.constructor:void 0,t=r?(0,d.default)(r):"";if(t)switch(t){case m:return x;case f:return c;case j:return h;case g:return u;case b:return p}return n});var y=v},28383:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=function(e,n){return null==e?void 0:e[n]}},99317:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return d}});var t=r.ir(r("38737")),i=r.ir(r("23901")),s=r.ir(r("74095")),l=r.ir(r("73776")),o=r.ir(r("20956")),a=r.ir(r("41461")),d=function(e,n,r){n=(0,t.default)(n,e);for(var d=-1,c=n.length,h=!1;++d<c;){var u=(0,a.default)(n[d]);if(!(h=null!=e&&r(e,u)))break;e=e[u]}return h||++d!=c?h:!!(c=null==e?0:e.length)&&(0,o.default)(c)&&(0,l.default)(u,c)&&((0,s.default)(e)||(0,i.default)(e))}},42224:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var t=r.ir(r("73722")),i=function(){this.__data__=t.default?(0,t.default)(null):{},this.size=0}},33224:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=function(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}},21338:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var t=r.ir(r("73722")),i=Object.prototype.hasOwnProperty,s=function(e){var n=this.__data__;if(t.default){var r=n[e];return"__lodash_hash_undefined__"===r?void 0:r}return i.call(n,e)?n[e]:void 0}},26710:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var t=r.ir(r("73722")),i=Object.prototype.hasOwnProperty,s=function(e){var n=this.__data__;return t.default?void 0!==n[e]:i.call(n,e)}},29849:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var t=r.ir(r("73722")),i=function(e,n){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=t.default&&void 0===n?"__lodash_hash_undefined__":n,this}},73776:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var t=/^(?:0|[1-9]\d*)$/,i=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},22799:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t=r.ir(r("74095")),i=r.ir(r("37817")),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,l=/^\w*$/,o=function(e,n){if((0,t.default)(e))return!1;var r=typeof e;return!!("number"==r||"symbol"==r||"boolean"==r||null==e||(0,i.default)(e))||l.test(e)||!s.test(e)||null!=n&&e in Object(n)}},26235:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=function(e){var n=typeof e;return"string"==n||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==e:null===e}},64565:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return l}});var t,i=r.ir(r("51863"));var s=(t=/[^.]+$/.exec(i.default&&i.default.keys&&i.default.keys.IE_PROTO||""),t?"Symbol(src)_1."+t:""),l=function(e){return!!s&&s in e}},68949:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var t=Object.prototype,i=function(e){var n=e&&e.constructor,r="function"==typeof n&&n.prototype||t;return e===r}},60147:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var t=r.ir(r("66123")),i=function(e){return e==e&&!(0,t.default)(e)}},77310:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=function(){this.__data__=[],this.size=0}},25951:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var t=r.ir(r("44877")),i=Array.prototype.splice,s=function(e){var n=this.__data__,r=(0,t.default)(n,e);return!(r<0)&&(r==n.length-1?n.pop():i.call(n,r,1),--this.size,!0)}},55565:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var t=r.ir(r("44877")),i=function(e){var n=this.__data__,r=(0,t.default)(n,e);return r<0?void 0:n[r][1]}},28257:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var t=r.ir(r("44877")),i=function(e){return(0,t.default)(this.__data__,e)>-1}},90447:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var t=r.ir(r("44877")),i=function(e,n){var r=this.__data__,i=(0,t.default)(r,e);return i<0?(++this.size,r.push([e,n])):r[i][1]=n,this}},41593:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return l}});var t=r.ir(r("60669")),i=r.ir(r("79817")),s=r.ir(r("70642")),l=function(){this.size=0,this.__data__={hash:new t.default,map:new(s.default||i.default),string:new t.default}}},84136:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var t=r.ir(r("54753")),i=function(e){var n=(0,t.default)(this,e).delete(e);return this.size-=n?1:0,n}},68209:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var t=r.ir(r("54753")),i=function(e){return(0,t.default)(this,e).get(e)}},34611:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var t=r.ir(r("54753")),i=function(e){return(0,t.default)(this,e).has(e)}},33083:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var t=r.ir(r("54753")),i=function(e,n){var r=(0,t.default)(this,e),i=r.size;return r.set(e,n),this.size+=r.size==i?0:1,this}},45022:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=function(e){var n=-1,r=Array(e.size);return e.forEach(function(e,t){r[++n]=[t,e]}),r}},92782:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=function(e,n){return function(r){return null!=r&&r[e]===n&&(void 0!==n||e in Object(r))}}},48496:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var t=r.ir(r("23891")),i=function(e){var n=(0,t.default)(e,function(e){return 500===r.size&&r.clear(),e}),r=n.cache;return n}},73722:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=(0,r.ir(r("5867")).default)(Object,"create")},11798:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=(0,r.ir(r("7016")).default)(Object.keys,Object)},31115:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t=r.ir(r("84531")),i="object"==typeof n&&n&&!n.nodeType&&n,s=i&&"object"==typeof e&&e&&!e.nodeType&&e,l=s&&s.exports===i&&t.default.process,o=function(){try{var e=s&&s.require&&s.require("util").types;if(e)return e;return l&&l.binding&&l.binding("util")}catch(e){}}()},33210:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var t=Object.prototype.toString,i=function(e){return t.call(e)}},7016:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=function(e,n){return function(r){return e(n(r))}}},82148:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var t=r.ir(r("84531")),i="object"==typeof self&&self&&self.Object===Object&&self,s=t.default||i||Function("return this")()},32479:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},3825:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=function(e){return this.__data__.has(e)}},90753:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=function(e){var n=-1,r=Array(e.size);return e.forEach(function(e){r[++n]=e}),r}},36183:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var t=r.ir(r("79817")),i=function(){this.__data__=new t.default,this.size=0}},7842:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=function(e){var n=this.__data__,r=n.delete(e);return this.size=n.size,r}},11313:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=function(e){return this.__data__.get(e)}},36257:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=function(e){return this.__data__.has(e)}},77118:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return l}});var t=r.ir(r("79817")),i=r.ir(r("70642")),s=r.ir(r("82944")),l=function(e,n){var r=this.__data__;if(r instanceof t.default){var l=r.__data__;if(!i.default||l.length<199)return l.push([e,n]),this.size=++r.size,this;r=this.__data__=new s.default(l)}return r.set(e,n),this.size=r.size,this}},57464:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return l}});var t=r.ir(r("48496")),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,s=/\\(\\)?/g,l=(0,t.default)(function(e){var n=[];return 46===e.charCodeAt(0)&&n.push(""),e.replace(i,function(e,r,t,i){n.push(t?i.replace(s,"$1"):r||e)}),n})},41461:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var t=r.ir(r("37817")),i=1/0,s=function(e){if("string"==typeof e||(0,t.default)(e))return e;var n=e+"";return"0"==n&&1/e==-i?"-0":n}},34266:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var t=Function.prototype.toString,i=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},79755:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var t=/\s/,i=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},31952:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var t=r.ir(r("66123")),i=r.ir(r("97324")),s=r.ir(r("75767")),l=Math.max,o=Math.min,a=function(e,n,r){var a,d,c,h,u,p,x=0,m=!1,f=!1,j=!0;if("function"!=typeof e)throw TypeError("Expected a function");function g(n){var r=a,t=d;return a=d=void 0,x=n,h=e.apply(t,r)}n=(0,s.default)(n)||0,(0,t.default)(r)&&(m=!!r.leading,c=(f="maxWait"in r)?l((0,s.default)(r.maxWait)||0,n):c,j="trailing"in r?!!r.trailing:j);function b(e){var r=e-p,t=e-x;return void 0===p||r>=n||r<0||f&&t>=c}function v(){var e,r,t,s,l=(0,i.default)();if(b(l))return y(l);u=setTimeout(v,(r=(e=l)-p,t=e-x,s=n-r,f?o(s,c-t):s))}function y(e){return(u=void 0,j&&a)?g(e):(a=d=void 0,h)}function w(){var e,r=(0,i.default)(),t=b(r);if(a=arguments,d=this,p=r,t){if(void 0===u){;return x=e=p,u=setTimeout(v,n),m?g(e):h}if(f)return clearTimeout(u),u=setTimeout(v,n),g(p)}return void 0===u&&(u=setTimeout(v,n)),h}return w.cancel=function(){void 0!==u&&clearTimeout(u),x=0,a=p=d=u=void 0},w.flush=function(){return void 0===u?h:y((0,i.default)())},w}},10967:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=function(e,n){return e===n||e!=e&&n!=n}},24114:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var t=r.ir(r("23024")),i=function(e,n,r){var i=null==e?void 0:(0,t.default)(e,n);return void 0===i?r:i}},53816:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return l}});var t=r.ir(r("47403")),i=r.ir(r("44103")),s=Object.prototype.hasOwnProperty,l=(0,i.default)(function(e,n,r){s.call(e,r)?e[r].push(n):(0,t.default)(e,r,[n])})},45602:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var t=r.ir(r("22725")),i=r.ir(r("99317")),s=function(e,n){return null!=e&&(0,i.default)(e,n,t.default)}},67421:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=function(e){return e}},23901:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var t=r.ir(r("38949")),i=r.ir(r("15463")),s=Object.prototype,l=s.hasOwnProperty,o=s.propertyIsEnumerable,a=(0,t.default)(function(){return arguments}())?t.default:function(e){return(0,i.default)(e)&&l.call(e,"callee")&&!o.call(e,"callee")}},74095:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=Array.isArray},20696:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var t=r.ir(r("47776")),i=r.ir(r("20956")),s=function(e){return null!=e&&(0,i.default)(e.length)&&!(0,t.default)(e)}},86665:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var t=r.ir(r("82148")),i=r.ir(r("19219")),s="object"==typeof n&&n&&!n.nodeType&&n,l=s&&"object"==typeof e&&e&&!e.nodeType&&e,o=l&&l.exports===s?t.default.Buffer:void 0,a=(o?o.isBuffer:void 0)||i.default},47776:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var t=r.ir(r("67602")),i=r.ir(r("66123")),s=function(e){if(!(0,i.default)(e))return!1;var n=(0,t.default)(e);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n}},20956:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},66123:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=function(e){var n=typeof e;return null!=e&&("object"==n||"function"==n)}},15463:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=function(e){return null!=e&&"object"==typeof e}},37817:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var t=r.ir(r("67602")),i=r.ir(r("15463")),s=function(e){return"symbol"==typeof e||(0,i.default)(e)&&"[object Symbol]"==(0,t.default)(e)}},72945:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t=r.ir(r("48227")),i=r.ir(r("30343")),s=r.ir(r("31115")),l=s.default&&s.default.isTypedArray,o=l?(0,i.default)(l):t.default},88548:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return l}});var t=r.ir(r("67005")),i=r.ir(r("69347")),s=r.ir(r("20696")),l=function(e){return(0,s.default)(e)?(0,t.default)(e):(0,i.default)(e)}},23891:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var t=r.ir(r("82944"));function i(e,n){if("function"!=typeof e||null!=n&&"function"!=typeof n)throw TypeError("Expected a function");var r=function(){var t=arguments,i=n?n.apply(this,t):t[0],s=r.cache;if(s.has(i))return s.get(i);var l=e.apply(this,t);return r.cache=s.set(i,l)||s,l};return r.cache=new(i.Cache||t.default),r}i.Cache=t.default;var s=i},97324:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var t=r.ir(r("82148")),i=function(){return t.default.Date.now()}},40982:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t=r.ir(r("20860")),i=r.ir(r("49678")),s=r.ir(r("22799")),l=r.ir(r("41461")),o=function(e){return(0,s.default)(e)?(0,t.default)((0,l.default)(e)):(0,i.default)(e)}},53060:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=function(){return[]}},19219:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});var t=function(){return!1}},97150:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var t=r.ir(r("31952")),i=r.ir(r("66123")),s=function(e,n,r){var s=!0,l=!0;if("function"!=typeof e)throw TypeError("Expected a function");return(0,i.default)(r)&&(s="leading"in r?!!r.leading:s,l="trailing"in r?!!r.trailing:l),(0,t.default)(e,n,{leading:s,maxWait:n,trailing:l})}},75767:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return h}});var t=r.ir(r("33561")),i=r.ir(r("66123")),s=r.ir(r("37817")),l=0/0,o=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,d=/^0o[0-7]+$/i,c=parseInt,h=function(e){if("number"==typeof e)return e;if((0,s.default)(e))return l;if((0,i.default)(e)){var n="function"==typeof e.valueOf?e.valueOf():e;e=(0,i.default)(n)?n+"":n}if("string"!=typeof e)return 0===e?e:+e;e=(0,t.default)(e);var r=a.test(e);return r||d.test(e)?c(e.slice(2),r?2:8):o.test(e)?l:+e}},89614:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});var t=r.ir(r("44749")),i=function(e){return null==e?"":(0,t.default)(e)}},32978:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{HomeFooter:function(){return rH},Nav:function(){return nI},Search:function(){return rU},default:function(){return rq}});var t,i,s,l=r("9880"),o=r("23447");r("14968");var a=r.ir(r("6171")),d=r("78585"),c=r.ir(r("27385")),h=r.ir(r("16759")),u=r("66811"),p=r("23169"),x=r.ir(r("97150")),m=r.ir(r("42256")),f=r("53318"),j=r("72858"),g=r.ir(r("73846")),b=r.ir(r("4249")),v=r.ir(r("14917")),y=r.ir(r("57077")),w=r.ir(r("54466")),S=r.ir(r("81130")),k=r.ir(r("64227")),_=r.ir(r("68448")),P=r.ir(r("73513")),E=r.ir(r("43184")),F=r.ir(r("33204")),N=r.ir(r("97575")),T=r.ir(r("29385")),R=r.ir(r("53274")),C=r("74007"),M=r.ir(r("72540")),O=r.ir(r("31952")),I=r.ir(r("53816")),A=r("11167"),D=r("45643"),B=r.ir(r("77190")),z=r.ir(r("36349"));function L(){var e,n,r,t,i;let s=(0,o.usePageData)(),{page:{lang:l}}=s,a=null!==(n=null==s?void 0:null===(e=s.siteData)||void 0===e?void 0:e.themeConfig)&&void 0!==n?n:{},d=null!==(r=s.siteData.lang)&&void 0!==r?r:"",c=null==a?void 0:a.locales;if(!c||0===c.length)return{nav:a.nav,sidebar:a.sidebar,prevPageText:a.prevPageText,nextPageText:a.nextPageText};let h=c.find(e=>e.lang===l);return t=function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.forEach(function(n){var t,i,s;t=e,i=n,s=r[n],i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s})}return e}({},h),i=(i={langRoutePrefix:l===d?"/":l},i),Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):(function(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r.push.apply(r,t)}return r})(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}),t}var G=(e,n)=>{for(let r of Object.keys(e)){if((0,o.isEqualPath)((0,o.withBase)(r),n))return{group:"Documentation",items:e[r]};let t=e[r].find(e=>{let r=e=>{let t=()=>(0,o.isEqualPath)((0,o.withBase)(e.link),n);return"items"in e?!!t()||e.items.some(e=>r(e)):t()};return r(e)});if(t){let n=e[r];return{group:t.text||"",items:n}}}return{group:"Documentation",items:[]}};function W(){var e;let n=L(),r=null!==(e=n.sidebar)&&void 0!==e?e:{},{pathname:t}=(0,o.useLocation)(),i=decodeURIComponent(t),[s,l]=(0,a.useState)(G(r,i));return(0,a.useEffect)(()=>{let e=G(r,i);l(e)},[i,r]),s}RegExp("\\?.*$","s"),RegExp("#.*$","s");var U="modern-theme-appearance",H=()=>"undefined"!=typeof window;function q(e){return"/"===e.charAt(0)||e.startsWith("https")?e:`/${e}`}function X(e){var n;return"/"===(n=q(e)).charAt(n.length-1)?n.slice(0,-1):n}function V(e,n){let r=parseInt(window.getComputedStyle(e).paddingTop,10),t=window.scrollY+e.getBoundingClientRect().top-72+r;window.scrollTo(function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.forEach(function(n){var t,i,s;t=e,i=n,s=r[n],i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s})}return e}({left:0,top:t},n?{behavior:"smooth"}:{}))}function $(e,n){return"string"==typeof e?e:"dark"===n?e.dark:e.light}function J(e){var n;let{headers:r}=e,t=r.length>0,i=(0,a.useRef)(null),s=(null===(n=r[0])||void 0===n?void 0:n.depth)||2;return(0,a.useEffect)(()=>{let e;i.current&&(i.current.style.opacity="0"),setTimeout(()=>{e=function(){let e=document.getElementById("aside-marker"),n=document.getElementById("aside-container"),r=Array.from(document.querySelectorAll(".modern-doc .header-anchor")).filter(e=>{var n;return(null===(n=e.parentElement)||void 0===n?void 0:n.tagName)!=="H1"});if(!n||!r.length)return;let t=null,i=Array.from((null==n?void 0:n.getElementsByTagName("a"))||[]).map(e=>decodeURIComponent(e.hash));if(e&&!i.length){e.style.opacity="0";return}let s=(e,r)=>{if(e[r]){let i=e[r].getAttribute("href"),s=null==n?void 0:n.querySelector(`a[href="#${null==i?void 0:i.slice(1)}"]`);s&&(t&&t.classList.remove("aside-active"),(t=s).classList.add("aside-active"))}},l=(0,x.default)(()=>{if(document.documentElement.scrollTop+window.innerHeight>=document.documentElement.scrollHeight)s(r,r.length-1);else for(let e=0;e<r.length;e++){let n=r[e],t=r[e+1],i=Math.ceil(window.scrollY),l=n.parentElement.offsetTop-72;if(0===e&&i<l||0===i){s(r,0);break}if(!t){s(r,e);break}let o=t.parentElement.offsetTop-72;if(i>=l&&i<o){s(r,e);break}}},200);return window.addEventListener("scroll",l),()=>{window.removeEventListener("scroll",l)}}()},100);let n=decodeURIComponent(window.location.hash);if(n){let e=document.getElementById(n.slice(1));e&&V(e,!1)}else window.scrollTo(0,0);return()=>{e&&e()}},[r]),(0,l.jsx)("div",{className:"flex flex-col",children:(0,l.jsx)("div",{className:t?"<lg:hidden":"hidden",children:(0,l.jsxs)("div",{id:"aside-container",className:"relative pl-4 text-sm font-medium",children:[(0,l.jsx)("div",{className:"leading-7 block text-sm font-semibold",children:e.outlineTitle}),(0,l.jsx)("nav",{className:"mt-1",children:(0,l.jsx)("ul",{className:"relative",children:r.map(e=>(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:`#${e.id}`,className:"leading-7 transition-all duration-300 hover:text-text-1 text-text-2 block",style:{fontSize:"13px",paddingLeft:(e.depth-s)*12,whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",fontWeight:e.depth===s?"semibold":"normal"},onClick:n=>{n.preventDefault(),window.location.hash=e.id;let r=document.getElementById(e.id);r&&V(r,!1)},children:e.text})},e.id))})})]})})})}var Y=e=>{var n,r;return(0,l.jsx)("svg",(n=function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.forEach(function(n){var t,i,s;t=e,i=n,s=r[n],i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s})}return e}({width:18,height:18,viewBox:"0 0 32 32"},e),r=(r={children:(0,l.jsx)("path",{fill:"currentColor",d:"M2 26h28v2H2zM25.4 9c.8-.8.8-2 0-2.8l-3.6-3.6c-.8-.8-2-.8-2.8 0l-15 15V24h6.4l15-15zm-5-5L24 7.6l-3 3L17.4 7l3-3zM6 22v-3.6l10-10 3.6 3.6-10 10H6z"})},r),Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r.push.apply(r,t)}return r})(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n))},Q={editLink:"editLink_22c82"};function K(){let e=function(){var e,n;let r=(0,o.usePageData)(),t=null!==(n=null===(e=r.siteData.themeConfig)||void 0===e?void 0:e.editLink)&&void 0!==n?n:{};if(!t.docRepoBaseUrl||!t.text)return null;let{docRepoBaseUrl:i}=t;!i.endsWith("/")&&(i+="/");let s=r.page._relativePath.replace(/\\/g,"/"),l=`${i}${s}`;return{text:t.text,link:l}}();if(!e)return null;let{text:n,link:r}=e;return(0,l.jsxs)("a",{href:r,target:"_blank",className:Q.editLink,children:[(0,l.jsx)(Y,{className:"h-5.5 mr-2 inline-block",style:{verticalAlign:"-5px"}}),n]})}var Z={link:"link_ac35a"};function ee(e,n,r,t,i,s,l){try{var o=e[s](l),a=o.value}catch(e){r(e);return}o.done?n(a):Promise.resolve(a).then(t,i)}m.default.configure({showSpinner:!1});var en=/^(https?:)?\/\//;function er(e){var n,r;let{href:t="/",children:i,className:s="",onNavigate:a}=e,d=en.test(t),c=d?"_blank":"",h=d?"noopener noreferrer":void 0,p=d?t:(0,o.withBase)((0,o.normalizeHref)(t));(0,u.useNavigate)();let x=(r=(n=function*(e){e.preventDefault()},function(){var e=this,r=arguments;return new Promise(function(t,i){var s=n.apply(e,r);function l(e){ee(s,t,i,l,o,"next",e)}function o(e){ee(s,t,i,l,o,"throw",e)}l(void 0)})}),function(e){return r.apply(this,arguments)});return d?(0,l.jsx)("a",{href:p,target:c,rel:h,className:`${Z.link} ${s}`,children:i}):(0,l.jsx)("a",{className:`${Z.link} ${s} cursor-pointer`,rel:h,target:c,onClick:x,href:p,children:i})}var et={pager:"pager_163e5","has-next":"has-next_163e5",hasNext:"has-next_163e5",prev:"prev_163e5",next:"next_163e5","pager-link":"pager-link_163e5",pagerLink:"pager-link_163e5",title:"title_163e5",desc:"desc_163e5"};function ei(){let{prevPage:e,nextPage:n}=function(){let{pathname:e}=(0,u.useLocation)(),n=L(),r=n.sidebar||{},t=[];(e=>{let n=e=>{"items"in e?(e.link&&t.push({text:e.text,link:e.link}),e.items.forEach(e=>{n(e)})):t.push(e)};Object.values(e).forEach(e=>{e.forEach(e=>{n(e)})})})(r);let i=t.findIndex(n=>(0,o.isEqualPath)((0,o.withBase)(n.link),e)),s=t[i-1]||null,l=t[i+1]||null;return{prevPage:s,nextPage:l}}(),{prevPageText:r="Previous Page",nextPageText:t="Next page",lastUpdatedText:i="Last Updated",lastUpdated:s=!1}=L(),{page:{lastUpdatedTime:a},siteData:d}=(0,o.usePageData)(),{themeConfig:c}=d,h=(null==c?void 0:c.lastUpdatedText)||i,p=c.lastUpdated||s;return(0,l.jsxs)("footer",{className:"mt-8",children:[(0,l.jsx)("div",{className:"xs:flex pb-5 px-2 justify-end items-center",children:p&&(0,l.jsxs)("div",{className:"flex text-sm text-text-2 leading-6 sm:leading-8 font-medium",children:[(0,l.jsxs)("p",{children:[h,": "]}),(0,l.jsx)("span",{children:a})]})}),(0,l.jsx)("div",{className:"flex flex-col",children:(0,l.jsx)(K,{})}),(0,l.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-around gap-4 pt-6",children:[(0,l.jsx)("div",{className:`${et.prev} flex flex-col`,children:e?(0,l.jsxs)(er,{href:(0,o.normalizeHref)(e.link),className:et.pagerLink,children:[(0,l.jsx)("span",{className:et.desc,children:r}),(0,l.jsx)("span",{className:et.title,children:e.text})]}):null}),(0,l.jsx)("div",{className:`${et.next} flex flex-col`,children:n?(0,l.jsxs)(er,{href:(0,o.normalizeHref)(n.link),className:`${et.pagerLink} ${et.next}`,children:[(0,l.jsx)("span",{className:et.desc,children:t}),(0,l.jsx)("span",{className:et.title,children:n.text})]}):null})]})]})}var es=e=>{var n,r;return(0,l.jsx)("svg",(n=function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.forEach(function(n){var t,i,s;t=e,i=n,s=r[n],i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s})}return e}({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),r=(r={children:(0,l.jsx)("path",{fill:"currentColor",d:"M22 16 12 26l-1.4-1.4 8.6-8.6-8.6-8.6L12 6z"})},r),Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r.push.apply(r,t)}return r})(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n))},el={sidebar:"sidebar_bd00b",sidebarContent:"sidebarContent_bd00b",open:"open_bd00b",menuLink:"menuLink_bd00b",menuItem:"menuItem_bd00b",collapseContainer:"collapseContainer_bd00b",menuItemStatic:"menuItemStatic_bd00b",menuItemActive:"menuItemActive_bd00b"};function eo(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.forEach(function(n){var t,i,s;t=e,i=n,s=r[n],i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s})}return e}function ea(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):(function(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r.push.apply(r,t)}return r})(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}),e}var ed={whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"};function ec(e){let{item:n,depth:r=0,activeMatcher:t,id:i,setSidebarData:s}=e,d=n.link&&t(n.link),c=(0,a.useRef)(null);(0,a.useEffect)(()=>{if(d){var e;null===(e=c.current)||void 0===e||e.scrollIntoView({block:"center"})}},[]);let{text:h}=n;return"items"in n?(0,l.jsx)(eh,{id:i,item:n,depth:r,activeMatcher:t,collapsed:n.collapsed,setSidebarData:s,preloadLink:e.preloadLink},`${n.text}-${i}`):(0,l.jsx)(er,{href:(0,o.normalizeHref)(n.link),className:el.menuLink,children:(0,l.jsx)("div",{ref:c,onMouseEnter:()=>e.preloadLink(n.link),className:`${d?el.menuItemActive:el.menuItem} mt-1 py-1.5 px-3 block rounded-xl font-medium`,style:ea(eo({},ed),{fontSize:0===r?"14px":"13px",marginLeft:0===r?0:"12px"}),children:h})})}function eh(e){var n;let{item:r,depth:t=0,activeMatcher:i,id:s,setSidebarData:d}=e,c=(0,u.useNavigate)(),h=(0,a.useRef)(null),p=(0,a.useRef)(null),x=(0,a.useRef)(null),m=(0,a.useRef)(!0),f=(0,a.useRef)(r.collapsed),j=r.link&&i(r.link),{collapsed:g,collapsible:b=!0}=r,v=(0,l.jsx)("div",{style:{cursor:"pointer",transition:"transform 0.2s ease-out",transform:g?"rotate(0deg)":"rotate(90deg)"},children:(0,l.jsx)(es,{})});(0,a.useEffect)(()=>{if(m.current||!h.current||!x.current)return;p.current&&clearTimeout(p.current);let e=h.current,n=x.current,r=n.clientHeight+4;g?(e.style.maxHeight=`${r}px`,e.style.transitionDuration="0.5s",n.style.opacity="0",p.current=setTimeout(()=>{h.current&&(h.current.style.maxHeight="0px")},0)):(e.style.maxHeight=`${r}px`,e.style.transitionDuration="0.3s",n.style.opacity="1",p.current=setTimeout(()=>{h.current&&h.current.style.removeProperty("max-height")},300))},[g]),(0,a.useEffect)(()=>{m.current=!1},[]);let y=e=>{e.stopPropagation(),d(e=>{let n=[...e],r=s.split("-").map(Number),t=r.shift(),i=n[t],l=i;for(let e of r)l=l.items[e];return"items"in l&&(l.collapsed=!l.collapsed),n})};return(0,l.jsxs)("section",{className:"mt-1 block",style:{marginLeft:0===t?0:"12px"},children:[(0,l.jsxs)("div",{style:{cursor:b||r.link?"pointer":"normal"},className:`flex justify-between items-center rounded-xl ${j?el.menuItemActive:b||r.link?el.menuItem:el.menuItemStatic}`,onMouseEnter:()=>r.link&&e.preloadLink(r.link),onClick:e=>{r.link?(c((0,o.withBase)((0,o.normalizeHref)(r.link))),g&&y(e)):b&&y(e)},children:[(0,l.jsx)("h2",{className:"py-1 px-2 text-sm font-medium ml-1",style:eo({},ed),children:r.text}),b&&(0,l.jsx)("div",{className:`${el.collapseContainer} p-2 rounded-xl`,onClick:y,children:v})]}),(0,l.jsx)("div",{ref:h,className:"transition-all duration-300 ease-in-out",style:{overflow:"hidden",maxHeight:f.current?0:void 0},children:(0,l.jsx)("div",{ref:x,className:"transition-opacity duration-500 ease-in-out",style:{opacity:f.current?0:1},children:null==r?void 0:null===(n=r.items)||void 0===n?void 0:n.map((n,r)=>(0,l.jsx)("div",{children:(0,l.jsx)(ec,ea(eo({},e),{item:n,depth:t+1,id:`${s}-${r}`,preloadLink:e.preloadLink}))},r))})})]},s)}function eu(e){var n;let{isSidebarOpen:r,langRoutePrefix:t,pathname:i,sidebarData:s}=e,[d,c]=(0,a.useState)(s.filter(Boolean).flat()),h=decodeURIComponent(i);(0,a.useEffect)(()=>{let e=new WeakMap,n=r=>{if(e.has(r))return e.get(r);if(r.link&&x(r.link))return e.set(r,!0),!0;if("items"in r){let t=r.items.some(e=>n(e));if(t)return e.set(r,!0),!0}return e.set(r,!1),!1},r=e=>{"items"in e&&(e.items.forEach(r),n(e)&&(e.collapsed=!1))};d.forEach(r),c(s.filter(Boolean).flat())},[e.sidebarData,h]);let p=e=>e.replace(t,""),x=e=>(function(e,n,r=!1){return!!n&&(r?(0,o.isEqualPath)(e,n):(0,o.isEqualPath)(e,n)||e.startsWith(n))})((0,o.removeBase)(p(h)),p(e),!0),m=e=>{let n=(0,u.matchRoutes)(f.routes,e);if(null==n?void 0:n.length){let{route:e}=n[0];e.preload()}};return(0,l.jsx)("aside",{className:`${el.sidebar} modern-sidebar ${r?el.open:""}`,children:(0,l.jsx)("div",{className:`mt-1 ${el.sidebarContent}`,children:(0,l.jsx)("div",{className:"modern-scrollbar",style:{maxHeight:"calc(100vh - var(--modern-nav-height) - 8px)",overflow:"scroll"},children:(0,l.jsx)("nav",{className:"pb-6",children:d.map((e,r)=>(0,l.jsx)(ec,{id:String(r),item:e,depth:0,activeMatcher:x,collapsed:null===(n=e.collapsed)||void 0===n||n,setSidebarData:c,preloadLink:m},r))})})})})}var ep=e=>{var n,r;return(0,l.jsx)("svg",(n=function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.forEach(function(n){var t,i,s;t=e,i=n,s=r[n],i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s})}return e}({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),r=(r={children:(0,l.jsx)("path",{fill:"currentColor",d:"M4 6h24v2H4zm0 18h24v2H4zm0-12h24v2H4zm0 6h24v2H4z"})},r),Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r.push.apply(r,t)}return r})(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n))},ex={localNav:"localNav_f1fc1",menu:"menu_f1fc1",backDrop:"backDrop_f1fc1"};function em(e){let{langRoutePrefix:n,pathname:r,sidebarData:t}=e,[i,s]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{s(!1)},[r]),(0,l.jsxs)(a.Fragment,{children:[(0,l.jsx)("div",{className:ex.localNav,children:(0,l.jsxs)("button",{onClick:function(){s(!0)},className:`${ex.menu} flex-center`,children:[(0,l.jsx)("div",{className:"text-md mr-2",children:(0,l.jsx)(ep,{})}),(0,l.jsx)("span",{className:"text-sm",children:"Menu"})]})}),(0,l.jsx)(eu,{langRoutePrefix:n,pathname:r,sidebarData:t,isSidebarOpen:i}),i?(0,l.jsx)("div",{onClick:function(){s(!1)},className:ex.backDrop}):null]})}var ef={"header-anchor":"header-anchor_7f5a4",headerAnchor:"header-anchor_7f5a4","overview-groups":"overview-groups_7f5a4",overviewGroups:"overview-groups_7f5a4","overview-group-li":"overview-group-li_7f5a4",overviewGroupLi:"overview-group-li_7f5a4","level-2":"level-2_7f5a4",level2:"level-2_7f5a4","overview-group":"overview-group_7f5a4",overviewGroup:"overview-group_7f5a4",header:"header_7f5a4"},ej="Others";function eg(){let{siteData:e,page:{routePath:n}}=(0,o.usePageData)(),{pages:r}=e,t=r.filter(e=>e.routePath.startsWith(n.replace(/overview$/,""))&&e.routePath!==n),{items:i}=W();function s(e){var n,r,i;let s=t.find(n=>(0,o.isEqualPath)(n.routePath,(0,o.withBase)(e.link||""))),l=e=>e.link?e.link:"items"in e?l(e.items[0]):"",a=l(e);return r=function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.forEach(function(n){var t,i,s;t=e,i=n,s=r[n],i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s})}return e}({},e),i=(i={link:a,headers:(null==s?void 0:null===(n=s.toc)||void 0===n?void 0:n.filter(e=>2===e.depth))||[]},i),Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(i)):(function(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r.push.apply(r,t)}return r})(Object(i)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(i,e))}),r}let d=(0,a.useMemo)(()=>{let e=i.filter(e=>"items"in e).map(e=>({name:e.text||"",items:e.items.map(s).filter(Boolean)})),r=i.filter(e=>!("items"in e)&&!(0,o.isEqualPath)(e.link||"",n));return[...e,...r.length>0?[{name:ej,items:r.map(s)}]:[]]},[i]);return(0,l.jsxs)("div",{className:"overview-index mx-auto px-8",children:[(0,l.jsx)("div",{className:"flex items-center justify-between",children:(0,l.jsx)("h1",{children:"Overview"})}),d.map(e=>(0,l.jsxs)("div",{className:"mb-16",children:[e.name===ej&&1===d.length?(0,l.jsx)("h2",{style:{paddingTop:0}}):(0,l.jsx)("h2",{children:e.name}),(0,l.jsx)("div",{className:ef.overviewGroups,children:e.items.map(e=>{var n;return(0,l.jsxs)("div",{className:ef.overviewGroup,children:[(0,l.jsx)("div",{className:"flex",children:(0,l.jsx)("h3",{style:{marginBottom:8},children:(0,l.jsx)(er,{href:(0,o.normalizeHref)(e.link),children:e.text})})}),(0,l.jsx)("ul",{className:"list-none",children:null===(n=e.headers)||void 0===n?void 0:n.map(n=>(0,l.jsx)("li",{className:`${ef.overviewGroupLi} ${ef[`level${n.depth}`]} first:mt-2`,children:(0,l.jsx)(er,{href:`${(0,o.normalizeHref)(e.link)}#${n.id}`,children:n.text})},n.id))})]},e.link)})})]},e.name))]})}var eb=(0,a.createContext)({}),ev={"aside-container":"aside-container_b2d90",asideContainer:"aside-container_b2d90",docLayout:"docLayout_b2d90",content:"content_b2d90"},ey={title:"title_d6a35",blockquote:"blockquote_d6a35",link:"link_d6a35"};function ew(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.forEach(function(n){var t,i,s;t=e,i=n,s=r[n],i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s})}return e}function eS(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):(function(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r.push.apply(r,t)}return r})(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}),e}var ek=e=>(0,l.jsx)("h1",eS(ew({},e),{className:`text-3xl mb-10 leading-10 tracking-tight ${ey.title}`})),e_=e=>(0,l.jsx)("h2",eS(ew({},e),{className:`mt-14 mb-6 text-2xl tracking-tight ${ey.title}`})),eP=e=>(0,l.jsx)("h3",eS(ew({},e),{className:`mt-10 mb-2 leading-7 text-xl ${ey.title}`})),eE=e=>(0,l.jsx)("h4",eS(ew({},e),{className:`mt-8 leading-6 text-base ${ey.title}`})),eF=e=>(0,l.jsx)("h5",eS(ew({},e),{className:ey.title})),eN=e=>(0,l.jsx)("h6",eS(ew({},e),{className:ey.title}));function eT(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.forEach(function(n){var t,i,s;t=e,i=n,s=r[n],i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s})}return e}function eR(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):(function(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r.push.apply(r,t)}return r})(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}),e}var eC=e=>(0,l.jsx)("ol",eR(eT({},e),{className:"list-decimal pl-5 my-4 leading-7"})),eM=e=>(0,l.jsx)("ul",eR(eT({},e),{className:"list-disc pl-5 my-4 leading-7"})),eO=e=>(0,l.jsx)("li",eR(eT({},e),{className:"[&:not(:first-child)]:mt-2"}));function eI(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.forEach(function(n){var t,i,s;t=e,i=n,s=r[n],i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s})}return e}function eA(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):(function(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r.push.apply(r,t)}return r})(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}),e}var eD=e=>(0,l.jsx)("table",eA(eI({},e),{className:"table border-collapse text-base my-5 overflow-x-auto leading-7 border-gray-light-2"})),eB=e=>(0,l.jsx)("tr",eA(eI({},e),{className:"border border-solid transition-colors duration-500 even:bg-soft border-gray-light-2"})),ez=e=>(0,l.jsx)("td",eA(eI({},e),{className:"border border-solid  px-4 py-2 border-gray-light-2"})),eL=e=>(0,l.jsx)("th",eA(eI({},e),{className:"border border-solid px-4 py-2 text-text-1 text-base font-semibold border-gray-light-2"})),eG=e=>{var n,r;return(0,l.jsx)("hr",(n=function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.forEach(function(n){var t,i,s;t=e,i=n,s=r[n],i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s})}return e}({},e),r=(r={className:"my-12 border-t bordder-solid border-divider-light"},r),Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r.push.apply(r,t)}return r})(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n))},eW=e=>{var n,r,t;let{href:i=""}=e,s=(0,o.useLang)(),a=(0,o.usePageData)(),d=a.siteData.lang;if(d&&!((n=i).startsWith("http://")||n.startsWith("https://")||n.startsWith("mailto:")||n.startsWith("tel:"))&&!i.startsWith("#"))i=X(i),s!==d&&!(0,o.removeBase)(i).startsWith(`/${s}`)&&(i=`/${s}${i}`),i=(0,o.withBase)(i||"");return(0,l.jsx)("a",(r=function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.forEach(function(n){var t,i,s;t=e,i=n,s=r[n],i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s})}return e}({},e),t=(t={className:`${ey.link} ${e.className}`,href:i},t),Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):(function(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r.push.apply(r,t)}return r})(Object(t)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))}),r))};function eU(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.forEach(function(n){var t,i,s;t=e,i=n,s=r[n],i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s})}return e}function eH(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):(function(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r.push.apply(r,t)}return r})(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}),e}var eq=e=>(0,l.jsx)("p",eH(eU({},e),{className:"my-4 leading-7"})),eX=e=>(0,l.jsx)("blockquote",eH(eU({},e),{className:`border-l-2 border-solid border-divider pl-4 my-6 transition-colors duration-500 ${ey.blockquote}`})),eV=e=>(0,l.jsx)("strong",eH(eU({},e),{className:"font-semibold"})),e$={doctype:{color:"var(--code-token-text)",fontStyle:"italic"},token:{color:"var(--code-token-text)"},comment:{color:"var(--code-token-comment)"},punctuation:{color:"var(--code-token-punctuation)"},property:{color:"var(--code-token-parameter)"},constant:{color:"var(--code-token-constant)"},string:{color:"var(--code-token-string)"},symbol:{color:"var(--code-token-symbol)"},variable:{color:"var(--code-token-variable)"},"attr-name":{color:"var(--code-token-symbol)"},"attr-value":{color:"var(--code-token-string-expression)"},builtin:{color:"var(--code-token-symbol)"},function:{color:"var(--code-token-function)"},keyword:{color:"var(--code-token-keyword)"},tag:{color:"var(--code-token-function)"},inserted:{color:"#22863a"},deleted:{color:"#b31d28"},regex:{color:"var(--code-token-keyword)"},key:{color:"var(--code-token-variable)"},title:{color:"var(--code-token-keyword)"},important:{color:"#EBCB8B",fontWeight:"bold"},bold:{fontWeight:"bold"},italic:{fontStyle:"italic"}},eJ=!1,eY=new Map;function eQ(e){let n;let r=(0,a.useRef)(null),{siteData:t}=(0,o.usePageData)(),{showLineNumbers:i}=t.markdown;!eJ&&(j.PrismLight.registerLanguage("jsx",g.default),j.PrismLight.registerLanguage("jsx",y.default),j.PrismLight.registerLanguage("mdx",y.default),j.PrismLight.registerLanguage("js",b.default),j.PrismLight.registerLanguage("ts",v.default),j.PrismLight.registerLanguage("json",w.default),j.PrismLight.registerLanguage("css",S.default),j.PrismLight.registerLanguage("scss",k.default),j.PrismLight.registerLanguage("less",_.default),j.PrismLight.registerLanguage("xml",P.default),j.PrismLight.registerLanguage("yaml",E.default),j.PrismLight.registerLanguage("diff",F.default),j.PrismLight.registerLanguage("bash",N.default),j.PrismLight.registerLanguage("markdown",T.default),eJ=!0);let{className:s,meta:d}=e,c=null==s?void 0:s.replace(/language-/,"");if(!c)return(0,l.jsx)("code",function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.forEach(function(n){var t,i,s;t=e,i=n,s=r[n],i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s})}return e}({},e));n="string"==typeof e.children?e.children.trim():Array.isArray(e.children)?e.children[0].trim():"";let h="",u=[];if(d){var p;(h=(null===(p=/{[\d,-]*}/i.exec(d))||void 0===p?void 0:p[0])||"")&&(u=h.replace(/[{}]/g,"").split(",").map(e=>{let[n,r]=e.split("-");return r?Array.from({length:Number(r)-Number(n)+1},(e,r)=>r+Number(n)):Number(n)}).flat())}return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(j.PrismLight,{language:c,style:e$,wrapLines:!0,className:"code",showLineNumbers:i||u.length>0,lineProps:e=>{let n=u.includes(e);return{className:n?"line highlighted":"",style:{backgroundColor:n?"var(--modern-code-line-highlight-color)":"",display:"block",padding:"0 1.25rem"}}},children:n}),(0,l.jsx)("button",{className:"copy",onClick:()=>{let e=(0,R.default)(n),t=r.current;if(e&&t){t.classList.add("copied"),clearTimeout(eY.get(t));let e=setTimeout(()=>{t.classList.remove("copied"),t.blur(),eY.delete(t)},2e3);eY.set(t,e)}},ref:r})]})}function eK({children:e}){if(Array.isArray(e))return(0,l.jsx)("pre",{children:e});let{className:n,meta:r}=e.props,t=function(e){var n,r;if(!e)return"";let t=e,i=/{[\d,-]*}/i,s=null===(n=i.exec(e))||void 0===n?void 0:n[0];return s&&(t=e.replace(i,"").trim()),null==(t=null!==(r=t.split("=")[1])&&void 0!==r?r:"")?void 0:t.replace(/["'`]/g,"")}(r);return(0,l.jsxs)("div",{className:n||"language-bash",children:[t&&(0,l.jsx)("div",{className:"modern-code-title",children:t}),(0,l.jsx)("div",{className:"modern-code-content",children:e})]})}function eZ(e){var n,r;let{beforeDocFooter:t,beforeDoc:i,afterDoc:s,beforeOutline:d,afterOutline:c}=e,{siteData:h,page:x}=(0,o.usePageData)(),{toc:m=[],frontmatter:f}=x,[j,g]=(0,a.useState)({}),{themeConfig:b}=h,v=L(),y=v.sidebar||{},{pathname:w}=(0,u.useLocation)(),{items:S}=W(),k=(0,o.normalizeSlash)(v.langRoutePrefix||""),_=(null==f?void 0:f.sidebar)!==!1&&Object.keys(y).length>0,P=(null==v?void 0:v.outlineTitle)||(null==b?void 0:b.outlineTitle)||"ON THIS PAGE",E=null!==(n=null==f?void 0:f.overview)&&void 0!==n&&n,F=null===(r=null==f?void 0:f.footer)||void 0===r||r,N=()=>{var e,n;let r="undefined"==typeof window||window.top===window.self;return(null!==(n=null!==(e=null==f?void 0:f.outline)&&void 0!==e?e:null==b?void 0:b.outline)&&void 0!==n?n:r)&&m.length>0},[T,R]=(0,a.useState)(N());return(0,a.useEffect)(()=>{R(N())},[x,h]),(0,l.jsxs)("div",{className:`${ev.docLayout} pt-0 md:mt-14`,children:[i,_?(0,l.jsx)(em,{pathname:w,langRoutePrefix:k,sidebarData:S}):null,(0,l.jsxs)("div",{className:`${ev.content} flex flex-shrink-0`,children:[(0,l.jsx)("div",{className:"w-full",children:E?(0,l.jsx)(eg,{}):(0,l.jsxs)("div",{className:"modern-doc",children:[(0,l.jsx)(eb.Provider,{value:{tabData:j,setTabData:g},children:(0,l.jsx)(p.MDXProvider,{components:{h1:ek,h2:e_,h3:eP,h4:eE,h5:eF,h6:eN,ul:eM,ol:eC,li:eO,table:eD,td:ez,th:eL,tr:eB,hr:eG,p:eq,blockquote:eX,strong:eV,a:eW,code:eQ,pre:eK},children:(0,l.jsx)(o.Content,{})})}),(0,l.jsxs)("div",{children:[t,F&&(0,l.jsx)(ei,{})]})]})}),T?(0,l.jsx)("div",{className:ev.asideContainer,style:{maxHeight:"calc(100vh - (var(--modern-nav-height) + 32px))",overflow:"scroll"},children:(0,l.jsxs)("div",{children:[d,(0,l.jsx)(J,{headers:m,outlineTitle:P}),c]})}):null]}),s]})}function e0(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.forEach(function(n){var t,i,s;t=e,i=n,s=r[n],i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s})}return e}var e2={button:"button_02fa8",medium:"medium_02fa8",big:"big_02fa8",brand:"brand_02fa8",alt:"alt_02fa8"};function e1(e){let{theme:n="brand",size:r="big",href:t="/",external:i=!1,className:s=""}=e,l=null;return"button"===e.type?l="button":"a"===e.type&&(l=i?"a":er),a.default.createElement(null!=l?l:"a",{className:`${e2.button} ${e2[n]} ${e2[r]} ${s}`,href:t},e.text)}var e3={clip:"clip_1bf92",mask:"mask_1bf92"},e4={name:"modern",text:"modern ssg",tagline:"modern ssg",actions:[],image:void 0};function e8({frontmatter:e}){var n,r,t;let i=(null==e?void 0:e.hero)||e4,s=void 0!==i.image;return(0,l.jsxs)("div",{className:"m-auto pt-0 px-6 pb-12 sm:pt-10 sm:px-16 md:pt-20 md:px-16 md:pb-16",children:[(0,l.jsx)("div",{className:e3.mask,style:{left:s?"75%":"50%"}}),(0,l.jsxs)("div",{className:"m-auto flex flex-col md:flex-row max-w-6xl",children:[(0,l.jsxs)("div",{className:"flex flex-col justify-center text-center max-w-xl sm:max-w-3xl m-auto order-2 md:order-1",children:[(0,l.jsx)("h1",{className:"font-bold text-3xl sm:text-6xl md:text-7xl m-auto sm:m-4 md:m-0 md:pb-3 lg:pb-5 leading-tight z-10",children:(0,l.jsx)("span",{className:e3.clip,style:{lineHeight:"1.15"},children:i.name})}),(null===(n=i.text)||void 0===n?void 0:n.length)&&(0,l.jsx)("p",{className:`mx-auto md:m-0 text-3xl sm:text-5xl md:text-6xl pb-2 font-bold z-10 max-w-392px ${s?"sm:max-w-xl":"sm:max-w-3xl"}`,style:{lineHeight:"1.15"},children:i.text}),(0,l.jsx)("p",{className:"whitespace-pre-wrap pt-4 m-auto md:m-0 text-sm sm:tex-xl md:text-2xl text-text-2 font-medium z-10",children:i.tagline}),(0,l.jsx)("div",{className:"flex flex-wrap justify-center gap-3 m--1.5 pt-8 z-10",children:i.actions.map(e=>(0,l.jsx)("div",{className:"flex flex-shrink-0 p-1",children:(0,l.jsx)(e1,{type:"a",text:e.text,href:(0,o.normalizeHref)(e.link),theme:e.theme})},e.link))})]}),s?(0,l.jsx)("div",{className:"modern-doc-home-hero-image sm:max-w-60 sm:max-h-60 md:flex-center m-auto order-1 md:order-2 sm:flex md:none lg:flex",children:(0,l.jsx)("img",{src:null===(r=i.image)||void 0===r?void 0:r.src,alt:null===(t=i.image)||void 0===t?void 0:t.alt})}):null]})]})}var e6={"grid-2":"grid-2_6c1c5",grid2:"grid-2_6c1c5","grid-4":"grid-4_6c1c5",grid4:"grid-4_6c1c5","grid-6":"grid-6_6c1c5",grid6:"grid-6_6c1c5","grid-3":"grid-3_6c1c5",grid3:"grid-3_6c1c5",featureCard:"featureCard_6c1c5"},e5=[2,3,4],e9=e=>{if(e){if(e5.includes(e))return`grid-${12/e}`;else if(e%3==0)return"grid-4";else if(e%2==0)return"grid-6"}else;return""};function e7({frontmatter:e}){let n=null==e?void 0:e.features,r=e9(null==n?void 0:n.length);return(0,l.jsx)("div",{className:"overflow-hidden m-auto flex flex-wrap justify-between max-w-6xl",children:null==n?void 0:n.map(e=>{let{icon:n,title:t,details:i,link:s}=e;return(0,l.jsx)("div",{className:`${r?e6[r]:"w-full"} rounded hover:var(--modern-c-brand)`,children:(0,l.jsx)("div",{className:"h-full p-2",children:(0,l.jsxs)("article",{className:`${e6.featureCard} h-full p-8 rounded-4xl border-transparent`,style:{cursor:s?"pointer":"auto"},onClick:()=>{s&&(window.location.href=s)},children:[(0,l.jsx)("div",{className:"flex-center",children:(0,l.jsx)("div",{className:"w-12 h-12 text-3xl text-center",children:n})}),(0,l.jsx)("h2",{className:"font-bold text-center",children:t}),(0,l.jsx)("p",{className:"leading-6 pt-2 text-sm text-text-2 font-medium",children:i})]},t)})},t)})})}var ne=e=>{var n,r;return(0,l.jsx)("svg",(n=function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.forEach(function(n){var t,i,s;t=e,i=n,s=r[n],i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s})}return e}({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),r=(r={children:(0,l.jsx)("path",{fill:"currentColor",d:"M16 22 6 12l1.4-1.4 8.6 8.6 8.6-8.6L26 12z"})},r),Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r.push.apply(r,t)}return r})(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n))},nn={navScreenMenuGroup:"navScreenMenuGroup_a3b01",open:"open_a3b01",button:"button_a3b01",buttonSpan:"buttonSpan_a3b01",items:"items_a3b01",down:"down_a3b01"};function nr(e){let{activeValue:n}=e,[r,t]=(0,a.useState)(!1);function i({item:e}){return(0,l.jsx)("div",{className:"p-1",children:(0,l.jsx)("span",{className:"text-brand",children:e.text})})}function s({item:e}){return(0,l.jsx)("div",{className:"py-1 font-medium",children:(0,l.jsx)(er,{href:e.link,children:(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"flex justify-center",children:(0,l.jsx)("span",{children:e.text})})})})})}let o=e=>n===e.text?(0,l.jsx)(i,{item:e},e.link):(0,l.jsx)(s,{item:e},e.link),d=e=>(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-bold text-gray-400 my-1 not:first:border",children:e.text}),e.items.map(o)]});return(0,l.jsxs)("div",{className:`${r?nn.open:""} ${nn.navScreenMenuGroup} relative`,children:[(0,l.jsxs)("button",{className:nn.button,onClick:()=>{t(!r)},children:[(0,l.jsx)("span",{className:nn.buttonSpan,children:e.text}),(0,l.jsx)(ne,{className:`${r?nn.open:""} ${nn.down} `})]}),(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:nn.items,children:e.items.map(e=>(0,l.jsx)("div",{children:"link"in e?o(e):d(e)},e.text))})})]})}var nt={container:"container_54b10",leftNav:"leftNav_54b10",rightNav:"rightNav_54b10",activeItem:"activeItem_54b10",singleItem:"singleItem_54b10",navContainer:"navContainer_54b10","social-links-icon":"social-links-icon_54b10",socialLinksIcon:"social-links-icon_54b10","menu-item":"menu-item_54b10",menuItem:"menu-item_54b10",mobileNavMenu:"mobileNavMenu_54b10",mask:"mask_54b10",docPage:"docPage_54b10"};function ni(e){let{pathname:n,base:r,langs:t}=e,i=new RegExp(e.activeMatch||e.link).test(function(e,n){let r=RegExp(`^\\/(${n.join("|")})`);return q(e.replace(r,""))}(function(e,n=""){return q(e).replace(X(n),"")}(n,r),t));return(0,l.jsx)(er,{href:(0,o.normalizeHref)(e.link),children:(0,l.jsx)("div",{className:`${nt.singleItem} ${i?nt.activeItem:""} text-sm font-medium mx-1.5 px-3 py-2`,children:e.text},e.text)})}var ns=e=>{var n,r;return(0,l.jsx)("svg",(n=function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.forEach(function(n){var t,i,s;t=e,i=n,s=r[n],i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s})}return e}({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",viewBox:"0 0 24 24"},e),r=(r={children:(0,l.jsx)("path",{d:"M12 18c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6zm0-10c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4zM12 4c-.6 0-1-.4-1-1V1c0-.6.4-1 1-1s1 .4 1 1v2c0 .6-.4 1-1 1zM12 24c-.6 0-1-.4-1-1v-2c0-.6.4-1 1-1s1 .4 1 1v2c0 .6-.4 1-1 1zM5.6 6.6c-.3 0-.5-.1-.7-.3L3.5 4.9c-.4-.4-.4-1 0-1.4s1-.4 1.4 0l1.4 1.4c.4.4.4 1 0 1.4-.1.2-.4.3-.7.3zM19.8 20.8c-.3 0-.5-.1-.7-.3l-1.4-1.4c-.4-.4-.4-1 0-1.4s1-.4 1.4 0l1.4 1.4c.4.4.4 1 0 1.4-.2.2-.5.3-.7.3zM3 13H1c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1s-.4 1-1 1zM23 13h-2c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1s-.4 1-1 1zM4.2 20.8c-.3 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4l1.4-1.4c.4-.4 1-.4 1.4 0s.4 1 0 1.4l-1.4 1.4c-.2.2-.4.3-.7.3zM18.4 6.6c-.3 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4l1.4-1.4c.4-.4 1-.4 1.4 0s.4 1 0 1.4l-1.4 1.4c-.2.2-.5.3-.7.3z"})},r),Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r.push.apply(r,t)}return r})(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n))},nl=e=>{var n,r;return(0,l.jsx)("svg",(n=function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.forEach(function(n){var t,i,s;t=e,i=n,s=r[n],i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s})}return e}({xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",viewBox:"0 0 24 24"},e),r=(r={children:(0,l.jsx)("path",{d:"M12.1 22h-.9c-5.5-.5-9.5-5.4-9-10.9.4-4.8 4.2-8.6 9-9 .4 0 .8.2 1 .5.2.3.2.8-.1 1.1-2 2.7-1.4 6.4 1.3 8.4 2.1 1.6 5 1.6 7.1 0 .3-.2.7-.3 1.1-.1.3.2.5.6.5 1-.2 2.7-1.5 5.1-3.6 6.8-1.9 1.4-4.1 2.2-6.4 2.2zM9.3 4.4c-2.9 1-5 3.6-5.2 6.8-.4 4.4 2.8 8.3 7.2 8.7 2.1.2 4.2-.4 5.8-1.8 1.1-.9 1.9-2.1 2.4-3.4-2.5.9-5.3.5-7.5-1.1-2.8-2.2-3.9-5.9-2.7-9.2z"})},r),Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r.push.apply(r,t)}return r})(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n))},no=e=>{null==t||t[e?"add":"remove"]("dark")},na=()=>{let e=!1===M.default.themeConfig.darkMode;if(e){no(!1);return}if(window.MODERN_THEME){no("dark"===window.MODERN_THEME);return}let n=localStorage.getItem(U)||"auto";s=window.matchMedia("(prefers-color-scheme: dark)"),no("auto"===n?s.matches:"dark"===n)};"undefined"!=typeof window&&"undefined"!=typeof localStorage&&(t=document.documentElement.classList,na());var nd=()=>null==t?void 0:t.contains("dark"),nc=()=>("undefined"!=typeof window&&window.addEventListener("storage",na),()=>{let e=nd();"undefined"!=typeof window&&"undefined"!=typeof localStorage&&(no(!e),i=e?"light":"dark",localStorage.setItem(U,i))});function nh({onClick:e}){let{theme:n,setTheme:r}=(0,a.useContext)(o.ThemeContext),t=nc();return(0,a.useEffect)(()=>{nd()&&r("dark")},[]),(0,l.jsx)("div",{onClick:()=>{r("dark"===n?"light":"dark"),t(),null==e||e()},className:"md:mr-2 modern-nav-appearance",children:(0,l.jsx)("div",{className:"p-1 border border-solid border-gray-300 text-gray-400  cursor-pointer rounded-md hover:border-gray-600 hover:text-gray-600 dark:hover:border-gray-200 dark:hover:text-gray-200 transition-all duration-300",children:"light"===n?(0,l.jsx)(ns,{width:"18",height:"18",fill:"currentColor"}):(0,l.jsx)(nl,{width:"18",height:"18",fill:"currentColor"})})})}var nu=e=>{var n,r;return(0,l.jsx)("svg",(n=function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.forEach(function(n){var t,i,s;t=e,i=n,s=r[n],i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s})}return e}({width:18,height:18,viewBox:"0 0 32 32"},e),r=(r={children:(0,l.jsx)("path",{fill:"currentColor",d:"M27.85 29H30l-6-15h-2.35l-6 15h2.15l1.6-4h6.85zm-7.65-6 2.62-6.56L25.45 23zM18 7V5h-7V2H9v3H2v2h10.74a14.71 14.71 0 0 1-3.19 6.18A13.5 13.5 0 0 1 7.26 9h-2.1a16.47 16.47 0 0 0 3 5.58A16.84 16.84 0 0 1 3 18l.75 1.86A18.47 18.47 0 0 0 9.53 16a16.92 16.92 0 0 0 5.76 3.84L16 18a14.48 14.48 0 0 1-5.12-3.37A17.64 17.64 0 0 0 14.8 7z"})},r),Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r.push.apply(r,t)}return r})(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n))},np=e=>{var n,r;return(0,l.jsx)("svg",(n=function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.forEach(function(n){var t,i,s;t=e,i=n,s=r[n],i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s})}return e}({width:"1em",height:"1em",viewBox:"0 0 32 32"},e),r=(r={children:(0,l.jsx)("path",{fill:"currentColor",d:"M16 22 6 12l1.4-1.4 8.6 8.6 8.6-8.6L26 12z"})},r),Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r.push.apply(r,t)}return r})(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n))},nx={"social-links-icon":"social-links-icon_ff98f",socialLinksIcon:"social-links-icon_ff98f","menu-item":"menu-item_ff98f",menuItem:"menu-item_ff98f"},nm={discord:(0,l.jsxs)("svg",{role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("title",{children:"Discord"}),(0,l.jsx)("path",{d:"M20.317 4.3698a19.7913 19.7913 0 00-4.8851-1.5152.0741.0741 0 00-.0785.0371c-.211.3753-.4447.8648-.6083 1.2495-1.8447-.2762-3.68-.2762-5.4868 0-.1636-.3933-.4058-.8742-.6177-1.2495a.077.077 0 00-.0785-.037 19.7363 19.7363 0 00-4.8852 1.515.0699.0699 0 00-.0321.0277C.5334 9.0458-.319 13.5799.0992 18.0578a.0824.0824 0 00.0312.0561c2.0528 1.5076 4.0413 2.4228 5.9929 3.0294a.0777.0777 0 00.0842-.0276c.4616-.6304.8731-1.2952 1.226-1.9942a.076.076 0 00-.0416-.1057c-.6528-.2476-1.2743-.5495-1.8722-.8923a.077.077 0 01-.0076-.1277c.1258-.0943.2517-.1923.3718-.2914a.0743.0743 0 01.0776-.0105c3.9278 1.7933 8.18 1.7933 12.0614 0a.0739.0739 0 01.0785.0095c.1202.099.246.1981.3728.2924a.077.077 0 01-.0066.1276 12.2986 12.2986 0 01-1.873.8914.0766.0766 0 00-.0407.1067c.3604.698.7719 1.3628 1.225 1.9932a.076.076 0 00.0842.0286c1.961-.6067 3.9495-1.5219 6.0023-3.0294a.077.077 0 00.0313-.0552c.5004-5.177-.8382-9.6739-3.5485-13.6604a.061.061 0 00-.0312-.0286zM8.02 15.3312c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9555-2.4189 2.157-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.9555 2.4189-2.1569 2.4189zm7.9748 0c-1.1825 0-2.1569-1.0857-2.1569-2.419 0-1.3332.9554-2.4189 2.1569-2.4189 1.2108 0 2.1757 1.0952 2.1568 2.419 0 1.3332-.946 2.4189-2.1568 2.4189Z"})]}),facebook:(0,l.jsxs)("svg",{role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("title",{children:"Facebook"}),(0,l.jsx)("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})]}),github:(0,l.jsxs)("svg",{role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("title",{children:"GitHub"}),(0,l.jsx)("path",{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"})]}),gitlab:(0,l.jsxs)("svg",{role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("title",{children:"GitLab"}),(0,l.jsx)("path",{fill:"currentColor",d:"m21.94 13.11l-1.05-3.22c0-.03-.01-.06-.02-.09l-2.11-6.48a.859.859 0 0 0-.8-.57c-.36 0-.68.25-.79.58l-2 6.17H8.84L6.83 3.33a.851.851 0 0 0-.79-.58c-.37 0-.69.25-.8.58L3.13 9.82v.01l-1.07 3.28c-.16.5.01 1.04.44 1.34l9.22 6.71c.17.12.39.12.56-.01l9.22-6.7c.43-.3.6-.84.44-1.34M8.15 10.45l2.57 7.91l-6.17-7.91m8.73 7.92l2.47-7.59l.1-.33h3.61l-5.59 7.16m4.1-13.67l1.81 5.56h-3.62m-1.3.95l-1.79 5.51L12 19.24l-2.86-8.79M6.03 3.94L7.84 9.5H4.23m-1.18 4.19c-.09-.07-.13-.19-.09-.29l.79-2.43l5.82 7.45m11.38-4.73l-6.51 4.73l.02-.03l5.79-7.42l.79 2.43c.04.1 0 .22-.09.29"})]}),instagram:(0,l.jsxs)("svg",{role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("title",{children:"Instagram"}),(0,l.jsx)("path",{d:"M12 0C8.74 0 8.333.015 7.053.072 5.775.132 4.905.333 4.14.63c-.789.306-1.459.717-2.126 1.384S.935 3.35.63 4.14C.333 4.905.131 5.775.072 7.053.012 8.333 0 8.74 0 12s.015 3.667.072 4.947c.06 1.277.261 2.148.558 2.913.306.788.717 1.459 1.384 2.126.667.666 1.336 1.079 2.126 1.384.766.296 1.636.499 2.913.558C8.333 23.988 8.74 24 12 24s3.667-.015 4.947-.072c1.277-.06 2.148-.262 2.913-.558.788-.306 1.459-.718 2.126-1.384.666-.667 1.079-1.335 1.384-2.126.296-.765.499-1.636.558-2.913.06-1.28.072-1.687.072-4.947s-.015-3.667-.072-4.947c-.06-1.277-.262-2.149-.558-2.913-.306-.789-.718-1.459-1.384-2.126C21.319 1.347 20.651.935 19.86.63c-.765-.297-1.636-.499-2.913-.558C15.667.012 15.26 0 12 0zm0 2.16c3.203 0 3.585.016 4.85.071 1.17.055 1.805.249 2.227.415.562.217.96.477 1.382.896.419.42.679.819.896 1.381.164.422.36 1.057.413 2.227.057 1.266.07 1.646.07 4.85s-.015 3.585-.074 4.85c-.061 1.17-.256 1.805-.421 2.227-.224.562-.479.96-.899 1.382-.419.419-.824.679-1.38.896-.42.164-1.065.36-2.235.413-1.274.057-1.649.07-4.859.07-3.211 0-3.586-.015-4.859-.074-1.171-.061-1.816-.256-2.236-.421-.569-.224-.96-.479-1.379-.899-.421-.419-.69-.824-.9-1.38-.165-.42-.359-1.065-.42-2.235-.045-1.26-.061-1.649-.061-4.844 0-3.196.016-3.586.061-4.861.061-1.17.255-1.814.42-2.234.21-.57.479-.96.9-1.381.419-.419.81-.689 1.379-.898.42-.166 1.051-.361 2.221-.421 1.275-.045 1.65-.06 4.859-.06l.045.03zm0 3.678c-3.405 0-6.162 2.76-6.162 6.162 0 3.405 2.76 6.162 6.162 6.162 3.405 0 6.162-2.76 6.162-6.162 0-3.405-2.76-6.162-6.162-6.162zM12 16c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4zm7.846-10.405c0 .795-.646 1.44-1.44 1.44-.795 0-1.44-.646-1.44-1.44 0-.794.646-1.439 1.44-1.439.793-.001 1.44.645 1.44 1.439z"})]}),linkedin:(0,l.jsxs)("svg",{role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("title",{children:"LinkedIn"}),(0,l.jsx)("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})]}),slack:(0,l.jsxs)("svg",{role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("title",{children:"Slack"}),(0,l.jsx)("path",{d:"M5.042 15.165a2.528 2.528 0 0 1-2.52 2.523A2.528 2.528 0 0 1 0 15.165a2.527 2.527 0 0 1 2.522-2.52h2.52v2.52zM6.313 15.165a2.527 2.527 0 0 1 2.521-2.52 2.527 2.527 0 0 1 2.521 2.52v6.313A2.528 2.528 0 0 1 8.834 24a2.528 2.528 0 0 1-2.521-2.522v-6.313zM8.834 5.042a2.528 2.528 0 0 1-2.521-2.52A2.528 2.528 0 0 1 8.834 0a2.528 2.528 0 0 1 2.521 2.522v2.52H8.834zM8.834 6.313a2.528 2.528 0 0 1 2.521 2.521 2.528 2.528 0 0 1-2.521 2.521H2.522A2.528 2.528 0 0 1 0 8.834a2.528 2.528 0 0 1 2.522-2.521h6.312zM18.956 8.834a2.528 2.528 0 0 1 2.522-2.521A2.528 2.528 0 0 1 24 8.834a2.528 2.528 0 0 1-2.522 2.521h-2.522V8.834zM17.688 8.834a2.528 2.528 0 0 1-2.523 2.521 2.527 2.527 0 0 1-2.52-2.521V2.522A2.527 2.527 0 0 1 15.165 0a2.528 2.528 0 0 1 2.523 2.522v6.312zM15.165 18.956a2.528 2.528 0 0 1 2.523 2.522A2.528 2.528 0 0 1 15.165 24a2.527 2.527 0 0 1-2.52-2.522v-2.522h2.52zM15.165 17.688a2.527 2.527 0 0 1-2.52-2.523 2.526 2.526 0 0 1 2.52-2.52h6.313A2.527 2.527 0 0 1 24 15.165a2.528 2.528 0 0 1-2.522 2.523h-6.313z"})]}),twitter:(0,l.jsxs)("svg",{role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("title",{children:"Twitter"}),(0,l.jsx)("path",{d:"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"})]}),youtube:(0,l.jsxs)("svg",{role:"img",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("title",{children:"YouTube"}),(0,l.jsx)("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})]}),juejin:(0,l.jsxs)("svg",{className:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1858","data-spm-anchor-id":"a313x.7781069.0.i5",children:[(0,l.jsx)("path",{d:"M465.189 161.792c-22.967 18.14-44.325 35.109-47.397 37.742l-5.851 4.68 10.971 8.632c5.998 4.827 11.85 9.508 13.02 10.532 1.17 1.024 17.993 14.336 37.156 29.696l34.962 27.795 5.267-3.95c2.925-2.194 23.259-18.432 45.348-35.986 21.943-17.555 41.253-32.768 42.716-33.646 1.609-1.024 2.779-2.194 2.779-2.78 0-0.438-9.655-8.63-21.504-17.846-11.995-9.363-22.674-17.847-23.845-18.871-15.945-13.02-49.737-39.059-50.76-39.059-0.586 0.147-19.896 14.922-42.862 33.061z m233.325 180.37C507.465 493.275 508.928 492.105 505.417 489.911c-3.072-1.902-11.556-8.485-64.073-50.03-9.07-7.168-18.578-14.775-21.358-16.823-2.78-2.194-8.777-6.875-13.312-10.532-4.68-3.657-10.679-8.339-13.312-10.533-13.165-10.24-71.095-56.027-102.107-80.457-5.852-4.681-11.41-8.485-12.142-8.485-0.731 0-10.971 7.754-22.674 17.116-11.703 9.508-22.674 18.286-24.284 19.456-1.755 1.17-5.12 3.95-7.46 6.144-2.34 2.34-4.828 4.096-5.413 4.096-3.072 0-0.731 3.072 6.437 8.777 4.096 3.218 8.777 6.875 10.094 8.046 1.316 1.024 10.24 8.045 19.748 15.506s23.26 18.286 30.428 23.99c19.31 15.215 31.89 25.308 127.853 101.084 47.836 37.742 88.796 69.779 90.844 71.095 3.657 2.487 3.95 2.487 7.46-0.292a1041.42 1041.42 0 0 0 16.092-12.727c6.875-5.413 14.775-11.703 17.554-13.897 30.135-23.699 80.018-63.05 81.774-64.512 1.17-1.024 12.434-9.802 24.868-19.603s37.888-29.696 56.32-44.324c18.579-14.629 46.227-36.425 61.733-48.567 15.506-12.142 27.794-22.528 27.502-23.26-0.878-1.17-57.637-47.104-59.978-48.274-0.731-0.439-18.578 12.727-39.497 29.257z","p-id":"1859","data-spm-anchor-id":"a313x.7781069.0.i2"}),(0,l.jsx)("path",{d:"M57.93 489.326c-15.215 12.288-28.527 23.405-29.697 24.576-2.34 2.194-5.412-0.44 80.018 66.852 33.207 26.185 32.622 25.747 57.637 45.495 10.386 8.192 36.279 28.672 57.783 45.495 38.18 30.135 44.91 35.401 52.663 41.545 2.048 1.756 22.967 18.14 46.372 36.572 23.26 18.432 74.167 58.514 112.933 89.088 38.912 30.573 71.095 55.734 71.826 56.027 0.732 0.293 7.46-4.389 14.921-10.386 21.797-16.97 90.259-70.949 101.523-79.872 5.705-4.535 12.873-10.24 15.945-12.58 3.072-2.488 6.436-5.12 7.314-5.852 0.878-0.878 11.85-9.509 24.283-19.31 20.773-16.091 59.1-46.226 64.366-50.615 1.17-1.024 5.12-4.096 8.777-6.875 3.657-2.78 7.9-6.29 9.509-7.607 1.609-1.317 14.775-11.703 29.257-23.113 29.11-22.82 42.277-33.207 88.503-69.632 17.262-13.605 32.475-25.454 33.646-26.478 2.486-2.048 31.451-24.869 44.617-35.255 4.827-3.657 9.07-7.168 9.508-7.607 0.44-0.585 5.998-4.827 12.435-9.8 6.436-4.828 13.165-10.24 15.067-11.85l3.365-2.926-9.948-7.753c-5.412-4.388-10.24-8.192-10.679-8.63-1.17-1.317-22.381-18.433-30.135-24.284-3.95-3.072-7.314-5.998-7.606-6.73-1.317-3.071-6.73 0.147-29.258 17.994-13.458 10.532-25.746 20.187-27.355 21.504-1.61 1.463-10.533 8.338-19.749 15.652-9.216 7.168-17.115 13.459-17.554 13.898-0.439 0.438-6.583 5.412-13.897 10.971-7.168 5.559-15.214 11.703-17.7 13.75-4.974 4.097-5.413 4.39-20.334 16.239-5.56 4.388-11.264 8.777-12.435 9.8-1.17 1.025-20.333 16.092-42.422 33.354-22.09 17.408-41.546 32.768-43.155 34.084-1.609 1.463-14.482 11.557-28.525 22.528s-40.814 32.037-59.539 46.812c-18.578 14.775-42.276 33.353-52.516 41.399s-23.26 18.285-28.965 22.82l-10.386 8.339-4.389-3.072c-2.34-1.756-4.68-3.511-5.12-3.95-0.439-0.439-4.973-4.096-10.24-8.046-11.849-9.216-14.482-11.264-16.676-13.166-0.878-0.877-4.243-3.51-7.46-5.851-3.22-2.487-6.145-4.681-6.584-5.12-0.439-0.439-6.875-5.705-14.482-11.703-7.607-5.851-14.921-11.556-16.091-12.58-1.317-1.17-17.116-13.605-35.255-27.795-17.993-14.19-35.109-27.648-38.035-29.842-5.705-4.681-33.499-26.624-125.074-98.743-34.523-27.209-72.704-57.344-84.846-66.852-49.737-39.498-55.15-43.594-56.905-43.447-0.877 0-14.043 10.24-29.257 22.528z","p-id":"1860","data-spm-anchor-id":"a313x.7781069.0.i3"})]}),qq:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"img",className:"iconify iconify--ri",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{fill:"currentColor",d:"M19.913 14.529a31.977 31.977 0 0 0-.675-1.886l-.91-2.246c0-.026.012-.468.012-.696C18.34 5.86 16.507 2 12 2S5.66 5.86 5.66 9.7c0 .229.011.671.012.697l-.91 2.246a32.777 32.777 0 0 0-.675 1.886c-.86 2.737-.581 3.87-.369 3.895c.455.054 1.771-2.06 1.771-2.06c0 1.224.637 2.822 2.016 3.976c-.515.157-1.147.399-1.554.695c-.365.267-.319.54-.253.65c.289.481 4.955.307 6.303.157c1.347.15 6.014.324 6.302-.158c.066-.11.112-.382-.253-.649c-.407-.296-1.039-.538-1.555-.696c1.379-1.153 2.016-2.751 2.016-3.976c0 0 1.316 2.115 1.771 2.06c.212-.025.49-1.157-.37-3.894"})}),wechat:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"img",className:"iconify iconify--ri",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{fill:"currentColor",d:"M18.574 13.711a.91.91 0 0 0 .898-.898c0-.498-.399-.898-.898-.898s-.898.4-.898.898c0 .5.4.898.898.898zm-4.425 0a.91.91 0 0 0 .898-.898c0-.498-.4-.898-.898-.898c-.5 0-.898.4-.898.898c0 .5.399.898.898.898zm6.567 5.04a.347.347 0 0 0-.172.37c0 .048 0 .097.025.147c.098.417.294 1.081.294 1.106c0 .073.025.122.025.172a.22.22 0 0 1-.221.22c-.05 0-.074-.024-.123-.048l-1.449-.836a.799.799 0 0 0-.344-.098c-.073 0-.147 0-.196.024c-.688.197-1.4.295-2.161.295c-3.66 0-6.607-2.457-6.607-5.505c0-3.047 2.947-5.505 6.607-5.505c3.659 0 6.606 2.458 6.606 5.505c0 1.647-.884 3.146-2.284 4.154zM16.673 8.099a9.105 9.105 0 0 0-.28-.005c-4.174 0-7.606 2.86-7.606 6.505c0 .554.08 1.09.228 1.6h-.089a9.963 9.963 0 0 1-2.584-.368c-.074-.025-.148-.025-.222-.025a.832.832 0 0 0-.418.123l-1.748 1.005c-.05.025-.099.05-.148.05a.273.273 0 0 1-.27-.27c0-.074.024-.123.049-.197c.024-.024.246-.834.369-1.324c0-.05.024-.123.024-.172a.556.556 0 0 0-.221-.442C2.058 13.376 1 11.586 1 9.598C1 5.945 4.57 3 8.95 3c3.765 0 6.93 2.169 7.723 5.098zm-5.154.418c.573 0 1.026-.477 1.026-1.026c0-.573-.453-1.026-1.026-1.026s-1.026.453-1.026 1.026s.453 1.026 1.026 1.026zm-5.26 0c.573 0 1.027-.477 1.027-1.026c0-.573-.454-1.026-1.027-1.026c-.572 0-1.026.453-1.026 1.026s.454 1.026 1.026 1.026z"})}),weibo:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"img",className:"iconify iconify--ri",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{fill:"currentColor",d:"M17.525 11.378c1.263.392 2.669 1.336 2.669 3.004c0 2.763-3.98 6.239-9.964 6.239c-4.565 0-9.23-2.213-9.23-5.852c0-1.902 1.204-4.102 3.277-6.177c2.773-2.77 6.004-4.033 7.219-2.816c.537.537.588 1.464.244 2.572c-.178.557.525.25.525.25c2.24-.938 4.196-.994 4.909.027c.38.543.343 1.306-.008 2.19c-.163.407.048.471.36.563zm-7.282 7.939c3.641-.362 6.401-2.592 6.167-4.983c-.237-2.391-3.382-4.038-7.023-3.677c-3.64.36-6.403 2.59-6.167 4.98c.237 2.394 3.382 4.039 7.023 3.68zM6.16 14.438c.754-1.527 2.712-2.39 4.446-1.94c1.793.463 2.707 2.154 1.976 3.8c-.744 1.682-2.882 2.578-4.695 1.993c-1.752-.566-2.493-2.294-1.727-3.853zm1.446 2.587c.568.257 1.325.013 1.676-.55c.346-.568.163-1.217-.407-1.459c-.563-.237-1.291.008-1.64.553c-.354.547-.189 1.202.371 1.456zm2.206-1.808c.219.092.501-.012.628-.231c.123-.22.044-.466-.178-.548c-.216-.084-.486.018-.613.232c-.123.214-.054.458.163.547zM19.873 9.5a.725.725 0 1 1-1.378-.451a1.38 1.38 0 0 0-.288-1.357a1.395 1.395 0 0 0-1.321-.425a.723.723 0 1 1-.303-1.416a2.836 2.836 0 0 1 3.29 3.649zm-3.916-6.575A5.831 5.831 0 0 1 21.5 4.72a5.836 5.836 0 0 1 1.22 5.704a.838.838 0 0 1-1.06.54a.844.844 0 0 1-.542-1.062a4.143 4.143 0 0 0-4.807-5.327a.845.845 0 0 1-.354-1.65z"})}),zhihu:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"img",className:"iconify iconify--ri",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{fill:"currentColor",d:"m12.344 17.963l-1.688 1.074l-2.131-3.35c-.44 1.402-1.172 2.665-2.139 3.825c-.402.483-.82.918-1.301 1.375c-.155.147-.775.717-.878.82l-1.414-1.414c.139-.139.787-.735.915-.856c.43-.408.795-.79 1.142-1.206c1.266-1.518 2.03-3.21 2.137-5.231H3v-2h4V7h-.868c-.689 1.266-1.558 2.222-2.618 2.857L2.486 8.143c1.395-.838 2.425-2.604 3.038-5.36l1.952.434c-.14.633-.303 1.227-.489 1.783H11.5v2H9v4h2.5v2H9.185l3.159 4.963zm3.838-.07L17.298 17H19V7h-4v10h.736l.446.893zM13 5h8v14h-3l-2.5 2l-1-2H13V5z"})}),bilibili:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"img",className:"iconify iconify--ri",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{fill:"currentColor",d:"M18.223 3.086a1.25 1.25 0 0 1 0 1.768L17.08 5.996h1.17A3.75 3.75 0 0 1 22 9.747v7.5a3.75 3.75 0 0 1-3.75 3.75H5.75A3.75 3.75 0 0 1 2 17.247v-7.5a3.75 3.75 0 0 1 3.75-3.75h1.166L5.775 4.855a1.25 1.25 0 1 1 1.767-1.768l2.652 2.652c.079.079.145.165.198.257h3.213c.053-.092.12-.18.199-.258l2.651-2.652a1.25 1.25 0 0 1 1.768 0zm.027 5.42H5.75a1.25 1.25 0 0 0-1.247 1.157l-.003.094v7.5c0 .659.51 1.199 1.157 1.246l.093.004h12.5a1.25 1.25 0 0 0 1.247-1.157l.003-.093v-7.5c0-.69-.56-1.25-1.25-1.25zm-10 2.5c.69 0 1.25.56 1.25 1.25v1.25a1.25 1.25 0 1 1-2.5 0v-1.25c0-.69.56-1.25 1.25-1.25zm7.5 0c.69 0 1.25.56 1.25 1.25v1.25a1.25 1.25 0 1 1-2.5 0v-1.25c0-.69.56-1.25 1.25-1.25z"})}),lark:(0,l.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"48",height:"48",viewBox:"0 0 48 48",children:(0,l.jsxs)("g",{fillRule:"evenodd",clipRule:"evenodd",children:[(0,l.jsx)("path",{d:"M41.0716 5.99409L3.31071 16.5187L12.3856 25.8126L20.7998 25.9594L30.4827 16.5187C30.2266 15.9943 30.0985 15.5552 30.0985 15.2013C30.0985 14.4074 30.4104 13.7786 30.8947 13.333C31.7241 12.57 32.7222 12.4558 33.8889 12.9905L41.0716 5.99409Z"}),(0,l.jsx)("path",{d:"M42.1021 6.72842L31.5775 44.4893L22.2836 35.4144L22.1367 27.0002L31.5115 17.4816C32.0195 17.8454 32.5743 18.0105 33.1759 17.9769C34.0784 17.9264 34.6614 17.3813 34.9349 17.0602C35.2083 16.7392 35.5293 16.2051 35.5025 15.4113C35.4847 14.8821 35.3109 14.3941 34.9812 13.9472L42.1021 6.72842Z"})]})})};function nf(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.forEach(function(n){var t,i,s;t=e,i=n,s=r[n],i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s})}return e}var nj=e=>{let{link:n,popperStyle:r={}}=e,{icon:t,mode:i="link",content:s}=n,o="object"==typeof t?(0,l.jsx)("div",{dangerouslySetInnerHTML:{__html:t.svg}}):nm[t],[d,c]=(0,a.useState)(!1),h=()=>{c(!0)},u=()=>{c(!1)};return"link"===i?(0,l.jsx)("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"social-links",children:(0,l.jsx)("div",{className:`${nx.socialLinksIcon}`,children:o})},s):"text"===i?(0,l.jsxs)("div",{className:`${nx.socialLinksIcon} cursor-pointer relative mx-3`,onMouseEnter:h,onMouseLeave:u,children:[o,d?(0,l.jsx)("div",{style:nf({boxShadow:"var(--modern-shadow-3)",border:"1px solid var(--modern-c-divider-light)"},r),className:"z-1 p-3 w-50 absolute right-0 bg-white dark:bg-dark",children:(0,l.jsx)("div",{className:"text-md",children:s})}):null]}):"img"===i?(0,l.jsxs)("div",{className:`${nx.socialLinksIcon} cursor-pointer relative`,onMouseEnter:h,onMouseLeave:u,children:[o,d?(0,l.jsx)("div",{className:"break-all z-1 p-3 w-50 absolute right-0 rounded-xl",style:nf({boxShadow:"var(--modern-shadow-3)"},r),children:(0,l.jsx)("img",{src:s,alt:"img"})}):null]}):(0,l.jsx)("div",{})},ng=e=>{let{links:n,moreIconVisible:r=!1,mouseEnter:t}=e;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:"flex-center h-full gap-x-4 transition-colors duration-300 md:mr-2",children:n.map((e,n)=>(0,l.jsx)(nj,{link:e,popperStyle:{top:"2.5rem"}},n))}),r?(0,l.jsx)("div",{className:"md:ml-1",onMouseEnter:t,children:(0,l.jsx)(np,{})}):null]})},nb=e=>{let{links:n}=e;return(0,l.jsx)("div",{style:{boxShadow:"var(--modern-shadow-3)",marginRight:"-2px",border:"1px solid var(--modern-c-divider-light)"},className:"absolute top-13 right-0 z-1 p-3 w-32 rounded-xl bg-white flex flex-wrap gap-4",children:n.map(e=>(0,l.jsx)(nj,{link:e,popperStyle:{top:"1.25rem"}},e.content))})},nv=({socialLinks:e})=>{let n=e.length>3,r=[],t=[];e.forEach((e,n)=>{n<3?r.push(e):t.push(e)});let[i,s]=(0,a.useState)(!1);return(0,l.jsxs)("div",{className:`social-links ${nx.menuItem} flex-center relative`,onMouseLeave:()=>s(!1),children:[(0,l.jsx)(ng,{links:r,moreIconVisible:n,mouseEnter:()=>s(!0)}),i?(0,l.jsx)(nb,{links:t}):null]})},ny={navScreen:"navScreen_72863",active:"active_72863",container:"container_72863",navMenu:"navMenu_72863",navMenuItem:"navMenuItem_72863",navAppearance:"navAppearance_72863",socialAndAppearance:"socialAndAppearance_72863"};function nw(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.forEach(function(n){var t,i,s;t=e,i=n,s=r[n],i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s})}return e}var nS=({translationMenuData:e})=>(0,l.jsx)("div",{className:`${ny.navTranslations} flex text-sm font-bold justify-center`,children:(0,l.jsx)("div",{className:"mx-1.5 my-1",children:(0,l.jsx)(nr,nw({},e))})});function nk(e){var n,r;let{isScreenOpen:t,localeData:i,siteData:s,pathname:d,setLogo:c}=e,h=(0,a.useRef)(null),{theme:u}=(0,a.useContext)(o.ThemeContext),p=s.themeConfig.locales||[],x=p.length>1,m=i.nav||[],f=!1!==s.themeConfig.darkMode,j=(null==s?void 0:null===(n=s.themeConfig)||void 0===n?void 0:n.socialLinks)||[],g=j.length>0,b=p.map(e=>e.lang||"zh")||[],{base:v,logo:y}=s,w=x?{text:(0,l.jsx)(nu,{style:{width:"18px",height:"18px"}}),items:p.map(e=>({text:null==e?void 0:e.label,link:`/${e.lang}`})),activeValue:null===(r=p.find(e=>e.lang===i.lang))||void 0===r?void 0:r.label}:null;return(0,a.useEffect)(()=>(h.current&&t&&(0,C.disableBodyScroll)(h.current,{reserveScrollBarGap:!0}),()=>{(0,C.clearAllBodyScrollLocks)()}),[t]),(0,l.jsx)("div",{className:`${ny.navScreen} ${t?ny.active:""}`,ref:h,id:"navScreen",children:(0,l.jsxs)("div",{className:ny.container,children:[(0,l.jsx)(({menuItems:e})=>(0,l.jsx)("div",{className:ny.navMenu,children:e.map((e,n)=>{var r,t;return(0,l.jsx)("div",{className:`${ny.navMenuItem} w-full`,children:"link"in e?(0,l.jsx)(ni,nw({pathname:d,base:v,langs:b},e),n):(0,l.jsx)("div",{className:"mx-3 last:mr-0",children:(0,l.jsx)(nr,(r=nw({},e),t=(t={items:"items"in e?e.items:e},t),Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):(function(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r.push.apply(r,t)}return r})(Object(t)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))}),r))},n)},n)})}),{menuItems:m}),(0,l.jsxs)("div",{className:"flex-center flex-col gap-2",children:[f&&(0,l.jsx)(()=>(0,l.jsx)("div",{className:`mt-2 ${ny.navAppearance} flex justify-center`,children:(0,l.jsx)(o.NoSSR,{children:(0,l.jsx)(nh,{onClick:()=>{c($(y,"dark"===u?"light":"dark"))}})})}),{}),x&&(0,l.jsx)(nS,{translationMenuData:w}),g&&(0,l.jsx)(nv,{socialLinks:j})]})]})})}var n_=e=>{var n,r;return(0,l.jsxs)("svg",(n=function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.forEach(function(n){var t,i,s;t=e,i=n,s=r[n],i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s})}return e}({xmlns:"http://www.w3.org/2000/svg",width:32,height:32},e),r=(r={children:[(0,l.jsx)("circle",{cx:8,cy:16,r:2,fill:"currentColor"}),(0,l.jsx)("circle",{cx:16,cy:16,r:2,fill:"currentColor"}),(0,l.jsx)("circle",{cx:24,cy:16,r:2,fill:"currentColor"})]},r),Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r.push.apply(r,t)}return r})(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n))},nP={navHamburger:"navHamburger_8936a",container:"container_8936a",top:"top_8936a",middle:"middle_8936a",bottom:"bottom_8936a",active:"active_8936a"};function nE(e){let{localeData:n,siteData:r,pathname:t,setLogo:i}=e,{isScreenOpen:s,toggleScreen:o}=function(){let[e,n]=(0,a.useState)(!1);function r(){n(!0),window.addEventListener("resize",i)}function t(){n(!1),window.removeEventListener("resize",i)}function i(){window.outerWidth>=768&&t()}return{isScreenOpen:e,openScreen:r,closeScreen:t,toggleScreen:function(){e?t():r()}}}();return(0,l.jsxs)(a.Fragment,{children:[(0,l.jsx)(nk,{isScreenOpen:s,localeData:n,siteData:r,pathname:t,setLogo:i}),(0,l.jsx)("button",{onClick:o,className:`${s?nP.active:""} ${nP.navHamburger} text-gray-500`,children:(0,l.jsx)(n_,{fill:"currentColor"})})]})}function nF({item:e}){return(0,l.jsx)("div",{className:"rounded-2xl my-1",style:{padding:"0.4rem 1.5rem 0.4rem 0.75rem"},children:(0,l.jsx)("span",{className:"text-brand",children:e.text})},e.link)}function nN({item:e}){return(0,l.jsx)("div",{className:"font-medium my-1",children:(0,l.jsx)(er,{href:e.link,children:(0,l.jsx)("div",{className:"rounded-2xl hover:bg-mute",style:{padding:"0.4rem 1.5rem 0.4rem 0.75rem"},children:(0,l.jsx)("div",{className:"flex",children:(0,l.jsx)("span",{children:e.text})})})})},e.link)}function nT(e){let{activeValue:n,isTranslation:r,items:t}=e,[i,s]=(0,a.useState)(!1),o=e=>n===e.text?(0,l.jsx)(nF,{item:e},e.link):(0,l.jsx)(nN,{item:e},e.link),d=e=>(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{className:"font-bold text-gray-400 my-1 not:first:border",children:e.text}),e.items.map(o)]});return(0,l.jsxs)("div",{className:"relative flex-center h-14",onMouseLeave:()=>s(!1),children:[(0,l.jsxs)("button",{onMouseEnter:()=>s(!0),className:"nav-menu-group-button flex-center items-center font-medium text-sm text-text-1 hover:text-text-2 transition-colors duration-200",children:[(0,l.jsx)("span",{className:"text-sm font-medium",style:{marginRight:"2px"},children:r?(0,l.jsx)(nu,{style:{with:"18px",height:"18px"}}):e.text}),(0,l.jsx)(ne,{})]}),(0,l.jsx)("div",{className:"nav-menu-group-content absolute mx-0.8 transition-opacity duration-300",style:{opacity:i?1:0,visibility:i?"visible":"hidden",right:0,top:"52px"},children:(0,l.jsx)("div",{className:"p-3 pr-2 w-full h-full max-h-100vh whitespace-nowrap",style:{boxShadow:"var(--modern-shadow-3)",zIndex:100,border:"1px solid var(--modern-c-divider-light)",borderRadius:"2rem",background:"var(--modern-c-bg)"},children:t.map(e=>(0,l.jsx)("div",{children:"link"in e?o(e):d(e)},e.text))})})]})}function nR(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.forEach(function(n){var t,i,s;t=e,i=n,s=r[n],i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s})}return e}function nC(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):(function(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r.push.apply(r,t)}return r})(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}),e}var nM=({title:e,langRoutePrefix:n,logo:r})=>(0,l.jsx)("div",{className:`${nt.navBarTitle}`,children:(0,l.jsx)("a",{href:(0,o.withBase)(n),className:"flex items-center w-full h-full text-base font-semibold transition-opacity duration-300 hover:opacity-60",children:r?(0,l.jsx)("img",{src:r,alt:"logo",id:"logo",className:"w-24 mr-4 modern-doc-logo"}):(0,l.jsx)("span",{children:e})})}),nO=({translationMenuData:e})=>(0,l.jsx)("div",{className:`translation ${nt.menuItem} flex text-sm font-bold items-center px-3 py-2`,children:(0,l.jsx)("div",{children:(0,l.jsx)(nT,nC(nR({},e),{isTranslation:!0}))})});function nI(e){var n,r,t,i,s;let{beforeNavTitle:d,afterNavTitle:h,beforeNav:p}=e,{siteData:x,page:m}=(0,o.usePageData)(),{logo:f,base:j}=x,{pathname:g}=(0,u.useLocation)(),{theme:b}=(0,a.useContext)(o.ThemeContext),v=L(),[y,w]=(0,a.useState)(!1),S=Object.values(x.themeConfig.locales||{}),k=S.length>1,_=(null==x?void 0:null===(n=x.themeConfig)||void 0===n?void 0:n.socialLinks)||[],P=_.length>0,E=x.lang||"zh",{lang:F}=m,N=S.map(e=>e.lang||"zh")||[],[T,R]=(0,a.useState)($(f,b)),C=k?{items:S.map(e=>({text:null==e?void 0:e.label,link:function(e,n,r,t,i=""){let s,l=function(e,n){return q(e).replace(X(n),"")}(e,i);!l&&(l="/index.html");let o=l.split("/")[1],a=!t.includes(o);return function(e="/",n=""){let r=q(e),t=X(n);return r.startsWith(t)?r:`${t}${r}`}(s=a?n===r?l:q(`${n}${l}`):n===r?l.replace(`/${o}`,""):l.replace(o,n),i)}(g,e.lang,E,N,j)})),activeValue:null===(r=S.find(e=>F===e.lang))||void 0===r?void 0:r.label}:null;(0,a.useEffect)(()=>{R($(f,b))},[b]),(0,a.useEffect)(()=>{w(window.innerWidth<768)},[]);let M=({menuItems:e})=>(0,l.jsx)("div",{className:"menu h-14",children:e.map(e=>"items"in e||Array.isArray(e)?(0,l.jsx)("div",{className:"mx-3 last:mr-0",children:(0,l.jsx)(nT,nC(nR({},e),{items:"items"in e?e.items:e}))},e.text):(0,l.jsx)(ni,nR({pathname:g,langs:N,base:j},e),e.link))}),O=v.nav||[],I=e=>null!==(i=e.position)&&void 0!==i?i:"right",A=O.filter(e=>"left"===I(e)),D=O.filter(e=>"right"===I(e)),B=(null==x?void 0:null===(t=x.themeConfig)||void 0===t?void 0:t.search)!==!1,z=null!==(s=v.title)&&void 0!==s?s:x.title,G=!1!==x.themeConfig.darkMode;return(0,l.jsxs)("header",{className:"top-0 left-0 md:fixed w-full",style:{zIndex:"var(--modern-z-index-nav)",background:"var(--modern-c-bg)"},children:[p,(0,l.jsx)("div",{className:`${nt.navContainer} modern-doc-nav px-6`,children:(0,l.jsxs)("div",{className:`${nt.container} flex justify-between items-center h-full`,children:[d,(0,l.jsx)(nM,{title:z,langRoutePrefix:v.langRoutePrefix||"/",logo:T}),h,(0,l.jsxs)("div",{className:`${nt.content} flex flex-1 justify-end items-center`,children:[(0,l.jsx)("div",{className:nt.leftNav,children:(0,l.jsx)(M,{menuItems:A})}),(0,l.jsxs)("div",{className:nt.rightNav,children:[B&&(0,l.jsx)("div",{className:"flex sm:flex-1 items-center sm:pl-4 sm:pr-2",children:(0,l.jsx)(c.Search,{})}),(0,l.jsx)(M,{menuItems:D}),(0,l.jsxs)("div",{className:"flex-center flex-row",children:[k&&(0,l.jsx)(nO,{translationMenuData:C}),G&&(0,l.jsx)("div",{className:"mx-2",children:(0,l.jsx)(nh,{})}),P&&(0,l.jsx)(nv,{socialLinks:_})]})]}),(0,l.jsxs)("div",{className:nt.mobileNavMenu,children:[y&&(0,l.jsx)(c.Search,{}),(0,l.jsx)(nE,{localeData:v,siteData:x,pathname:g,setLogo:R})]})]})]})})]})}var nA={tab:"tab_300c2","not-selected":"not-selected_300c2",notSelected:"not-selected_300c2",selected:"selected_300c2"};function nD(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.forEach(function(n){var t,i,s;t=e,i=n,s=r[n],i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s})}return e}function nB(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):(function(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r.push.apply(r,t)}return r})(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}),e}var nz=e=>{var n;return(n=e)&&"object"==typeof n&&"label"in n?e.label||e.value:e};function nL(e){let{values:n,defaultValue:r,onChange:t,children:i,groupId:s,tabContainerClassName:o}=e,d=n||[];0===d.length&&(d=i.map(e=>{var n,r,t;return{label:null===(n=e.props)||void 0===n?void 0:n.label,value:(null===(r=e.props)||void 0===r?void 0:r.value)||(null===(t=e.props)||void 0===t?void 0:t.label)}}));let{tabData:c,setTabData:h}=(0,a.useContext)(eb),u=0,p=s&&void 0!==c[s];return p?u=c[s]:r&&(u=d.findIndex(e=>"string"==typeof e?e===r:!!e&&"object"==typeof e&&"value"in e&&e.value===r)),(0,l.jsxs)(D.Tab.Group,nB(nD({onChange:e=>{null==t||t(e),s&&h(nB(nD({},c),{[s]:e}))}},p?{selectedIndex:u}:{defaultIndex:u}),{children:[(0,l.jsx)("div",{className:o||"",children:d.length?(0,l.jsx)(D.Tab.List,{className:"mt-4 flex w-max min-w-full border-b border-gray-200 dark:border-dark-200",children:d.map((e,n)=>{let r=!!(e&&"object"==typeof e&&"disabled"in e&&e.disabled);return(0,l.jsx)(D.Tab,{disabled:r,className:({selected:e})=>`${nA.tab} ${e?nA.selected:nA.notSelected}`,children:nz(e)},n)})}):null}),(0,l.jsx)(D.Tab.Panels,{children:i})]}))}function nG(e){var{children:n}=e,r=function(e,n){if(null==e)return{};var r,t,i=function(e,n){if(null==e)return{};var r,t,i={},s=Object.keys(e);for(t=0;t<s.length;t++)r=s[t],!(n.indexOf(r)>=0)&&(i[r]=e[r]);return i}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(t=0;t<s.length;t++){if(r=s[t],!(n.indexOf(r)>=0))Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}}return i}(e,["children"]);return(0,l.jsx)(D.Tab.Panel,nB(nD({},r),{className:"rounded pt-4",children:n}))}var nW={mask:"mask_0669a",modal:"modal_0669a",inputForm:"inputForm_0669a",input:"input_0669a",close:"close_0669a",searchHits:"searchHits_0669a",groupTitle:"groupTitle_0669a",navSearchButton:"navSearchButton_0669a",searchWord:"searchWord_0669a",suggestItem:"suggestItem_0669a",suggestItemContainer:"suggestItemContainer_0669a",contentWrapper:"contentWrapper_0669a",mark:"mark_0669a",titleForContent:"titleForContent_0669a",actionIcon:"actionIcon_0669a",current:"current_0669a",tabClassName:"tabClassName_0669a",mobileNavSearchButton:"mobileNavSearchButton_0669a"},nU=e=>{var n,r;return(0,l.jsx)("svg",(n=function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.forEach(function(n){var t,i,s;t=e,i=n,s=r[n],i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s})}return e}({width:24,height:24,viewBox:"0 0 32 32"},e),r=(r={children:(0,l.jsx)("path",{fill:"var(--modern-c-gray)",d:"m29 27.586-7.552-7.552a11.018 11.018 0 1 0-1.414 1.414L27.586 29ZM4 13a9 9 0 1 1 9 9 9.01 9.01 0 0 1-9-9Z"})},r),Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r.push.apply(r,t)}return r})(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n))},nH=e=>{var n,r;return(0,l.jsx)("svg",(n=function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.forEach(function(n){var t,i,s;t=e,i=n,s=r[n],i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s})}return e}({width:32,height:32,viewBox:"0 0 24 24"},e),r=(r={children:(0,l.jsxs)("g",{fill:"none",stroke:"var(--modern-c-brand)",strokeLinecap:"round",strokeWidth:2,children:[(0,l.jsx)("path",{strokeDasharray:60,strokeDashoffset:60,strokeOpacity:.3,d:"M12 3a9 9 0 1 1 0 18 9 9 0 0 1 0-18Z",children:(0,l.jsx)("animate",{fill:"freeze",attributeName:"stroke-dashoffset",dur:"1.3s",values:"60;0"})}),(0,l.jsxs)("path",{strokeDasharray:15,strokeDashoffset:15,d:"M12 3a9 9 0 0 1 9 9",children:[(0,l.jsx)("animate",{fill:"freeze",attributeName:"stroke-dashoffset",dur:"0.3s",values:"15;0"}),(0,l.jsx)("animateTransform",{attributeName:"transform",dur:"1.5s",repeatCount:"indefinite",type:"rotate",values:"0 12 12;360 12 12"})]})]})},r),Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r.push.apply(r,t)}return r})(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n))},nq=e=>{var n,r;return(0,l.jsx)("svg",(n=function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.forEach(function(n){var t,i,s;t=e,i=n,s=r[n],i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s})}return e}({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 32 32"},e),r=(r={children:(0,l.jsx)("path",{fill:"currentColor",d:"M24 9.4 22.6 8 16 14.6 9.4 8 8 9.4l6.6 6.6L8 22.6 9.4 24l6.6-6.6 6.6 6.6 1.4-1.4-6.6-6.6L24 9.4z"})},r),Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r.push.apply(r,t)}return r})(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n))},nX="LOCAL_INDEX";function nV(e){return e.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function n$(e){return e.replace(/https?:\/\/[^/]+/,"")}var nJ=e=>e.map(e=>"string"==typeof e?{value:e,label:e}:e);function nY(e,n){let r=0,t=0;for(let i=0;i<e.length&&!(t>=n);i++)e.charCodeAt(i)>255?t+=3:t+=1,r++;return r}function nQ(e,n,r,t,i,s,l){try{var o=e[s](l),a=o.value}catch(e){r(e);return}o.done?n(a):Promise.resolve(a).then(t,i)}function nK(e){return function(){var n=this,r=arguments;return new Promise(function(t,i){var s=e.apply(n,r);function l(e){nQ(s,t,i,l,o,"next",e)}function o(e){nQ(s,t,i,l,o,"throw",e)}l(void 0)})}}function nZ(e,n){if(n.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}function n0(e,n,r){if(!n.has(e))throw TypeError("attempted to "+r+" private field on non-instance");return n.get(e)}function n2(e,n){var r,t,i=n0(e,n,"get");return r=e,(t=i).get?t.get.call(r):t.value}function n1(e,n,r){nZ(e,n),n.set(e,r)}function n3(e,n,r){var t=n0(e,n,"set");return!function(e,n,r){if(n.set)n.set.call(e,r);else{if(!n.writable)throw TypeError("attempted to set read only private field");n.value=r}}(e,t,r),r}function n4(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.forEach(function(n){var t,i,s;t=e,i=n,s=r[n],i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s})}return e}function n8(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):(function(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r.push.apply(r,t)}return r})(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))}),e}var n6=/[\u3131-\u314e|\u314f-\u3163|\uac00-\ud7a3]|[\u4E00-\u9FCC\u3400-\u4DB5\uFA0E\uFA0F\uFA11\uFA13\uFA14\uFA1F\uFA21\uFA23\uFA24\uFA27-\uFA29]|[\ud840-\ud868][\udc00-\udfff]|\ud869[\udc00-\uded6\udf00-\udfff]|[\ud86a-\ud86c][\udc00-\udfff]|\ud86d[\udc00-\udf34\udf40-\udfff]|\ud86e[\udc00-\udc1d]|[\u3041-\u3096]|[\u30A1-\u30FA]/giu,n5=new WeakMap,n9=new WeakMap,n7=new WeakSet,re=class{init(e){var n=this;return nK(function*(){let{currentLang:r}=e,t=(yield(function(e,n,r){if(!n.has(e))throw TypeError("attempted to get private field on non-instance");return r})(n,n7,rn).call(n,r)).filter(e=>e.lang===r).map(e=>n8(n4({},e),{normalizedContent:nV(e.content),headers:e.toc.map(e=>nV(e.text)).join(" "),normalizedTitle:nV(e.title)})),i={tokenize:"full",async:!0,doc:{id:"routePath",field:["normalizedTitle","headers","normalizedContent"]},cache:100,split:/\W+/};n3(n,n5,B.default.create(i)),n3(n,n9,B.default.create(n8(n4({},i),{tokenize(e){let n=[],r=null;do(r=n6.exec(e))&&n.push(r[0]);while(r);return n}}))),n2(n,n5).add(t),n2(n,n9).add(t)})()}search(e){var n=this;return nK(function*(){var r,t;let{keyword:i,limit:s}=e,l={query:i,limit:s,field:["normalizedTitle","headers","normalizedContent"]},o=yield Promise.all([null===(r=n2(n,n5))||void 0===r?void 0:r.search(l),null===(t=n2(n,n9))||void 0===t?void 0:t.search(l)]),a=o.flat(2).filter(Boolean);return[{index:nX,hits:a}]})()}constructor(){var e,n;e=this,nZ(e,n=n7),n.add(e),n1(this,n5,{writable:!0,value:void 0}),n1(this,n9,{writable:!0,value:void 0})}};function rn(e){return rr.apply(this,arguments)}function rr(){return(rr=nK(function*(e){let n=yield fetch(`/builder/static/search_index.${e}.${z.default[e]}.json`);return n.json()})).apply(this,arguments)}function rt(e,n,r,t,i,s,l){try{var o=e[s](l),a=o.value}catch(e){r(e);return}o.done?n(a):Promise.resolve(a).then(t,i)}function ri(e){return function(){var n=this,r=arguments;return new Promise(function(t,i){var s=e.apply(n,r);function l(e){rt(s,t,i,l,o,"next",e)}function o(e){rt(s,t,i,l,o,"throw",e)}l(void 0)})}}function rs(e,n,r){if(!n.has(e))throw TypeError("attempted to "+r+" private field on non-instance");return n.get(e)}function rl(e,n){var r,t,i=rs(e,n,"get");return r=e,(t=i).get?t.get.call(r):t.value}var ro=new WeakMap,ra=class{init(e){var n=this;return ri(function*(){var r,t,i,s;r=n,t=ro,i=e,s=rs(r,t,"set"),function(e,n,r){if(n.set)n.set.call(e,r);else{if(!n.writable)throw TypeError("attempted to set read only private field");n.value=r}}(r,s,i)})()}search(e){var n=this;return ri(function*(){let{apiUrl:r,searchIndexes:t}=rl(n,ro),{keyword:i,limit:s}=e,l=Object.entries({keyword:i,limit:s.toString(),searchIndexes:(null==t?void 0:t.map(e=>"string"==typeof e?e:e.value).join(","))||"",lang:rl(n,ro).currentLang}).map(e=>e.map(encodeURIComponent).join("=")).join("&");try{let e=yield fetch(`${r}?${l}`);return e.json()}catch(e){return console.error(e),[]}})()}constructor(){var e,n,r;e=this,r={writable:!0,value:void 0},!function(e,n){if(n.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}(e,n=ro),n.set(e,r)}};function rd(e,n,r,t,i,s,l){try{var o=e[s](l),a=o.value}catch(e){r(e);return}o.done?n(a):Promise.resolve(a).then(t,i)}function rc(e){return function(){var n=this,r=arguments;return new Promise(function(t,i){var s=e.apply(n,r);function l(e){rd(s,t,i,l,o,"next",e)}function o(e){rd(s,t,i,l,o,"throw",e)}l(void 0)})}}function rh(e,n){if(n.has(e))throw TypeError("Cannot initialize the same private elements twice on an object")}function ru(e,n,r){if(!n.has(e))throw TypeError("attempted to "+r+" private field on non-instance");return n.get(e)}function rp(e,n){var r,t,i=ru(e,n,"get");return r=e,(t=i).get?t.get.call(r):t.value}function rx(e,n,r){rh(e,n),n.set(e,r)}function rm(e,n,r){var t=ru(e,n,"set");return!function(e,n,r){if(n.set)n.set.call(e,r);else{if(!n.writable)throw TypeError("attempted to set read only private field");n.value=r}}(e,t,r),r}function rf(e,n,r){if(!n.has(e))throw TypeError("attempted to get private field on non-instance");return r}function rj(e,n){rh(e,n),n.add(e)}var rg=new WeakMap,rb=new WeakMap,rv=new WeakMap,ry=new WeakSet,rw=new WeakSet,rS=new WeakSet,rk=new WeakSet,r_=new WeakSet,rP=new WeakSet,rE=class{init(){var e=this;return rc(function*(){var n;yield null===(n=rp(e,rv))||void 0===n?void 0:n.init(rp(e,rg))})()}match(e,n=7){var r=this;return rc(function*(){var t;let i=yield null===(t=rp(r,rv))||void 0===t?void 0:t.search({keyword:e,limit:n}),s=nV(e),l=(null==i?void 0:i.find(e=>rf(r,rP,rM).call(r,e.index)))||{index:nX,hits:[]},o={current:rf(r,ry,rF).call(r,s,l),others:((null==i?void 0:i.filter(e=>!rf(r,rP,rM).call(r,e.index)))||[]).map(e=>({index:e.index,items:rf(r,ry,rF).call(r,s,e)}))};return o})()}constructor(e){if(rj(this,ry),rj(this,rw),rj(this,rS),rj(this,rk),rj(this,r_),rj(this,rP),rx(this,rg,{writable:!0,value:void 0}),rx(this,rb,{writable:!0,value:nX}),rx(this,rv,{writable:!0,value:void 0}),rm(this,rg,e),"remote"===e.mode)rm(this,rv,new ra),rm(this,rb,e.indexName);else rm(this,rv,new re)}};function rF(e,n){let r=[];return null==n||n.hits.forEach(n=>{rf(this,rw,rN).call(this,n,e,r);let t=rf(this,rS,rT).call(this,n,e,r);!t&&rf(this,rk,rR).call(this,n,e,r)}),r}function rN(e,n,r){let{title:t}=e,i=nV(t);return!!i.includes(n)&&(r.push({type:"title",title:t,header:t,link:`${e.domain}${(0,o.normalizeHref)(e.routePath)}`,query:n,highlightInfoList:[{start:i.indexOf(n),length:n.length}],group:rp(this,rg).extractGroupName(e.routePath)}),!0)}function rT(e,n,r){let{toc:t,domain:i="",title:s}=e;for(let[l,a]of t.entries()){let d=nV(a.text);if(d.includes(n)){let d=function(e,n){let r=e[n],t=n,i=[r];for(;r&&r.depth>2;){let n=!1;for(let s=t-1;s>=0;s--){let l=e[s];if(l.depth>1&&l.depth===r.depth-1){r=l,t=s,i.unshift(r),n=!0;break}}if(!n)break}return i}(t,l),c=d.map(e=>e.text).join(" > "),h=nV(c).indexOf(n),u=`${s} > `;return r.push({type:"header",title:e.title,header:`${u}${c}`,highlightInfoList:[{start:h+u.length,length:n.length}],link:`${i}${(0,o.normalizeHref)(e.routePath)}#${a.id}`,query:n,group:rp(this,rg).extractGroupName(e.routePath)}),!0}}return!1}function rR(e,n,r){var t,i,s;let{content:l,toc:a,domain:d}=e;if(!l.length)return;let c=nV(l),h=c.indexOf(n),u=a.map(e=>e.charIndex),p=e=>{let n=u.findIndex((n,r)=>{if(!(r<a.length-1))return n<e;{let t=u[r+1];if(n<=e&&t>=e)return!0}return!1});return a[n]};if(-1===h){let s=null===(t=e._matchesPosition)||void 0===t?void 0:t.content;if(!(null==s?void 0:s.length))return;let a=e._matchesPosition.content[0].start,c=p(a),h=nY(l,a),u=nY(l,a+100),x=l.slice(h,u),m=e._matchesPosition.content.filter(e=>e.start>=a&&e.start+e.length<=a+100).map(e=>{let n=nY(l,e.start)-h+3;return{start:n,length:e.length}});r.push({type:"content",title:e.title,header:null!==(i=null==c?void 0:c.text)&&void 0!==i?i:e.title,link:`${d}${(0,o.normalizeHref)(e.routePath)}${c?`#${c.id}`:""}`,query:n,highlightInfoList:m,group:rp(this,rg).extractGroupName(e.routePath),statement:`...${x}...`});return}for(;-1!==h;){let t=p(h),i=l.slice(0,h).lastIndexOf("\n");i=-1===i?0:i;let a=l.indexOf("\n\n",h+n.length),u=l.slice(i,a);u.length>100&&(u=rf(this,r_,rC).call(this,u,n));let x=nV(u).indexOf(n),m=[{start:x,length:n.length}];r.push({type:"content",title:e.title,header:null!==(s=null==t?void 0:t.text)&&void 0!==s?s:e.title,statement:u,highlightInfoList:m,link:`${d}${(0,o.normalizeHref)(e.routePath)}${t?`#${t.id}`:""}`,query:n,group:rp(this,rg).extractGroupName(e.routePath)}),h=c.indexOf(n,h+u.length-x)}}function rC(e,n){let r=e.indexOf(n),t=Math.floor((100-n.length)/2),i=e.slice(0,r);i.length>t&&(i=`...${e.slice(r-t+3,r)}`);let s=e.slice(r+n.length);return s.length>t&&(s=`${e.slice(r+n.length,r+t-3)}...`),i+n+s}function rM(e){return e===rp(this,rb)||e===nX}var rO=e=>{var n,r;return(0,l.jsx)("svg",(n=function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.forEach(function(n){var t,i,s;t=e,i=n,s=r[n],i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s})}return e}({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 32 32"},e),r=(r={children:(0,l.jsx)("path",{fill:"currentColor",d:"M13.414 17.586 18 22.172V8H8V6h10a2.002 2.002 0 0 1 2 2v14.172l4.586-4.586L26 19l-7 7-7-7Z"})},r),Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r.push.apply(r,t)}return r})(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n))},rI={title:e=>{var n,r;return(0,l.jsx)("svg",(n=function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.forEach(function(n){var t,i,s;t=e,i=n,s=r[n],i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s})}return e}({xmlns:"http://www.w3.org/2000/svg",width:24,height:24},e),r=(r={children:(0,l.jsx)("path",{fill:"currentColor",d:"M4 4a2 2 0 0 1 2-2h8a1 1 0 0 1 .707.293l5 5A1 1 0 0 1 20 8v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V4zm13.586 4L14 4.414V8h3.586zM12 4H6v16h12V10h-5a1 1 0 0 1-1-1V4z"})},r),Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r.push.apply(r,t)}return r})(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n))},header:e=>{var n,r;return(0,l.jsx)("svg",(n=function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.forEach(function(n){var t,i,s;t=e,i=n,s=r[n],i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s})}return e}({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 32 32"},e),r=(r={children:(0,l.jsx)("path",{fill:"currentColor",d:"M28 12v-2h-6V4h-2v6h-8V4h-2v6H4v2h6v8H4v2h6v6h2v-6h8v6h2v-6h6v-2h-6v-8Zm-8 8h-8v-8h8Z"})},r),Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r.push.apply(r,t)}return r})(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n))},content:e=>{var n,r;return(0,l.jsxs)("svg",(n=function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.forEach(function(n){var t,i,s;t=e,i=n,s=r[n],i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s})}return e}({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 32 32"},e),r=(r={children:[(0,l.jsx)("circle",{cx:22,cy:24,r:2,fill:"currentColor"}),(0,l.jsx)("path",{fill:"none",d:"M22 28a4 4 0 1 1 4-4 4.004 4.004 0 0 1-4 4Zm0-6a2 2 0 1 0 2 2 2.003 2.003 0 0 0-2-2Z"}),(0,l.jsx)("path",{fill:"currentColor",d:"M29.777 23.479A8.64 8.64 0 0 0 22 18a8.64 8.64 0 0 0-7.777 5.479L14 24l.223.521A8.64 8.64 0 0 0 22 30a8.64 8.64 0 0 0 7.777-5.479L30 24ZM22 28a4 4 0 1 1 4-4 4.005 4.005 0 0 1-4 4Z"}),(0,l.jsx)("path",{fill:"currentColor",d:"M12 28H8V4h8v6a2.006 2.006 0 0 0 2 2h6v4h2v-6a.91.91 0 0 0-.3-.7l-7-7A.909.909 0 0 0 18 2H8a2.006 2.006 0 0 0-2 2v24a2.006 2.006 0 0 0 2 2h4Zm6-23.6 5.6 5.6H18Z"})]},r),Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r.push.apply(r,t)}return r})(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n))}};function rA({suggestion:e,closeSearch:n,isCurrent:r,setCurrentSuggestionIndex:t,inCurrentDocIndex:i}){let s=rI[e.type],a=i&&!(0,o.isProduction)()?n$(e.link):e.link,d=(e,n)=>{let r=[],t=0;for(let i of n){let{start:n,length:s}=i,o=e.slice(t,n),a=function(e,n,r){let t=e.slice(n);return function(e,n,r){let t="",i=0,s=e.length;for(let l=0;l<s;l++){let s=e.charCodeAt(l);if(s>255?i+=3:i++,i>n+r)break;i>n&&(t+=e.charAt(l))}return t}(t,0,r)}(e,n,s);r.push(o),r.push((0,l.jsx)("span",{className:nW.mark,children:a},n)),t=n+a.length}return t<e.length&&r.push(e.slice(t)),r},c=null;switch(e.type){case"title":case"header":c=(()=>{if("header"!==e.type&&"title"!==e.type)return(0,l.jsx)("div",{className:"font-medium",children:e.header});{let{header:n,highlightInfoList:r}=e;return(0,l.jsx)("div",{className:"font-medium",children:d(n,r)})}})();break;case"content":c=(0,l.jsxs)(l.Fragment,{children:[(()=>{if("content"!==e.type)return(0,l.jsx)("div",{});let{statement:n,highlightInfoList:r}=e;return(0,l.jsx)("div",{className:"text-sm text-gray-light w-full",children:d(n,r)})})(),(0,l.jsx)("p",{className:nW.titleForContent,children:e.title})]})}return(0,l.jsx)("li",{className:`${nW.suggestItem} ${r?nW.current:""}`,onMouseEnter:t,children:(0,l.jsx)("a",{href:a,onClick:e=>{n(),e.stopPropagation()},target:i?"_self":"_blank",children:(0,l.jsxs)("div",{className:nW.suggestItemContainer,children:[(0,l.jsx)("div",{className:nW.hitIcon,children:(0,l.jsx)(s,{})}),(0,l.jsx)("div",{className:nW.contentWrapper,children:(0,l.jsx)("span",{children:c})}),(0,l.jsx)("div",{className:nW.actionIcon,children:(0,l.jsx)(rO,{})})]})})},e.link)}var rD=e=>{var n,r;return(0,l.jsxs)("svg",(n=function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.forEach(function(n){var t,i,s;t=e,i=n,s=r[n],i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s})}return e}({xmlns:"http://www.w3.org/2000/svg",width:48,height:48,fill:"none"},e),r=(r={children:[(0,l.jsx)("path",{stroke:"currentColor",strokeWidth:4,d:"M24 5v6m7 1 4-4m-18 4-4-4m27 33H8a2 2 0 0 1-2-2v-8.46a2 2 0 0 1 .272-1.007l6.15-10.54A2 2 0 0 1 14.148 18H33.85a2 2 0 0 1 1.728.992l6.149 10.541A2 2 0 0 1 42 30.541V39a2 2 0 0 1-2 2Z"}),(0,l.jsx)("path",{stroke:"currentColor",strokeWidth:4,d:"M41.5 30H28s-1 3-4 3-4-3-4-3H6.5"})]},r),Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):(function(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r.push.apply(r,t)}return r})(Object(r)).forEach(function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(r,e))}),n))};function rB({query:e}){return(0,l.jsxs)("div",{className:"flex flex-col items-center pt-8 pb-2",children:[(0,l.jsx)(rD,{className:"mb-4 opacity-80"}),(0,l.jsxs)("p",{className:"mb-2",children:["No results for ",(0,l.jsxs)("b",{children:['"',e,'"']}),"."]}),(0,l.jsx)("p",{children:"Please try again with a different keyword."})]})}function rz(e,n,r,t,i,s,l){try{var o=e[s](l),a=o.value}catch(e){r(e);return}o.done?n(a):Promise.resolve(a).then(t,i)}function rL(e){return function(){var n=this,r=arguments;return new Promise(function(t,i){var s=e.apply(n,r);function l(e){rz(s,t,i,l,o,"next",e)}function o(e){rz(s,t,i,l,o,"throw",e)}l(void 0)})}}var rG={ARROW_UP:"ArrowUp",ARROW_DOWN:"ArrowDown",ENTER:"Enter",SEARCH:"KeyK",ESC:"Escape"},rW={zh:"其它站点推荐结果",en:"Other Site Search Results"};function rU(){var e;let[n,r]=(0,a.useState)(""),[t,i]=(0,a.useState)({current:[],others:[]}),[s,d]=(0,a.useState)(!1),c=(0,a.useRef)(null),[h,u]=(0,a.useState)(!0),[p,x]=(0,a.useState)(0),m=(0,a.useRef)(null),{siteData:f,page:{lang:j}}=(0,o.usePageData)(),{sidebar:g}=L(),{search:b}=f,v=[...t.current,...t.others.map(e=>e.items)].flat(),y=e=>G(g,e).group;function w(){return S.apply(this,arguments)}function S(){return(S=rL(function*(){var e,n,r,t;if(!1===b)return;let s=new rE((r=function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},t=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),t.forEach(function(n){var t,i,s;t=e,i=n,s=r[n],i in t?Object.defineProperty(t,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[i]=s})}return e}({},b),t=(t={currentLang:j,extractGroupName:y},t),Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):(function(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r.push.apply(r,t)}return r})(Object(t)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))}),r));m.current=s,yield m.current.init(),u(!1);let l=null===(e=c.current)||void 0===e?void 0:e.value;if(l){let e=yield null===(n=m.current)||void 0===n?void 0:n.match(l);i(e||{current:[],others:[]})}})).apply(this,arguments)}(0,a.useEffect)(()=>{let e=e=>{switch(e.code){case rG.SEARCH:(e.ctrlKey||e.metaKey)&&(e.preventDefault(),d(!s));break;case rG.ARROW_DOWN:e.preventDefault(),x((p+1)%v.length);break;case rG.ARROW_UP:e.preventDefault(),x((p-1+v.length)%v.length);break;case rG.ENTER:if(p>=0){let e=v[p],n=p<t.current.length;n?(window.location.href=(0,o.isProduction)()?e.link:n$(e.link),d(!1)):window.open(e.link)}break;case rG.ESC:d(!1)}};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[x,d,v,p]),(0,a.useEffect)(()=>{s&&(i({current:[],others:[]}),!m.current&&w())},[s]),(0,a.useEffect)(()=>{h||w()},[j]);let k=(e=rL(function*(e){let n=e.target.value;if(r(n),n){var t;let e=yield null===(t=m.current)||void 0===t?void 0:t.match(n);i(e||{current:[],others:[]})}}),function(n){return e.apply(this,arguments)}),_=e=>(0,I.default)(e,"group"),P=-1,E=(e,n=!0)=>{if(0===e.length&&!h)return(0,l.jsx)("div",{className:"mt-4 flex-center",children:(0,l.jsx)("div",{className:"p-2 font-bold text-md",style:{color:"#2c3e50"},children:"No results found"})});let r=_(e);return(0,l.jsx)("ul",{className:nW.suggestList,children:Object.keys(r).map(e=>{let i=r[e]||[];return(0,l.jsxs)("li",{children:[n&&(0,l.jsx)("h2",{className:nW.groupTitle,children:e}),(0,l.jsx)("ul",{className:"pb-2",children:i.map(e=>{P++;let n=P;return(0,l.jsx)(rA,{suggestion:e,isCurrent:n===p,setCurrentSuggestionIndex:()=>{x(n)},closeSearch:()=>d(!1),inCurrentDocIndex:n<t.current.length},`${e.title}-${n}`)})})]},e)})})};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{className:nW.navSearchButton,onClick:()=>d(!0),children:(0,l.jsxs)("button",{children:[(0,l.jsx)(nU,{width:"18",hight:"18"}),(0,l.jsx)("p",{className:nW.searchWord,children:"Search Docs"}),(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{children:"⌘"}),(0,l.jsx)("span",{children:"K"})]})]})}),(0,l.jsx)("div",{className:nW.mobileNavSearchButton,onClick:()=>d(!0),children:(0,l.jsx)(nU,{})}),s&&(0,A.createPortal)((0,l.jsx)("div",{className:nW.mask,onClick:()=>d(!1),children:(0,l.jsxs)("div",{className:`${nW.modal}`,onClick:e=>{d(!0),e.stopPropagation()},children:[(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsxs)("div",{className:nW.inputForm,children:[(0,l.jsx)("label",{children:(0,l.jsx)(nU,{})}),(0,l.jsx)("input",{className:nW.input,ref:c,placeholder:"Search Docs","aria-label":"Search",autoComplete:"off",autoFocus:!0,onChange:(0,O.default)(k,150)}),(0,l.jsx)("label",{children:(0,l.jsx)(nq,{className:nW.close,onClick:()=>{c.current&&(c.current.value="",r(""))}})})]}),(0,l.jsx)("h2",{className:"text-brand ml-2 sm:hidden cursor-pointer",onClick:e=>{e.stopPropagation(),d(!1)},children:"Cancel"})]}),n?(0,l.jsx)("div",{className:`${nW.searchHits}  modern-scrollbar`,children:((e,r)=>{if(!v.length&&!h)return(0,l.jsx)(rB,{query:n});let i=t.others.map(e=>e.items).flat().length>0,s=e.others.map(e=>{if(!r||"remote"!==r.mode)return e;let n=nJ(r.searchIndexes||[]).find(n=>n.value===e.index);return n.label});return(0,l.jsxs)("div",{children:[E(e.current),i&&(0,l.jsx)("h2",{className:nW.groupTitle,children:rW[j]}),(0,l.jsx)("div",{style:{marginTop:"-12px"},children:(0,l.jsx)(nL,{values:s,tabContainerClassName:nW.tabClassName,children:e.others.map(e=>(0,l.jsx)(nG,{children:E(e.items,!1)},e.index))})})]})})(t,b)}):null,h&&(0,l.jsx)("div",{className:"flex-center",children:(0,l.jsx)("div",{className:"p-2 text-sm",children:(0,l.jsx)(nH,{})})})]})}),document.getElementById("search-container"))]})}function rH(){let{siteData:e}=(0,o.usePageData)(),{message:n}=e.themeConfig.footer||{};return(0,l.jsx)("footer",{className:"absolute bottom-0 mt-12 py-8 px-6 sm:p-8 w-full border-t border-solid border-divider-light",children:(0,l.jsx)("div",{className:"m-auto w-full text-center",children:n&&(0,l.jsx)("div",{className:"font-meduim text-sm text-text-2",children:n})})})}var rq={Layout:e=>{var n;let{top:r,bottom:t,beforeDocFooter:i,beforeDoc:s,afterDoc:u,beforeOutline:p,afterOutline:x,beforeNavTitle:m,afterNavTitle:f,beforeNav:j}=e,g={beforeDocFooter:i,beforeDoc:s,afterDoc:u,beforeOutline:p,afterOutline:x},{siteData:b,page:v}=(0,o.usePageData)(),{pageType:y,lang:w,title:S,frontmatter:k}=v,_=L(),P=b.lang||"",E=null!==(n=null==k?void 0:k.title)&&void 0!==n?n:S,F=b.title||_.title;E=E&&"doc"===y?`${E} - ${F}`:F;let N=(null==k?void 0:k.description)||b.description||_.description;return(0,a.useEffect)(()=>{if(!P)return;let{pathname:e}=window.location,n=(0,o.removeBase)(e),r="modern-doc-visited",t=localStorage.getItem(r);if(t)return;localStorage.setItem(r,"1");let i=window.navigator.language.split("-")[0];i!==w&&(i===P?window.location.replace(e.replace(`/${w}`,"")):w===P?window.location.replace((0,o.withBase)(`/${i}${n}`)):window.location.replace(e.replace(`/${w}`,`/${i}`)))},[]),(0,l.jsxs)("div",{children:[(0,l.jsxs)(d.Helmet,{children:[E?(0,l.jsx)("title",{children:E}):null,N?(0,l.jsx)("meta",{name:"description",content:N}):null]}),r,"blank"!==y&&(0,l.jsx)(c.Nav,{beforeNavTitle:m,afterNavTitle:f,beforeNav:j}),(0,l.jsx)("section",{children:(()=>{switch(y){case"home":return(0,l.jsx)(c.default.HomeLayout,{});case"doc":default:return(0,l.jsx)(eZ,e0({},g));case"404":return(0,l.jsx)(c.default.NotFoundLayout,{});case"custom":case"blank":return(0,l.jsx)(o.Content,{})}})()}),t,h.default.map((e,n)=>(0,l.jsx)(e,{},n))]})},NotFoundLayout:function(){let{siteData:e}=(0,o.usePageData)(),n=e.lang;if(!(n&&"undefined"!=typeof window&&location.pathname.includes(`/${n}/`)))return(0,l.jsxs)("div",{className:"m-auto mt-50 p-16 sm:p-8 sm:pt-24 sm:pb-40 text-center flex-center flex-col",children:[(0,l.jsx)("p",{className:"text-6xl font-semibold",children:"404"}),(0,l.jsx)("h1",{className:"leading-5 pt-3 text-xl font-bold",children:"PAGE NOT FOUND"}),(0,l.jsx)("div",{style:{height:"1px"},className:"mt-6 mx-auto mb-4.5 w-16 bg-gray-light-1"}),(0,l.jsx)("div",{className:"pt-5",children:(0,l.jsx)("a",{className:"py-2 px-4 rounded-2xl inline-block border-solid border-brand text-brand font-medium hover:border-brand-dark hover:text-brand-dark transition-colors duration-300",href:e.base,"aria-label":"go to home",children:"Take me home"})})]});{let e=location.pathname.replace(`/${n}/`,"/");return window.location.replace(e),(0,l.jsx)(l.Fragment,{})}},HomeLayout:function(e){let{beforeHero:n,afterHero:r,beforeFeatures:t,afterFeatures:i}=e,{page:{frontmatter:s}}=(0,o.usePageData)();return(0,l.jsxs)("div",{className:"relative",style:{minHeight:"calc(100vh - var(--modern-nav-height))",paddingBottom:"80px"},children:[(0,l.jsxs)("div",{className:"mt-14 pb-12",children:[n,(0,l.jsx)(e8,{frontmatter:s}),r,t,(0,l.jsx)(e7,{frontmatter:s}),i]}),(0,l.jsx)(c.HomeFooter,{})]})},setup:function(){H()&&(window.addEventListener("click",e=>{let n=e.target.closest("a");if(n){let{origin:r,hash:t,target:i,pathname:s,search:l}=n,o=window.location;t&&"_blank"!==i&&r===o.origin&&s===o.pathname&&l===o.search&&t&&n.classList.contains("header-anchor")&&(e.preventDefault(),history.pushState(null,"",t),!function(e,n,r=!1){let t=null;try{t=e.classList.contains("header-anchor")?e:document.getElementById(decodeURIComponent(n.slice(1)))}catch(e){console.warn(e)}t&&V(t,r)}(n,t,!0),window.dispatchEvent(new Event("hashchange")))}},{capture:!0}),window.addEventListener("hashchange",e=>{e.preventDefault()}))}}},70090:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",code:"code",h3:"h3",pre:"pre",ul:"ul",li:"li",strong:"strong",blockquote:"blockquote"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"builder-core",children:["Builder Core",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builder-core",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"This section describes some of the core methods provided by Builder."}),"\n",(0,i.jsxs)(n.h2,{id:"createbuilder",children:["createBuilder",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#createbuilder",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Create a Builder instance object."}),"\n",(0,i.jsxs)(n.p,{children:["When using this method, it needs to be used with the ",(0,i.jsx)(n.code,{children:"@modern-js/builder-webpack-provider"})," or ",(0,i.jsx)(n.code,{children:"@modern-js/builder-rspack-provider"}),". Providers implements corresponding build feature based on specific bundlers."]}),"\n",(0,i.jsxs)(n.h3,{id:"builderwebpackprovider",children:["builderWebpackProvider",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderwebpackprovider",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When ",(0,i.jsx)(n.code,{children:"builderWebpackProvider"})," is passed, the Builder will use webpack as the bundler for building."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { createBuilder } from '@modern-js/builder';\nimport { builderWebpackProvider } from '@modern-js/builder-webpack-provider';\n\nconst provider = builderWebpackProvider({\n  builderConfig: {\n    // some configs\n  },\n});\n\nconst builder = await createBuilder(provider, {\n  // some options\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"builderrspackprovider",children:["builderRspackProvider",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderrspackprovider",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When ",(0,i.jsx)(n.code,{children:"builderRspackProvider"})," is passed, the Builder will use Rspack as the bundler for building."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { createBuilder } from '@modern-js/builder';\nimport { builderRspackProvider } from '@modern-js/builder-rspack-provider';\n\nconst provider = builderRspackProvider({\n  builderConfig: {\n    // some configs\n  },\n});\n\nconst builder = await createBuilder(provider, {\n  // some options\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"options",children:["options",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#options",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["The second parameter of ",(0,i.jsx)(n.code,{children:"createBuilder"})," is a options object, you can pass in the following options:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type BuilderEntry = Record<string, string | string[]>;\n\ntype BuilderTarget = 'web' | 'node' | 'modern-web' | 'web-worker';\n\ntype CreateBuilderOptions = {\n  cwd?: string;\n  entry?: BuilderEntry;\n  target?: BuilderTarget | BuilderTarget[];\n  framework?: string;\n  configPath?: string | null;\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"Description:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"cwd"}),": The root path of the current build, the default value is ",(0,i.jsx)(n.code,{children:"process.cwd()"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"entry"}),": Build entry object."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"target"}),": Build target type, the default value is ",(0,i.jsx)(n.code,{children:"['web']"}),", see chapter ",(0,i.jsx)(n.a,{href:"/guide/basic/build-target",children:"Build Target"})," for details."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"framework"}),": The name of the framework, a unique identifier, the default value is ",(0,i.jsx)(n.code,{children:"'modern.js'"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"configPath"}),": The path to the framework config file (absolute path), this parameter affects the build cache update."]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"mergebuilderconfig",children:["mergeBuilderConfig",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#mergebuilderconfig",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Merges multiple Builder config objects and returns a new merged object."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"function mergeBuilderConfig(...configs: BuilderConfig[]): BuilderConfig;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { mergeBuilderConfig } from '@modern-js/builder';\n\nconst config1 = {\n  dev: {\n    https: false,\n  },\n};\nconst config2 = {\n  dev: {\n    https: true,\n  },\n};\n\nconst mergedConfig = mergeBuilderConfig(config1, config2);\n\nconsole.log(mergedConfig); // { dev: { https: true } }\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"This method does not modify the original config object."}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"webpack",children:["webpack",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#webpack",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"A webpack object for consuming webpack builtin plugins or type definitions."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import webpack from '@modern-js/builder-webpack-provider/webpack';\n\nnew webpack.DefinePlugin();\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:'In most scenarios, it is recommended to import webpack from Builder instead of manually installing a "webpack" dependency, which can avoid multi-instance problems.'}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"htmlwebpackplugin",children:["HtmlWebpackPlugin",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmlwebpackplugin",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"HtmlWebpackPlugin object, usually used to implement custom plugins of HtmlWebpackPlugin."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import HtmlWebpackPlugin from '@modern-js/builder-webpack-provider/html-webpack-plugin';\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:'In most scenarios, it is recommended to import HtmlWebpackPlugin from builder instead of manually installing a "html-webpack-plugin" dependency, which can avoid multi-instance problems.'}),"\n"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fapi%2Fbuilder-core.mdx"]={toc:[{text:"createBuilder",id:"createbuilder",depth:2},{text:"builderWebpackProvider",id:"builderwebpackprovider",depth:3},{text:"builderRspackProvider",id:"builderrspackprovider",depth:3},{text:"options",id:"options",depth:3},{text:"mergeBuilderConfig",id:"mergebuilderconfig",depth:2},{text:"webpack",id:"webpack",depth:2},{text:"HtmlWebpackPlugin",id:"htmlwebpackplugin",depth:2}],title:"Builder Core",frontmatter:{extractApiHeaders:[2]}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},18642:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return b}});var t,i=r("9880"),s=r("23169"),l=r.ir(r("85195")),o=r.ir(r("77730")),a=r.ir(r("5748")),d=r.ir(r("7208")),c=r.ir(r("70776")),h=r.ir(r("39772")),u=r.ir(r("94563")),p=r.ir(r("30125")),x=r.ir(r("8250")),m=r.ir(r("29336")),f=r.ir(r("66503")),j=r.ir(r("66731"));function g(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",code:"code",h3:"h3",ul:"ul",li:"li",strong:"strong",pre:"pre",blockquote:"blockquote",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"builder-instance",children:["Builder Instance",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builder-instance",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"This section describes all the properties and methods on the Builder instance object."}),"\n",(0,i.jsxs)(n.h2,{id:"buildercontext",children:["builder.context",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#buildercontext",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"builder.context"})," is a read-only object that provides some context infos."]}),"\n",(0,i.jsxs)(n.h3,{id:"buildercontextentry",children:["builder.context.entry",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#buildercontextentry",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["The entry object, corresponding to the ",(0,i.jsx)(n.code,{children:"entry"})," option of ",(0,i.jsx)(n.code,{children:"createBuilder"})," method."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type BuilderEntry = Record<string, string | string[]>;\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"buildercontexttarget",children:["builder.context.target",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#buildercontexttarget",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Build target type, corresponding to the ",(0,i.jsx)(n.code,{children:"target"})," option of ",(0,i.jsx)(n.code,{children:"createBuilder"})," method."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type BuilderTarget = 'web' | 'node' | 'modern-web' | 'web-worker';\n\ntype Context = {\n  target: BuilderTarget | BuilderTarget[];\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"buildercontextrootpath",children:["builder.context.rootPath",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#buildercontextrootpath",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["The root path of current build, corresponding to the ",(0,i.jsx)(n.code,{children:"cwd"})," option of ",(0,i.jsx)(n.code,{children:"createBuilder"})," method."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type RootPath = string;\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"buildercontextsrcpath",children:["builder.context.srcPath",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#buildercontextsrcpath",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The absolute path to the src directory."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type SrcPath = string;\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"buildercontextdistpath",children:["builder.context.distPath",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#buildercontextdistpath",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["The absolute path of the output directory, corresponding to the ",(0,i.jsx)(n.code,{children:"output.distPath.root"})," config in ",(0,i.jsx)(n.code,{children:"BuilderConfig"}),"."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type DistPath = string;\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"buildercontextcachepath",children:["builder.context.cachePath",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#buildercontextcachepath",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The absolute path of the build cache files."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type CachePath = string;\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"buildercontextconfigpath",children:["builder.context.configPath",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#buildercontextconfigpath",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["The absolute path to the framework config file, corresponding to the ",(0,i.jsx)(n.code,{children:"configPath"})," option of ",(0,i.jsx)(n.code,{children:"createBuilder"})," method."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type ConfigPath = string | undefined;\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"buildercontexttsconfigpath",children:["builder.context.tsconfigPath",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#buildercontexttsconfigpath",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["The absolute path of the tsconfig.json file, or ",(0,i.jsx)(n.code,{children:"undefined"})," if the tsconfig.json file does not exist in current project."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type TsconfigPath = string | undefined;\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"buildercontextframework",children:["builder.context.framework",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#buildercontextframework",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["The name of the framework, a unique identifier, the default value is ",(0,i.jsx)(n.code,{children:"'modern.js'"}),"."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type Framework = string | undefined;\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"buildercontextdevserver",children:["builder.context.devServer",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#buildercontextdevserver",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Dev Server information, including the current Dev Server hostname and port number."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type DevServer = {\n  hostname: string;\n  port: number;\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"buildercontextbundlertype",children:["builder.context.bundlerType",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#buildercontextbundlertype",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The bundler type of current build."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type bundlerType = 'webpack' | 'rspack';\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"builderbuild",children:["builder.build",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderbuild",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Perform a production build."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type BuildOptions = {\n  mode?: 'development' | 'production';\n  watch?: boolean;\n  // custom Compiler object\n  compiler?: Compiler | MultiCompiler;\n};\n\nfunction Build(options?: BuildOptions): Promise<void>;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"await builder.build();\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"development-environment-build",children:["Development environment build",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#development-environment-build",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["If you need to perform a development build, you can set the ",(0,i.jsx)(n.code,{children:"mode"})," option to ",(0,i.jsx)(n.code,{children:"'development'"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"await builder.build({\n  mode: 'development',\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"monitor-file-changes",children:["Monitor file changes",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#monitor-file-changes",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["If you need to watch file changes and re-build, you can set the ",(0,i.jsx)(n.code,{children:"watch"})," option to ",(0,i.jsx)(n.code,{children:"true"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"await builder.build({\n  watch: true,\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"custom-compiler",children:["Custom Compiler",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#custom-compiler",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"In some cases, you may want to use a custom compiler:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const compiler = webpack({\n  // ...\n});\nawait builder.build({\n  compiler,\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"builderstartdevserver",children:["builder.startDevServer",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderstartdevserver",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Start the local Dev Server, based on the Modern.js Dev Server."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type StartDevServerOptions = {\n  // Whether to output URL infos, the default is true\n  printURLs?: boolean | Function;\n  // Whether to throw an exception when the port is occupied, the default is false\n  strictPort?: boolean;\n  // custom Compiler object\n  compiler?: Compiler | MultiCompiler;\n  // passing through the build-independent dev server configuration\n  serverOptions?: Partial<ModernDevServerOptions>;\n};\n\ntype StartServerResult = {\n  urls: string[];\n  port: number;\n  server: Server;\n};\n\nfunction StartDevServer(\n  options?: StartDevServerOptions,\n): Promise<StartServerResult>;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Start Dev Server:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"await builder.startDevServer();\n"})}),"\n",(0,i.jsx)(n.p,{children:"After successfully starting Dev Server, you can see the following logs:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"info    Starting dev server...\ninfo    Dev server running at:\n\n  > Local:    http://localhost:8080\n  > Network:  http://192.168.0.1:8080\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"startDevServer"})," returns the following parameters:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"urls"}),": URLs to access dev server."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"port"}),": The actual listening port number."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"server"}),": Server instance object."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const { urls, port, server } = await builder.startDevServer();\nconsole.log(urls); // ['http://localhost:8080', 'http://192.168.0.1:8080']\nconsole.log(port); // 8080\n\n// Close the dev server\nawait server.close();\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"disable-print-urls",children:["Disable Print URLs",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#disable-print-urls",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Setting ",(0,i.jsx)(n.code,{children:"printURLs"})," to ",(0,i.jsx)(n.code,{children:"false"})," to disable the default URL output, so you can custom the logs."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"await builder.startDevServer({\n  printURLs: false,\n});\n"})}),"\n",(0,i.jsxs)(n.p,{children:["You can also directly configure ",(0,i.jsx)(n.code,{children:"printURLs"})," as a function to modify URLs, such as adding a subpath to each URL:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"await builder.startDevServer({\n  printURLs: urls => {\n    return urls.map(({ label, url }) => ({\n      label,\n      url: `${url}/path`,\n    }));\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"strict-port",children:["Strict Port",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#strict-port",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"When a port is occupied, Builder will automatically increment the port number until an available port is found."}),"\n",(0,i.jsxs)(n.p,{children:["Set ",(0,i.jsx)(n.code,{children:"strictPort"})," to ",(0,i.jsx)(n.code,{children:"true"})," and Builder will throw an exception when the port is occupied."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"await builder.startDevServer({\n  strictPort: true,\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"custom-compiler-1",children:["Custom Compiler",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#custom-compiler-1",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"In some cases, you may want to use a custom compiler:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const compiler = webpack({\n  // ...\n});\nawait builder.startDevServer({\n  compiler,\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"builderserve",children:["builder.serve",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderserve",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Start a server to preview the production build locally. This method should be executed after ",(0,i.jsx)(n.code,{children:"builder.build"}),"."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type StartServerResult = {\n  urls: string[];\n  port: number;\n  server: Server;\n};\n\nfunction server(): Promise<StartServerResult>;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Start the server："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"await builder.serve();\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"serve"})," returns the following parameters:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"urls"}),": URLs to access server."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"port"}),": The actual listening port number."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"server"}),": Server instance object."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const { urls, port, server } = await builder.serve();\nconsole.log(urls); // ['http://localhost:8080', 'http://192.168.0.1:8080']\nconsole.log(port); // 8080\n\n// Close the server\nawait server.close();\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"buildercreatecompiler",children:["builder.createCompiler",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#buildercreatecompiler",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Create a Compiler object."}),"\n",(0,i.jsxs)(n.p,{children:["When the ",(0,i.jsx)(n.code,{children:"target"})," option of ",(0,i.jsx)(n.code,{children:"createBuilder"})," contains only one value, the return value is ",(0,i.jsx)(n.code,{children:"Compiler"}),"; when ",(0,i.jsx)(n.code,{children:"target"})," contains multiple values, the return value is ",(0,i.jsx)(n.code,{children:"MultiCompiler"}),"."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"function CreateCompiler(): Promise<Compiler | MultiCompiler>;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const compiler = await builder.createCompiler();\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"In most scenarios, you do not need to use this API unless you need to custom the Dev Server or other advanced scenarios."}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"builderaddplugins",children:["builder.addPlugins",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderaddplugins",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Register one or more Builder plugins, which can be called multiple times."}),"\n",(0,i.jsx)(n.p,{children:"This method needs to be called before compiling. If it is called after compiling, it will not affect the compilation result."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type AddPluginsOptions = { before?: string } | { after?: string };\n\nfunction AddPlugins(\n  plugins: BuilderPlugins[],\n  options?: AddPluginsOptions,\n): Promise<void>;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builder.addPlugins([builderPluginFoo(), builderPluginBar()]);\n\n// Insert before the bar plugin\nbuilder.addPlugins([builderPluginFoo()], { before: 'bar' });\n\n// Insert after the bar plugin\nbuilder.addPlugins([builderPluginFoo()], { after: 'bar' });\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"builderremoveplugins",children:["builder.removePlugins",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderremoveplugins",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Removes one or more Builder plugins, which can be called multiple times."}),"\n",(0,i.jsx)(n.p,{children:"This method needs to be called before compiling. If it is called after compiling, it will not affect the compilation result."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"function RemovePlugins(pluginNames: string[]): void;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// add plugin\nconst pluginFoo = builderPluginFoo();\nbuilder.addPlugins(pluginFoo);\n\n// remove plugin\nbuilder.removePlugins([pluginFoo.name]);\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"builderispluginexists",children:["builder.isPluginExists",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderispluginexists",children:"#"})]}),"\n","\n",(0,i.jsx)(l.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builder.addPlugins([builderPluginFoo()]);\n\nbuilder.isPluginExists(builderPluginFoo().name); // true\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"builderinspectconfig",children:["builder.inspectConfig",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderinspectconfig",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Inspect the final generated builder config and bundler config."}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsxs)(n.div,{className:"modern-directive-content",children:[(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"inspectConfig"})," method does not support simultaneous use with the ",(0,i.jsx)(n.code,{children:"startDevServer"})," / ",(0,i.jsx)(n.code,{children:"build"})," method."]}),"\n",(0,i.jsxs)(n.p,{children:["When you need to view the complete builder and bundler config during the build process, you can use ",(0,i.jsx)(n.a,{href:"/guide/debug/debug-mode",children:"debug mode"}),".\n"]})]})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'type InspectConfigOptions = {\n  // View the config in the specified environment, the default is "development", can be set to "production"\n  env?: BuilderMode;\n  // Whether to enable verbose mode, display the complete content of the function in the config, the default is `false`\n  verbose?: boolean;\n  // Specify the output path, defaults to the value configured by `output.distPath.root`\n  outputPath?: string;\n  // Whether to write the result to disk, the default is `false`\n  writeToDisk?: boolean;\n};\n\nasync function InspectConfig(options?: InspectConfigOptions): Promise<{\n  builderConfig: string;\n  bundlerConfigs: string[];\n  origin: {\n    builderConfig: BuilderConfig;\n    bundlerConfigs: BundlerConfigs[];\n  };\n}>;\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Get the config content in string format:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const { builderConfig, bundlerConfigs } = await builder.inspectConfig();\n\nconsole.log(builderConfig, bundlerConfigs);\n"})}),"\n",(0,i.jsx)(n.p,{children:"Write the config content to disk:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"await builder.inspectConfig({\n  writeToDisk: true,\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"builderonbeforecreatecompiler",children:["builder.onBeforeCreateCompiler",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderonbeforecreatecompiler",children:"#"})]}),"\n","\n",(0,i.jsx)(o.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builder.onBeforeCreateCompiler(({ bundlerConfigs }) => {\n  console.log('the bundler config is ', bundlerConfigs);\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"builderonaftercreatecompiler",children:["builder.onAfterCreateCompiler",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderonaftercreatecompiler",children:"#"})]}),"\n","\n",(0,i.jsx)(a.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builder.onAfterCreateCompiler(({ compiler }) => {\n  console.log('the compiler is ', compiler);\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"builderonbeforebuild",children:["builder.onBeforeBuild",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderonbeforebuild",children:"#"})]}),"\n","\n",(0,i.jsx)(d.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builder.onBeforeBuild(({ bundlerConfigs }) => {\n  console.log('the bundler config is ', bundlerConfigs);\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"builderonafterbuild",children:["builder.onAfterBuild",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderonafterbuild",children:"#"})]}),"\n","\n",(0,i.jsx)(c.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builder.onAfterBuild(({ stats }) => {\n  console.log(stats?.toJson());\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"builderonbeforestartdevserver",children:["builder.onBeforeStartDevServer",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderonbeforestartdevserver",children:"#"})]}),"\n","\n",(0,i.jsx)(h.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builder.onBeforeStartDevServer(() => {\n  console.log('before start!');\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"builderonafterstartdevserver",children:["builder.onAfterStartDevServer",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderonafterstartdevserver",children:"#"})]}),"\n","\n",(0,i.jsx)(u.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builder.onAfterStartDevServer(({ port }) => {\n  console.log('this port is: ', port);\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"builderondevcompiledone",children:["builder.onDevCompileDone",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderondevcompiledone",children:"#"})]}),"\n","\n",(0,i.jsx)(p.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builder.onDevCompileDone(({ isFirstCompile }) => {\n  if (isFirstCompile) {\n    console.log('first compile!');\n  } else {\n    console.log('re-compile!');\n  }\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"builderonexit",children:["builder.onExit",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderonexit",children:"#"})]}),"\n","\n",(0,i.jsx)(x.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builder.onExit(() => {\n  console.log('exit!');\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"buildergetbuilderconfig",children:["builder.getBuilderConfig",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#buildergetbuilderconfig",children:"#"})]}),"\n","\n",(0,i.jsx)(m.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builder.onBeforeBuild(() => {\n  const config = builder.getBuilderConfig();\n  console.log(config.html?.title);\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"buildergetnormalizedconfig",children:["builder.getNormalizedConfig",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#buildergetnormalizedconfig",children:"#"})]}),"\n","\n",(0,i.jsx)(f.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builder.onBeforeBuild(() => {\n  const config = api.getNormalizedConfig();\n  console.log(config.html.title);\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"buildergethtmlpaths",children:["builder.getHTMLPaths",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#buildergethtmlpaths",children:"#"})]}),"\n","\n",(0,i.jsx)(j.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builder.onBeforeBuild(() => {\n  const htmlPaths = api.getHTMLPaths();\n  console.log(htmlPaths); // { main: 'html/main/index.html' };\n});\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fapi%2Fbuilder-instance.mdx"]={toc:[{text:"builder.context",id:"buildercontext",depth:2},{text:"builder.context.entry",id:"buildercontextentry",depth:3},{text:"builder.context.target",id:"buildercontexttarget",depth:3},{text:"builder.context.rootPath",id:"buildercontextrootpath",depth:3},{text:"builder.context.srcPath",id:"buildercontextsrcpath",depth:3},{text:"builder.context.distPath",id:"buildercontextdistpath",depth:3},{text:"builder.context.cachePath",id:"buildercontextcachepath",depth:3},{text:"builder.context.configPath",id:"buildercontextconfigpath",depth:3},{text:"builder.context.tsconfigPath",id:"buildercontexttsconfigpath",depth:3},{text:"builder.context.framework",id:"buildercontextframework",depth:3},{text:"builder.context.devServer",id:"buildercontextdevserver",depth:3},{text:"builder.context.bundlerType",id:"buildercontextbundlertype",depth:3},{text:"builder.build",id:"builderbuild",depth:2},{text:"Development environment build",id:"development-environment-build",depth:3},{text:"Monitor file changes",id:"monitor-file-changes",depth:3},{text:"Custom Compiler",id:"custom-compiler",depth:3},{text:"builder.startDevServer",id:"builderstartdevserver",depth:2},{text:"Disable Print URLs",id:"disable-print-urls",depth:3},{text:"Strict Port",id:"strict-port",depth:3},{text:"Custom Compiler",id:"custom-compiler-1",depth:3},{text:"builder.serve",id:"builderserve",depth:2},{text:"builder.createCompiler",id:"buildercreatecompiler",depth:2},{text:"builder.addPlugins",id:"builderaddplugins",depth:2},{text:"builder.removePlugins",id:"builderremoveplugins",depth:2},{text:"builder.isPluginExists",id:"builderispluginexists",depth:2},{text:"builder.inspectConfig",id:"builderinspectconfig",depth:2},{text:"builder.onBeforeCreateCompiler",id:"builderonbeforecreatecompiler",depth:2},{text:"builder.onAfterCreateCompiler",id:"builderonaftercreatecompiler",depth:2},{text:"builder.onBeforeBuild",id:"builderonbeforebuild",depth:2},{text:"builder.onAfterBuild",id:"builderonafterbuild",depth:2},{text:"builder.onBeforeStartDevServer",id:"builderonbeforestartdevserver",depth:2},{text:"builder.onAfterStartDevServer",id:"builderonafterstartdevserver",depth:2},{text:"builder.onDevCompileDone",id:"builderondevcompiledone",depth:2},{text:"builder.onExit",id:"builderonexit",depth:2},{text:"builder.getBuilderConfig",id:"buildergetbuilderconfig",depth:2},{text:"builder.getNormalizedConfig",id:"buildergetnormalizedconfig",depth:2},{text:"builder.getHTMLPaths",id:"buildergethtmlpaths",depth:2}],title:"Builder Instance",frontmatter:{extractApiHeaders:[2]}};var b=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(g,{...e})}):g(e)}},65475:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",pre:"pre",code:"code"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"builder-types",children:["Builder Types",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builder-types",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"This section describes some of the type definitions provided by the Builder."}),"\n",(0,i.jsxs)(n.h2,{id:"builderinstance",children:["BuilderInstance",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderinstance",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The type of the Builder instance."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import type { BuilderInstance } from '@modern-js/builder';\n\nlet builder: BuilderInstance;\n"})}),"\n",(0,i.jsx)(n.p,{children:"You can pass in the Provider type through generics to make the type definition of the Builder instance more accurate:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import type { createBuilder, type BuilderInstance } from '@modern-js/builder';\nimport type { BuilderWebpackProvider } from '@modern-js/builder-webpack-provider';\n\nlet builder: BuilderInstance<BuilderWebpackProvider>;\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"buildercontext",children:["BuilderContext",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#buildercontext",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The type of the context property in the Builder instance."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import type { BuilderContext } from '@modern-js/builder';\n\nconst context: BuilderContext = builder.context;\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"builderplugin",children:["BuilderPlugin",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderplugin",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["The type of Builder plugin, should be used with the ",(0,i.jsx)(n.code,{children:"BuilderPluginAPI"})," type exported from the provider."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import type { BuilderPlugin } from '@modern-js/builder';\nimport type { BuilderPluginAPI } from '@modern-js/builder-webpack-provider';\n\nconst myPlugin: BuilderPlugin<BuilderPluginAPI> = {\n  name: 'my-plugin',\n  setup() {},\n};\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"buildertarget",children:["BuilderTarget",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#buildertarget",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The type of build target."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import type { BuilderTarget } from '@modern-js/builder';\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"builderentry",children:["BuilderEntry",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderentry",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["The type of the ",(0,i.jsx)(n.code,{children:"entry"})," option to the ",(0,i.jsx)(n.code,{children:"createBuilder"})," method."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import type { BuilderEntry } from '@modern-js/builder';\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"createbuilderoptions",children:["CreateBuilderOptions",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#createbuilderoptions",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["The param type of ",(0,i.jsx)(n.code,{children:"createBuilder"})," method."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import type { CreateBuilderOptions } from '@modern-js/builder';\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fapi%2Fbuilder-types.mdx"]={toc:[{text:"BuilderInstance",id:"builderinstance",depth:2},{text:"BuilderContext",id:"buildercontext",depth:2},{text:"BuilderPlugin",id:"builderplugin",depth:2},{text:"BuilderTarget",id:"buildertarget",depth:2},{text:"BuilderEntry",id:"builderentry",depth:2},{text:"CreateBuilderOptions",id:"createbuilderoptions",depth:2}],title:"Builder Types",frontmatter:{extractApiHeaders:[2]}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},85893:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return m}});var t,i=r("9880"),s=r("23169"),l=r.ir(r("8756")),o=r.ir(r("97064")),a=r.ir(r("28145")),d=r.ir(r("65617")),c=r.ir(r("99579")),h=r.ir(r("97210")),u=r.ir(r("32767")),p=r.ir(r("49563"));function x(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"dev-config",children:["Dev Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#dev-config",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"This section describes some dev configurations in Modern.js Builder."}),"\n",(0,i.jsxs)(n.h2,{id:"devassetprefix",children:["dev.assetPrefix",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#devassetprefix",children:"#"})]}),"\n","\n",(0,i.jsx)(l.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"devbeforestarturl",children:["dev.beforeStartUrl",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#devbeforestarturl",children:"#"})]}),"\n","\n",(0,i.jsx)(o.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"devhmr",children:["dev.hmr",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#devhmr",children:"#"})]}),"\n","\n",(0,i.jsx)(a.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"devhost",children:["dev.host",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#devhost",children:"#"})]}),"\n","\n",(0,i.jsx)(d.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"devhttps",children:["dev.https",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#devhttps",children:"#"})]}),"\n","\n",(0,i.jsx)(c.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"devport",children:["dev.port",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#devport",children:"#"})]}),"\n","\n",(0,i.jsx)(h.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"devprogressbar",children:["dev.progressBar",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#devprogressbar",children:"#"})]}),"\n","\n",(0,i.jsx)(u.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"devstarturl",children:["dev.startUrl",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#devstarturl",children:"#"})]}),"\n","\n",(0,i.jsx)(p.default,{})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fapi%2Fconfig-dev.mdx"]={toc:[{text:"dev.assetPrefix",id:"devassetprefix",depth:2},{text:"dev.beforeStartUrl",id:"devbeforestarturl",depth:2},{text:"dev.hmr",id:"devhmr",depth:2},{text:"dev.host",id:"devhost",depth:2},{text:"dev.https",id:"devhttps",depth:2},{text:"dev.port",id:"devport",depth:2},{text:"dev.progressBar",id:"devprogressbar",depth:2},{text:"dev.startUrl",id:"devstarturl",depth:2}],title:"Dev Config",frontmatter:{extractApiHeaders:[2]}};var m=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(x,{...e})}):x(e)}},91594:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var t,i=r("9880"),s=r("23169"),l=r.ir(r("54471"));function o(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"experiments-config",children:["Experiments Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#experiments-config",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"This section describes some experimental configs in the Builder, which can enable unstable features in Builder."}),"\n",(0,i.jsxs)(n.p,{children:["If you meet issues with experimental features, please disable the config first and report through ",(0,i.jsx)(n.a,{href:"https://github.com/web-infra-dev/modern.js/issues",target:"_blank",rel:"noopener noreferrer",children:"GitHub Issues"}),"."]}),"\n",(0,i.jsxs)(n.h2,{id:"experimentslazycompilation",children:["experiments.lazyCompilation",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#experimentslazycompilation",children:"#"})]}),"\n","\n",(0,i.jsx)(l.default,{})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fapi%2Fconfig-experiments.mdx"]={toc:[{text:"experiments.lazyCompilation",id:"experimentslazycompilation",depth:2}],title:"Experiments Config",frontmatter:{extractApiHeaders:[2]}};var a=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},70795:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return P}});var t,i=r("9880"),s=r("23169"),l=r.ir(r("28807")),o=r.ir(r("22804")),a=r.ir(r("76176")),d=r.ir(r("43888")),c=r.ir(r("3592")),h=r.ir(r("21430")),u=r.ir(r("45545")),p=r.ir(r("60436")),x=r.ir(r("56483")),m=r.ir(r("24808")),f=r.ir(r("20502")),j=r.ir(r("6974")),g=r.ir(r("26421")),b=r.ir(r("22318")),v=r.ir(r("58376")),y=r.ir(r("47415")),w=r.ir(r("80760")),S=r.ir(r("42455")),k=r.ir(r("20481"));function _(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"html-config",children:["Html Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#html-config",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"This section describes some HTML configurations in Modern.js Builder."}),"\n",(0,i.jsxs)(n.h2,{id:"htmlappicon",children:["html.appIcon",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmlappicon",children:"#"})]}),"\n","\n",(0,i.jsx)(l.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"htmlcrossorigin",children:["html.crossorigin",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmlcrossorigin",children:"#"})]}),"\n","\n",(0,i.jsx)(o.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"htmldisablehtmlfolder",children:["html.disableHtmlFolder",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmldisablehtmlfolder",children:"#"})]}),"\n","\n",(0,i.jsx)(a.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"htmlfavicon",children:["html.favicon",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmlfavicon",children:"#"})]}),"\n","\n",(0,i.jsx)(d.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"htmlfaviconbyentries",children:["html.faviconByEntries",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmlfaviconbyentries",children:"#"})]}),"\n","\n",(0,i.jsx)(c.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"htmlinject",children:["html.inject",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmlinject",children:"#"})]}),"\n","\n",(0,i.jsx)(h.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"htmlinjectbyentries",children:["html.injectByEntries",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmlinjectbyentries",children:"#"})]}),"\n","\n",(0,i.jsx)(u.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"htmlmeta",children:["html.meta",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmlmeta",children:"#"})]}),"\n","\n",(0,i.jsx)(p.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"htmlmetabyentries",children:["html.metaByEntries",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmlmetabyentries",children:"#"})]}),"\n","\n",(0,i.jsx)(x.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"htmlmountid",children:["html.mountId",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmlmountid",children:"#"})]}),"\n","\n",(0,i.jsx)(m.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"htmlscriptloading",children:["html.scriptLoading",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmlscriptloading",children:"#"})]}),"\n","\n",(0,i.jsx)(f.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"htmltags",children:["html.tags",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmltags",children:"#"})]}),"\n","\n",(0,i.jsx)(j.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"htmltagsbyentries",children:["html.tagsByEntries",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmltagsbyentries",children:"#"})]}),"\n","\n",(0,i.jsx)(g.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"htmltemplate",children:["html.template",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmltemplate",children:"#"})]}),"\n","\n",(0,i.jsx)(b.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"htmltemplatebyentries",children:["html.templateByEntries",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmltemplatebyentries",children:"#"})]}),"\n","\n",(0,i.jsx)(v.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"htmltemplateparameters",children:["html.templateParameters",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmltemplateparameters",children:"#"})]}),"\n","\n",(0,i.jsx)(y.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"htmltemplateparametersbyentries",children:["html.templateParametersByEntries",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmltemplateparametersbyentries",children:"#"})]}),"\n","\n",(0,i.jsx)(w.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"htmltitle",children:["html.title",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmltitle",children:"#"})]}),"\n","\n",(0,i.jsx)(S.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"htmltitlebyentries",children:["html.titleByEntries",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmltitlebyentries",children:"#"})]}),"\n","\n",(0,i.jsx)(k.default,{})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fapi%2Fconfig-html.mdx"]={toc:[{text:"html.appIcon",id:"htmlappicon",depth:2},{text:"html.crossorigin",id:"htmlcrossorigin",depth:2},{text:"html.disableHtmlFolder",id:"htmldisablehtmlfolder",depth:2},{text:"html.favicon",id:"htmlfavicon",depth:2},{text:"html.faviconByEntries",id:"htmlfaviconbyentries",depth:2},{text:"html.inject",id:"htmlinject",depth:2},{text:"html.injectByEntries",id:"htmlinjectbyentries",depth:2},{text:"html.meta",id:"htmlmeta",depth:2},{text:"html.metaByEntries",id:"htmlmetabyentries",depth:2},{text:"html.mountId",id:"htmlmountid",depth:2},{text:"html.scriptLoading",id:"htmlscriptloading",depth:2},{text:"html.tags",id:"htmltags",depth:2},{text:"html.tagsByEntries",id:"htmltagsbyentries",depth:2},{text:"html.template",id:"htmltemplate",depth:2},{text:"html.templateByEntries",id:"htmltemplatebyentries",depth:2},{text:"html.templateParameters",id:"htmltemplateparameters",depth:2},{text:"html.templateParametersByEntries",id:"htmltemplateparametersbyentries",depth:2},{text:"html.title",id:"htmltitle",depth:2},{text:"html.titleByEntries",id:"htmltitlebyentries",depth:2}],title:"Html Config",frontmatter:{extractApiHeaders:[2]}};var P=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(_,{...e})}):_(e)}},7546:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return D}});var t,i=r("9880"),s=r("23169"),l=r.ir(r("63061")),o=r.ir(r("12143")),a=r.ir(r("71769")),d=r.ir(r("76254")),c=r.ir(r("22031")),h=r.ir(r("95942")),u=r.ir(r("27763")),p=r.ir(r("66952")),x=r.ir(r("55120")),m=r.ir(r("34187")),f=r.ir(r("94467")),j=r.ir(r("70396")),g=r.ir(r("17693")),b=r.ir(r("56840")),v=r.ir(r("44082")),y=r.ir(r("76363")),w=r.ir(r("65533")),S=r.ir(r("3903")),k=r.ir(r("22852")),_=r.ir(r("77272")),P=r.ir(r("91050")),E=r.ir(r("18874")),F=r.ir(r("64089")),N=r.ir(r("28428")),T=r.ir(r("62576")),R=r.ir(r("34259")),C=r.ir(r("12622")),M=r.ir(r("13891")),O=r.ir(r("62729")),I=r.ir(r("58387"));function A(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"output-config",children:["Output Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#output-config",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"This section describes some output related configurations in Modern.js Builder."}),"\n",(0,i.jsxs)(n.h2,{id:"outputassetprefix",children:["output.assetPrefix",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputassetprefix",children:"#"})]}),"\n","\n",(0,i.jsx)(l.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputassetsretry",children:["output.assetsRetry",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputassetsretry",children:"#"})]}),"\n","\n",(0,i.jsx)(o.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputcharset",children:["output.charset",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputcharset",children:"#"})]}),"\n","\n",(0,i.jsx)(a.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputcleandistpath",children:["output.cleanDistPath",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputcleandistpath",children:"#"})]}),"\n","\n",(0,i.jsx)(d.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputconverttorem",children:["output.convertToRem",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputconverttorem",children:"#"})]}),"\n","\n",(0,i.jsx)(c.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputcopy",children:["output.copy",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputcopy",children:"#"})]}),"\n","\n",(0,i.jsx)(h.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputcssmodules",children:["output.cssModules",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputcssmodules",children:"#"})]}),"\n","\n",(0,i.jsx)(u.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputcssmodulelocalidentname",children:["output.cssModuleLocalIdentName",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputcssmodulelocalidentname",children:"#"})]}),"\n","\n",(0,i.jsx)(p.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputdataurilimit",children:["output.dataUriLimit",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputdataurilimit",children:"#"})]}),"\n","\n",(0,i.jsx)(x.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputdisablecssextract",children:["output.disableCssExtract",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputdisablecssextract",children:"#"})]}),"\n","\n",(0,i.jsx)(m.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputdisablecssmoduleextension",children:["output.disableCssModuleExtension",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputdisablecssmoduleextension",children:"#"})]}),"\n","\n",(0,i.jsx)(f.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputdistpath",children:["output.distPath",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputdistpath",children:"#"})]}),"\n","\n",(0,i.jsx)(j.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputdisableminimize",children:["output.disableMinimize",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputdisableminimize",children:"#"})]}),"\n","\n",(0,i.jsx)(g.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputdisablesourcemap",children:["output.disableSourceMap",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputdisablesourcemap",children:"#"})]}),"\n","\n",(0,i.jsx)(b.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputdisablesvgr",children:["output.disableSvgr",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputdisablesvgr",children:"#"})]}),"\n","\n",(0,i.jsx)(v.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputdisabletschecker",children:["output.disableTsChecker",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputdisabletschecker",children:"#"})]}),"\n","\n",(0,i.jsx)(y.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputdisablefilenamehash",children:["output.disableFilenameHash",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputdisablefilenamehash",children:"#"})]}),"\n","\n",(0,i.jsx)(w.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputdisableinlineruntimechunk",children:["output.disableInlineRuntimeChunk",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputdisableinlineruntimechunk",children:"#"})]}),"\n","\n",(0,i.jsx)(S.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputenableassetmanifest",children:["output.enableAssetManifest",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputenableassetmanifest",children:"#"})]}),"\n","\n",(0,i.jsx)(k.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputenableassetfallback",children:["output.enableAssetFallback",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputenableassetfallback",children:"#"})]}),"\n","\n",(0,i.jsx)(_.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputenablelatestdecorators",children:["output.enableLatestDecorators",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputenablelatestdecorators",children:"#"})]}),"\n","\n",(0,i.jsx)(P.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputenablecssmoduletsdeclaration",children:["output.enableCssModuleTSDeclaration",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputenablecssmoduletsdeclaration",children:"#"})]}),"\n","\n",(0,i.jsx)(E.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputenableinlinescripts",children:["output.enableInlineScripts",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputenableinlinescripts",children:"#"})]}),"\n","\n",(0,i.jsx)(F.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputenableinlinestyles",children:["output.enableInlineStyles",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputenableinlinestyles",children:"#"})]}),"\n","\n",(0,i.jsx)(N.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputexternals",children:["output.externals",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputexternals",children:"#"})]}),"\n","\n",(0,i.jsx)(T.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputfilename",children:["output.filename",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputfilename",children:"#"})]}),"\n","\n",(0,i.jsx)(R.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputlegalcomments",children:["output.legalComments",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputlegalcomments",children:"#"})]}),"\n","\n",(0,i.jsx)(C.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputoverridebrowserslist",children:["output.overrideBrowserslist",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputoverridebrowserslist",children:"#"})]}),"\n","\n",(0,i.jsx)(M.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputpolyfill",children:["output.polyfill",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputpolyfill",children:"#"})]}),"\n","\n",(0,i.jsx)(O.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputsvgdefaultexport",children:["output.svgDefaultExport",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputsvgdefaultexport",children:"#"})]}),"\n","\n",(0,i.jsx)(I.default,{})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fapi%2Fconfig-output.mdx"]={toc:[{text:"output.assetPrefix",id:"outputassetprefix",depth:2},{text:"output.assetsRetry",id:"outputassetsretry",depth:2},{text:"output.charset",id:"outputcharset",depth:2},{text:"output.cleanDistPath",id:"outputcleandistpath",depth:2},{text:"output.convertToRem",id:"outputconverttorem",depth:2},{text:"output.copy",id:"outputcopy",depth:2},{text:"output.cssModules",id:"outputcssmodules",depth:2},{text:"output.cssModuleLocalIdentName",id:"outputcssmodulelocalidentname",depth:2},{text:"output.dataUriLimit",id:"outputdataurilimit",depth:2},{text:"output.disableCssExtract",id:"outputdisablecssextract",depth:2},{text:"output.disableCssModuleExtension",id:"outputdisablecssmoduleextension",depth:2},{text:"output.distPath",id:"outputdistpath",depth:2},{text:"output.disableMinimize",id:"outputdisableminimize",depth:2},{text:"output.disableSourceMap",id:"outputdisablesourcemap",depth:2},{text:"output.disableSvgr",id:"outputdisablesvgr",depth:2},{text:"output.disableTsChecker",id:"outputdisabletschecker",depth:2},{text:"output.disableFilenameHash",id:"outputdisablefilenamehash",depth:2},{text:"output.disableInlineRuntimeChunk",id:"outputdisableinlineruntimechunk",depth:2},{text:"output.enableAssetManifest",id:"outputenableassetmanifest",depth:2},{text:"output.enableAssetFallback",id:"outputenableassetfallback",depth:2},{text:"output.enableLatestDecorators",id:"outputenablelatestdecorators",depth:2},{text:"output.enableCssModuleTSDeclaration",id:"outputenablecssmoduletsdeclaration",depth:2},{text:"output.enableInlineScripts",id:"outputenableinlinescripts",depth:2},{text:"output.enableInlineStyles",id:"outputenableinlinestyles",depth:2},{text:"output.externals",id:"outputexternals",depth:2},{text:"output.filename",id:"outputfilename",depth:2},{text:"output.legalComments",id:"outputlegalcomments",depth:2},{text:"output.overrideBrowserslist",id:"outputoverridebrowserslist",depth:2},{text:"output.polyfill",id:"outputpolyfill",depth:2},{text:"output.svgDefaultExport",id:"outputsvgdefaultexport",depth:2}],title:"Output Config",frontmatter:{extractApiHeaders:[2]}};var D=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(A,{...e})}):A(e)}},61340:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return x}});var t,i=r("9880"),s=r("23169"),l=r.ir(r("73455")),o=r.ir(r("20666")),a=r.ir(r("43484")),d=r.ir(r("96120")),c=r.ir(r("10708")),h=r.ir(r("64899")),u=r.ir(r("87847"));function p(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"performance-config",children:["Performance Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#performance-config",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"This section describes some performance related configurations in Modern.js Builder."}),"\n",(0,i.jsxs)(n.h2,{id:"performancebuildcache",children:["performance.buildCache",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#performancebuildcache",children:"#"})]}),"\n","\n",(0,i.jsx)(l.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"performancebundleanalyze",children:["performance.bundleAnalyze",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#performancebundleanalyze",children:"#"})]}),"\n","\n",(0,i.jsx)(o.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"performancechunksplit",children:["performance.chunkSplit",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#performancechunksplit",children:"#"})]}),"\n","\n",(0,i.jsx)(a.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"performanceprintfilesize",children:["performance.printFileSize",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#performanceprintfilesize",children:"#"})]}),"\n","\n",(0,i.jsx)(d.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"performanceprofile",children:["performance.profile",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#performanceprofile",children:"#"})]}),"\n","\n",(0,i.jsx)(c.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"performanceremoveconsole",children:["performance.removeConsole",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#performanceremoveconsole",children:"#"})]}),"\n","\n",(0,i.jsx)(h.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"performanceremovemomentlocale",children:["performance.removeMomentLocale",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#performanceremovemomentlocale",children:"#"})]}),"\n","\n",(0,i.jsx)(u.default,{})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fapi%2Fconfig-performance.mdx"]={toc:[{text:"performance.buildCache",id:"performancebuildcache",depth:2},{text:"performance.bundleAnalyze",id:"performancebundleanalyze",depth:2},{text:"performance.chunkSplit",id:"performancechunksplit",depth:2},{text:"performance.printFileSize",id:"performanceprintfilesize",depth:2},{text:"performance.profile",id:"performanceprofile",depth:2},{text:"performance.removeConsole",id:"performanceremoveconsole",depth:2},{text:"performance.removeMomentLocale",id:"performanceremovemomentlocale",depth:2}],title:"Performance Config",frontmatter:{extractApiHeaders:[2]}};var x=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},24860:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return d}});var t,i=r("9880"),s=r("23169"),l=r.ir(r("8237")),o=r.ir(r("70569"));function a(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"security-config",children:["Security Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#security-config",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"This section describes some security related configurations in Modern.js Builder."}),"\n",(0,i.jsxs)(n.h2,{id:"securitysri",children:["security.sri",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#securitysri",children:"#"})]}),"\n","\n",(0,i.jsx)(l.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"securitychecksyntax",children:["security.checkSyntax",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#securitychecksyntax",children:"#"})]}),"\n","\n",(0,i.jsx)(o.default,{})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fapi%2Fconfig-security.mdx"]={toc:[{text:"security.sri",id:"securitysri",depth:2},{text:"security.checkSyntax",id:"securitychecksyntax",depth:2}],title:"Security Config",frontmatter:{extractApiHeaders:[2]}};var d=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},89441:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return g}});var t,i=r("9880"),s=r("23169"),l=r.ir(r("11457")),o=r.ir(r("26747")),a=r.ir(r("32547")),d=r.ir(r("47992")),c=r.ir(r("7989")),h=r.ir(r("71213")),u=r.ir(r("11533")),p=r.ir(r("32542")),x=r.ir(r("55283")),m=r.ir(r("47486")),f=r.ir(r("77402"));function j(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"source-config",children:["Source Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#source-config",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"This section describes configs related to source code parsing and compilation in Modern.js Builder."}),"\n",(0,i.jsxs)(n.h2,{id:"sourcealias",children:["source.alias",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#sourcealias",children:"#"})]}),"\n","\n",(0,i.jsx)(l.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"sourceinclude",children:["source.include",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#sourceinclude",children:"#"})]}),"\n","\n",(0,i.jsx)(o.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"sourceexclude",children:["source.exclude",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#sourceexclude",children:"#"})]}),"\n","\n",(0,i.jsx)(a.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"sourcecompilejsdatauri",children:["source.compileJsDataURI",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#sourcecompilejsdatauri",children:"#"})]}),"\n","\n",(0,i.jsx)(d.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"sourcedefine",children:["source.define",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#sourcedefine",children:"#"})]}),"\n","\n",(0,i.jsx)(c.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"sourceglobalvars",children:["source.globalVars",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#sourceglobalvars",children:"#"})]}),"\n","\n",(0,i.jsx)(h.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"sourcemodulescopes",children:["source.moduleScopes",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#sourcemodulescopes",children:"#"})]}),"\n","\n",(0,i.jsx)(u.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"sourcetransformimport",children:["source.transformImport",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#sourcetransformimport",children:"#"})]}),"\n","\n",(0,i.jsx)(p.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"sourcepreentry",children:["source.preEntry",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#sourcepreentry",children:"#"})]}),"\n","\n",(0,i.jsx)(x.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"sourceresolveextensionprefix",children:["source.resolveExtensionPrefix",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#sourceresolveextensionprefix",children:"#"})]}),"\n","\n",(0,i.jsx)(m.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"sourceresolvemainfields",children:["source.resolveMainFields",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#sourceresolvemainfields",children:"#"})]}),"\n","\n",(0,i.jsx)(f.default,{})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fapi%2Fconfig-source.mdx"]={toc:[{text:"source.alias",id:"sourcealias",depth:2},{text:"source.include",id:"sourceinclude",depth:2},{text:"source.exclude",id:"sourceexclude",depth:2},{text:"source.compileJsDataURI",id:"sourcecompilejsdatauri",depth:2},{text:"source.define",id:"sourcedefine",depth:2},{text:"source.globalVars",id:"sourceglobalvars",depth:2},{text:"source.moduleScopes",id:"sourcemodulescopes",depth:2},{text:"source.transformImport",id:"sourcetransformimport",depth:2},{text:"source.preEntry",id:"sourcepreentry",depth:2},{text:"source.resolveExtensionPrefix",id:"sourceresolveextensionprefix",depth:2},{text:"source.resolveMainFields",id:"sourceresolvemainfields",depth:2}],title:"Source Config",frontmatter:{extractApiHeaders:[2]}};var g=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(j,{...e})}):j(e)}},38692:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return F}});var t,i=r("9880"),s=r("23169"),l=r.ir(r("96860")),o=r.ir(r("12734")),a=r.ir(r("29693")),d=r.ir(r("31861")),c=r.ir(r("14101")),h=r.ir(r("92325")),u=r.ir(r("89450")),p=r.ir(r("14996")),x=r.ir(r("93237")),m=r.ir(r("82716")),f=r.ir(r("38287")),j=r.ir(r("39142")),g=r.ir(r("11106")),b=r.ir(r("24932")),v=r.ir(r("71855")),y=r.ir(r("74131")),w=r.ir(r("7648")),S=r.ir(r("37843")),k=r.ir(r("6708")),_=r.ir(r("52432")),P=r.ir(r("77031"));function E(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"tools-config",children:["Tools Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#tools-config",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"This section describes some low-level tools configurations in Modern.js Builder."}),"\n",(0,i.jsxs)(n.h2,{id:"toolsautoprefixer",children:["tools.autoprefixer",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolsautoprefixer",children:"#"})]}),"\n","\n",(0,i.jsx)(l.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"toolsbabel",children:["tools.babel",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolsbabel",children:"#"})]}),"\n","\n",(0,i.jsx)(o.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"toolsbundlerchain",children:["tools.bundlerChain",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolsbundlerchain",children:"#"})]}),"\n","\n",(0,i.jsx)(a.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"toolscssextract",children:["tools.cssExtract",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolscssextract",children:"#"})]}),"\n","\n",(0,i.jsx)(d.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"toolscssloader",children:["tools.cssLoader",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolscssloader",children:"#"})]}),"\n","\n",(0,i.jsx)(c.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"toolsdevserver",children:["tools.devServer",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolsdevserver",children:"#"})]}),"\n","\n",(0,i.jsx)(h.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"toolshtmlplugin",children:["tools.htmlPlugin",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolshtmlplugin",children:"#"})]}),"\n","\n",(0,i.jsx)(u.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"toolsinspector",children:["tools.inspector",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolsinspector",children:"#"})]}),"\n","\n",(0,i.jsx)(p.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"toolsless",children:["tools.less",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolsless",children:"#"})]}),"\n","\n",(0,i.jsx)(x.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"toolsminifycss",children:["tools.minifyCss",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolsminifycss",children:"#"})]}),"\n","\n",(0,i.jsx)(m.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"toolspostcss",children:["tools.postcss",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolspostcss",children:"#"})]}),"\n","\n",(0,i.jsx)(f.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"toolspug",children:["tools.pug",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolspug",children:"#"})]}),"\n","\n",(0,i.jsx)(j.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"toolssass",children:["tools.sass",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolssass",children:"#"})]}),"\n","\n",(0,i.jsx)(g.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"toolsstyleloader",children:["tools.styleLoader",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolsstyleloader",children:"#"})]}),"\n","\n",(0,i.jsx)(b.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"toolsstyledcomponents",children:["tools.styledComponents",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolsstyledcomponents",children:"#"})]}),"\n","\n",(0,i.jsx)(v.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"toolsterser",children:["tools.terser",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolsterser",children:"#"})]}),"\n","\n",(0,i.jsx)(y.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"toolstsloader",children:["tools.tsLoader",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolstsloader",children:"#"})]}),"\n","\n",(0,i.jsx)(w.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"toolstschecker",children:["tools.tsChecker",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolstschecker",children:"#"})]}),"\n","\n",(0,i.jsx)(S.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"toolswebpack",children:["tools.webpack",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolswebpack",children:"#"})]}),"\n","\n",(0,i.jsx)(k.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"toolswebpackchain",children:["tools.webpackChain",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolswebpackchain",children:"#"})]}),"\n","\n",(0,i.jsx)(_.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"toolsrspack",children:["tools.rspack",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolsrspack",children:"#"})]}),"\n","\n",(0,i.jsx)(P.default,{})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fapi%2Fconfig-tools.mdx"]={toc:[{text:"tools.autoprefixer",id:"toolsautoprefixer",depth:2},{text:"tools.babel",id:"toolsbabel",depth:2},{text:"tools.bundlerChain",id:"toolsbundlerchain",depth:2},{text:"tools.cssExtract",id:"toolscssextract",depth:2},{text:"tools.cssLoader",id:"toolscssloader",depth:2},{text:"tools.devServer",id:"toolsdevserver",depth:2},{text:"tools.htmlPlugin",id:"toolshtmlplugin",depth:2},{text:"tools.inspector",id:"toolsinspector",depth:2},{text:"tools.less",id:"toolsless",depth:2},{text:"tools.minifyCss",id:"toolsminifycss",depth:2},{text:"tools.postcss",id:"toolspostcss",depth:2},{text:"tools.pug",id:"toolspug",depth:2},{text:"tools.sass",id:"toolssass",depth:2},{text:"tools.styleLoader",id:"toolsstyleloader",depth:2},{text:"tools.styledComponents",id:"toolsstyledcomponents",depth:2},{text:"tools.terser",id:"toolsterser",depth:2},{text:"tools.tsLoader",id:"toolstsloader",depth:2},{text:"tools.tsChecker",id:"toolstschecker",depth:2},{text:"tools.webpack",id:"toolswebpack",depth:2},{text:"tools.webpackChain",id:"toolswebpackchain",depth:2},{text:"tools.rspack",id:"toolsrspack",depth:2}],title:"Tools Config",frontmatter:{extractApiHeaders:[2]}};var F=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(E,{...e})}):E(e)}},11916:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(n.h1,{id:"api",children:["API",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#api",children:"#"})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fapi%2Findex.mdx"]={toc:[],title:"API",frontmatter:{overview:!0}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},97082:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return h}});var t,i=r("9880"),s=r("23169"),l=r.ir(r("29336")),o=r.ir(r("66503")),a=r.ir(r("85195")),d=r.ir(r("66731"));function c(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",ul:"ul",li:"li",code:"code",pre:"pre",h3:"h3",strong:"strong"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"plugin-core",children:["Plugin Core",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#plugin-core",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"This section describes the core plugin types and APIs."}),"\n",(0,i.jsxs)(n.h2,{id:"builderplugin",children:["BuilderPlugin",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderplugin",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The type of the plugin object. The plugin object contains the following properties:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"name"}),": The name of the plugin, a unique identifier."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"setup"}),": The setup function of the plugin, which can be an asynchronous function. This function will only be executed once when the plugin is initialized."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pre"}),": Specifies the preceding plugins for the current plugin. You can pass an array of preceding plugin names, and the current plugin will be executed after these plugins."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"post"}),": Specifies the succeeding plugins for the current plugin. You can pass an array of succeeding plugin names, and the current plugin will be executed before these plugins."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"remove"}),": Specifies the plugins to be removed. You can pass an array of plugin names to be removed."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The type of the plugin object, which contains the following properties:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export type BuilderPlugin<API = BuilderPluginAPI> = {\n  name: string;\n  pre?: string[];\n  post?: string[];\n  remove?: string[];\n  setup: (api: API) => Promise<void> | void;\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["You can import this type from ",(0,i.jsx)(n.code,{children:"@modern-js/builder"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import type { BuilderPlugin } from '@modern-js/builder';\n\nexport default (): BuilderPlugin => ({\n  name: 'builder-plugin-foo',\n\n  pre: ['builder-plugin-bar'],\n\n  setup: api => {\n    api.onAfterBuild(() => {\n      console.log('after build!');\n    });\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"pre-plugins",children:["Pre-Plugins",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#pre-plugins",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["By default, plugins are executed in the order they are added. You can declare pre-execution plugins using the ",(0,i.jsx)(n.code,{children:"pre"})," field."]}),"\n",(0,i.jsx)(n.p,{children:"For example, consider the following two plugins:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const builderPluginFoo = {\n  name: 'builder-plugin-foo',\n};\n\nconst builderPluginBar = {\n  name: 'builder-plugin-bar',\n  pre: ['builder-plugin-foo'],\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["The Bar plugin is configured with the Foo plugin in its ",(0,i.jsx)(n.code,{children:"pre"})," field, so the Foo plugin will always be executed before the Bar plugin."]}),"\n",(0,i.jsxs)(n.h3,{id:"post-plugins",children:["Post-Plugins",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#post-plugins",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Similarly, you can declare post-execution plugins using the ",(0,i.jsx)(n.code,{children:"post"})," field."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const builderPluginFoo = {\n  name: 'builder-plugin-foo',\n};\n\nconst builderPluginBar = {\n  name: 'builder-plugin-bar',\n  post: ['builder-plugin-foo'],\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["The Bar plugin is configured with the Foo plugin in its ",(0,i.jsx)(n.code,{children:"post"})," field, so the Foo plugin will always be executed after the Bar plugin."]}),"\n",(0,i.jsxs)(n.h3,{id:"removing-plugins",children:["Removing Plugins",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#removing-plugins",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["You can remove other plugins within a plugin using the ",(0,i.jsx)(n.code,{children:"remove"})," field."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const builderPluginFoo = {\n  name: 'builder-plugin-foo',\n};\n\nconst builderPluginBar = {\n  name: 'builder-plugin-bar',\n  remove: ['builder-plugin-foo'],\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"For example, if you register both the Foo and Bar plugins mentioned above, the Foo plugin will not take effect because the Bar plugin declares the removal of the Foo plugin."}),"\n",(0,i.jsxs)(n.h2,{id:"builderpluginapi",children:["BuilderPluginAPI",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderpluginapi",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The type of plugin API. The plugin API provides the context info, utility functions and lifecycle hooks."}),"\n",(0,i.jsxs)(n.p,{children:["For a complete introduction to lifecycle hooks, please read the ",(0,i.jsx)(n.a,{href:"/api/plugin-hooks",children:"Plugin Hooks"})," chapter."]}),"\n",(0,i.jsxs)(n.p,{children:["When using webpack-provider or rspack-provider, the type definition of ",(0,i.jsx)(n.code,{children:"BuilderPluginAPI"})," is somewhat different, and you can introduce the corresponding type according to the usage scenario of the plugin."]}),"\n",(0,i.jsxs)(n.h3,{id:"plugin-for-webpack-provider",children:["Plugin for webpack-provider",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#plugin-for-webpack-provider",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When developing plugins for webpack-provider, please import ",(0,i.jsx)(n.code,{children:"BuilderPluginAPI"})," from ",(0,i.jsx)(n.code,{children:"@modern-js/builder-webpack-provider"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import type { BuilderPlugin } from '@modern-js/builder';\nimport type { BuilderPluginAPI } from '@modern-js/builder-webpack-provider';\n\nexport default (): BuilderPlugin<BuilderPluginAPI> => ({\n  name: 'builder-plugin-foo',\n\n  setup: api => {\n    api.modifyWebpackConfig(config => {\n      config.devtool = false;\n    });\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"plugins-for-rspack-provider",children:["Plugins for rspack-provider",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#plugins-for-rspack-provider",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When developing plugins for rspack-provider, please import ",(0,i.jsx)(n.code,{children:"BuilderPluginAPI"})," from ",(0,i.jsx)(n.code,{children:"@modern-js/builder-rspack-provider"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import type { BuilderPlugin } from '@modern-js/builder';\nimport type { BuilderPluginAPI } from '@modern-js/builder-rspack-provider';\n\nexport default (): BuilderPlugin<BuilderPluginAPI> => ({\n  name: 'builder-plugin-foo',\n\n  setup: api => {\n    api.modifyRspackConfig(config => {\n      config.devtool = false;\n    });\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"plugins-for-both-webpack-provider-and-rspack-provider",children:["Plugins for both webpack-provider and rspack-provider",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#plugins-for-both-webpack-provider-and-rspack-provider",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When developing plugins for both webpack-provider and rspack-provider, please import ",(0,i.jsx)(n.code,{children:"DefaultBuilderPlugin"})," from ",(0,i.jsx)(n.code,{children:"@modern-js/builder-shared"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["Note that developing plugins that can support both webpack and Rspack at the same time means that you cannot use any APIs with webpack / Rspack identifiers, such as ",(0,i.jsx)(n.code,{children:"modifyWebpackConfig"})," or ",(0,i.jsx)(n.code,{children:"modifyRspackConfig"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["You can use ",(0,i.jsx)(n.a,{href:"/api/plugin-hooks#modifybundlerchain-experimental",children:"modifyBundlerChain"})," to modify the configuration that applies to both webpack and Rspack."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import type { BuilderPlugin } from '@modern-js/builder';\nimport type { DefaultBuilderPlugin } from '@modern-js/builder-shared';\n\nexport default (): BuilderPlugin<DefaultBuilderPlugin> => ({\n  name: 'builder-plugin-foo',\n\n  setup: api => {\n    api.modifyBundlerChain(chain => {\n      chain.devtool(false);\n    });\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"apicontext",children:["api.context",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#apicontext",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"api.context"})," is a read-only object that provides some context information."]}),"\n",(0,i.jsxs)(n.p,{children:["The content of ",(0,i.jsx)(n.code,{children:"api.context"})," is exactly the same as ",(0,i.jsx)(n.code,{children:"builder.context"}),", please refer to ",(0,i.jsx)(n.a,{href:"/api/builder-instance#builder-context",children:"builder.context"}),"."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const builderPluginFoo = () => ({\n  setup(api) {\n    console.log(api.context.distPath);\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"apigetbuilderconfig",children:["api.getBuilderConfig",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#apigetbuilderconfig",children:"#"})]}),"\n","\n",(0,i.jsx)(l.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const builderPluginFoo = () => ({\n  setup(api) {\n    const config = api.getBuilderConfig();\n    console.log(config.html?.title);\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"apigetnormalizedconfig",children:["api.getNormalizedConfig",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#apigetnormalizedconfig",children:"#"})]}),"\n","\n",(0,i.jsx)(o.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const builderPluginFoo = () => ({\n  setup(api) {\n    const config = api.getNormalizedConfig();\n    console.log(config.html.title);\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"apiispluginexists",children:["api.isPluginExists",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#apiispluginexists",children:"#"})]}),"\n","\n",(0,i.jsx)(a.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default () => ({\n  setup: api => {\n    console.log(api.isPluginExists('builder-plugin-foo'));\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"apigethtmlpaths",children:["api.getHTMLPaths",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#apigethtmlpaths",children:"#"})]}),"\n","\n",(0,i.jsx)(d.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const builderPluginFoo = () => ({\n  setup(api) {\n    api.modifyWebpackChain(() => {\n      const htmlPaths = api.getHTMLPaths();\n      console.log(htmlPaths); // { main: 'html/main/index.html' };\n    });\n  },\n});\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fapi%2Fplugin-core.mdx"]={toc:[{text:"BuilderPlugin",id:"builderplugin",depth:2},{text:"Pre-Plugins",id:"pre-plugins",depth:3},{text:"Post-Plugins",id:"post-plugins",depth:3},{text:"Removing Plugins",id:"removing-plugins",depth:3},{text:"BuilderPluginAPI",id:"builderpluginapi",depth:2},{text:"Plugin for webpack-provider",id:"plugin-for-webpack-provider",depth:3},{text:"Plugins for rspack-provider",id:"plugins-for-rspack-provider",depth:3},{text:"Plugins for both webpack-provider and rspack-provider",id:"plugins-for-both-webpack-provider-and-rspack-provider",depth:3},{text:"api.context",id:"apicontext",depth:2},{text:"api.getBuilderConfig",id:"apigetbuilderconfig",depth:2},{text:"api.getNormalizedConfig",id:"apigetnormalizedconfig",depth:2},{text:"api.isPluginExists",id:"apiispluginexists",depth:2},{text:"api.getHTMLPaths",id:"apigethtmlpaths",depth:2}],title:"Plugin Core",frontmatter:{extractApiHeaders:[2]}};var h=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},19830:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return m}});var t,i=r("9880"),s=r("23169"),l=r.ir(r("77730")),o=r.ir(r("5748")),a=r.ir(r("7208")),d=r.ir(r("70776")),c=r.ir(r("39772")),h=r.ir(r("94563")),u=r.ir(r("30125")),p=r.ir(r("8250"));function x(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",strong:"strong",ul:"ul",li:"li",code:"code",h3:"h3",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"plugin-hooks",children:["Plugin Hooks",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#plugin-hooks",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"This section describes the lifetime hooks provided by Builder plugin."}),"\n",(0,i.jsxs)(n.h2,{id:"overview",children:["Overview",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#overview",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Common Hooks"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"modifyBuilderConfig"}),": Modify raw config of Builder."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"modifyBundlerChain"})," (experimental): Modify config of webpack or Rspack via the bundler chain api."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"modifyWebpackChain"}),": Modify webpack-chain."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"modifyWebpackConfig"}),": Modify raw config of webpack."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"modifyRspackConfig"}),": Modify raw config of Rspack."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"onBeforeCreateCompiler"}),": Called before creating compiler instance."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"onAfterCreateCompiler"}),": Called after the compiler object is created, but before the build is executed."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Build Hooks"}),": Called only when the build method is executed to build the production outputs."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"onBeforeBuild"}),": Called before the production build is executed."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"onAfterBuild"}),": Called after executing the production build, you can get the build stats."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Dev Server Hooks"}),": Called only when the startDevServer method is executed to run the development server."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"onBeforeStartDevServer"}),": Called before starting the development server."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"onAfterStartDevServer"}),": Called after starting the development server."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"onDevCompileDone"}),": Called after each development compile."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Other Hooks"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"onExit"}),": Called when the process is going to exit."]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"common-hooks",children:["Common Hooks",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#common-hooks",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"modifybuilderconfig",children:["modifyBuilderConfig",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#modifybuilderconfig",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Modify the config passed to the Builder, you can directly modify the config object, or return a new object to replace the previous object."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type ModifyWebpackChainUtils = {\n  mergeBuilderConfig: typeof mergeBuilderConfig;\n};\n\nfunction ModifyBuilderConfig(\n  callback: (\n    config: BuilderConfig,\n    utils: ModifyWebpackChainUtils,\n  ) => PromiseOrNot<BuilderConfig | void>,\n): void;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default () => ({\n  setup: api => {\n    api.modifyBuilderConfig((config, { mergeBuilderConfig }) => {\n      config.html = config.html || {};\n      config.html.title = 'Hello World!';\n      return mergeBuilderConfig(config, {\n        source: { preEntry: 'foo.js' },\n      });\n    });\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"modifybundlerchain-experimental",children:["modifyBundlerChain ",(0,i.jsx)(n.code,{children:"experimental"}),(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#modifybundlerchain-experimental",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Bundler chain is a subset of webpack chain, which contains part of the webpack chain API that you can use to modify both webpack and Rspack configuration."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"modifyBundlerChain"})," is used to call the bundler chain to modify the webpack / Rspack configuration. You can use this hook when using webpack-provider or rspack-provider."]}),"\n",(0,i.jsxs)(n.p,{children:["This hook only supports modifying the configuration of the non-differentiated parts of webpack and Rspack. For example, modifying the devtool configuration item (webpack and Rspack have the same devtool property value type), or adding an ",(0,i.jsx)(n.a,{href:"https://www.rspack.dev/guide/plugin-compat.html",target:"_blank",rel:"noopener noreferrer",children:"Rspack-compatible"})," webpack plugin."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type ModifyBunlderChainUtils = {\n  env: NodeEnv;\n  isProd: boolean;\n  target: BuilderTarget;\n  isServer: boolean;\n  isWebWorker: boolean;\n  CHAIN_ID: ChainIdentifier;\n  HtmlPlugin: typeof import('html-webpack-plugin');\n};\n\nfunction ModifyBundlerChain(\n  callback: (\n    chain: BundlerChain,\n    utils: ModifyBunlderChainUtils,\n  ) => Promise<void> | void,\n): void;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { BundleAnalyzerPlugin } from 'webpack-bundle-analyzer';\n\nexport default () => ({\n  setup: api => {\n    api.modifyBundlerChain((chain, utils) => {\n      if (utils.env === 'development') {\n        chain.devtool('eval');\n      }\n\n      chain.plugin('bundle-analyze').use(BundleAnalyzerPlugin);\n    });\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"modifywebpackchain",children:["modifyWebpackChain",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#modifywebpackchain",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Modify the webpack config through the webpack chain. This method is only called when using webpack-provider."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type ModifyWebpackChainUtils = {\n  env: NodeEnv;\n  isProd: boolean;\n  target: BuilderTarget;\n  webpack: typeof import('webpack');\n  isServer: boolean;\n  isWebWorker: boolean;\n  CHAIN_ID: ChainIdentifier;\n  getCompiledPath: (name: string) => string;\n  HtmlWebpackPlugin: typeof import('html-webpack-plugin');\n};\n\nfunction ModifyWebpackChain(\n  callback: (\n    chain: WebpackChain,\n    utils: ModifyWebpackChainUtils,\n  ) => Promise<void> | void,\n): void;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default () => ({\n  setup: api => {\n    api.modifyWebpackChain((chain, utils) => {\n      if (utils.env === 'development') {\n        chain.devtool('eval');\n      }\n    });\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"modifywebpackconfig",children:["modifyWebpackConfig",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#modifywebpackconfig",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"To modify the final webpack config object, you can directly modify the config object, or return a new object to replace the previous object. This method is only called when using webpack-provider."}),"\n",(0,i.jsxs)(n.p,{children:["This method is called later than the ",(0,i.jsx)(n.code,{children:"modifyWebpackChain"})," hook."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type ModifyWebpackConfigUtils = {\n  env: NodeEnv;\n  isProd: boolean;\n  target: BuilderTarget;\n  webpack: typeof import('webpack');\n  isServer: boolean;\n  isWebWorker: boolean;\n  CHAIN_ID: ChainIdentifier;\n  getCompiledPath: (name: string) => string;\n  HtmlWebpackPlugin: typeof import('html-webpack-plugin');\n  addRules: (rules: RuleSetRule | RuleSetRule[]) => void;\n  prependPlugins: (\n    plugins: WebpackPluginInstance | WebpackPluginInstance[],\n  ) => void;\n  appendPlugins: (\n    plugins: WebpackPluginInstance | WebpackPluginInstance[],\n  ) => void;\n  removePlugin: (pluginName: string) => void;\n};\n\nfunction ModifyWebpackConfig(\n  callback: (\n    config: WebpackConfig,\n    utils: ModifyWebpackConfigUtils,\n  ) => Promise<WebpackConfig | void> | WebpackConfig | void,\n): void;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default () => ({\n  setup: api => {\n    api.modifyWebpackConfig((config, utils) => {\n      if (utils.env === 'development') {\n        config.devtool = 'eval';\n      }\n    });\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"modifyrspackconfig",children:["modifyRspackConfig",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#modifyrspackconfig",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"To modify the final Rspack config object, you can directly modify the config object, or return a new object to replace the previous object. This method is only called when using rspack-provider."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type ModifyRspackConfigUtils = {\n  env: NodeEnv;\n  isProd: boolean;\n  target: BuilderTarget;\n  isServer: boolean;\n  isWebWorker: boolean;\n  getCompiledPath: (name: string) => string;\n};\n\nfunction ModifyRspackConfig(\n  callback: (\n    config: RspackConfig,\n    utils: ModifyRspackConfigUtils,\n  ) => Promise<RspackConfig | void> | RspackConfig | void,\n): void;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default () => ({\n  setup: api => {\n    api.modifyRspackConfig((config, utils) => {\n      if (utils.env === 'development') {\n        config.devtool = 'eval';\n      }\n    });\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"onbeforecreatecompiler",children:["onBeforeCreateCompiler",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#onbeforecreatecompiler",children:"#"})]}),"\n","\n",(0,i.jsx)(l.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default () => ({\n  setup: api => {\n    api.onBeforeCreateCompiler(({ bundlerConfigs }) => {\n      console.log('the bundler config is ', bundlerConfigs);\n    });\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"onaftercreatecompiler",children:["onAfterCreateCompiler",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#onaftercreatecompiler",children:"#"})]}),"\n","\n",(0,i.jsx)(o.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default () => ({\n  setup: api => {\n    api.onAfterCreateCompiler(({ compiler }) => {\n      console.log('the compiler is ', compiler);\n    });\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"build-hooks",children:["Build Hooks",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#build-hooks",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"onbeforebuild",children:["onBeforeBuild",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#onbeforebuild",children:"#"})]}),"\n","\n",(0,i.jsx)(a.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default () => ({\n  setup: api => {\n    api.onBeforeBuild(({ bundlerConfigs }) => {\n      console.log('the bundler config is ', bundlerConfigs);\n    });\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"onafterbuild",children:["onAfterBuild",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#onafterbuild",children:"#"})]}),"\n","\n",(0,i.jsx)(d.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default () => ({\n  setup: api => {\n    api.onAfterBuild(({ stats }) => {\n      console.log(stats?.toJson());\n    });\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"dev-server-hooks",children:["Dev Server Hooks",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#dev-server-hooks",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"onbeforestartdevserver",children:["onBeforeStartDevServer",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#onbeforestartdevserver",children:"#"})]}),"\n","\n",(0,i.jsx)(c.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default () => ({\n  setup: api => {\n    api.onBeforeStartDevServer(() => {\n      console.log('before start!');\n    });\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"onafterstartdevserver",children:["onAfterStartDevServer",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#onafterstartdevserver",children:"#"})]}),"\n","\n",(0,i.jsx)(h.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default () => ({\n  setup: api => {\n    api.onAfterStartDevServer(({ port }) => {\n      console.log('this port is: ', port);\n    });\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"ondevcompiledone",children:["onDevCompileDone",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#ondevcompiledone",children:"#"})]}),"\n","\n",(0,i.jsx)(u.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default () => ({\n  setup: api => {\n    api.onDevCompileDone(({ isFirstCompile }) => {\n      if (isFirstCompile) {\n        console.log('first compile!');\n      } else {\n        console.log('re-compile!');\n      }\n    });\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"other-hooks",children:["Other Hooks",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#other-hooks",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"onexit",children:["onExit",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#onexit",children:"#"})]}),"\n","\n",(0,i.jsx)(p.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default () => ({\n  setup: api => {\n    api.onExit(() => {\n      console.log('exit!');\n    });\n  },\n});\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fapi%2Fplugin-hooks.mdx"]={toc:[{text:"Overview",id:"overview",depth:2},{text:"Common Hooks",id:"common-hooks",depth:2},{text:"modifyBuilderConfig",id:"modifybuilderconfig",depth:3},{text:"modifyBundlerChain experimental",id:"modifybundlerchain-experimental",depth:3},{text:"modifyWebpackChain",id:"modifywebpackchain",depth:3},{text:"modifyWebpackConfig",id:"modifywebpackconfig",depth:3},{text:"modifyRspackConfig",id:"modifyrspackconfig",depth:3},{text:"onBeforeCreateCompiler",id:"onbeforecreatecompiler",depth:3},{text:"onAfterCreateCompiler",id:"onaftercreatecompiler",depth:3},{text:"Build Hooks",id:"build-hooks",depth:2},{text:"onBeforeBuild",id:"onbeforebuild",depth:3},{text:"onAfterBuild",id:"onafterbuild",depth:3},{text:"Dev Server Hooks",id:"dev-server-hooks",depth:2},{text:"onBeforeStartDevServer",id:"onbeforestartdevserver",depth:3},{text:"onAfterStartDevServer",id:"onafterstartdevserver",depth:3},{text:"onDevCompileDone",id:"ondevcompiledone",depth:3},{text:"Other Hooks",id:"other-hooks",depth:2},{text:"onExit",id:"onexit",depth:3}],title:"Plugin Hooks",frontmatter:{extractApiHeaders:[2]}};var m=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(x,{...e})}):x(e)}},8756:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",h3:"h3",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean | string"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"'/'"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Set the URL prefix of static assets in the development environment, similar to the ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/guides/public-path/",target:"_blank",rel:"noopener noreferrer",children:"output.publicPath"})," config of webpack."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"assetPrefix"})," will affect the URLs of most of the static assets, including JavaScript files, CSS files, images, videos, etc. If an incorrect value is specified, you'll receive 404 errors while loading these resources."]}),"\n",(0,i.jsxs)(n.p,{children:["This config is only used in the development environment. In the production environment, please use the ",(0,i.jsx)(n.code,{children:"output.assetPrefix"})," to set the URL prefix."]}),"\n",(0,i.jsxs)(n.h3,{id:"boolean-type",children:["Boolean Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#boolean-type",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["If ",(0,i.jsx)(n.code,{children:"assetPrefix"})," is set to ",(0,i.jsx)(n.code,{children:"true"}),", the URL prefix will be ",(0,i.jsx)(n.code,{children:"http://localhost:port/"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  dev: {\n    assetPrefix: true,\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"The script URL will be:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'<script defer src="http://localhost:8080/static/js/main.js"></script>\n'})}),"\n",(0,i.jsxs)(n.p,{children:["If ",(0,i.jsx)(n.code,{children:"assetPrefix"})," is set to ",(0,i.jsx)(n.code,{children:"false"})," or not set, ",(0,i.jsx)(n.code,{children:"/"})," is used as the default value."]}),"\n",(0,i.jsxs)(n.h3,{id:"string-type",children:["String type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#string-type",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When the value of ",(0,i.jsx)(n.code,{children:"assetPrefix"})," is ",(0,i.jsx)(n.code,{children:"string"})," type, the string will be used as the URL prefix:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  dev: {\n    assetPrefix: 'http://example.com/assets/',\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"The script URL will be:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'<script defer src="http://example.com/assets/static/js/main.js"></script>\n'})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fdev%2FassetPrefix.md"]={toc:[{text:"Boolean Type",id:"boolean-type",depth:3},{text:"String type",id:"string-type",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},97064:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"() => Promise<void> | void"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"dev.beforeStartUrl"})," is used to execute a callback function before opening the ",(0,i.jsx)(n.code,{children:"startUrl"}),", this config needs to be used together with ",(0,i.jsx)(n.code,{children:"dev.startUrl"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  dev: {\n    startUrl: true,\n    beforeStartUrl: async () => {\n      await doSomeThing();\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fdev%2FbeforeStartUrl.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},28145:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Whether to enable Hot Module Replacement."}),"\n",(0,i.jsxs)(n.p,{children:["If ",(0,i.jsx)(n.code,{children:"hmr"})," is set to ",(0,i.jsx)(n.code,{children:"false"}),", the HMR and react-refresh will no longer work."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  dev: {\n    hmr: false,\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fdev%2Fhmr.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},65617:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"string"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"0.0.0.0"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Specify the host that the dev server listens to."}),"\n",(0,i.jsxs)(n.p,{children:["By default, the dev server will listen to ",(0,i.jsx)(n.code,{children:"0.0.0.0"}),", which means listening to all network interfaces, including ",(0,i.jsx)(n.code,{children:"localhost"})," and public network addresses."]}),"\n",(0,i.jsxs)(n.p,{children:["If you want the dev server to listen only on ",(0,i.jsx)(n.code,{children:"localhost"}),", you can set it to:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  dev: {\n    host: 'localhost',\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fdev%2Fhost.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},99579:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",pre:"pre",h4:"h4",a:"a",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean | { key: string; cert: string }"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"After configuring this option, you can enable HTTPS Dev Server, and disabling the HTTP Dev Server."}),"\n",(0,i.jsx)(n.p,{children:"HTTP:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"  > Local: http://localhost:8080/\n  > Network: http://192.168.0.1:8080/\n"})}),"\n",(0,i.jsx)(n.p,{children:"HTTPS:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"  > Local: https://localhost:8080/\n  > Network: https://192.168.0.1:8080/\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"automatically-generate-certificates",children:["Automatically generate certificates",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#automatically-generate-certificates",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["You can directly set ",(0,i.jsx)(n.code,{children:"https"})," to ",(0,i.jsx)(n.code,{children:"true"}),", Builder will automatically generate the HTTPS certificate based on ",(0,i.jsx)(n.a,{href:"https://github.com/davewasmer/devcert",target:"_blank",rel:"noopener noreferrer",children:"devcert"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["When using this method, you need to manually install the ",(0,i.jsx)(n.a,{href:"https://github.com/davewasmer/devcert",target:"_blank",rel:"noopener noreferrer",children:"devcert"})," dependency in your project:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# npm\nnpm install devcert@1.2.2 -D\n\n# yarn\nyarn add devcert@1.2.2 -D\n\n# pnpm\npnpm add devcert@1.2.2 -D\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Then configure ",(0,i.jsx)(n.code,{children:"dev.https"})," to ",(0,i.jsx)(n.code,{children:"true"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  dev: {\n    https: true,\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"The devcert has some limitations, it does not currently support IP addresses yet."}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["The https proxy automatically installs the certificate and needs root authority, please enter the password according to the prompt.",(0,i.jsx)(n.strong,{children:"The password is only used to trust the certificate, and will not be leaked or be used elsewhere"}),".\n"]})})]}),"\n",(0,i.jsxs)(n.h4,{id:"manually-set-the-certificate",children:["Manually set the certificate",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#manually-set-the-certificate",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["You can also manually pass in the certificate and the private key required in the ",(0,i.jsx)(n.code,{children:"dev.https"})," option. This parameter will be directly passed to the createServer method of the https module in Node.js."]}),"\n",(0,i.jsxs)(n.p,{children:["For details, please refer to ",(0,i.jsx)(n.a,{href:"https://nodejs.org/api/https.html#https_https_createserver_options_requestlistener",target:"_blank",rel:"noopener noreferrer",children:"https.createServer"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import fs from 'fs';\n\nexport default {\n  dev: {\n    https: {\n      key: fs.readFileSync('certificates/private.pem'),\n      cert: fs.readFileSync('certificates/public.pem'),\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fdev%2Fhttps.md"]={toc:[{text:"Automatically generate certificates",id:"automatically-generate-certificates",depth:4},{text:"Manually set the certificate",id:"manually-set-the-certificate",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},97210:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"number"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"8080"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Specify a port number for Dev Server to listen."}),"\n",(0,i.jsxs)(n.p,{children:["By default, Dev Server listens on port ",(0,i.jsx)(n.code,{children:"8080"})," and automatically increments the port number when the port is occupied."]}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Set the port to ",(0,i.jsx)(n.code,{children:"3000"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  dev: {\n    port: 3000,\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fdev%2Fport.md"]={toc:[{text:"Example",id:"example",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},32767:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code",p:"p"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type ProgressBar =\n  | boolean\n  | {\n      id?: string;\n    };\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Whether to display progress bar during compilation."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  dev: {\n    progressBar: false,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["If you need to modify the text displayed on the left side of the progress bar, you can set the ",(0,i.jsx)(n.code,{children:"id"})," option:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  dev: {\n    progressBar: {\n      id: 'Some Text',\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fdev%2FprogressBar.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},49563:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",pre:"pre",h3:"h3",a:"a"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean | string | string[] | undefined"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"dev.startUrl"})," is used to set the URL of the page that automatically opens in the browser when Dev Server starts."]}),"\n",(0,i.jsx)(n.p,{children:"By default, no page will be opened."}),"\n",(0,i.jsx)(n.p,{children:"You can set it to the following values:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  dev: {\n    // Open the project's default preview page, equivalent to `http://localhost:<port>`\n    startUrl: true,\n    // Open the specified page\n    startUrl: 'http://localhost:8080',\n    // Open multiple pages\n    startUrl: ['http://localhost:8080', 'http://localhost:8080/about'],\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"port-placeholder",children:["Port placeholder",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#port-placeholder",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Since the port number may change, you can use the ",(0,i.jsx)(n.code,{children:"<port>"})," placeholder to refer to the current port number, and Builder will automatically replace the placeholder with the actual listening port number."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  dev: {\n    startUrl: 'http://localhost:<port>/home',\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fdev%2FstartUrl.md"]={toc:[{text:"Port placeholder",id:"port-placeholder",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},54471:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code",p:"p",h3:"h3",a:"a",h4:"h4"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type LazyCompilationOptions =\n  | boolean\n  | {\n      // Whether to enable lazy compilation for entries\n      entries?: boolean;\n      // Whether to enable lazy compilation for dynamic imports\n      imports?: boolean;\n    };\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Bundler:"})," ",(0,i.jsx)(n.code,{children:"only support webpack"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Used to enable the lazy compilation (i.e. compile on demand). When this config is enabled, Builder will compile entrypoints and dynamic imports only when they are used. It will improve the compilation startup time of the project."}),"\n",(0,i.jsx)(n.p,{children:"Lazy compilation only takes effect in the development."}),"\n",(0,i.jsxs)(n.h3,{id:"lazy-compilation-for-dynamic-imports",children:["Lazy Compilation for Dynamic Imports",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#lazy-compilation-for-dynamic-imports",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Lazy compile async modules introduced by ",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/import",target:"_blank",rel:"noopener noreferrer",children:"Dynamic Import"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  experiments: {\n    lazyCompilation: {\n      imports: true,\n      entries: false,\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["When ",(0,i.jsx)(n.code,{children:"imports"})," option is enabled, all async modules will only be compiled when requested. If your project is a single-page application, and routing is split through Dynamic Import, there will be a significant effect of speeding up compilation."]}),"\n",(0,i.jsxs)(n.h3,{id:"lazy-compilation-for-entires",children:["Lazy Compilation for Entires",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#lazy-compilation-for-entires",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"In addition to lazy compilation for async modules, you can also choose to lazily compile both entries and async modules at the same time."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  experiments: {\n    lazyCompilation: {\n      imports: true,\n      entries: true,\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"The above config can also be simplified to:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  experiments: {\n    lazyCompilation: true,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["When ",(0,i.jsx)(n.code,{children:"entries"})," option is enabled, all pages will not be compiled when the compilation is started, and the page will be compiled only when you visit it."]}),"\n",(0,i.jsx)(n.p,{children:"When using lazy compilation for entries, there are some considerations:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Only work for multi-page applications, no work for single-page applications."}),"\n",(0,i.jsx)(n.li,{children:"when you visit a page, there will be a white screen for a period of time due to waiting for the page to be compiled."}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"limitations",children:["Limitations",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#limitations",children:"#"})]}),"\n",(0,i.jsxs)(n.h4,{id:"disable-split-chunks",children:["Disable split chunks",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#disable-split-chunks",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"When you enable lazy compilation, in order to ensure the compilation results, Builder will disable split chunks in the development. This will not affect the build results in the production, but will cause a difference between the build results of the development and production."}),"\n",(0,i.jsxs)(n.h4,{id:"use-proxy",children:["Use proxy",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#use-proxy",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Lazy Compilation relies on the local development server of webpack. When you proxy a domain name to localhost, Lazy Compilation will not work properly. Therefore, if you need to develop with proxy, please disable Lazy Compilation."})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fexperiments%2FlazyCompilation.md"]={toc:[{text:"Lazy Compilation for Dynamic Imports",id:"lazy-compilation-for-dynamic-imports",depth:3},{text:"Lazy Compilation for Entires",id:"lazy-compilation-for-entires",depth:3},{text:"Limitations",id:"limitations",depth:3},{text:"Disable split chunks",id:"disable-split-chunks",depth:4},{text:"Use proxy",id:"use-proxy",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},28807:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"string"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Set the file path of the apple-touch-icon icon for the iOS system, can be set as a relative path relative to the project root directory, or as an absolute path to the file. Setting it as a CDN URL is not currently supported."}),"\n",(0,i.jsxs)(n.p,{children:["After config this option, the icon will be automatically copied to the dist directory during the compilation, and the corresponding ",(0,i.jsx)(n.code,{children:"link"})," tag will be added to the HTML."]}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Set as a relative path:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    appIcon: './src/assets/icon.png',\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"Set to an absolute path:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import path from 'path';\n\nexport default {\n  html: {\n    appIcon: path.resolve(__dirname, './src/assets/icon.png'),\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"After recompiling, the following tags are automatically generated in the HTML:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<link rel="apple-touch-icon" sizes="180*180" href="/static/image/icon.png" />\n'})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fhtml%2FappIcon.md"]={toc:[{text:"Example",id:"example",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},22804:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",h3:"h3",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean | 'anonymous' | 'use-credentials'"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Set the ",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/crossorigin",target:"_blank",rel:"noopener noreferrer",children:"crossorigin"})," attribute of the ",(0,i.jsx)(n.code,{children:"<script>"})," and ",(0,i.jsx)(n.code,{children:"<style>"})," tags."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["If ",(0,i.jsx)(n.code,{children:"true"})," is passed, it will automatically be set to ",(0,i.jsx)(n.code,{children:'crossorigin="anonymous"'}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["If ",(0,i.jsx)(n.code,{children:"false"})," is passed, it will not set the ",(0,i.jsx)(n.code,{children:"crossorigin"})," attr."]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    crossorigin: 'anonymous',\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["After compilation, the ",(0,i.jsx)(n.code,{children:"<script>"})," tag in HTML becomes:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<script defer src="/static/js/main.js" crossorigin="anonymous"></script>\n'})}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"<style>"})," tag becomes:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<link href="/static/css/main.css" rel="stylesheet" crossorigin="anonymous" />\n'})}),"\n",(0,i.jsxs)(n.h3,{id:"optional-values",children:["Optional Values",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#optional-values",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"crossorigin"})," can the set to the following values:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"anonymous"}),": Request uses CORS headers and credentials flag is set to 'same-origin'. There is no exchange of user credentials via cookies, client-side SSL certificates or HTTP authentication, unless destination is the same origin."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"use-credentials"}),": Request uses CORS headers, credentials flag is set to 'include' and user credentials are always included."]}),"\n"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fhtml%2Fcrossorigin.md"]={toc:[{text:"Example",id:"example",depth:3},{text:"Optional Values",id:"optional-values",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},76176:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",pre:"pre",blockquote:"blockquote"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Remove the folder of the HTML files. When this option is enabled, the generated HTML file path will change from ",(0,i.jsx)(n.code,{children:"[name]/index.html"})," to ",(0,i.jsx)(n.code,{children:"[name].html"}),"."]}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["By default, the structure of HTML files in the ",(0,i.jsx)(n.code,{children:"dist"})," directory is:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"/dist\n└── html\n    └── main\n        └── index.html\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Enable the ",(0,i.jsx)(n.code,{children:"html.disableHtmlFolder"})," config:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    disableHtmlFolder: true,\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"After recompiling, the directory structure of the HTML files in dist is:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"/dist\n└── html\n    └── main.html\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["If you want to set the path of the HTML files, use the ",(0,i.jsx)(n.code,{children:"output.distPath.html"})," config."]}),"\n"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fhtml%2FdisableHtmlFolder.md"]={toc:[{text:"Example",id:"example",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},43888:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"string"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Set the favicon icon path for all pages, can be set as:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"a URL."}),"\n",(0,i.jsx)(n.li,{children:"an absolute path to the file."}),"\n",(0,i.jsx)(n.li,{children:"a relative path relative to the project root directory."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["After config this option, the favicon will be automatically copied to the dist directory during the compilation, and the corresponding ",(0,i.jsx)(n.code,{children:"link"})," tag will be added to the HTML."]}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Set as a relative path:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    favicon: './src/assets/icon.png',\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"Set to an absolute path:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import path from 'path';\n\nexport default {\n  html: {\n    favicon: path.resolve(__dirname, './src/assets/icon.png'),\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"Set to a URL:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import path from 'path';\n\nexport default {\n  html: {\n    favicon: 'https://foo.com/favicon.ico',\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"After recompiling, the following tags are automatically generated in the HTML:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<link rel="icon" href="/favicon.ico" />\n'})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fhtml%2Ffavicon.md"]={toc:[{text:"Example",id:"example",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},3592:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Record<string, string>"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Set different favicon for different pages."}),"\n",(0,i.jsxs)(n.p,{children:["The usage is same as ",(0,i.jsx)(n.code,{children:"favicon"}),', and you can use the "entry name" as the key to set each page individually.']}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"faviconByEntries"})," will overrides the value set in ",(0,i.jsx)(n.code,{children:"favicon"}),"."]}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    favicon: './src/assets/default.png',\n    faviconByEntries: {\n      foo: './src/assets/foo.png',\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"After recompiling, you will see:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["The favicon for page ",(0,i.jsx)(n.code,{children:"foo"})," is ",(0,i.jsx)(n.code,{children:"./src/assets/foo.png"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["The favicon for other pages is ",(0,i.jsx)(n.code,{children:"./src/assets/default.png"}),"."]}),"\n"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fhtml%2FfaviconByEntries.md"]={toc:[{text:"Example",id:"example",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},21430:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h4:"h4",a:"a",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"'head' | 'body' | 'true' | false"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"'head'"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Set the inject position of the ",(0,i.jsx)(n.code,{children:"<script>"})," tag."]}),"\n",(0,i.jsx)(n.p,{children:"Can be set to the following values:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"'head'"}),": The script tag will be inject inside the head tag."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"'body'"}),": The script tag is inject at the end of the body tag."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"true"}),": The result depends on the scriptLoading config of ",(0,i.jsx)(n.code,{children:"html-webpack-plugin"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"false"}),": script tags will not be injected."]}),"\n"]}),"\n",(0,i.jsxs)(n.h4,{id:"default-inject-position",children:["Default inject position",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#default-inject-position",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The script tag is inside the head tag by default:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<html>\n  <head>\n    <title></title>\n    <script defer src="/static/js/runtime-main.js"></script>\n    <script defer src="/static/js/main.js"></script>\n    <link href="/static/css/main.css" rel="stylesheet" />\n  </head>\n  <body>\n    <div id="root"></div>\n  </body>\n</html>\n'})}),"\n",(0,i.jsxs)(n.h4,{id:"inject-into-body",children:["Inject into body",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#inject-into-body",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Add the following config to inject script into the body tag:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    inject: 'body',\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"You will see that the script tag is generated at the end of the body tag:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<html>\n  <head>\n    <title></title>\n    <link href="/static/css/main.css" rel="stylesheet" />\n  </head>\n  <body>\n    <div id="root"></div>\n    <script defer src="/static/js/runtime-main.js"></script>\n    <script defer src="/static/js/main.js"></script>\n  </body>\n</html>\n'})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fhtml%2Finject.md"]={toc:[{text:"Default inject position",id:"default-inject-position",depth:4},{text:"Inject into body",id:"inject-into-body",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},45545:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Record<string, boolean | string>"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Set different script tag inject positions for different pages."}),"\n",(0,i.jsxs)(n.p,{children:["The usage is same as ",(0,i.jsx)(n.code,{children:"inject"}),', and you can use the "entry name" as the key to set each page individually.']}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"injectByEntries"})," will overrides the value set in ",(0,i.jsx)(n.code,{children:"inject"}),"."]}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    inject: 'head',\n    injectByEntries: {\n      foo: 'body',\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"After recompiling, you will see:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["The script tag of the page ",(0,i.jsx)(n.code,{children:"foo"})," will be injected inside the ",(0,i.jsx)(n.code,{children:"body"})," tag."]}),"\n",(0,i.jsxs)(n.li,{children:["The script tag of other pages will be injected inside the ",(0,i.jsx)(n.code,{children:"head"})," tag."]}),"\n"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fhtml%2FinjectByEntries.md"]={toc:[{text:"Example",id:"example",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},60436:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Record<string, false | string | Record<string, string | boolean>>"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Configure the ",(0,i.jsx)(n.code,{children:"<meta>"})," tag of the HTML."]}),"\n",(0,i.jsxs)(n.h3,{id:"string-type",children:["String Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#string-type",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When the ",(0,i.jsx)(n.code,{children:"value"})," of a ",(0,i.jsx)(n.code,{children:"meta"})," object is a string, the ",(0,i.jsx)(n.code,{children:"key"})," of the object is automatically mapped to ",(0,i.jsx)(n.code,{children:"name"}),", and the ",(0,i.jsx)(n.code,{children:"value"})," is mapped to ",(0,i.jsx)(n.code,{children:"content"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"For example to set description:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    meta: {\n      description: 'a description of the page',\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["The generated ",(0,i.jsx)(n.code,{children:"meta"})," tag in HTML is:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<meta name="description" content="a description of the page" />\n'})}),"\n",(0,i.jsxs)(n.h3,{id:"object-type",children:["Object Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-type",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When the ",(0,i.jsx)(n.code,{children:"value"})," of a ",(0,i.jsx)(n.code,{children:"meta"})," object is an object, the ",(0,i.jsx)(n.code,{children:"key: value"})," of the object is mapped to the attribute of the ",(0,i.jsx)(n.code,{children:"meta"})," tag."]}),"\n",(0,i.jsxs)(n.p,{children:["In this case, the ",(0,i.jsx)(n.code,{children:"name"})," and ",(0,i.jsx)(n.code,{children:"content"})," properties will not be set by default."]}),"\n",(0,i.jsxs)(n.p,{children:["For example to set ",(0,i.jsx)(n.code,{children:"http-equiv"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    meta: {\n      'http-equiv': {\n        'http-equiv': 'x-ua-compatible',\n        content: 'ie=edge',\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"meta"})," tag in HTML is:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<meta http-equiv="x-ua-compatible" content="ie=edge" />\n'})}),"\n",(0,i.jsxs)(n.h3,{id:"remove-default-value",children:["Remove Default Value",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#remove-default-value",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Setting the ",(0,i.jsx)(n.code,{children:"value"})," of the ",(0,i.jsx)(n.code,{children:"meta"})," object to ",(0,i.jsx)(n.code,{children:"false"})," and the meta tag will not be generated."]}),"\n",(0,i.jsxs)(n.p,{children:["For example to remove the ",(0,i.jsx)(n.code,{children:"imagemode"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  html: {\n    meta: {\n      imagemode: false,\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fhtml%2Fmeta.md"]={toc:[{text:"String Type",id:"string-type",depth:3},{text:"Object Type",id:"object-type",depth:3},{text:"Remove Default Value",id:"remove-default-value",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},56483:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Record<string, Meta>"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Set different meta tags for different pages."}),"\n",(0,i.jsxs)(n.p,{children:["The usage is same as ",(0,i.jsx)(n.code,{children:"meta"}),', and you can use the "entry name" as the key to set each page individually.']}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"metaByEntries"})," will overrides the value set in ",(0,i.jsx)(n.code,{children:"meta"}),"."]}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    meta: {\n      description: 'ByteDance',\n    },\n    metaByEntries: {\n      foo: {\n        description: 'TikTok',\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["After compiling, you can see that the meta of the page ",(0,i.jsx)(n.code,{children:"foo"})," is:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<meta name="description" content="TikTok" />\n'})}),"\n",(0,i.jsx)(n.p,{children:"The meta of other pages is:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<meta name="description" content="ByteDance" />\n'})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fhtml%2FmetaByEntries.md"]={toc:[{text:"Example",id:"example",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},24808:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",pre:"pre",h3:"h3",a:"a",h4:"h4"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"string"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"'root'"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["By default, the ",(0,i.jsx)(n.code,{children:"root"})," element is included in the HTML template for component mounting, and the element id can be modified through ",(0,i.jsx)(n.code,{children:"mountId"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<body>\n  <div id="root"></div>\n</body>\n'})}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Set the ",(0,i.jsx)(n.code,{children:"id"})," to ",(0,i.jsx)(n.code,{children:"app"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    mountId: 'app',\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"After compilation:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<body>\n  <div id="app"></div>\n</body>\n'})}),"\n",(0,i.jsxs)(n.h3,{id:"notes",children:["Notes",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#notes",children:"#"})]}),"\n",(0,i.jsxs)(n.h4,{id:"update-relevant-code",children:["Update Relevant Code",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#update-relevant-code",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["After modifying ",(0,i.jsx)(n.code,{children:"mountId"}),", if there is logic in your code to obtain the ",(0,i.jsx)(n.code,{children:"root"})," root node, please update the corresponding value:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-diff",children:"- const domNode = document.getElementById('root');\n+ const domNode = document.getElementById('app');\n\nReactDOM.createRoot(domNode).render(<App />);\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"custom-templates",children:["Custom Templates",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#custom-templates",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["If you customized the HTML template, please make sure that the template contains ",(0,i.jsx)(n.code,{children:'<div id="<%= mountId %>"></div>'}),", otherwise the ",(0,i.jsx)(n.code,{children:"mountId"})," config will not take effect."]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fhtml%2FmountId.md"]={toc:[{text:"Example",id:"example",depth:3},{text:"Notes",id:"notes",depth:3},{text:"Update Relevant Code",id:"update-relevant-code",depth:4},{text:"Custom Templates",id:"custom-templates",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},20502:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",pre:"pre",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"'defer' | 'blocking' | 'module'"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"'defer'"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Used to set how ",(0,i.jsx)(n.code,{children:"<script>"})," tags are loaded."]}),"\n",(0,i.jsxs)(n.h3,{id:"defer",children:["defer",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#defer",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["By default, the ",(0,i.jsx)(n.code,{children:"<script>"})," tag generated by Builder will automatically set the ",(0,i.jsx)(n.code,{children:"defer"})," attribute to avoid blocking the parsing and rendering of the page."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<head>\n  <script defer src="/static/js/main.js"></script>\n</head>\n<body></body>\n'})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["When the browser encounters a ",(0,i.jsx)(n.code,{children:"<script>"})," tag with the defer attribute, it will download the script file asynchronously without blocking the parsing and rendering of the page. After the page is parsed and rendered, the browser executes the ",(0,i.jsx)(n.code,{children:"<script>"})," tags in the order they appear in the document.\n"]})})]}),"\n",(0,i.jsxs)(n.h3,{id:"blocking",children:["blocking",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#blocking",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Setting ",(0,i.jsx)(n.code,{children:"scriptLoading"})," to ",(0,i.jsx)(n.code,{children:"blocking"})," will remove the ",(0,i.jsx)(n.code,{children:"defer"})," attribute, and the script is executed synchronously, which means it will block the browser's parsing and rendering process until the script file is downloaded and executed."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    inject: 'body',\n    scriptLoading: 'blocking',\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["When you need to set ",(0,i.jsx)(n.code,{children:"blocking"}),", it is recommended to set ",(0,i.jsx)(n.code,{children:"html.inject"})," to ",(0,i.jsx)(n.code,{children:"'body'"})," to avoid page rendering being blocked."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<head></head>\n<body>\n  <script src="/static/js/main.js"></script>\n</body>\n'})}),"\n",(0,i.jsxs)(n.h3,{id:"module",children:["module",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#module",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When ",(0,i.jsx)(n.code,{children:"scriptLoading"})," is set to ",(0,i.jsx)(n.code,{children:"module"}),", the script can support ESModule syntax, and the browser will automatically delay the execution of these scripts by default, which is similar to ",(0,i.jsx)(n.code,{children:"defer"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    scriptLoading: 'module',\n  },\n};\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<head>\n  <script type="module" src="/static/js/main.js"></script>\n</head>\n<body></body>\n'})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fhtml%2FscriptLoading.md"]={toc:[{text:"defer",id:"defer",depth:3},{text:"blocking",id:"blocking",depth:3},{text:"module",id:"module",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},6974:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h4:"h4",a:"a",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"ArrayOrNot<HtmlInjectTag | HtmlInjectTagHandler>"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Modifies the tags that are injected into the HTML page."}),"\n",(0,i.jsxs)(n.h4,{id:"tag-object",children:["Tag Object",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#tag-object",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export interface HtmlInjectTag {\n  tag: string;\n  attrs?: Record<string, string | boolean | null | undefined>;\n  children?: string;\n  /** @default false */\n  hash?: boolean | string | ((url: string, hash: string) => string);\n  /** @default true */\n  publicPath?: boolean | string | ((url: string, publicPath: string) => string);\n  /** @default false */\n  append?: boolean;\n  /**\n   * Enable by default only for elements that are allowed to be included in the `head` tag.\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/HTML/Element/head#see_also}\n   */\n  head?: boolean;\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"A tag object can be used to describe the tag to be injected and the location of the injection can be controlled by the parameters."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    assetPrefix: '//example.com/',\n  },\n  html: {\n    tags: [\n      {\n        tag: 'script',\n        attrs: { src: 'a.js' },\n        head: true,\n        append: true,\n        publicPath: true,\n        hash: true,\n      },\n    ],\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["It will add a ",(0,i.jsx)(n.code,{children:"script"})," tag to the end of the ",(0,i.jsx)(n.code,{children:"head"})," of the HTML:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<html>\n  <head>\n    <!-- some other headTags... -->\n    <script src="//example.com/a.js?8327ec63"></script>\n  </head>\n  <body>\n    <!-- some other bodyTags... -->\n  </body>\n</html>\n'})}),"\n",(0,i.jsxs)(n.p,{children:["The final insertion position of the tag is determined by the ",(0,i.jsx)(n.code,{children:"head"})," and ",(0,i.jsx)(n.code,{children:"append"})," options, and two elements with the same configuration will be inserted into the same area and hold their relative positions to each other."]}),"\n",(0,i.jsxs)(n.p,{children:["Fields in the tag that indicate the path to the external resource file are affected by the ",(0,i.jsx)(n.code,{children:"publicPath"})," and ",(0,i.jsx)(n.code,{children:"hash"})," options.\nThese fields include ",(0,i.jsx)(n.code,{children:"src"})," for the ",(0,i.jsx)(n.code,{children:"script"})," tag and ",(0,i.jsx)(n.code,{children:"href"})," for the ",(0,i.jsx)(n.code,{children:"link"})," tag."]}),"\n",(0,i.jsxs)(n.p,{children:["Enabling ",(0,i.jsx)(n.code,{children:"publicPath"})," will splice the ",(0,i.jsx)(n.code,{children:"output.assetPrefix"})," field before the attribute representing the path in the tag.\nAnd the ",(0,i.jsx)(n.code,{children:"hash"})," field causes the filename to be followed by an additional hash query to control browser caching, with the same hash string as the HTML file product."]}),"\n",(0,i.jsx)(n.p,{children:"You can also pass functions to those fields to control the path joining."}),"\n",(0,i.jsxs)(n.h4,{id:"tags-handler",children:["Tags Handler",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#tags-handler",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export type HtmlInjectTagUtils = {\n  outputName: string;\n  publicPath: string;\n  hash: string;\n};\n\nexport type HtmlInjectTagHandler = (\n  tags: HtmlInjectTag[],\n  utils: HtmlInjectTagUtils,\n) => HtmlInjectTag[] | void;\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"html.tags"})," can also accept functions that can arbitrarily modify tags by writing logic to the callback, often used to ensure the relative position of tags while inserting them."]}),"\n",(0,i.jsx)(n.p,{children:"The callback function accepts a tag list as an argument and needs to modify or return a new tag array directly."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  html: {\n    tags: [\n      tags => {\n        tags.splice(0, 1);\n      },\n      /* ^?\n       *   { tag: 'script', attrs: { src: 'b.js' } },\n       *   ... some other headTags\n       *   { tag: 'script', attrs: { src: 'c.js' } },\n       *   ... some other bodyTags\n       *   { tag: 'script', attrs: { src: 'a.js' }, head: false },\n       */\n      { tag: 'script', attrs: { src: 'a.js' }, head: false },\n      { tag: 'script', attrs: { src: 'b.js' }, append: false },\n      { tag: 'script', attrs: { src: 'c.js' } },\n      tags => [...tags, { tag: 'script', attrs: { src: 'd.js' } }],\n      /* ^?\n       *   ... some other headTags\n       *   { tag: 'script', attrs: { src: 'c.js' } },\n       *   ... some other bodyTags\n       *   { tag: 'script', attrs: { src: 'a.js' }, head: false },\n       */\n    ],\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"The function will be executed at the end of the HTML processing flow. In the example below, the 'tags' parameter will contain all tag objects that form config, regardless of the function's location in config."}),"\n",(0,i.jsxs)(n.p,{children:["Modifying the attributes ",(0,i.jsx)(n.code,{children:"append"}),", ",(0,i.jsx)(n.code,{children:"publicPath"}),", ",(0,i.jsx)(n.code,{children:"hash"})," in the callback will not take effect, because they have been applied to the tag's location and path attributes, respectively."]}),"\n",(0,i.jsx)(n.p,{children:"So the end product will look like:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<html>\n  <head>\n    <!-- tags with `{ head: true, append: false }` here. -->\n    <!-- some other headTags... -->\n    <!-- tags with `{ head: true, append: true }` here. -->\n    <script src="//example.com/c.js"></script>\n    <script src="//example.com/d.js"></script>\n  </head>\n  <body>\n    <!-- tags with `{ head: false, append: false }` here. -->\n    <!-- some other bodyTags... -->\n    <!-- tags with `{ head: false, append: true }` here. -->\n    <script src="//example.com/a.js"></script>\n  </body>\n</html>\n'})}),"\n",(0,i.jsxs)(n.h4,{id:"limitation",children:["Limitation",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#limitation",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["This configuration is used to modify the content of HTML files after Builder completes building, and does not resolve or parse new modules. It cannot be used to import uncompiled source code files. Also cannot replace configurations such as ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/builder/api/config-source.html#source.preentry",target:"_blank",rel:"noopener noreferrer",children:"source.preEntry"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"For example, for the following project:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-plain",children:"web-app\n├── src\n│   ├── index.tsx\n│   └── polyfill.ts\n└── modern.config.ts\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="modern.config.ts"',children:"export default {\n  output: {\n    assetPrefix: '//example.com/',\n  },\n  html: {\n    tags: [\n      { tag: 'script', attrs: { src: './src/polyfill.ts' } },\n    ],\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["The tag object here will be directly added to the HTML product after simple processing, but the ",(0,i.jsx)(n.code,{children:"polyfill.ts"})," will not be transpiled or bundled, so there will be a 404 error when processing this script in the application."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<body>\n  <script src="//example.com/src/polyfill.ts"></script>\n</body>\n'})}),"\n",(0,i.jsx)(n.p,{children:"Reasonable use cases include:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Injecting static resources with ",(0,i.jsx)(n.strong,{children:"determined paths"})," on CDN."]}),"\n",(0,i.jsx)(n.li,{children:"Injecting inline scripts that need to be loaded on the first screen."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"For example, the usage of the following example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-plain",children:"web-app\n├── src\n│   └── index.tsx\n├── public\n│   └── service-worker.js\n└── modern.config.ts\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="modern.config.ts"',children:"function report() {\n  fetch('https://www.example.com/report')\n}\n\nexport default {\n  html: {\n    output: {\n      assetPrefix: '//example.com/',\n    },\n    tags: [\n      // Inject asset from the `public` directory.\n      { tag: 'script', attrs: { src: 'service-worker.js' } },\n      // Inject asset from other CDN url.\n      {\n        tag: 'script',\n        publicPath: false,\n        attrs: { src: 'https://cdn.example.com/foo.js' },\n      },\n      // Inject inline script.\n      {\n        tag: 'script',\n        children: report.toString() + '\\nreport()',\n      }\n    ],\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"The result will seems like:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<body>\n  <script src="//example.com/service-worker.js"></script>\n  <script src="https://cdn.example.com/foo.js"></script>\n  <script>\n    function report() {\n      fetch(\'https://www.example.com/report\')\n    }\n    report()\n  </script>\n</body>\n'})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fhtml%2Ftags.md"]={toc:[{text:"Tag Object",id:"tag-object",depth:4},{text:"Tags Handler",id:"tags-handler",depth:4},{text:"Limitation",id:"limitation",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},26421:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Record<string, ArrayOrNot<HtmlInjectTag | HtmlInjectTagHandler>>"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Used for multiple entry applications, injecting different tags for each entry."}),"\n",(0,i.jsxs)(n.p,{children:["The usage is the same as ",(0,i.jsx)(n.code,{children:"tags"}),', and you can use the "entry name" as the key to set each page individually.']}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"tagsByEntries"})," will override the value set in ",(0,i.jsx)(n.code,{children:"tags"}),"."]}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    tags: [{ tag: 'script', attrs: { src: 'a.js' } }],\n    tagsByEntries: {\n      foo: [{ tag: 'script', attrs: { src: 'b.js' } }],\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Compile the application and you can see a tag injected on the ",(0,i.jsx)(n.code,{children:"foo"})," page:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<script src="b.js"></script>\n'})}),"\n",(0,i.jsx)(n.p,{children:"And for any other pages:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<script src="a.js"></script>\n'})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fhtml%2FtagsByEntries.md"]={toc:[{text:"Example",id:"example",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},22318:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",h3:"h3",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"string"})]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Default:"})}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Define the path to the HTML template, corresponding to the ",(0,i.jsx)(n.code,{children:"template"})," config of ",(0,i.jsx)(n.a,{href:"https://github.com/jantimon/html-webpack-plugin",target:"_blank",rel:"noopener noreferrer",children:"html-webpack-plugin"}),"."]}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Replace the default template with a custom HTML template file, you can add the following config:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    template: './static/index.html',\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fhtml%2Ftemplate.md"]={toc:[{text:"Example",id:"example",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},58376:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Object"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Set different template file for different pages."}),"\n",(0,i.jsxs)(n.p,{children:["The usage is same as ",(0,i.jsx)(n.code,{children:"template"}),', and you can use the "entry name" as the key to set each page individually.']}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"templateByEntries"})," will overrides the value set in ",(0,i.jsx)(n.code,{children:"template"}),"."]}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    template: './static/index.html',\n    templateByEntries: {\n      foo: './src/pages/foo/index.html',\n      bar: './src/pages/bar/index.html',\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fhtml%2FtemplateByEntries.md"]={toc:[{text:"Example",id:"example",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},47415:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",pre:"pre",p:"p",a:"a",h3:"h3"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Object | Function"})]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Default:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type DefaultParameters = {\n  meta: string; // corresponding to html.meta config\n  title: string; // corresponding to html.title config\n  mountId: string; // corresponding to html.mountId config\n  entryName: string; // entry name\n  assetPrefix: string; // corresponding to output.assetPrefix config\n  compilation: webpack.Compilation; // Compilation object corresponding to webpack\n  webpackConfig: config; // webpack config\n  // htmlWebpackPlugin built-in parameters\n  // See https://github.com/jantimon/html-webpack-plugin for details\n  htmlWebpackPlugin: {\n    tags: object;\n    files: object;\n    options: object;\n  };\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Define the parameters in the HTML template, corresponding to the ",(0,i.jsx)(n.code,{children:"templateParameters"})," config of ",(0,i.jsx)(n.a,{href:"https://github.com/jantimon/html-webpack-plugin",target:"_blank",rel:"noopener noreferrer",children:"html-webpack-plugin"}),". You can use the config as an object or a function."]}),"\n",(0,i.jsx)(n.p,{children:"If it is an object, it will be merged with the default parameters. For example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  html: {\n    templateParameters: {\n      title: 'My App',\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"If it is a function, the default parameters will be passed in, and you can return an object to override the default parameters. For example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  html: {\n    templateParameters: defaultParameters => {\n      console.log(defaultParameters.compilation);\n      console.log(defaultParameters.title);\n      return {\n        title: 'My App',\n      };\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["To use the ",(0,i.jsx)(n.code,{children:"foo"})," parameter in the HTML template, you can add the following config:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    templateParameters: {\n      foo: 'bar',\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"Or you can use a function to dynamically generate the parameters:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    templateParameters: defaultParameters => {\n      return {\n        foo: 'bar',\n      };\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Then you can use the ",(0,i.jsx)(n.code,{children:"foo"})," parameter in the HTML template by ",(0,i.jsx)(n.code,{children:"<%= foo %>"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:"<script>\n  window.foo = '<%= foo %>';\n</script>\n"})}),"\n",(0,i.jsx)(n.p,{children:"The compiled HTML is:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"<script>window.foo = 'bar'</script>\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fhtml%2FtemplateParameters.md"]={toc:[{text:"Example",id:"example",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},80760:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Object"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Set different template parameters for different pages."}),"\n",(0,i.jsxs)(n.p,{children:["The usage is same as ",(0,i.jsx)(n.code,{children:"templateParameters"}),', and you can use the "entry name" as the key to set each page individually.']}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"templateParametersByEntries"})," will overrides the value set in ",(0,i.jsx)(n.code,{children:"templateParameters"}),"."]}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    templateParametersByEntries: {\n      foo: {\n        type: 'a',\n      },\n      bar: {\n        type: 'b',\n      },\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fhtml%2FtemplateParametersByEntries.md"]={toc:[{text:"Example",id:"example",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},42455:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"string"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Set the title tag of the HTML page, for example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    title: 'example',\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fhtml%2Ftitle.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},20481:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Record<string, string>"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Set different title for different pages."}),"\n",(0,i.jsxs)(n.p,{children:["The usage is same as ",(0,i.jsx)(n.code,{children:"title"}),', and you can use the "entry name" as the key to set each page individually.']}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"titleByEntries"})," will overrides the value set in ",(0,i.jsx)(n.code,{children:"title"}),"."]}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    title: 'ByteDance',\n    titleByEntries: {\n      foo: 'TikTok',\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"After recompiling, you can see:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["The title of the page ",(0,i.jsx)(n.code,{children:"foo"})," is ",(0,i.jsx)(n.code,{children:"TikTok"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["The title of other pages is ",(0,i.jsx)(n.code,{children:"ByteDance"}),"."]}),"\n"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fhtml%2FtitleByEntries.md"]={toc:[{text:"Example",id:"example",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},63061:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",h3:"h3",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean | string"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"'/'"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["When using CDN in the production environment, you can use this option to set the URL prefix of static assets, similar to the ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/guides/public-path/",target:"_blank",rel:"noopener noreferrer",children:"output.publicPath"})," config of webpack."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"assetPrefix"})," will affect the URLs of most of the static assets, including JavaScript files, CSS files, images, videos, etc. If an incorrect value is specified, you'll receive 404 errors while loading these resources."]}),"\n",(0,i.jsxs)(n.p,{children:["This config is only used in the production environment. In the development environment, please use the ",(0,i.jsx)(n.code,{children:"dev.assetPrefix"})," to set the URL prefix."]}),"\n",(0,i.jsxs)(n.p,{children:["After setting, the URLs of JavaScript, CSS and other static files will be prefixed with ",(0,i.jsx)(n.code,{children:"output.assetPrefix"}),":"]}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    assetPrefix: 'https://cdn.example.com/assets/',\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"After building, you can see that the JS files are loaded from:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<script\n  defer\n  src="https://cdn.example.com/assets/static/js/main.ebc4ff4f.js"\n></script>\n'})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Foutput%2FassetPrefix.md"]={toc:[{text:"Example",id:"example",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},12143:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",pre:"pre",h3:"h3",a:"a"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Object"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"output.assetsRetry"})," is used to configure the retry of assets.The type of ",(0,i.jsx)(n.code,{children:"AssetsRetryOptions"})," is as follows:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export type AssetsRetryHookContext = {\n  times: number;\n  domain: string;\n  url: string;\n  tagName: string;\n};\n\nexport type AssetsRetryOptions = {\n  type?: string[];\n  domain?: string[];\n  max?: number;\n  test?: string | ((url: string) => boolean);\n  crossOrigin?: boolean | 'anonymous' | 'use-credentials';\n  inlineScript?: boolean;\n  onRetry?: (options: AssetsRetryHookContext) => void;\n  onSuccess?: (options: AssetsRetryHookContext) => void;\n  onFail?: (options: AssetsRetryHookContext) => void;\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"Since the ability will inject some extra runtime code into HTML, we have disabled this ability by default. If you need to enable it, you can configure it in the form of an object, for example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    assetsRetry: {},\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["When you enable this ability, the default config of ",(0,i.jsx)(n.code,{children:"assetsRetry"})," is as follows:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export const defaultAssetsRetryOptions: AssetsRetryOptions = {\n  type: ['script', 'link', 'img'],\n  domain: [],\n  max: 3,\n  test: '',\n  crossOrigin: false,\n  onRetry: () => {},\n  onSuccess: () => {},\n  onFail: () => {},\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"At the same time, you can also customize your retry logic using the following configurations."}),"\n",(0,i.jsxs)(n.h3,{id:"assetsretrydomain",children:["assetsRetry.domain",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#assetsretrydomain",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"string[]"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"[]"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Specifies the retry domain when assets fail to load. In the ",(0,i.jsx)(n.code,{children:"domain"})," array, the first item is the currently used domain, and the following items are backup domains. When a asset request for a domain fails, Builder will find that domain in the array and replace it with the next domain in the array."]}),"\n",(0,i.jsx)(n.p,{children:"For example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    assetsRetry: {\n      domain: ['https://cdn1.com', 'https://cdn2.com', 'https://cdn3.com'],\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["After adding the above configuration, when assets fail to load from the ",(0,i.jsx)(n.code,{children:"cdn1.com"})," domain, the request domain will automatically fallback to ",(0,i.jsx)(n.code,{children:"cdn2.com"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["If the assets request for ",(0,i.jsx)(n.code,{children:"cdn2.com"})," also fails, the request will fallback to ",(0,i.jsx)(n.code,{children:"cdn3.com"}),"."]}),"\n",(0,i.jsxs)(n.h3,{id:"assetsretrytype",children:["assetsRetry.type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#assetsretrytype",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"string[]"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"['script', 'link', 'img']"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Used to specify the HTML tag types that need to be retried. By default, script tags, link tags, and img tags are processed, corresponding to JS code, CSS code, and images."}),"\n",(0,i.jsx)(n.p,{children:"For example, only script tags and link tags are processed:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    assetsRetry: {\n      type: ['script', 'link'],\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"assetsretrymax",children:["assetsRetry.max",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#assetsretrymax",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"number"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"3"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The maximum number of retries for a single asset. For example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    assetsRetry: {\n      max: 5,\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"assetsretrytest",children:["assetsRetry.test",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#assetsretrytest",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"string | ((url: string) => boolean) | undefined"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The test function of the asset to be retried. For example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    assetsRetry: {\n      test: /cdn\\.example\\.com/,\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"assetsretrycrossorigin",children:["assetsRetry.crossOrigin",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#assetsretrycrossorigin",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"undefined | boolean | 'anonymous' | 'use-credentials'"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"same as html.crossorigin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["When initiating a retry for assets, Builder will recreate the ",(0,i.jsx)(n.code,{children:"<script>"})," tags. This option allows you to set the ",(0,i.jsx)(n.code,{children:"crossorigin"})," attribute for these tags."]}),"\n",(0,i.jsxs)(n.p,{children:["By default, the value of ",(0,i.jsx)(n.code,{children:"assetsRetry.crossOrigin"})," will be consistent with the ",(0,i.jsx)(n.code,{children:"html.crossorigin"})," configuration, so no additional configuration is required. If you need to configure the recreated tags separately, you can use this option, for example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    assetsRetry: {\n      crossOrigin: true,\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"assetsretryonretry",children:["assetsRetry.onRetry",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#assetsretryonretry",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"undefined | (options: AssetsRetryHookContext) => void"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The callback function when the asset is being retried. For example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    assetsRetry: {\n      onRetry: ({ times, domain, url, tagName }) => {\n        console.log(\n          `Retry ${times} times, domain: ${domain}, url: ${url}, tagName: ${tagName}`,\n        );\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"assetsretryonsuccess",children:["assetsRetry.onSuccess",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#assetsretryonsuccess",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"undefined | (options: AssetsRetryHookContext) => void"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The callback function when the asset is successfully retried. For example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    assetsRetry: {\n      onSuccess: ({ times, domain, url, tagName }) => {\n        console.log(\n          `Retry ${times} times, domain: ${domain}, url: ${url}, tagName: ${tagName}`,\n        );\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"assetsretryonfail",children:["assetsRetry.onFail",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#assetsretryonfail",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"undefined | (options: AssetsRetryHookContext) => void"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The callback function when the asset is failed to be retried. For example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    assetsRetry: {\n      onFail: ({ times, domain, url, tagName }) => {\n        console.log(\n          `Retry ${times} times, domain: ${domain}, url: ${url}, tagName: ${tagName}`,\n        );\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"assetsretryinlinescript",children:["assetsRetry.inlineScript",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#assetsretryinlinescript",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Whether to inline the runtime JavaScript code of ",(0,i.jsx)(n.code,{children:"assetsRetry"})," into the HTML file."]}),"\n",(0,i.jsxs)(n.p,{children:["If you don't want to insert the code in the HTML file, you can set ",(0,i.jsx)(n.code,{children:"assetsRetry.inlineScript"})," to ",(0,i.jsx)(n.code,{children:"false"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    assetsRetry: {\n      inlineScript: false,\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["After adding the above configuration, the runtime code of ",(0,i.jsx)(n.code,{children:"assetsRetry"})," will be extracted into a separate ",(0,i.jsx)(n.code,{children:"assets-retry.[version].js"})," file and output to the dist directory."]}),"\n",(0,i.jsxs)(n.p,{children:["The downside is that ",(0,i.jsx)(n.code,{children:"assets-retry.[version].js"})," itself may fail to load. If this happens, the assets retry will not work. Therefore, we prefer to inline the runtime code into the HTML file."]}),"\n",(0,i.jsxs)(n.h3,{id:"notes",children:["Notes",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#notes",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When you use ",(0,i.jsx)(n.code,{children:"assetsRetry"}),", the Builder injects some runtime code into the HTML and serializes the ",(0,i.jsx)(n.code,{children:"assetsRetry"})," config, inserting it into the runtime code. Therefore, you need to be aware of the following:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Avoid configuring sensitive information in ",(0,i.jsx)(n.code,{children:"assetsRetry"}),", such as internal tokens."]}),"\n",(0,i.jsxs)(n.li,{children:["Avoid referencing variables or methods outside of ",(0,i.jsx)(n.code,{children:"onRetry"}),", ",(0,i.jsx)(n.code,{children:"onSuccess"}),", and ",(0,i.jsx)(n.code,{children:"onFail"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Avoid using syntax with compatibility issues in ",(0,i.jsx)(n.code,{children:"onRetry"}),", ",(0,i.jsx)(n.code,{children:"onSuccess"})," and ",(0,i.jsx)(n.code,{children:"onFail"})," as these functions are inlined directly into the HTML."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Here's an example of incorrect usage:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import { someMethod } from 'utils';\n\nexport default {\n  output: {\n    assetsRetry: {\n      onRetry() {\n        // Incorrect usage, includes sensitive information\n        const privateToken = 'a-private-token';\n\n        // Incorrect usage, uses an external method\n        someMethod(privateToken);\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Additionally, if your project is a micro-frontend application (such as a Garfish sub-application), the assets retry may not work because micro-frontend sub-applications are typically not loaded directly based on the ",(0,i.jsx)(n.code,{children:"<script>"})," tag."]}),"\n",(0,i.jsx)(n.p,{children:"If you need to retry assets in micro-frontend scenarios, please contact the developers of the micro-frontend framework to find a solution."})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Foutput%2FassetsRetry.md"]={toc:[{text:"assetsRetry.domain",id:"assetsretrydomain",depth:3},{text:"assetsRetry.type",id:"assetsretrytype",depth:3},{text:"assetsRetry.max",id:"assetsretrymax",depth:3},{text:"assetsRetry.test",id:"assetsretrytest",depth:3},{text:"assetsRetry.crossOrigin",id:"assetsretrycrossorigin",depth:3},{text:"assetsRetry.onRetry",id:"assetsretryonretry",depth:3},{text:"assetsRetry.onSuccess",id:"assetsretryonsuccess",depth:3},{text:"assetsRetry.onFail",id:"assetsretryonfail",depth:3},{text:"assetsRetry.inlineScript",id:"assetsretryinlinescript",depth:3},{text:"Notes",id:"notes",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},71769:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"'ascii' | 'utf8'"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"'ascii'"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"By default, Builder's output is ASCII-only and will escape all non-ASCII characters."}),"\n",(0,i.jsxs)(n.p,{children:["If you want to output the original characters without using escape sequences, you can set ",(0,i.jsx)(n.code,{children:"output.charset"})," to ",(0,i.jsx)(n.code,{children:"utf8"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    charset: 'utf8',\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Builder will automatically add ",(0,i.jsx)(n.code,{children:'<meta charset="utf-8">'})," to the generated HTML files if ",(0,i.jsx)(n.code,{children:"output.charset"})," is ",(0,i.jsx)(n.code,{children:"utf8"}),"."]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Foutput%2Fcharset.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},76254:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Whether to clean all files in the dist path before starting compilation."}),"\n",(0,i.jsxs)(n.p,{children:["By default, Builder clean up the dist file, you can disable this behavior by setting ",(0,i.jsx)(n.code,{children:"cleanDistPath"})," to ",(0,i.jsx)(n.code,{children:"false"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    cleanDistPath: false,\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Foutput%2FcleanDistPath.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},22031:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",pre:"pre",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean | object"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["By setting ",(0,i.jsx)(n.code,{children:"output.convertToRem"}),", the Builder can do the following things:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Convert px to rem in CSS."}),"\n",(0,i.jsx)(n.li,{children:"Insert runtime code into the HTML template to set the fontSize of the root element."}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"boolean-type",children:["Boolean Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#boolean-type",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["If ",(0,i.jsx)(n.code,{children:"output.convertToRem"})," is set to ",(0,i.jsx)(n.code,{children:"true"}),", Rem processing capability will be turned on."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    convertToRem: true,\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"At this point, the rem configuration defaults as follows:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  enableRuntime: true,\n  rootFontSize: 50,\n  screenWidth: 375,\n  rootFontSize: 50,\n  maxRootFontSize: 64,\n  widthQueryKey: '',\n  excludeEntries: [],\n  supportLandscape: false,\n  useRootFontSizeBeyondMax: false,\n  pxtorem: {\n    rootValue: 50,\n    unitPrecision: 5,\n    propList: ['*'],\n  }\n}\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"object-type",children:["Object Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-type",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When the value of ",(0,i.jsx)(n.code,{children:"output.convertToRem"})," is ",(0,i.jsx)(n.code,{children:"object"})," type, The Builder will perform Rem processing based on the current configuration."]}),"\n",(0,i.jsx)(n.p,{children:"options:"}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"Name"}),"\n",(0,i.jsx)(n.th,{children:"Type"}),"\n",(0,i.jsx)(n.th,{children:"Default"}),"\n",(0,i.jsx)(n.th,{children:"Description"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"enableRuntime"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"true"})}),"\n",(0,i.jsx)(n.td,{children:"Whether to generate runtime code to calculate and set the font size of the root element"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"inlineRuntime"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"true"})}),"\n",(0,i.jsxs)(n.td,{children:["Whether to inline the runtime code to HTML. If set to ",(0,i.jsx)(n.code,{children:"false"}),", the runtime code will be extracted into a separate ",(0,i.jsx)(n.code,{children:"convert-rem.[version].js"})," file and output to the dist directory"]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"rootFontSize"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"number"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"50"})}),"\n",(0,i.jsx)(n.td,{children:"The root element font size"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"maxRootFontSize"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"number"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"64"})}),"\n",(0,i.jsx)(n.td,{children:"The root element max font size"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"widthQueryKey"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"'' "})}),"\n",(0,i.jsx)(n.td,{children:"Get clientWidth from the url query based on widthQueryKey"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"screenWidth"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"number"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"375"})}),"\n",(0,i.jsxs)(n.td,{children:["The screen width for UI design drawings (Usually, ",(0,i.jsx)(n.code,{children:"fontSize = (clientWidth * rootFontSize) / screenWidth"}),")"]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"excludeEntries"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string[]"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"[]"})}),"\n",(0,i.jsx)(n.td,{children:"The entries to ignore"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"supportLandscape"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"false"})}),"\n",(0,i.jsx)(n.td,{children:"Use height to calculate rem in landscape"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"useRootFontSizeBeyondMax"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"false"})}),"\n",(0,i.jsx)(n.td,{children:"Whether to use rootFontSize when large than maxRootFontSize"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"pxtorem"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"object"})}),"\n",(0,i.jsxs)(n.td,{children:["rootValue (Default is the same as rootFontSize) ","unitPrecision: 5 ","propList: ['*']"]}),"\n",(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.a,{href:"https://github.com/cuth/postcss-pxtorem#options",target:"_blank",rel:"noopener noreferrer",children:"postcss-pxtorem"})," options"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    convertToRem: {\n      rootFontSize: 30,\n      excludeEntries: ['404', 'page2'],\n      pxtorem: {\n        propList: ['font-size'],\n      },\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Foutput%2FconvertToRem.md"]={toc:[{text:"Boolean Type",id:"boolean-type",depth:3},{text:"Object Type",id:"object-type",depth:3},{text:"Example",id:"example",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},95942:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",pre:"pre",a:"a"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"CopyPluginOptions | CopyPluginOptions['patterns']"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Copies the specified file or directory to the dist directory."}),"\n",(0,i.jsxs)(n.p,{children:["For example, copy the files under ",(0,i.jsx)(n.code,{children:"src/assets"})," to the dist directory:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    copy: [{ from: './src/assets', to: '' }],\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["For more detailed configuration, please refer to: ",(0,i.jsx)(n.a,{href:"https://github.com/webpack-contrib/copy-webpack-plugin",target:"_blank",rel:"noopener noreferrer",children:"copy-webpack-plugin"}),"."]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Foutput%2Fcopy.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},66952:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",pre:"pre",p:"p",h3:"h3",a:"a",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"string"})]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Default:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// isProd indicates that the production build\nconst localIdentName = isProd\n  ? '[hash:base64:5]'\n  : '[path][name]__[local]--[hash:base64:5]';\n"})}),"\n",(0,i.jsx)(n.p,{children:"Sets the format of the className generated by CSS Modules after compilation."}),"\n",(0,i.jsxs)(n.h3,{id:"default-value",children:["Default Value",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#default-value",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"cssModuleLocalIdentName"})," has different default values in development and production."]}),"\n",(0,i.jsx)(n.p,{children:"In a production, Builder will generate shorter class names to reduce the bundle size."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import styles from './index.module.scss';\n\n// In development, the value is `.src-index-module__header--xxxxx`\n// In production, the value is `.xxxxx`\nconsole.log(styles.header);\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"template-string",children:["Template String",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#template-string",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["You can use the following template strings in ",(0,i.jsx)(n.code,{children:"cssModuleLocalIdentName"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"[name]"})," - the basename of the asset."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"[local]"})," - original class."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"[hash]"})," - the hash of the string."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"[folder]"})," - the folder relative path."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"[path]"})," - the relative path."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"[file]"})," - filename and path."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"[ext]"})," - extension with leading dot."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"[hash:<hashDigest>:<hashDigestLength>]"}),": hash with hash settings."]}),"\n"]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["When using Rspack as the bundler, currently does not support custom ",(0,i.jsx)(n.code,{children:"<hashDigest>"}),".\n"]})})]}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Set ",(0,i.jsx)(n.code,{children:"cssModuleLocalIdentName"})," to other value:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    cssModuleLocalIdentName: '[hash:base64:4]',\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Foutput%2FcssModuleLocalIdentName.md"]={toc:[{text:"Default Value",id:"default-value",depth:3},{text:"Template String",id:"template-string",depth:3},{text:"Example",id:"example",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},27763:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code",p:"p",h3:"h3",a:"a"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type CssModules = {\n  auto?: boolean | RegExp | ((resourcePath: string) => boolean);\n};\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Setup css modules configuration."}),"\n",(0,i.jsxs)(n.h3,{id:"cssmodulesauto",children:["cssModules.auto",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#cssmodulesauto",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"auto"})," configuration option allows CSS modules to be automatically enabled based on their filenames."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean | RegExp | ((resourcePath: string) => boolean)"}),";"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Type description:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"undefined"}),": According to the ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/builder/en/api/config-output.html#outputdisablecssmoduleextension",target:"_blank",rel:"noopener noreferrer",children:"output.disableCssModuleExtension"})," configuration item to determine which style files to enable CSS modules."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"true"}),": enable CSS modules for all files matching ",(0,i.jsx)(n.code,{children:"/\\.module\\.\\w+$/i.test(filename)"})," regexp."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"false"}),": disables CSS Modules."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"RegExp"}),": enable CSS modules for all files matching ",(0,i.jsx)(n.code,{children:"/RegExp/i.test(filename)"})," regexp."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"function"}),": enable CSS Modules for files based on the filename satisfying your filter function check."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    cssModules: {\n      auto: resource => {\n        return resource.includes('.module.') || resource.includes('shared/');\n      },\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Foutput%2FcssModules.md"]={toc:[{text:"cssModules.auto",id:"cssmodulesauto",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},55120:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code",p:"p",h3:"h3",a:"a"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type DataUriLimitConfig = {\n  svg?: number;\n  font?: number;\n  image?: number;\n  media?: number;\n};\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Default:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const defaultDatUriLimit = {\n  svg: 10000,\n  font: 10000,\n  image: 10000,\n  media: 10000,\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"Set the size threshold to inline static assets such as images and fonts."}),"\n",(0,i.jsx)(n.p,{children:"By default, static assets will be Base64 encoded and inline into the page if the size is less than 10KB."}),"\n",(0,i.jsxs)(n.p,{children:["You can adjust the threshold by setting the ",(0,i.jsx)(n.code,{children:"dataUriLimit"})," config."]}),"\n",(0,i.jsx)(n.p,{children:"Detail:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"svg"}),": The threshold of the SVG image."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"font"}),": The threshold of the font file."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"image"}),": The threshold of non-SVG images."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"media"}),": The threshold of media assets such as videos."]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Set the threshold of images to 5000 Bytes, and set media assets not to be inlined:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    dataUriLimit: {\n      image: 5000,\n      media: 0,\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Foutput%2FdataUriLimit.md"]={toc:[{text:"Example",id:"example",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},34187:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Whether to disable CSS extract and inline CSS files into JS files."}),"\n",(0,i.jsxs)(n.p,{children:["By default, Builder will extract CSS into a separate ",(0,i.jsx)(n.code,{children:".css"})," file and output it to the dist directory. When this option is set to ",(0,i.jsx)(n.code,{children:"true"}),", CSS files will be inlined into JS files and inserted on the page at runtime via ",(0,i.jsx)(n.code,{children:"<style>"})," tags."]}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    disableCssExtract: true,\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Foutput%2FdisableCssExtract.md"]={toc:[{text:"Example",id:"example",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},94467:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",div:"div",h3:"h3",a:"a",pre:"pre",h4:"h4"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Whether to treat all ",(0,i.jsx)(n.code,{children:".css"})," files in the source directory as CSS Modules."]}),"\n",(0,i.jsxs)(n.p,{children:["By default, only the ",(0,i.jsx)(n.code,{children:"*.module.css"})," files are treated as CSS Modules. After enabling this config, all ",(0,i.jsx)(n.code,{children:"*.css"})," style files in the source directory will be regarded as CSS Modules."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:".sass"}),", ",(0,i.jsx)(n.code,{children:".scss"})," and ",(0,i.jsx)(n.code,{children:".less"})," files are also affected by ",(0,i.jsx)(n.code,{children:"disableCssModuleExtension"}),"."]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["We do not recommend enabling this config, because after enabling ",(0,i.jsx)(n.code,{children:"disableCssModuleExtension"}),", CSS Modules files and ordinary CSS files cannot be clearly distinguished, which is not conducive to long-term maintenance.\n"]})})]}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    disableCssModuleExtension: true,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"detailed",children:["Detailed",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#detailed",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The following is a detailed explanation of the CSS Modules rules:"}),"\n",(0,i.jsxs)(n.h4,{id:"disablecssmoduleextension-is-false-(default)",children:["disableCssModuleExtension is false (default)",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#disablecssmoduleextension-is-false-(default)",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The following files are treated as CSS Modules:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["all ",(0,i.jsx)(n.code,{children:"*.module.css"})," files"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The following files are treated as normal CSS:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["all ",(0,i.jsx)(n.code,{children:"*.css"})," files (excluding ",(0,i.jsx)(n.code,{children:".module"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:["all ",(0,i.jsx)(n.code,{children:"*.global.css"})," files"]}),"\n"]}),"\n",(0,i.jsxs)(n.h4,{id:"disablecssmoduleextension-is-true",children:["disableCssModuleExtension is true",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#disablecssmoduleextension-is-true",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The following files are treated as CSS Modules:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"*.css"})," and ",(0,i.jsx)(n.code,{children:"*.module.css"})," files in the source directory"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"*.module.css"})," files under node_modules"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The following files are treated as normal CSS:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["all ",(0,i.jsx)(n.code,{children:"*.global.css"})," files"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"*.css"})," files under node_modules (without ",(0,i.jsx)(n.code,{children:".module"}),")"]}),"\n"]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["For CSS Modules files inside node_modules, please always use the ",(0,i.jsx)(n.code,{children:"*.module.css"})," suffix.\n"]})})]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Foutput%2FdisableCssModuleExtension.md"]={toc:[{text:"Example",id:"example",depth:3},{text:"Detailed",id:"detailed",depth:3},{text:"disableCssModuleExtension is false (default)",id:"disablecssmoduleextension-is-false-(default)",depth:4},{text:"disableCssModuleExtension is true",id:"disablecssmoduleextension-is-true",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},65533:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Remove the hash from the name of static files after production build."}),"\n",(0,i.jsxs)(n.p,{children:["After the production build, there will be a hash in the middle of the filename by default. You can disable this behavior through the ",(0,i.jsx)(n.code,{children:"output.disableFilenameHash"})," config."]}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"By default, the filename is:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"File                                     Size         Gzipped\ndist/static/css/187.7879e19d.css         126.99 KB    9.17 KB\ndist/static/js/main.18a568e5.js          2.24 KB      922 B\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Add ",(0,i.jsx)(n.code,{children:"output.disableFilenameHash"})," config:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    disableFilenameHash: true,\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"After rebuild, the filenames become:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"File                            Size         Gzipped\ndist/static/css/187.css         126.99 KB    9.17 KB\ndist/static/js/main.js          2.24 KB      922 B\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Foutput%2FdisableFilenameHash.md"]={toc:[{text:"Example",id:"example",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},3903:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",div:"div",a:"a",h3:"h3",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Used to control whether to inline the bundler's runtime code into HTML."}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"What is runtimeChunk"}),(0,i.jsxs)(n.div,{className:"modern-directive-content",children:[(0,i.jsxs)(n.p,{children:["Builder will generate a ",(0,i.jsx)(n.code,{children:"builder-runtime.js"})," file in the dist directory, which is the runtime code of webpack or Rspack."]}),"\n",(0,i.jsxs)(n.p,{children:["runtimeChunk is a piece of runtime code, which is provided by webpack or Rspack, that contains the necessary module processing logic, such as module loading, module parsing, etc. See ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/concepts/manifest/#runtime",target:"_blank",rel:"noopener noreferrer",children:"Runtime"})," for details."]}),"\n"]})]}),"\n",(0,i.jsx)(n.p,{children:"In the production environment, Builder will inline the runtimeChunk file into the HTML file by default instead of writing it to the dist directory. This is done to reduce the number of file requests."}),"\n",(0,i.jsxs)(n.h3,{id:"disable-inlining",children:["Disable Inlining",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#disable-inlining",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["If you don't want the runtimeChunk file to be inlined into the HTML file, you can set ",(0,i.jsx)(n.code,{children:"disableInlineRuntimeChunk"})," to ",(0,i.jsx)(n.code,{children:"true"})," and a separate ",(0,i.jsx)(n.code,{children:"builder-runtime.js"})," file will be generated."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    disableInlineRuntimeChunk: true,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"merge-into-page-chunk",children:["Merge Into Page Chunk",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#merge-into-page-chunk",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"If you don't want to generate a separate runtimeChunk file, but want the runtimeChunk code to be bundled into the page chunk, you can set the config like this:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpack: {\n      optimization: {\n        runtimeChunk: false,\n      },\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Foutput%2FdisableInlineRuntimeChunk.md"]={toc:[{text:"Disable Inlining",id:"disable-inlining",depth:3},{text:"Merge Into Page Chunk",id:"merge-into-page-chunk",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},17693:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",pre:"pre",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Whether to disable code minification on production builds."}),"\n",(0,i.jsxs)(n.p,{children:["By default, JS and CSS code is minified during the production build to improve the page performance. If you do not want to the code to be minified, you can set ",(0,i.jsx)(n.code,{children:"disableMinimize"})," to ",(0,i.jsx)(n.code,{children:"true"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    disableMinimize: true,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"This configuration is usually used for debugging and troubleshooting. It is not recommended to disable code minification in production environments, as it will significantly degrade the page performance."})})]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Foutput%2FdisableMinimize.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},56840:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code",p:"p",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type DisableSourceMap =\n  | boolean\n  | {\n      js?: boolean;\n      css?: boolean;\n    };\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Default:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const defaultDisableSourceMap = {\n  js: false,\n  css: process.env.NODE_ENV === 'production',\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"Whether to disable Source Map generation."}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"What is a Source Map"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"Source Map is an information file that saves the source code mapping relationship. It records each location of the compiled code and the corresponding pre-compilation location. With Source Map, you can directly view the source code when debugging the compiled code."})})]}),"\n",(0,i.jsx)(n.p,{children:"By default, Builder's Source Map generation rules are:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"In development build, SourceMap of JS files and CSS files will be generated, which is convenient for debugging."}),"\n",(0,i.jsx)(n.li,{children:"In production build, the Source Map of JS files will be generated for debugging and troubleshooting online problems; the Source Map of CSS files will not be generated."}),"\n"]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"When using Rspack as the bundler, disable css sourcemap alone is not currently supported."})})]}),"\n",(0,i.jsx)(n.p,{children:"If the project does not need Source Map, you can turned off it to speed up the compile speed."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    disableSourceMap: true,\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"If you want to enable Source Map in development and disable it in the production, you can set to:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    disableSourceMap: process.env.NODE_ENV === 'production',\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"If you need to individually control the Source Map of JS files or CSS files, you can refer to the following settings:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    disableSourceMap: {\n      js: false,\n      css: true,\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Foutput%2FdisableSourceMap.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},44082:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Whether to transform SVGs into React components. If true, will treat all .svg files as assets."}),"\n",(0,i.jsxs)(n.p,{children:["By default, when an SVG resource is referenced in a JS file, Builder will call SVGR to convert the SVG into a React component. If you are sure that all SVG resources in your project are not being used as React components, you can turn off this conversion by setting ",(0,i.jsx)(n.code,{children:"disableSvgr"})," to true to improve build performance."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    disableSvgr: true,\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Foutput%2FdisableSvgr.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},76363:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",pre:"pre",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Whether to disable TypeScript type checker during compilation."}),"\n",(0,i.jsxs)(n.p,{children:["By default, Builder will run the TypeScript type checker in a separate process during the build process. Its checking logic is consistent with TypeScript's native ",(0,i.jsx)(n.code,{children:"tsc"})," command. You can use ",(0,i.jsx)(n.code,{children:"tsconfig.json"})," or Builder's ",(0,i.jsx)(n.code,{children:"tools.tsChecker"})," config to customize the checking behavior."]}),"\n",(0,i.jsxs)(n.h3,{id:"blocking-compilation",children:["Blocking Compilation",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#blocking-compilation",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"In development build, type errors will not block the compilation process."}),"\n",(0,i.jsx)(n.li,{children:"In production build, type errors will cause the build to fail to ensure the stability of the production code."}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Disable TypeScript type checker:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    disableTsChecker: true,\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"Disable type checker in development:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    disableTsChecker: process.env.NODE_ENV === 'development',\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"Disable type checker in production:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    disableTsChecker: process.env.NODE_ENV === 'production',\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"It is not recommended to disable type checker in production, which will reduce the stability of the production code, please use it with caution."})})]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Foutput%2FdisableTsChecker.md"]={toc:[{text:"Blocking Compilation",id:"blocking-compilation",depth:3},{text:"Example",id:"example",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},70396:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code",p:"p",h3:"h3",a:"a"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type DistPathConfig = {\n  root?: string;\n  html?: string;\n  js?: string;\n  css?: string;\n  svg?: string;\n  font?: string;\n  wasm?: string;\n  image?: string;\n  media?: string;\n  server?: string;\n  worker?: string;\n};\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Default:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const defaultDistPath = {\n  root: 'dist',\n  html: 'html',\n  js: 'static/js',\n  css: 'static/css',\n  svg: 'static/svg',\n  font: 'static/font',\n  wasm: 'static/wasm',\n  image: 'static/image',\n  media: 'static/media',\n  server: 'bundles',\n  worker: 'worker',\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"Set the directory of the dist files. Builder will output files to the corresponding subdirectory according to the file type."}),"\n",(0,i.jsx)(n.p,{children:"Detail:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"root"}),": The root directory of all files."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"html"}),": The output directory of HTML files."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"js"}),": The output directory of JavaScript files."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"css"}),": The output directory of CSS style files."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"svg"}),": The output directory of SVG images."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"font"}),": The output directory of font files."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"wasm"}),": The output directory of WebAssembly files."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"image"}),": The output directory of non-SVG images."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"media"}),": The output directory of media assets, such as videos."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"server"}),": The output directory of server bundles when target is ",(0,i.jsx)(n.code,{children:"node"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"worker"}),": The output directory of worker bundles when target is ",(0,i.jsx)(n.code,{children:"service-worker"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["The JavaScript files will be output to the ",(0,i.jsx)(n.code,{children:"distPath.root"})," + ",(0,i.jsx)(n.code,{children:"distPath.js"})," directory, which is ",(0,i.jsx)(n.code,{children:"dist/static/js"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["If you need to output JavaScript files to the ",(0,i.jsx)(n.code,{children:"build/resource/js"})," directory, you can add following config:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    distPath: {\n      root: 'build',\n      js: 'resource/js',\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Foutput%2FdistPath.md"]={toc:[{text:"Example",id:"example",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},77272:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",pre:"pre",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"If this option is enabled, all unrecognized files will be emitted to the dist directory; otherwise, an exception will be thrown."}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Enable the config:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    enableAssetFallback: true,\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"Import a module of unknown type in code:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import './foo.xxx';\n"})}),"\n",(0,i.jsxs)(n.p,{children:["After compilation, ",(0,i.jsx)(n.code,{children:"foo.xxx"})," will be output to the ",(0,i.jsx)(n.code,{children:"dist/static/media"})," directory."]}),"\n",(0,i.jsxs)(n.p,{children:["You can control the output path and filename after fallback through the ",(0,i.jsx)(n.code,{children:"output.distPath.media"})," and ",(0,i.jsx)(n.code,{children:"output.filename.media"})," configs."]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"Enabling this config will change the rules structure in the webpack config. In most cases, we do not recommend using this config."})})]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Foutput%2FenableAssetFallback.md"]={toc:[{text:"Example",id:"example",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},22852:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Whether to generate a manifest file that contains information of all assets."}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Enable asset manifest:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    enableAssetManifest: true,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["After compiler, there will be a ",(0,i.jsx)(n.code,{children:"dist/manifest.json"})," file:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "files": {\n    "main.css": "/static/css/main.45b01211.css",\n    "main.js": "/static/js/main.52fd298f.js",\n    "html/main/index.html": "/html/main/index.html"\n  },\n  "entrypoints": ["static/css/main.45b01211.css", "static/js/main.52fd298f.js"]\n}\n'})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Foutput%2FenableAssetManifest.md"]={toc:[{text:"Example",id:"example",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},18874:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",div:"div",a:"a",h3:"h3",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Whether to generate a TypeScript declaration file for CSS modules."}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["When using Rspack as the bundler, this configuration is only supported when set ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/builder/api/config-output.html#outputdisablecssextract",target:"_blank",rel:"noopener noreferrer",children:"disableCssExtract"})," is true.\n"]})})]}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Enable CSS module TypeScript declaration:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    enableCssModuleTSDeclaration: true,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["After building, there will be a ",(0,i.jsx)(n.code,{children:".d.ts"})," file for each CSS module file. For example"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"interface CssExports {\n  title: string;\n}\nexport const cssExports: CssExports;\nexport default cssExports;\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Foutput%2FenableCssModuleTSDeclaration.md"]={toc:[{text:"Example",id:"example",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},64089:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",div:"div",a:"a",h3:"h3",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Bundler:"})," ",(0,i.jsx)(n.code,{children:"only support webpack"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Whether to inline output scripts files (.js files) into HTML with ",(0,i.jsx)(n.code,{children:"<script>"})," tags in production mode."]}),"\n",(0,i.jsx)(n.p,{children:"Note that, with this option on, the scripts files will no longer be written in dist directory, they will only exist inside the HTML file instead."}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["When using convention-based routing, you need to set ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/en/configure/app/output/splitRouteChunks.html",target:"_blank",rel:"noopener noreferrer",children:(0,i.jsx)(n.code,{children:"output.splitRouteChunks"})})," to false if this option is turned on.\n"]})})]}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"By default, we have following output files:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"dist/html/main/index.html\ndist/static/css/style.css\ndist/static/js/main.js\n"})}),"\n",(0,i.jsxs)(n.p,{children:["After turn on the ",(0,i.jsx)(n.code,{children:"output.enableInlineScripts"})," option:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    enableInlineScripts: true,\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"The output files will become:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"dist/html/main/index.html\ndist/static/css/style.css\n"})}),"\n",(0,i.jsxs)(n.p,{children:["And ",(0,i.jsx)(n.code,{children:"dist/static/js/main.js"})," will be inlined in ",(0,i.jsx)(n.code,{children:"index.html"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:"<html>\n  <body>\n    <script>\n      // content of dist/static/js/main.js\n    </script>\n  </body>\n</html>\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"using-regexp",children:["Using RegExp",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#using-regexp",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["If you need to inline part of the JS files, you can set ",(0,i.jsx)(n.code,{children:"enableInlineScripts"})," to a regular expression that matches the URL of the JS file that needs to be inlined."]}),"\n",(0,i.jsxs)(n.p,{children:["For example, to inline ",(0,i.jsx)(n.code,{children:"main.js"})," into HTML, you can add the following configuration:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    enableInlineScripts: /\\/main\\.\\w+\\.js$/,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["The production filename will contains a hash by default, such as ",(0,i.jsx)(n.code,{children:"/main.18a568e5.js"}),".\n"]})})]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Foutput%2FenableInlineScripts.md"]={toc:[{text:"Example",id:"example",depth:3},{text:"Using RegExp",id:"using-regexp",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},28428:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",div:"div",a:"a",h3:"h3",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Whether to inline output style files (.css files) into HTML with ",(0,i.jsx)(n.code,{children:"<style>"})," tags in production mode."]}),"\n",(0,i.jsx)(n.p,{children:"Note that, with this option on, the style files will no longer be written in dist directory, they will only exist inside the HTML file instead."}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["When using convention-based routing, you need to set ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/en/configure/app/output/splitRouteChunks.html",target:"_blank",rel:"noopener noreferrer",children:(0,i.jsx)(n.code,{children:"output.splitRouteChunks"})})," to false if this option is turned on.\n"]})})]}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"By default, we have following output files:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"dist/html/main/index.html\ndist/static/css/style.css\ndist/static/js/main.js\n"})}),"\n",(0,i.jsxs)(n.p,{children:["After turn on the ",(0,i.jsx)(n.code,{children:"output.enableInlineStyles"})," option:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    enableInlineStyles: true,\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"The output files will become:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"dist/html/main/index.html\ndist/static/js/main.js\n"})}),"\n",(0,i.jsxs)(n.p,{children:["And ",(0,i.jsx)(n.code,{children:"dist/static/css/style.css"})," will be inlined in ",(0,i.jsx)(n.code,{children:"index.html"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:"<html>\n  <head>\n    <style>\n      /* content of dist/static/css/style.css */\n    </style>\n  </head>\n  <body></body>\n</html>\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"using-regexp",children:["Using RegExp",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#using-regexp",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["If you need to inline part of the CSS files, you can set ",(0,i.jsx)(n.code,{children:"enableInlineStyles"})," to a regular expression that matches the URL of the CSS file that needs to be inlined."]}),"\n",(0,i.jsxs)(n.p,{children:["For example, to inline ",(0,i.jsx)(n.code,{children:"main.css"})," into HTML, you can add the following configuration:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    enableInlineStyles: /\\/main\\.\\w+\\.css$/,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["The production filename will contains a hash by default, such as ",(0,i.jsx)(n.code,{children:"/main.18a568e5.css"}),".\n"]})})]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Foutput%2FenableInlineStyles.md"]={toc:[{text:"Example",id:"example",depth:3},{text:"Using RegExp",id:"using-regexp",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},91050:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Whether to use the new decorator proposal."}),"\n",(0,i.jsxs)(n.p,{children:["By default, Builder uses the ",(0,i.jsx)(n.a,{href:"https://github.com/wycats/javascript-decorators/blob/e1bf8d41bfa2591d949dd3bbf013514c8904b913/README.md",target:"_blank",rel:"noopener noreferrer",children:"legacy decorator proposal"})," when compiling decorators."]}),"\n",(0,i.jsxs)(n.p,{children:["When ",(0,i.jsx)(n.code,{children:"output.enableLatestDecorators"})," is set to ",(0,i.jsx)(n.code,{children:"true"}),", the Builder will compile with the ",(0,i.jsx)(n.a,{href:"https://github.com/tc39/proposal-decorators/tree/7fa580b40f2c19c561511ea2c978e307ae689a1b",target:"_blank",rel:"noopener noreferrer",children:"new decorator proposal"})," (version 2018-09)."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    enableLatestDecorators: true,\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Foutput%2FenableLatestDecorators.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},62576:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",p:"p",strong:"strong",code:"code",a:"a",h3:"h3",pre:"pre",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"string | object | function | RegExp"})]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["At build time, prevent some ",(0,i.jsx)(n.code,{children:"import"})," dependencies from being packed into bundles in your code, and instead fetch them externally at runtime."]}),"\n",(0,i.jsxs)(n.p,{children:["For more information, please see: ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/configuration/externals/",target:"_blank",rel:"noopener noreferrer",children:"webpack Externals"})]}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Exclude the ",(0,i.jsx)(n.code,{children:"react-dom"})," dependency from the build product. To get this module at runtime, the value of ",(0,i.jsx)(n.code,{children:"react-dom"})," will globally retrieve the ",(0,i.jsx)(n.code,{children:"ReactDOM"})," variable."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    externals: {\n      'react-dom': 'ReactDOM',\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"When the build target is Web Worker, externals will not take effect. This is because the Worker environment can not access global variables."})})]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Foutput%2Fexternals.md"]={toc:[{text:"Example",id:"example",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},34259:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code",p:"p",h3:"h3",a:"a",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type FilenameConfig = {\n  js?: string;\n  css?: string;\n  svg?: string;\n  font?: string;\n  image?: string;\n  media?: string;\n};\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Default:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"// Development\nconst devDefaultFilename = {\n  js: '[name].js',\n  css: '[name].css',\n  svg: '[name].[contenthash:8].svg',\n  font: '[name].[contenthash:8][ext]',\n  image: '[name].[contenthash:8][ext]',\n  media: '[name].[contenthash:8][ext]',\n};\n\n// Production\nconst prodDefaultFilename = {\n  js: '[name].[contenthash:8].js',\n  css: '[name].[contenthash:8].css',\n  svg: '[name].[contenthash:8].svg',\n  font: '[name].[contenthash:8][ext]',\n  image: '[name].[contenthash:8][ext]',\n  media: '[name].[contenthash:8][ext]',\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"Sets the filename of dist files."}),"\n",(0,i.jsxs)(n.p,{children:["After the production build, there will be a hash in the middle of the filename by default. This behavior can be disabled through the ",(0,i.jsx)(n.code,{children:"output.disableFilenameHash"})," config."]}),"\n",(0,i.jsx)(n.p,{children:"The following are the details of each filename:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"js"}),": The name of the JavaScript file."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"css"}),": The name of the CSS style file."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"svg"}),": The name of the SVG image."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"font"}),": The name of the font file."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"image"}),": The name of a non-SVG image."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"media"}),": The name of a media asset, such as a video."]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["To set the name of the JavaScript file to ",(0,i.jsx)(n.code,{children:"[name]_script.js"}),", use the following configuration:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    filename: {\n      js:\n        process.env.NODE_ENV === 'production'\n          ? '[name]_script.[contenthash:8].js'\n          : '[name]_script.js',\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"Filename hash"}),(0,i.jsxs)(n.div,{className:"modern-directive-content",children:[(0,i.jsxs)(n.p,{children:["Usually, we only set the filename hash in the production mode (i.e., when ",(0,i.jsx)(n.code,{children:"process.env.NODE_ENV === 'production'"}),")."]}),"\n",(0,i.jsxs)(n.p,{children:["If you set the filename hash in the development mode, it may cause HMR to fail (especially for CSS files). This is because every time the file content changes, the hash value changes, preventing tools like ",(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/mini-css-extract-plugin",target:"_blank",rel:"noopener noreferrer",children:"mini-css-extract-plugin"})," from reading the latest file content.\n"]})]})]}),"\n",(0,i.jsxs)(n.h3,{id:"filename-of-async-modules",children:["Filename of Async Modules",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#filename-of-async-modules",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"When you import a module via dynamic import, the module will be bundled into a single file, and its default naming rules are as follows:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["In the development environment, the filename will be generated based on the module path, such as ",(0,i.jsx)(n.code,{children:"dist/static/js/async/src_add_ts.js"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["In the production environment, it will be a random numeric id, such as ",(0,i.jsx)(n.code,{children:"dist/static/js/async/798.27e3083e.js"}),". This is to avoid leaking the source code path in the production environment, and the number of characters is also less."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",meta:'title="src/index.ts"',children:"const { add } = await import('./add.ts');\n"})}),"\n",(0,i.jsxs)(n.p,{children:["If you want to specify a fixed name for the async module, you can use the ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/api/module-methods/#magic-comments",target:"_blank",rel:"noopener noreferrer",children:"magic comments"})," provided by the bundler to achieve this, using ",(0,i.jsx)(n.code,{children:"webpackChunkName "})," to specify the module name:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",meta:'title="src/index.ts"',children:"const { add } = await import(\n  /* webpackChunkName: \"my-chunk-name\" */ './add.ts'\n);\n"})}),"\n",(0,i.jsxs)(n.p,{children:["After specifying the module name as above, the generated file will be ",(0,i.jsx)(n.code,{children:"dist/static/js/async/my-chunk-name.js"}),"."]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Foutput%2Ffilename.md"]={toc:[{text:"Example",id:"example",depth:3},{text:"Filename of Async Modules",id:"filename-of-async-modules",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},12622:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",div:"div",h3:"h3",a:"a",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"'linked' | 'inline' | 'none'"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"'linked'"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Configure how to handle the legal comment."}),"\n",(0,i.jsx)(n.p,{children:'A "legal comment" is considered to be any statement-level comment in JS or rule-level comment in CSS that contains @license or @preserve or that starts with //! or /*!. These comments are preserved in output files by default since that follows the intent of the original authors of the code.'}),"\n",(0,i.jsx)(n.p,{children:"This behavior can be configured by using one of the following options:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"linked"}),": Extract all legal comments to a .LEGAL.txt file and link to them with a comment."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"inline"}),": Preserve all legal comments in original position."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"none"}),": Remove all legal comments."]}),"\n"]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["When using Rspack as the bundler, ",(0,i.jsx)(n.code,{children:"inline"})," is not currently supported.\n"]})})]}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Remove all legal comments:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    legalComments: 'none',\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Foutput%2FlegalComments.md"]={toc:[{text:"Example",id:"example",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},13891:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",h4:"h4",pre:"pre",h3:"h3"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"string[] | Record<BuilderTarget, string[]"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Specifies the range of target browsers that the project is compatible with. This value will be used by ",(0,i.jsx)(n.a,{href:"https://babeljs.io/docs/en/babel-preset-env",target:"_blank",rel:"noopener noreferrer",children:"@babel/preset-env"})," and ",(0,i.jsx)(n.a,{href:"https://github.com/postcss/autoprefixer",target:"_blank",rel:"noopener noreferrer",children:"autoprefixer"})," to identify the JavaScript syntax that need to be transformed and the CSS browser prefixes that need to be added."]}),"\n",(0,i.jsxs)(n.h4,{id:"priority",children:["Priority",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#priority",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"overrideBrowserslist"})," config will override the ",(0,i.jsx)(n.code,{children:".browserslistrc"})," config file in the project and the ",(0,i.jsx)(n.code,{children:"browserslist"})," field in package.json."]}),"\n",(0,i.jsxs)(n.p,{children:["In most cases, it is recommended to use the ",(0,i.jsx)(n.code,{children:".browserslistrc"})," file rather than the ",(0,i.jsx)(n.code,{children:"overrideBrowserslist"})," config. Because the ",(0,i.jsx)(n.code,{children:".browserslistrc"})," file is the official config file, it is more general and can be recognized by other libraries in the community."]}),"\n",(0,i.jsxs)(n.h4,{id:"default-value",children:["Default Value",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#default-value",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["If there is no ",(0,i.jsx)(n.code,{children:"browserslist"})," configs defined in the project, nor ",(0,i.jsx)(n.code,{children:"overrideBrowserslist"})," defined, then Builder will set the default browserslist to:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"['> 0.01%', 'not dead', 'not op_mini all'];\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"An example compatible with mobile scenarios:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    overrideBrowserslist: [\n      'iOS >= 9',\n      'Android >= 4.4',\n      'last 2 versions',\n      '> 0.2%',\n      'not dead',\n    ],\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Check out the ",(0,i.jsx)(n.a,{href:"https://github.com/browserslist/browserslist",target:"_blank",rel:"noopener noreferrer",children:"browserslist documentation"})," to learn more about browserslist."]}),"\n",(0,i.jsxs)(n.h4,{id:"set-according-to-targets",children:["Set according to Targets",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#set-according-to-targets",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When you build multiple targets at the same time, you can set different browser ranges for different targets. At this point, you need to set ",(0,i.jsx)(n.code,{children:"overrideBrowserslist"})," to an object whose key is the corresponding build target."]}),"\n",(0,i.jsxs)(n.p,{children:["For example to set different ranges for ",(0,i.jsx)(n.code,{children:"web"})," and ",(0,i.jsx)(n.code,{children:"node"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    overrideBrowserslist: {\n      web: [\n        'iOS >= 9',\n        'Android >= 4.4',\n        'last 2 versions',\n        '> 0.2%',\n        'not dead',\n      ],\n      node: ['node >= 14'],\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Foutput%2FoverrideBrowserslist.md"]={toc:[{text:"Priority",id:"priority",depth:4},{text:"Default Value",id:"default-value",depth:4},{text:"Example",id:"example",depth:3},{text:"Set according to Targets",id:"set-according-to-targets",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},62729:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",h4:"h4",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"'entry' | 'usage' | 'ua' | 'off'"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"'entry'"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Via ",(0,i.jsx)(n.code,{children:"output.polyfill"})," you can configure how the polyfill is injected."]}),"\n",(0,i.jsxs)(n.h3,{id:"config",children:["Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#config",children:"#"})]}),"\n",(0,i.jsxs)(n.h4,{id:"entry",children:["entry",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#entry",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Polyfill is injected in every entry file when ",(0,i.jsx)(n.code,{children:"output.polyfill"})," is configured as ",(0,i.jsx)(n.code,{children:"'entry'"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["Equivalent to ",(0,i.jsx)(n.code,{children:"useBuiltIns: 'entry'"})," configuration in ",(0,i.jsx)(n.code,{children:"@babel/preset-env"}),"."]}),"\n",(0,i.jsxs)(n.h4,{id:"usage",children:["usage",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#usage",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Polyfill is injected in each file based on the API used in the code."}),"\n",(0,i.jsxs)(n.p,{children:["Equivalent to ",(0,i.jsx)(n.code,{children:"useBuiltIns: 'usage'"})," configuration in ",(0,i.jsx)(n.code,{children:"@babel/preset-env"}),"."]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["When using Rspack as the bundler, the ",(0,i.jsx)(n.code,{children:"usage"})," configuration item is not currently supported.\n"]})})]}),"\n",(0,i.jsxs)(n.h4,{id:"ua",children:["ua",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#ua",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The Polyfill code is dynamically delivered according to the currently requested UA information."}),"\n",(0,i.jsxs)(n.p,{children:["The dynamic delivery feature needs to be used with the upper-level framework. For more details, please refer to ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/en/guides/advanced-features/compatibility.html#polyfill-at-runtime",target:"_blank",rel:"noopener noreferrer",children:"Modern.js - Polyfill At Runtime"}),"."]}),"\n",(0,i.jsxs)(n.h4,{id:"off",children:["off",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#off",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Polyfill is not injected. When using this option, you need to ensure code compatibility yourself."})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Foutput%2Fpolyfill.md"]={toc:[{text:"Config",id:"config",depth:3},{text:"entry",id:"entry",depth:4},{text:"usage",id:"usage",depth:4},{text:"ua",id:"ua",depth:4},{text:"off",id:"off",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},58387:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"'url' | 'component'"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"'url'"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"output.svgDefaultExport"})," is used to configure the default export type of SVG files."]}),"\n",(0,i.jsxs)(n.p,{children:["When ",(0,i.jsx)(n.code,{children:"output.svgDefaultExport"})," is set to ",(0,i.jsx)(n.code,{children:"url"})," , the default export of SVG files is the URL of the file. For example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import logo from './logo.svg';\n\nconsole.log(logo); // => asset url\n"})}),"\n",(0,i.jsxs)(n.p,{children:["When ",(0,i.jsx)(n.code,{children:"output.svgDefaultExport"})," is set to ",(0,i.jsx)(n.code,{children:"component"})," , the default export of SVG files is the React component of the file. For example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import Logo from './logo.svg';\n\nconsole.log(Logo); // => React Component\n"})}),"\n",(0,i.jsxs)(n.p,{children:["At this time, you can also specify the ",(0,i.jsx)(n.code,{children:"?url"})," query to import the URL, for example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import logo from './logo.svg?url';\n\nconsole.log(logo); // => asset url\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Foutput%2FsvgDefaultExport.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},73455:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code",p:"p"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type BuildCacheConfig =\n  | {\n      /**\n       * Base directory for the filesystem cache.\n       */\n      cacheDirectory?: string;\n    }\n  | boolean;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Default:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const defaultBuildCacheConfig = {\n  cacheDirectory: './node_modules/.cache/webpack',\n};\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Bundler:"})," ",(0,i.jsx)(n.code,{children:"only support webpack"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Controls the Builder's caching behavior during the build process."}),"\n",(0,i.jsxs)(n.p,{children:["Builder will enable build cache by default to improve the compile speed, the generated cache files are write to the ",(0,i.jsx)(n.code,{children:"./node_modules/.cache/webpack"})," directory by default."]}),"\n",(0,i.jsxs)(n.p,{children:["You can configure the cache path with ",(0,i.jsx)(n.code,{children:"buildCache"}),", e.g."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  performance: {\n    buildCache: {\n      cacheDirectory: './node_modules/.custom_cache/webpack',\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["You can also disable the build cache by setting it to ",(0,i.jsx)(n.code,{children:"false"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  performance: {\n    buildCache: false,\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fperformance%2FbuildCache.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},20666:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",pre:"pre",h3:"h3",img:"img",ol:"ol"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Object | undefined"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Used to enable the ",(0,i.jsx)(n.a,{href:"https://github.com/webpack-contrib/webpack-bundle-analyzer",target:"_blank",rel:"noopener noreferrer",children:"webpack-bundle-analyzer"})," plugin to analyze the size of the output."]}),"\n",(0,i.jsxs)(n.p,{children:["By default, Builder does not enable ",(0,i.jsx)(n.code,{children:"webpack-bundle-analyzer"}),". When this feature is enabled, the default configuration is as follows:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const defaultConfig = {\n  analyzerMode: 'static',\n  openAnalyzer: false,\n  // target is the compilation target, such as `web`, `node`, etc.\n  reportFilename: `report-${target}.html`,\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"enable-bundle-analyze",children:["Enable Bundle Analyze",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#enable-bundle-analyze",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["You have two ways to enable ",(0,i.jsx)(n.code,{children:"webpack-bundle-analyzer"})," to analyze the size of the output files:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Add the environment variable ",(0,i.jsx)(n.code,{children:"BUNDLE_ANALYZE=true"}),", for example:"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"BUNDLE_ANALYZE=true pnpm build\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Configure ",(0,i.jsx)(n.code,{children:"performance.bundleAnalyze"})," to enable it permanently:"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  performance: {\n    bundleAnalyze: {},\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"After enabling it, Builder will generate an HTML file that analyzes the size of the output files, and print the following log in the Terminal:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"Webpack Bundle Analyzer saved report to /Project/my-project/dist/report-web.html\n"})}),"\n",(0,i.jsx)(n.p,{children:"You can manually open the file in the browser and view the detail of the bundle size. When an area is larger, it indicates that its corresponding bundle size is larger."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://lf3-static.bytednsdoc.com/obj/eden-cn/aphqeh7uhohpquloj/modern-js/mwa-build-analyze-8784f762c1ab0cb20935829d5f912c4c.png",alt:""})}),"\n",(0,i.jsxs)(n.h3,{id:"override-default-configuration",children:["Override Default Configuration",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#override-default-configuration",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["You can override the default configuration through ",(0,i.jsx)(n.code,{children:"performance.bundleAnalyze"}),", such as enabling the server mode:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  performance: {\n    bundleAnalyze: process.env.BUNDLE_ANALYZE\n      ? {\n          analyzerMode: 'server',\n          openAnalyzer: true,\n        }\n      : {},\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"size-types",children:["Size Types",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#size-types",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["In the ",(0,i.jsx)(n.code,{children:"webpack-bundle-analyzer"})," panel, you can control size types in the upper left corner (default is ",(0,i.jsx)(n.code,{children:"Parsed"}),"):"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Stat"}),": The size obtained from the ",(0,i.jsx)(n.code,{children:"stats"})," object of the bundler, which reflects the size of the code before minification."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Parsed"}),": The size of the file on the disk, which reflects the size of the code after minification."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Gzipped"}),": The file size requested in the browser reflects the size of the code after minification and gzip."]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"generate-statsjson",children:["Generate stats.json",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#generate-statsjson",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["By setting ",(0,i.jsx)(n.code,{children:"generateStatsFile"})," to true, stats JSON file will be generated in bundle output directory."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  performance: {\n    bundleAnalyze: {\n      generateStatsFile: true,\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"notes",children:["Notes",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#notes",children:"#"})]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Enabling the server mode will cause the ",(0,i.jsx)(n.code,{children:"build"})," process to not exit normally."]}),"\n",(0,i.jsxs)(n.li,{children:["Enabling ",(0,i.jsx)(n.code,{children:"bundleAnalyzer"})," will reduce build speed. Therefore, this configuration should not be enabled during daily development, and it is recommended to enable it on demand through the ",(0,i.jsx)(n.code,{children:"BUNDLE_ANALYZE"})," environment variable."]}),"\n",(0,i.jsxs)(n.li,{children:["Since no code minification and other optimizations are performed in the ",(0,i.jsx)(n.code,{children:"dev"})," phase, the real output size cannot be reflected, so it is recommended to analyze the output size in the ",(0,i.jsx)(n.code,{children:"build"})," phase."]}),"\n"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fperformance%2FbundleAnalyze.md"]={toc:[{text:"Enable Bundle Analyze",id:"enable-bundle-analyze",depth:3},{text:"Override Default Configuration",id:"override-default-configuration",depth:3},{text:"Size Types",id:"size-types",depth:3},{text:"Generate stats.json",id:"generate-statsjson",depth:3},{text:"Notes",id:"notes",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},43484:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",pre:"pre",h3:"h3",a:"a",div:"div",blockquote:"blockquote"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Object"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"{ strategy: 'split-by-experience' }"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"performance.chunkSplit"})," is used to configure the chunk splitting strategy. The type of ",(0,i.jsx)(n.code,{children:"ChunkSplit"})," is as follows:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type ForceSplitting = RegExp[] | Record<string, RegExp>;\n\ninterface BaseChunkSplit {\n  strategy?:\n    | 'split-by-module'\n    | 'split-by-experience'\n    | 'all-in-one'\n    | 'single-vendor';\n  override?: SplitChunks;\n  forceSplitting?: ForceSplitting;\n}\n\ninterface SplitBySize {\n  strategy?: 'split-by-size';\n  minSize?: number;\n  maxSize?: number;\n  override?: SplitChunks;\n  forceSplitting?: ForceSplitting;\n}\n\ninterface SplitCustom {\n  strategy?: 'custom';\n  splitChunks?: SplitChunks;\n  forceSplitting?: ForceSplitting;\n}\n\nexport type ChunkSplit = BaseChunkSplit | SplitBySize | SplitCustom;\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"chunksplitstrategy",children:["chunkSplit.strategy",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chunksplitstrategy",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder supports the following chunk splitting strategies:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"split-by-experience"}),": an empirical splitting strategy, automatically splits some commonly used npm packages into chunks of moderate size."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"split-by-module"}),": split by NPM package granularity, each NPM package corresponds to a chunk."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"split-by-size"}),": automatically split according to module size."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"all-in-one"}),": bundle all codes into one chunk."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"single-vendor"}),": bundle all NPM packages into a single chunk."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"custom"}),": custom chunk splitting strategy."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"default-strategy",children:["Default Strategy",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#default-strategy",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder adopts the ",(0,i.jsx)(n.code,{children:"split-by-experience"})," strategy by default, which is a strategy we have developed from experience. Specifically, when the following npm packages are referenced in your project, they will automatically be split into separate chunks:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"lib-polyfill.js"}),": includes ",(0,i.jsx)(n.code,{children:"core-js"}),", ",(0,i.jsx)(n.code,{children:"@babel/runtime"}),", ",(0,i.jsx)(n.code,{children:"@swc/helpers"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"lib-react.js"}),": includes ",(0,i.jsx)(n.code,{children:"react"}),", ",(0,i.jsx)(n.code,{children:"react-dom"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"lib-router.js"}),": includes ",(0,i.jsx)(n.code,{children:"react-router"}),", ",(0,i.jsx)(n.code,{children:"react-router-dom"}),", ",(0,i.jsx)(n.code,{children:"history"}),", ",(0,i.jsx)(n.code,{children:"@remix-run/router"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"lib-lodash.js"}),": includes ",(0,i.jsx)(n.code,{children:"lodash"}),", ",(0,i.jsx)(n.code,{children:"lodash-es"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"lib-antd.js"}),": includes ",(0,i.jsx)(n.code,{children:"antd"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"lib-arco.js"}),": includes ",(0,i.jsx)(n.code,{children:"@arco-design/web-react"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"lib-semi.js"}),": includes ",(0,i.jsx)(n.code,{children:"@douyinfe/semi-ui"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"If the above npm packages are not installed or used in the project, the corresponding chunk will not be generated."})})]}),"\n",(0,i.jsxs)(n.p,{children:["If you want to use other splitting strategies, you can specify it via ",(0,i.jsx)(n.code,{children:"performance.chunkSplit.strategy"}),"."]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"split-by-module"})," strategy is not supported when using Rspack as the bundler.\n"]})})]}),"\n",(0,i.jsxs)(n.h3,{id:"chunksplitminsize",children:["chunkSplit.minSize",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chunksplitminsize",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"number"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"10000"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["When ",(0,i.jsx)(n.code,{children:"performance.chunkSplit.strategy"})," is ",(0,i.jsx)(n.code,{children:"split-by-size"}),", you can specify the minimum size of a chunk via ",(0,i.jsx)(n.code,{children:"performance.chunkSplit.minSize"}),", the unit is bytes. The default value is ",(0,i.jsx)(n.code,{children:"10000"}),". For example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  performance: {\n    chunkSplit: {\n      strategy: 'split-by-size',\n      minSize: 20000,\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"chunksplitmaxsize",children:["chunkSplit.maxSize",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chunksplitmaxsize",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"number"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"Infinity"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["When ",(0,i.jsx)(n.code,{children:"performance.chunkSplit.strategy"})," is ",(0,i.jsx)(n.code,{children:"split-by-size"}),", you can specify the maximum size of a chunk via ",(0,i.jsx)(n.code,{children:"performance.chunkSplit.maxSize"}),", the unit is bytes. The default value is ",(0,i.jsx)(n.code,{children:"Infinity"}),". For example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  performance: {\n    chunkSplit: {\n      strategy: 'split-by-size',\n      maxSize: 50000,\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"chunksplitforcesplitting",children:["chunkSplit.forceSplitting",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chunksplitforcesplitting",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"RegExp[] | Record<string, RegExp>"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"[]"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Via ",(0,i.jsx)(n.code,{children:"performance.chunkSplit.forceSplitting"}),", you can specify the NPM packages that need to be forced to split."]}),"\n",(0,i.jsxs)(n.p,{children:["For example, split the ",(0,i.jsx)(n.code,{children:"axios"})," library under node_modules into ",(0,i.jsx)(n.code,{children:"axios.js"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n   performance: {\n     chunkSplit: {\n       strategy: 'split-by-experience',\n       forceSplitting: {\n         axios: /node_modules\\/axios/,\n       },\n     },\n   },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"This is an easier way than configuring webpack's splitChunks directly."}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["Chunks split using the ",(0,i.jsx)(n.code,{children:"forceSplitting"})," configuration will be inserted into the HTML file as resources requested for the initial screen using ",(0,i.jsx)(n.code,{children:"<script>"})," tags. Therefore, please split them appropriately based on the actual scenario to avoid excessive size of initial screen resources.\n"]})})]}),"\n",(0,i.jsxs)(n.h3,{id:"chunksplitsplitchunks",children:["chunkSplit.splitChunks",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chunksplitsplitchunks",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When ",(0,i.jsx)(n.code,{children:"performance.chunkSplit.strategy"})," is ",(0,i.jsx)(n.code,{children:"custom"}),", you can specify the custom webpack chunk splitting config via ",(0,i.jsx)(n.code,{children:"performance.chunkSplit.splitChunks"}),". This config will be merged with the webpack splitChunks config (the ",(0,i.jsx)(n.code,{children:"cacheGroups"})," config will also be merged). For example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  performance: {\n    chunkSplit: {\n      strategy: 'custom',\n      splitChunks: {\n        cacheGroups: {\n          react: {\n            test: /[\\\\/]node_modules[\\\\/](react|react-dom)[\\\\/]/,\n            name: 'react',\n            chunks: 'all',\n          },\n        },\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"chunksplitoverride",children:["chunkSplit.override",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chunksplitoverride",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When ",(0,i.jsx)(n.code,{children:"performance.chunkSplit.strategy"})," is ",(0,i.jsx)(n.code,{children:"split-by-experience"}),", ",(0,i.jsx)(n.code,{children:"split-by-module"}),", ",(0,i.jsx)(n.code,{children:"split-by-size"})," or ",(0,i.jsx)(n.code,{children:"single-vendor"}),", you can specify the custom webpack chunk splitting config via ",(0,i.jsx)(n.code,{children:"performance.chunkSplit.override"}),". This config will be merged with the webpack splitChunks config (the ",(0,i.jsx)(n.code,{children:"cacheGroups"})," config will also be merged). For example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  performance: {\n    chunkSplit: {\n      strategy: 'split-by-experience',\n      override: {\n        cacheGroups: {\n          react: {\n            test: /[\\\\/]node_modules[\\\\/](react|react-dom)[\\\\/]/,\n            name: 'react',\n            chunks: 'all',\n          },\n        },\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:'When the Builder target is "node", since Node Bundles do not need to be splitted to optimize loading performance, the chunkSplit rule will not take effect.'}),"\n"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fperformance%2FchunkSplit.md"]={toc:[{text:"chunkSplit.strategy",id:"chunksplitstrategy",depth:3},{text:"Default Strategy",id:"default-strategy",depth:3},{text:"chunkSplit.minSize",id:"chunksplitminsize",depth:3},{text:"chunkSplit.maxSize",id:"chunksplitmaxsize",depth:3},{text:"chunkSplit.forceSplitting",id:"chunksplitforcesplitting",depth:3},{text:"chunkSplit.splitChunks",id:"chunksplitsplitchunks",depth:3},{text:"chunkSplit.override",id:"chunksplitoverride",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},96120:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",pre:"pre",h3:"h3",a:"a"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Whether to print the file sizes after production build."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"info    File sizes after production build:\n\n  File                                     Size         Gzipped\n  dist/static/js/lib-corejs.1c836fe7.js    212.89 kB    66.57 kB\n  dist/static/js/lib-react.fcafbc5c.js     134.65 kB    43.45 kB\n  dist/static/js/main.6ff06f70.js          8.93 kB      3.73 kB\n  dist/static/css/main.9f48031b.css        2.64 kB      927 B\n  dist/html/main/index.html                1.64 kB      874 B\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Disable the logs:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  performance: {\n    printFileSize: false,\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fperformance%2FprintFileSize.md"]={toc:[{text:"Example",id:"example",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},10708:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",h3:"h3",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Bundler:"})," ",(0,i.jsx)(n.code,{children:"only support webpack"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Whether capture timing information for each module, same as the ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/configuration/other-options/#profile",target:"_blank",rel:"noopener noreferrer",children:"profile"})," config of webpack."]}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  performance: {\n    profile: true,\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"When turned on, webpack generates a JSON file with some statistics about the module that includes information about timing information for each module."})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fperformance%2Fprofile.md"]={toc:[{text:"Example",id:"example",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},64899:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h4:"h4",a:"a",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean | ConsoleType[]"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Whether to remove ",(0,i.jsx)(n.code,{children:"console.xx"})," in production build."]}),"\n",(0,i.jsxs)(n.h4,{id:"remove-all-consoles",children:["Remove all consoles",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#remove-all-consoles",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When ",(0,i.jsx)(n.code,{children:"removeConsole"})," is set to ",(0,i.jsx)(n.code,{children:"true"}),", all types of ",(0,i.jsx)(n.code,{children:"console.xx"})," are removed:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  performance: {\n    removeConsole: true,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"remove-specific-console",children:["Remove specific console",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#remove-specific-console",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["You can also specify to remove only certain types of ",(0,i.jsx)(n.code,{children:"console.xx"}),", such as ",(0,i.jsx)(n.code,{children:"console.log"})," and ",(0,i.jsx)(n.code,{children:"console.warn"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  performance: {\n    removeConsole: ['log', 'warn'],\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"The following types of console are currently supported:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type ConsoleType = 'log' | 'info' | 'warn' | 'error' | 'table' | 'group';\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fperformance%2FremoveConsole.md"]={toc:[{text:"Remove all consoles",id:"remove-all-consoles",depth:4},{text:"Remove specific console",id:"remove-specific-console",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},87847:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Whether to remove the locales of ",(0,i.jsx)(n.a,{href:"https://momentjs.com/",target:"_blank",rel:"noopener noreferrer",children:"moment.js"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"moment.js"})," contains a lot of locales by default, which will increase the bundle size."]}),"\n",(0,i.jsxs)(n.p,{children:["When ",(0,i.jsx)(n.code,{children:"moment.js"})," is used in the project, it is recommended to enable this option to automatically exclude all locales:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  performance: {\n    removeMomentLocale: true,\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"Once enabled, you can load a specific locale via:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import moment from 'moment';\nimport 'moment/locale/zh-cn';\n\nmoment.locale('zh-cn');\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fperformance%2FremoveMomentLocale.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},70569:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code",p:"p",h3:"h3",a:"a"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type CheckSyntax =\n  | boolean\n  | {\n      targets: string[];\n      exclude?: RegExp | Array<RegExp>;\n    };\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Analyzes the build output files for the presence of high-level syntax that is incompatible with the current browserslist. If present, the details will be printed in the terminal."}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  security: {\n    checkSyntax: true,\n    exclude: /node_modules\\/foo/,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["If ",(0,i.jsx)(n.code,{children:"security.checkSyntax"})," is specified as ",(0,i.jsx)(n.code,{children:"true"}),", targets will be recognized as the browserslist set by the project. For details, please refer to ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/builder/zh/guide/advanced/browser-compatibility.html",target:"_blank",rel:"noopener noreferrer",children:"Browserslist"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"When enabled, it will be detected in the production environment, and when an incompatible advanced syntax is detected, it will not only print the error logs on the terminal but also exit the build process."}),"\n",(0,i.jsxs)(n.h3,{id:"error-log",children:["Error Log",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#error-log",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The format of the error log is as follows, including the source file, output location, error reason and source code:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"error [Syntax Checker] Find some syntax errors after production build:\n\n   ERROR#1:\n   source - /node_modules/foo/index.js:1:0\n   output - /Project/dist/static/js/main.3f7a4d7e.js:2:39400\n   reason - The keyword 'const' is reserved (2:39400)\n   code - const foo = 'bar';\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"solution",children:["Solution",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#solution",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"If a syntax error is detected, you can handle it in the following ways:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["If you want to downgrade this syntax to ensure good code compatibility, you can compile the corresponding module through the ",(0,i.jsx)(n.code,{children:"source.include"})," config."]}),"\n",(0,i.jsx)(n.li,{children:"If you don't want to downgrade the syntax, you can adjust the project's browserslist to match the syntax."}),"\n",(0,i.jsxs)(n.li,{children:["If you do not want to check the syntax of certain products, you can use the ",(0,i.jsx)(n.code,{children:"checkSyntax.exclude"})," configuration to exclude the files to be checked."]}),"\n"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fsecurity%2FcheckSyntax.md"]={toc:[{text:"Example",id:"example",depth:3},{text:"Error Log",id:"error-log",depth:3},{text:"Solution",id:"solution",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8237:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code",p:"p",a:"a",h4:"h4"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type SRIOptions =\n  | {\n      hashFuncNames?: string[];\n      enabled?: 'auto' | boolean;\n      hashLoading?: 'eager' | 'lazy';\n    }\n  | boolean;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Bundler:"})," ",(0,i.jsx)(n.code,{children:"only support webpack"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Adding an integrity attribute (",(0,i.jsx)(n.code,{children:"integrity"}),") to sub-resources introduced by HTML allows the browser to verify the integrity of the introduced resource, thus preventing tampering with the downloaded resource."]}),"\n",(0,i.jsxs)(n.p,{children:["Enabling this option will set the webpack ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/configuration/output/#outputcrossoriginloading",target:"_blank",rel:"noopener noreferrer",children:"output.crossOriginLoading"})," configuration item to ",(0,i.jsx)(n.code,{children:"anonymous"}),"."]}),"\n",(0,i.jsxs)(n.h4,{id:"introduce-sri",children:["Introduce SRI",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#introduce-sri",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Subresource Integrity (SRI) is a security feature that enables browsers to verify that resources they fetch (for example, from a CDN) are delivered without unexpected manipulation. It works by allowing you to provide a cryptographic hash that a fetched resource must match."}),"\n",(0,i.jsx)(n.p,{children:"For script tags, the result is to refuse to execute the code; for CSS links, the result is not to load the styles."}),"\n",(0,i.jsxs)(n.p,{children:["For more on subresource integrity, see ",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/Security/Subresource_Integrity",target:"_blank",rel:"noopener noreferrer",children:"Subresource Integrity - MDN"}),"."]}),"\n",(0,i.jsxs)(n.h4,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["By default, ",(0,i.jsx)(n.code,{children:"SRI"})," is not turned on, and when it is, its default configuration is as follows:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'{\n  hashFuncNames: [\'sha384\'];\n  enabled: "auto",\n  hashLoading: "eager",\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"You can customize the configuration items according to your own needs:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  security: {\n    sri: {\n      hashFuncNames: ['sha-256'],\n      enabled: true,\n      hashLoading: 'lazy',\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fsecurity%2Fsri.md"]={toc:[{text:"Introduce SRI",id:"introduce-sri",depth:4},{text:"Example",id:"example",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},11457:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",div:"div",h3:"h3",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Record<string, string | string[]> | Function"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Create aliases to import or require certain modules, same as the ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/configuration/resolve/#resolvealias",target:"_blank",rel:"noopener noreferrer",children:"resolve.alias"})," config of webpack."]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["For TypeScript projects, you only need to configure ",(0,i.jsx)(n.a,{href:"https://www.typescriptlang.org/tsconfig#paths",target:"_blank",rel:"noopener noreferrer",children:"compilerOptions.paths"})," in ",(0,i.jsx)(n.code,{children:"tsconfig.json"}),", Builder will automatically recognize the aliases in ",(0,i.jsx)(n.code,{children:"tsconfig.json"}),", so the ",(0,i.jsx)(n.code,{children:"alias"})," config is unnecessary.\n"]})})]}),"\n",(0,i.jsxs)(n.h3,{id:"object-type",children:["Object Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-type",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"alias"})," can be an Object, and the relative path will be automatically converted to absolute path."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    alias: {\n      '@common': './src/common',\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["With above configuration, if ",(0,i.jsx)(n.code,{children:"@common/Foo.tsx"})," is import in the code, it will be mapped to the ",(0,i.jsx)(n.code,{children:"<root>/src/common/Foo.tsx"})," path."]}),"\n",(0,i.jsxs)(n.h3,{id:"function-type",children:["Function Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-type",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"alias"})," can be a function, it will accept the previous alias object, and you can modify it."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    alias: alias => {\n      alias['@common'] = './src/common';\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"You can also return a new object as the final result in the function, which will replace the previous alias object."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    alias: alias => {\n      return {\n        '@common': './src/common',\n      };\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"exact-matching",children:["Exact Matching",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#exact-matching",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["By default, ",(0,i.jsx)(n.code,{children:"source.alias"})," will automatically match sub-paths, for example, with the following configuration:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import path from 'path';\n\nexport default {\n  source: {\n    alias: {\n      '@common': './src/common',\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"It will match as follows:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import a from '@common'; // resolved to `./src/common`\nimport b from '@common/util'; // resolved to `./src/common/util`\n"})}),"\n",(0,i.jsxs)(n.p,{children:["You can add the ",(0,i.jsx)(n.code,{children:"$"})," symbol to enable exact matching, which will not automatically match sub-paths."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import path from 'path';\n\nexport default {\n  source: {\n    alias: {\n      '@common$': './src/common',\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"It will match as follows:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import a from '@common'; // resolved to `./src/common`\nimport b from '@common/util'; // remains as `@common/util`\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"handling-npm-packages",children:["Handling npm packages",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#handling-npm-packages",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["You can use ",(0,i.jsx)(n.code,{children:"alias"})," to resolve an npm package to a specific directory."]}),"\n",(0,i.jsxs)(n.p,{children:["For example, if multiple versions of the ",(0,i.jsx)(n.code,{children:"react"})," are installed in the project, you can alias ",(0,i.jsx)(n.code,{children:"react"})," to the version installed in the root ",(0,i.jsx)(n.code,{children:"node_modules"})," directory to avoid bundling multiple copies of the React code."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import path from 'path';\n\nexport default {\n  source: {\n    alias: {\n      react: path.resolve(__dirname, './node_modules/react'),\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"When using alias to handle npm packages, please be aware of whether different major versions of the package are being used in the project."}),"\n",(0,i.jsx)(n.p,{children:"For example, if a module or npm dependency in your project uses the React 18 API, and you alias React to version 17, the module will not be able to reference the React 18 API, resulting in code exceptions."})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fsource%2Falias.md"]={toc:[{text:"Object Type",id:"object-type",depth:3},{text:"Function Type",id:"function-type",depth:3},{text:"Exact Matching",id:"exact-matching",depth:3},{text:"Handling npm packages",id:"handling-npm-packages",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},47992:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",pre:"pre",h3:"h3",a:"a"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"This option is used to control whether to compile JavaScript code inside data URIs."}),"\n",(0,i.jsx)(n.p,{children:"By default, Builder uses Babel or SWC to compile the code inside data URIs. For example, the following code:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import x from 'data:text/javascript,export default 1;';\n\nimport 'data:text/javascript;charset=utf-8;base64,Y29uc29sZS5sb2coJ2lubGluZSAxJyk7';\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Add the following config to disable:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    compileJsDataURI: false,\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fsource%2FcompileJsDataURI.md"]={toc:[{text:"Example",id:"example",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},7989:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",div:"div",h3:"h3",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Record<string, unknown>"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"{}"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Replaces variables in your code with other values or expressions at compile time. This can be useful for allowing different behavior between development builds and production builds."}),"\n",(0,i.jsxs)(n.p,{children:["Each key passed into options is an identifier or multiple identifiers joined with ",(0,i.jsx)(n.code,{children:"."}),"."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"If the value is a string it will be used as a code fragment."}),"\n",(0,i.jsx)(n.li,{children:"If the value isn't a string, it will be stringified (including functions)."}),"\n",(0,i.jsx)(n.li,{children:"If the value is an object all keys are defined the same way."}),"\n",(0,i.jsx)(n.li,{children:"If you prefix typeof to the key, it's only defined for typeof calls."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["For more information please visit ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/plugins/define-plugin/",target:"_blank",rel:"noopener noreferrer",children:(0,i.jsx)(n.a,{href:"https://webpack.js.org/plugins/define-plugin/",target:"_blank",rel:"noopener noreferrer",children:"https://webpack.js.org/plugins/define-plugin/"})}),"."]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["When using Rspack as the bundler, the supported types can be found in ",(0,i.jsx)(n.a,{href:"https://www.rspack.dev/config/builtins.html#builtinsdefine",target:"_blank",rel:"noopener noreferrer",children:"Rspack.builtins.define"}),".\n"]})})]}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    define: {\n      PRODUCTION: JSON.stringify(true),\n      VERSION: JSON.stringify('5fa3b9'),\n      BROWSER_SUPPORTS_HTML5: true,\n      TWO: '1 + 1',\n      'typeof window': JSON.stringify('object'),\n      'process.env.NODE_ENV': JSON.stringify(process.env.NODE_ENV),\n      'import.meta': { test: undefined },\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"Expressions will be replaced with the corresponding code fragments:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const foo = TWO;\n\n// ⬇️ Turn into being...\nconst foo = 1 + 1;\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fsource%2Fdefine.md"]={toc:[{text:"Example",id:"example",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},32547:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",div:"div",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Array<string | RegExp>"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"[]"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Bundler:"})," ",(0,i.jsx)(n.code,{children:"only support webpack"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Specifies JavaScript/TypeScript files that do not need to be compiled. The usage is consistent with ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/configuration/module/#ruleexclude",target:"_blank",rel:"noopener noreferrer",children:"Rule.exclude"})," in webpack, which supports passing in strings or regular expressions to match the module path."]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["When using Rspack as the bundler,  ",(0,i.jsx)(n.strong,{children:"all files"})," will be compiled by default, and at the same time, exclusion through ",(0,i.jsx)(n.code,{children:"source.exclude"})," is not supported.\n"]})})]}),"\n",(0,i.jsx)(n.p,{children:"For example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import path from 'path';\n\nexport default {\n  source: {\n    exclude: [path.resolve(__dirname, 'src/module-a'), /src\\/module-b/],\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fsource%2Fexclude.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},71213:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",pre:"pre",p:"p",h3:"h3",a:"a"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Record<string, JSONValue> | Function"})]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Default:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const defaultGlobalVars = {\n  // The environment variable `process.env.NODE_ENV` will be added by default,\n  // so you don't need to set it in manually.\n  'process.env.NODE_ENV': JSON.stringify(process.env.NODE_ENV),\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Used to define global variables. It can replace expressions like ",(0,i.jsx)(n.code,{children:"process.env.FOO"})," in your code after compile. Such as:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"console.log(process.env.NODE_ENV);\n\n// ⬇️ Turn into being...\nconsole.log('development');\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["In the following example, the ",(0,i.jsx)(n.code,{children:"ENABLE_VCONSOLE"})," and ",(0,i.jsx)(n.code,{children:"APP_CONTEXT"})," are injected into the code:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    globalVars: {\n      ENABLE_VCONSOLE: true,\n      APP_CONTEXT: { answer: 42 },\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"You can use them directly in your code:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"if (ENABLE_VCONSOLE) {\n  // do something\n}\n\nconsole.log(APP_CONTEXT);\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"function-usage",children:["Function Usage",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-usage",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type GlobalVarsFn = (\n  obj: Record<string, JSONValue>,\n  utils: { env: NodeEnv; target: BuilderTarget },\n) => Record<string, JSONValue> | void;\n"})}),"\n",(0,i.jsxs)(n.p,{children:["You can set ",(0,i.jsx)(n.code,{children:"source.globalVars"})," to a function to dynamically setting some environment variables."]}),"\n",(0,i.jsx)(n.p,{children:"For example, dynamically set according to the build target:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    globalVars(obj, { target }) {\n      obj['MY_TARGET'] = target === 'node' ? 'server' : 'client';\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"difference-with-define",children:["Difference with define",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#difference-with-define",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["You can take ",(0,i.jsx)(n.code,{children:"source.globalVars"})," as the syntax sugar of ",(0,i.jsx)(n.code,{children:"source.define"}),", the only difference is that ",(0,i.jsx)(n.code,{children:"source.globalVars"})," will automatically stringify the value, which makes it easier to set the value of global variables. The values of ",(0,i.jsx)(n.code,{children:"globalVars"})," should be JSON-safe to ensure it can be serialized."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    globalVars: {\n      'process.env.BUILD_VERSION': '0.0.1',\n      'import.meta.foo': { bar: 42 },\n      'import.meta.baz': false,\n    },\n    define: {\n      'process.env.BUILD_VERSION': JSON.stringify('0.0.1'),\n      'import.meta': {\n        foo: JSON.stringify({ bar: 42 }),\n        baz: JSON.stringify(false),\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"precautions",children:["Precautions",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#precautions",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"source.globalVars"})," injects environment variables through string replacement, so it cannot take effect on dynamic syntaxes such as destructuring."]}),"\n",(0,i.jsxs)(n.p,{children:["When using destructuring assignment, Builder will not be able to determine whether the variable ",(0,i.jsx)(n.code,{children:"NODE_ENV"})," is associated with the expression ",(0,i.jsx)(n.code,{children:"process.env.NODE_ENV"})," to be replaced, so the following usage is invalid:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const { NODE_ENV } = process.env;\nconsole.log(NODE_ENV);\n// ❌ Won't get a string.\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fsource%2FglobalVars.md"]={toc:[{text:"Example",id:"example",depth:3},{text:"Function Usage",id:"function-usage",depth:3},{text:"Difference with define",id:"difference-with-define",depth:3},{text:"Precautions",id:"precautions",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},26747:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",pre:"pre",div:"div",h3:"h3",blockquote:"blockquote"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Array<string | RegExp>"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"[]"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Bundler:"})," ",(0,i.jsx)(n.code,{children:"only support webpack"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["In order to maintain faster compilation speed, Builder will not compile JavaScript/TypeScript files under node_modules through ",(0,i.jsx)(n.code,{children:"babel-loader"})," or ",(0,i.jsx)(n.code,{children:"ts-loader"})," by default, as will as the JavaScript/TypeScript files outside the current project directory."]}),"\n",(0,i.jsxs)(n.p,{children:["Through the ",(0,i.jsx)(n.code,{children:"source.include"})," config, you can specify directories or modules that need to be compiled by Builder. The usage of ",(0,i.jsx)(n.code,{children:"source.include"})," is consistent with ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/configuration/module/#ruleinclude",target:"_blank",rel:"noopener noreferrer",children:"Rule.include"})," in webpack, which supports passing in strings or regular expressions to match the module path."]}),"\n",(0,i.jsx)(n.p,{children:"For example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import path from 'path';\n\nexport default {\n  source: {\n    include: [path.resolve(__dirname, '../other-dir')],\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["When using Rspack as the bundler,  ",(0,i.jsx)(n.strong,{children:"all files"})," will be compiled by default, and at the same time, exclusion through ",(0,i.jsx)(n.code,{children:"source.exclude"})," is not supported.\n"]})})]}),"\n",(0,i.jsxs)(n.h3,{id:"compile-npm-packages",children:["Compile Npm Packages",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#compile-npm-packages",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"A typical usage scenario is to compile npm packages under node_modules, because some third-party dependencies have ES6+ syntax, which may cause them to fail to run on low-version browsers. You can solve the problem by using this config to specify the dependencies that need to be compiled."}),"\n",(0,i.jsxs)(n.p,{children:["Take ",(0,i.jsx)(n.code,{children:"query-string"})," as an example, you can add the following config:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import path from 'path';\n\nexport default {\n  source: {\n    include: [\n      // Method 1:\n      // First get the path of the module by require.resolve\n      // Then pass path.dirname to point to the corresponding directory\n      path.dirname(require.resolve('query-string')),\n      // Method 2:\n      // Match by regular expression\n      // All paths containing `/query-string/` will be matched\n      /\\/query-string\\//,\n    ],\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Note that this config will only compile the code of ",(0,i.jsx)(n.code,{children:"query-string"})," itself, not the ",(0,i.jsx)(n.strong,{children:"sub-dependencies"})," of ",(0,i.jsx)(n.code,{children:"query-string"}),". If you need to compile a sub-dependency of ",(0,i.jsx)(n.code,{children:"query-string"}),", you need to add the corresponding npm package to ",(0,i.jsx)(n.code,{children:"source.include"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"compile-sub-dependencies",children:["Compile Sub Dependencies",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#compile-sub-dependencies",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When you compile an npm package via ",(0,i.jsx)(n.code,{children:"source.include"}),", Builder will only compile the matching module by default, not the ",(0,i.jsx)(n.strong,{children:"Sub Dependencies"})," of the module."]}),"\n",(0,i.jsxs)(n.p,{children:["Take ",(0,i.jsx)(n.code,{children:"query-string"})," for example, it depends on the ",(0,i.jsx)(n.code,{children:"decode-uri-component"})," package, which also has ES6+ code, so you need to add the ",(0,i.jsx)(n.code,{children:"decode-uri-component"})," package to ",(0,i.jsx)(n.code,{children:"source.include"})," as well."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  source: {\n    include: [/\\/query-string\\//, /\\/decode-uri-component\\//],\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"compile-libraries-in-monorepo",children:["Compile Libraries in Monorepo",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#compile-libraries-in-monorepo",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When developing in Monorepo, if you need to refer to the source code of other libraries in Monorepo, you can add the corresponding library to ",(0,i.jsx)(n.code,{children:"source.include"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import path from 'path';\n\nexport default {\n  source: {\n    include: [\n      // Method 1:\n      // Compile all files in Monorepo's package directory\n      path.resolve(__dirname, '../../packages'),\n\n      // Method 2:\n      // Compile the source code of a package in Monorepo's package directory\n      // This way of writing matches the range more accurately and has less impact on the overall build performance.\n      path.resolve(__dirname, '../../packages/xxx/src'),\n    ],\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"compile-commonjs-module",children:["Compile CommonJS Module",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#compile-commonjs-module",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Babel cannot compile CommonJS modules by default, and if you compile a CommonJS module, you may get a runtime error message ",(0,i.jsx)(n.code,{children:"exports is not defined"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["When you need to compile a CommonJS module using ",(0,i.jsx)(n.code,{children:"source.include"}),", you can set Babel's ",(0,i.jsx)(n.code,{children:"sourceType"})," configuration to ",(0,i.jsx)(n.code,{children:"unambiguous"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    babel(config) {\n      config.sourceType = 'unambiguous';\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Setting ",(0,i.jsx)(n.code,{children:"sourceType"})," to ",(0,i.jsx)(n.code,{children:"unambiguous"})," may have some other effects, please refer to ",(0,i.jsx)(n.a,{href:"https://babeljs.io/docs/en/options#sourcetype",target:"_blank",rel:"noopener noreferrer",children:"Babel official documentation"}),"."]}),"\n",(0,i.jsxs)(n.h3,{id:"matching-symlink",children:["Matching Symlink",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#matching-symlink",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["If you match a module that is symlinked to the current project, then you need to match the ",(0,i.jsx)(n.strong,{children:"real path"})," of the module, not the symlinked path."]}),"\n",(0,i.jsxs)(n.p,{children:["For example, if you symlink the ",(0,i.jsx)(n.code,{children:"packages/foo"})," path in Monorepo to the ",(0,i.jsx)(n.code,{children:"node_modules/foo"})," path of the current project, you need to match the ",(0,i.jsx)(n.code,{children:"packages/foo"})," path, not the ",(0,i.jsx)(n.code,{children:"node_modules/foo"})," path."]}),"\n",(0,i.jsxs)(n.p,{children:["This behavior can be controlled via webpack's ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/configuration/resolve/#resolvesymlinks",target:"_blank",rel:"noopener noreferrer",children:"resolve.symlinks"})," config."]}),"\n",(0,i.jsxs)(n.h3,{id:"precautions",children:["Precautions",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#precautions",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Note that ",(0,i.jsx)(n.code,{children:"source.include"})," should not be used to compile the entire ",(0,i.jsx)(n.code,{children:"node_modules"})," directory. For example, the following usage is wrong:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  source: {\n    include: [/\\/node_modules\\//],\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["If you compile the entire ",(0,i.jsx)(n.code,{children:"node_modules"}),", not only will the build time be greatly increased, but also unexpected errors may occur. Because most of the npm packages in ",(0,i.jsx)(n.code,{children:"node_modules"})," are already compiled, there is usually no need for a second compilation. In addition, exceptions may occur after npm packages such as ",(0,i.jsx)(n.code,{children:"core-js"})," are compiled."]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fsource%2Finclude.md"]={toc:[{text:"Compile Npm Packages",id:"compile-npm-packages",depth:3},{text:"Compile Sub Dependencies",id:"compile-sub-dependencies",depth:3},{text:"Compile Libraries in Monorepo",id:"compile-libraries-in-monorepo",depth:3},{text:"Compile CommonJS Module",id:"compile-commonjs-module",depth:3},{text:"Matching Symlink",id:"matching-symlink",depth:3},{text:"Precautions",id:"precautions",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},11533:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",pre:"pre",img:"img"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Array<string | Regexp> | Function"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Bundler:"})," ",(0,i.jsx)(n.code,{children:"only support webpack"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Restrict importing paths. After configuring this option, all source files can only import code from the specific paths, and import code from other paths is not allowed."}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["First, we configure ",(0,i.jsx)(n.code,{children:"moduleScopes"})," to only include the ",(0,i.jsx)(n.code,{children:"src"})," directory:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    moduleScopes: ['./src'],\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Then we import the ",(0,i.jsx)(n.code,{children:"utils/a"})," module outside the ",(0,i.jsx)(n.code,{children:"src"})," directory in ",(0,i.jsx)(n.code,{children:"src/App.tsx"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import a from '../utils/a';\n"})}),"\n",(0,i.jsx)(n.p,{children:"After compiling, there will be a reference path error:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://lf3-static.bytednsdoc.com/obj/eden-cn/aphqeh7uhohpquloj/modern-js/docs/module-scopes-error.png",alt:"scopes-error"})}),"\n",(0,i.jsxs)(n.p,{children:["If we configure the ",(0,i.jsx)(n.code,{children:"utils"})," directory in ",(0,i.jsx)(n.code,{children:"moduleScopes"}),", the error will disappear."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    moduleScopes: ['./src', './utils'],\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"array-type",children:["Array Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#array-type",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"You can directly set several paths like this:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    moduleScopes: ['./src', './shared', './utils'],\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"function-type",children:["Function Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-type",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"moduleScopes"})," also supports setting as a function, which can be modified instead of overriding the default value:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    moduleScopes: scopes => {\n      scopes.push('./shared');\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fsource%2FmoduleScopes.md"]={toc:[{text:"Example",id:"example",depth:3},{text:"Array Type",id:"array-type",depth:3},{text:"Function Type",id:"function-type",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},55283:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h4:"h4",a:"a",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"string | string[]"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Add a script before the entry file of each page. This script will be executed before the page code. It can be used to execute global logics, such as injecting polyfills, setting global styles, etc."}),"\n",(0,i.jsxs)(n.h4,{id:"add-a-single-script",children:["Add a single script",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#add-a-single-script",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["First create a ",(0,i.jsx)(n.code,{children:"src/polyfill.ts"})," file:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"console.log('I am a polyfill');\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Then configure ",(0,i.jsx)(n.code,{children:"src/polyfill.ts"})," to ",(0,i.jsx)(n.code,{children:"source.preEntry"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    preEntry: './src/polyfill.ts',\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Re-run the compilation and visit any page, you can see that the code in ",(0,i.jsx)(n.code,{children:"src/polyfill.ts"})," has been executed, and the ",(0,i.jsx)(n.code,{children:"I am a polyfill"})," is logged in the console."]}),"\n",(0,i.jsxs)(n.h4,{id:"add-global-style",children:["Add global style",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#add-global-style",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["You can also configure the global style through ",(0,i.jsx)(n.code,{children:"source.preEntry"}),", this CSS code will be loaded earlier than the page code, such as introducing a ",(0,i.jsx)(n.code,{children:"normalize.css"})," file:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    preEntry: './src/normalize.css',\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"add-multiple-scripts",children:["Add multiple scripts",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#add-multiple-scripts",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["You can add multiple scripts by setting ",(0,i.jsx)(n.code,{children:"preEntry"})," to an array, and they will be executed in array order:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    preEntry: ['./src/polyfill-a.ts', './src/polyfill-b.ts'],\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fsource%2FpreEntry.md"]={toc:[{text:"Add a single script",id:"add-a-single-script",depth:4},{text:"Add global style",id:"add-global-style",depth:4},{text:"Add multiple scripts",id:"add-multiple-scripts",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},47486:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",h3:"h3",pre:"pre",h4:"h4"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"string | Record<BuilderTarget, string>"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Add a prefix to ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/configuration/resolve/#resolveextensions",target:"_blank",rel:"noopener noreferrer",children:"resolve.extensions"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"If multiple files share the same name but have different extensions, Builder will resolve the one with the extension listed first in the array and skip the rest."}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    resolveExtensionPrefix: '.web',\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"With the configuration above, the extensions array will become:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"// before\nconst extensions = ['.js', '.ts', ...];\n\n// after\nconst extensions = ['.web.js', '.js', '.web.ts' , '.ts', ...];\n"})}),"\n",(0,i.jsxs)(n.p,{children:["When ",(0,i.jsx)(n.code,{children:"import './foo'"})," in the code, the ",(0,i.jsx)(n.code,{children:"foo.web.js"})," file will be resolved first, then the ",(0,i.jsx)(n.code,{children:"foo.js"})," file."]}),"\n",(0,i.jsxs)(n.h4,{id:"set-according-to-targets",children:["Set according to Targets",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#set-according-to-targets",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When you build multiple targets at the same time, you can set different extension prefix for different targets. At this point, you need to set ",(0,i.jsx)(n.code,{children:"resolveExtensionPrefix"})," to an object whose key is the corresponding build target."]}),"\n",(0,i.jsxs)(n.p,{children:["For example to set different extension prefix for ",(0,i.jsx)(n.code,{children:"web"})," and ",(0,i.jsx)(n.code,{children:"node"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    source: {\n      resolveExtensionPrefix: {\n        web: '.web',\n        node: '.node',\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["When ",(0,i.jsx)(n.code,{children:"import './foo'"})," in the code, the ",(0,i.jsx)(n.code,{children:"foo.node.js"})," file will be resolved for node target, and the ",(0,i.jsx)(n.code,{children:"foo.web.js"})," file will be resolved for web target."]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fsource%2FresolveExtensionPrefix.md"]={toc:[{text:"Example",id:"example",depth:3},{text:"Set according to Targets",id:"set-according-to-targets",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},77402:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code",p:"p",a:"a",h3:"h3",h4:"h4"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type Fields = (string | string[])[];\n\ntype ResolveMainFields = Fields | Record<BuilderTarget, Fields>;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["This config will determine which field of ",(0,i.jsx)(n.code,{children:"package.json"})," you use to import the ",(0,i.jsx)(n.code,{children:"npm"})," module. Same as the ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/configuration/resolve/#resolvemainfields",target:"_blank",rel:"noopener noreferrer",children:"resolve.mainFields"})," config of webpack."]}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    resolveMainFields: ['main', 'browser', 'exports'],\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"set-according-to-targets",children:["Set according to Targets",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#set-according-to-targets",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When you build multiple targets at the same time, you can set different mainFields for different targets. At this point, you need to set ",(0,i.jsx)(n.code,{children:"resolveMainFields"})," to an object whose key is the corresponding build target."]}),"\n",(0,i.jsxs)(n.p,{children:["For example to set different mainFields for ",(0,i.jsx)(n.code,{children:"web"})," and ",(0,i.jsx)(n.code,{children:"node"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    source: {\n      resolveMainFields: {\n        web: ['main', 'browser', 'exports'],\n        node: ['main', 'node', 'exports'],\n      },\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fsource%2FresolveMainFields.md"]={toc:[{text:"Example",id:"example",depth:3},{text:"Set according to Targets",id:"set-according-to-targets",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},32542:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({p:"p",a:"a",code:"code",ul:"ul",li:"li",strong:"strong",pre:"pre",div:"div",h3:"h3",h4:"h4"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Used to import the code and style of the component library on demand, which is equivalent to ",(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/babel-plugin-import",target:"_blank",rel:"noopener noreferrer",children:"babel-plugin-import"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["The difference between it and ",(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/babel-plugin-import",target:"_blank",rel:"noopener noreferrer",children:"babel-plugin-import"})," is that ",(0,i.jsx)(n.code,{children:"source.transformImport"})," is not coupled with Babel. Builder will automatically identify whether the currently used tools is Babel, SWC or Rspack, and apply the corresponding on-demand import configuration."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type Config =\n  | false\n  | Array<{\n      libraryName: string;\n      libraryDirectory?: string;\n      style?: string | boolean;\n      styleLibraryDirectory?: string;\n      camelToDashComponentName?: boolean;\n      transformToDefaultImport?: boolean;\n      customName?: ((member: string) => string | undefined) | string;\n      customStyleName?: ((member: string) => string | undefined) | string;\n    }>;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Default:"})}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["When the ",(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/antd",target:"_blank",rel:"noopener noreferrer",children:"Ant Design component library"})," <= 4.x version is installed in the project, Builder will automatically add the following default configurations:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const defaultAntdConfig = {\n  libraryName: 'antd',\n  libraryDirectory: isServer ? 'lib' : 'es',\n  style: true,\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["When the ",(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/@arco-design/web-react",target:"_blank",rel:"noopener noreferrer",children:"Arco Design component library"})," is installed in the project, Builder will automatically add the following default configurations:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const defaultArcoConfig = [\n  {\n    libraryName: '@arco-design/web-react',\n    libraryDirectory: isServer ? 'lib' : 'es',\n    camelToDashComponentName: false,\n    style: true,\n  },\n  {\n    libraryName: '@arco-design/web-react/icon',\n    libraryDirectory: isServer ? 'react-icon-cjs' : 'react-icon',\n    camelToDashComponentName: false,\n  },\n];\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["When you add configurations for ",(0,i.jsx)(n.code,{children:"antd"})," or ",(0,i.jsx)(n.code,{children:"@arco-design/web-react"}),", the priority will be higher than the default configurations mentioned above.\n"]})})]}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"When using the above antd default configuration:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    transformImport: [\n      {\n        libraryName: 'antd',\n        libraryDirectory: 'es',\n        style: true,\n      },\n    ],\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"The source code is as follows:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import { Button } from 'antd';\n"})}),"\n",(0,i.jsx)(n.p,{children:"It will be transformed into:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import Button from 'antd/es/button';\nimport 'antd/es/button/style';\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"disable-default-config",children:["Disable Default Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#disable-default-config",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["You can manually set ",(0,i.jsx)(n.code,{children:"transformImport: false"})," to disable the default config."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    transformImport: false,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["For example, if you use ",(0,i.jsx)(n.code,{children:"externals"})," to avoid bundling antd, because ",(0,i.jsx)(n.code,{children:"transformImport"})," will convert the imported path of antd by default, the matching path changes and externals cannot take effect. At this time, you can disable ",(0,i.jsx)(n.code,{children:"transformImport"})," to avoid this problem."]}),"\n",(0,i.jsxs)(n.h3,{id:"configuration",children:["Configuration",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#configuration",children:"#"})]}),"\n",(0,i.jsxs)(n.h4,{id:"libraryname",children:["libraryName",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#libraryname",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"string"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The original import path that needs to be transformed."}),"\n",(0,i.jsxs)(n.h4,{id:"librarydirectory",children:["libraryDirectory",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#librarydirectory",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"string"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"'lib'"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Used to splice the transformed path, the splicing rule is ",(0,i.jsx)(n.code,{children:"${libraryName}/${libraryDirectory}/${member}"}),", where member is the imported member."]}),"\n",(0,i.jsx)(n.p,{children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { Button } from 'foo';\n"})}),"\n",(0,i.jsx)(n.p,{children:"Out:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import Button from 'foo/lib/button';\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"style",children:["style",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#style",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Determines whether to import related styles. If it is ",(0,i.jsx)(n.code,{children:"true"}),", the path ",(0,i.jsx)(n.code,{children:"${libraryName}/${libraryDirectory}/${member}/style"})," will be imported. If it is ",(0,i.jsx)(n.code,{children:"false"})," or ",(0,i.jsx)(n.code,{children:"undefined"}),", the style will not be imported."]}),"\n",(0,i.jsxs)(n.p,{children:["When it is set to ",(0,i.jsx)(n.code,{children:"true"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { Button } from 'foo';\n"})}),"\n",(0,i.jsx)(n.p,{children:"Out:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import Button from 'foo/lib/button';\nimport 'foo/lib/button/style';\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"stylelibrarydirectory",children:["styleLibraryDirectory",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#stylelibrarydirectory",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"string"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["This configuration is used to splice the import path when importing styles. If this configuration is specified, the ",(0,i.jsx)(n.code,{children:"style"})," configuration item will be ignored. The spliced import path is ",(0,i.jsx)(n.code,{children:"${libraryName}/${styleLibraryDirectory}/${member}"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["When it is set to ",(0,i.jsx)(n.code,{children:"styles"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { Button } from 'foo';\n"})}),"\n",(0,i.jsx)(n.p,{children:"Out:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import Button from 'foo/lib/button';\nimport 'foo/styles/button';\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"cameltodashcomponentname",children:["camelToDashComponentName",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#cameltodashcomponentname",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Whether to convert camelCase imports to kebab-case."}),"\n",(0,i.jsx)(n.p,{children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { ButtonGroup } from 'foo';\n"})}),"\n",(0,i.jsx)(n.p,{children:"Out:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// set to true:\nimport ButtonGroup from 'foo/button-group';\n// set to false:\nimport ButtonGroup from 'foo/ButtonGroup';\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"transformtodefaultimport",children:["transformToDefaultImport",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#transformtodefaultimport",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Whether to convert import statements to default imports."}),"\n",(0,i.jsx)(n.p,{children:"Example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { Button } from 'foo';\n"})}),"\n",(0,i.jsx)(n.p,{children:"Out:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// set to true:\nimport Button from 'foo/button';\n// set to false:\nimport { Button } from 'foo/button';\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"customname",children:["customName",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#customname",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"((member: string) => string | undefined) | string"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"Note"}),(0,i.jsxs)(n.div,{className:"modern-directive-content",children:["\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Function-type configurations can only be used in Webpack builds."}),"\n",(0,i.jsx)(n.li,{children:"Template-type configurations can only be used in Rspack builds or Webpack builds that use SWC."}),"\n"]}),"\n"]})]}),"\n",(0,i.jsxs)(n.p,{children:["Customize the imported path after conversion. The input is the imported member. For example, configure it as ",(0,i.jsx)(n.code,{children:" (member) => `my-lib/${member}` "}),", which will convert ",(0,i.jsx)(n.code,{children:"import { foo } from 'bar'"})," to ",(0,i.jsx)(n.code,{children:"import foo from 'my-lib/foo'"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["When using Rspack to build, function configurations cannot be used, but you can use ",(0,i.jsx)(n.a,{href:"https://handlebarsjs.com/",target:"_blank",rel:"noopener noreferrer",children:"handlebars"})," template strings. For the above function configuration, you can use the following template instead of ",(0,i.jsx)(n.code,{children:"my-lib/{{ member }}"}),", or use some built-in helper methods, such as ",(0,i.jsx)(n.code,{children:"my-lib/{{ kebabCase member }}"})," to convert it to kebab-case format. In addition to kebabCase, there are also camelCase, snakeCase, upperCase, and lowerCase that can be used."]}),"\n",(0,i.jsxs)(n.h4,{id:"customstylename",children:["customStyleName",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#customstylename",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"((member: string) => string | undefined) | string"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"Note"}),(0,i.jsxs)(n.div,{className:"modern-directive-content",children:["\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Function-type configurations can only be used in Webpack builds."}),"\n",(0,i.jsx)(n.li,{children:"Template-type configurations can only be used in Rspack builds or Webpack builds that use SWC."}),"\n"]}),"\n"]})]}),"\n",(0,i.jsxs)(n.p,{children:["Customize the imported style path after conversion. The input is the imported member. For example, configure it as ",(0,i.jsx)(n.code,{children:" (member) => `my-lib/${member}` "}),", which will convert ",(0,i.jsx)(n.code,{children:"import { foo } from 'bar'"})," to ",(0,i.jsx)(n.code,{children:"import foo from 'my-lib/foo'"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["When using Rspack to build, function configurations cannot be used, but you can use ",(0,i.jsx)(n.a,{href:"https://handlebarsjs.com/",target:"_blank",rel:"noopener noreferrer",children:"handlebars"})," template strings. For the above function configuration, you can use the following template instead of ",(0,i.jsx)(n.code,{children:"my-lib/{{ member }}"}),", or use some built-in helper methods, such as ",(0,i.jsx)(n.code,{children:"my-lib/{{ kebabCase member }}"})," to convert it to kebab-case format. In addition to kebabCase, there are also camelCase, snakeCase, upperCase, and lowerCase that can be used."]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Fsource%2FtransformImport.md"]={toc:[{text:"Example",id:"example",depth:3},{text:"Disable Default Config",id:"disable-default-config",depth:3},{text:"Configuration",id:"configuration",depth:3},{text:"libraryName",id:"libraryname",depth:4},{text:"libraryDirectory",id:"librarydirectory",depth:4},{text:"style",id:"style",depth:4},{text:"styleLibraryDirectory",id:"stylelibrarydirectory",depth:4},{text:"camelToDashComponentName",id:"cameltodashcomponentname",depth:4},{text:"transformToDefaultImport",id:"transformtodefaultimport",depth:4},{text:"customName",id:"customname",depth:4},{text:"customStyleName",id:"customstylename",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},96860:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",pre:"pre",p:"p",a:"a",h3:"h3"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Object | Function"})]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Default:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  flexbox: 'no-2009',\n  // Depends on the browserslist config in the project\n  // and the `output.overrideBrowserslist` (higher priority) config\n  overrideBrowserslist: browserslist,\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["You can modify the config of ",(0,i.jsx)(n.a,{href:"https://github.com/postcss/autoprefixer",target:"_blank",rel:"noopener noreferrer",children:"autoprefixer"})," by ",(0,i.jsx)(n.code,{children:"tools.autoprefixer"}),"."]}),"\n",(0,i.jsxs)(n.h3,{id:"object-type",children:["Object Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-type",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When ",(0,i.jsx)(n.code,{children:"tools.autoprefixer"})," is configured as ",(0,i.jsx)(n.code,{children:"Object"})," type, it is merged with the default config through Object.assign. For example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    autoprefixer: {\n      flexbox: 'no-2009',\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"function-type",children:["Function Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-type",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When ",(0,i.jsx)(n.code,{children:"tools.autoprefixer"})," is a Function, the default config is passed as the first parameter and can be directly modified or returned as the final result. For example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    autoprefixer(config) {\n      // modify flexbox config\n      config.flexbox = 'no-2009';\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Ftools%2Fautoprefixer.md"]={toc:[{text:"Object Type",id:"object-type",depth:3},{text:"Function Type",id:"function-type",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},12734:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",h3:"h3",pre:"pre",div:"div",h4:"h4"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Object | Function"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["With ",(0,i.jsx)(n.code,{children:"tools.babel"})," you can modify the options of ",(0,i.jsx)(n.a,{href:"https://github.com/babel/babel-loader",target:"_blank",rel:"noopener noreferrer",children:"babel-loader"}),"."]}),"\n",(0,i.jsxs)(n.h3,{id:"usage-scenarios",children:["Usage Scenarios",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#usage-scenarios",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Please note the limitations of ",(0,i.jsx)(n.code,{children:"tools.babel"})," in the following usage scenarios:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Rspack scenario: When using Rspack as the bundler, using the ",(0,i.jsx)(n.code,{children:"tools.babel"})," option will significantly slow down the Rspack's build speed. This is because Rspack defaults to using SWC for compilation, and configuring Babel will cause the code to be compiled twice, resulting in additional compilation overhead."]}),"\n",(0,i.jsxs)(n.li,{children:["webpack + SWC scenario: When using webpack as the bundler, if you use Builder's SWC plugin for code compilation, the ",(0,i.jsx)(n.code,{children:"tools.babel"})," option will not take effect."]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"function-type",children:["Function Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-type",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When ",(0,i.jsx)(n.code,{children:"tools.babel"})," is of type ",(0,i.jsx)(n.code,{children:"Function"}),", the default Babel configuration will be passed as the first parameter. You can directly modify the configuration object or return an object as the final ",(0,i.jsx)(n.code,{children:"babel-loader"})," configuration."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    babel(config) {\n      // Add a Babel plugin\n      // note: the plugin have been added to the default config to support antd load on demand\n      config.plugins.push([\n        'babel-plugin-import',\n        {\n          libraryName: 'xxx-components',\n          libraryDirectory: 'es',\n          style: true,\n        },\n      ]);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["The second parameter of the ",(0,i.jsx)(n.code,{children:"tools.babel"})," function provides some more convenient utility functions. Please continue reading the documentation below."]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["The above example is just for reference, usually you don't need to manually configure ",(0,i.jsx)(n.code,{children:"babel-plugin-import"}),", because the Builder already provides a more general ",(0,i.jsx)(n.code,{children:"source.transformImport"})," configuration.\n"]})})]}),"\n",(0,i.jsxs)(n.h3,{id:"object-type",children:["Object Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-type",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When ",(0,i.jsx)(n.code,{children:"tools.babel"}),"'s type is ",(0,i.jsx)(n.code,{children:"Object"}),", the config will be shallow merged with default config by ",(0,i.jsx)(n.code,{children:"Object.assign"}),"."]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive caution",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"CAUTION"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["Note that ",(0,i.jsx)(n.code,{children:"Object.assign"})," is a shallow copy and will completely overwrite the built-in ",(0,i.jsx)(n.code,{children:"presets"})," or ",(0,i.jsx)(n.code,{children:"plugins"})," array, please use it with caution.\n"]})})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    babel: {\n      plugins: [\n        [\n          'babel-plugin-import',\n          {\n            libraryName: 'xxx-components',\n            libraryDirectory: 'es',\n            style: true,\n          },\n        ],\n      ],\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"util-functions",children:["Util Functions",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#util-functions",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When ",(0,i.jsx)(n.code,{children:"tools.babel"})," is a Function, the tool functions available for the second parameter are as follows:"]}),"\n",(0,i.jsxs)(n.h4,{id:"addplugins",children:["addPlugins",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#addplugins",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"(plugins: BabelPlugin[]) => void"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Add some Babel plugins. For example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    babel(config, { addPlugins }) {\n      addPlugins([\n        [\n          'babel-plugin-import',\n          {\n            libraryName: 'xxx-components',\n            libraryDirectory: 'es',\n            style: true,\n          },\n        ],\n      ]);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"addpresets",children:["addPresets",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#addpresets",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"(presets: BabelPlugin[]) => void"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Add Babel preset configuration. (No need to add presets in most cases)"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    babel(config, { addPresets }) {\n      addPresets(['@babel/preset-env']);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"removeplugins",children:["removePlugins",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#removeplugins",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"(plugins: string | string[]) => void"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"To remove the Babel plugin, just pass in the name of the plugin to be removed, you can pass in a single string or an array of strings."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    babel(config, { removePlugins }) {\n      removePlugins('babel-plugin-import');\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"removepresets",children:["removePresets",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#removepresets",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"(presets: string | string[]) => void"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"To remove the Babel preset configuration, pass in the name of the preset to be removed, you can pass in a single string or an array of strings."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    babel(config, { removePresets }) {\n      removePresets('@babel/preset-env');\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"addincludes",children:["addIncludes",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#addincludes",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"(includes: string | RegExp | (string | RegExp)[]) => void"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["By default, Babel will only compile the application code in the src directory. With ",(0,i.jsx)(n.code,{children:"addIncludes"})," you can specify that Babel compile some files in node_modules. For example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    babel(config, { addIncludes }) {\n      addIncludes(/\\/query-string\\//);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["The usage of the ",(0,i.jsx)(n.code,{children:"addIncludes"})," function is basically the same as the ",(0,i.jsx)(n.code,{children:"source.include"})," config, please see the ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/builder/api/config-source.html#sourceinclude",target:"_blank",rel:"noopener noreferrer",children:"source.include documentation"})," for a more detailed usage. You can also use ",(0,i.jsx)(n.code,{children:"source.include"})," directly instead of the ",(0,i.jsx)(n.code,{children:"addIncludes"})," function.\n"]})})]}),"\n",(0,i.jsxs)(n.h4,{id:"addexcludes",children:["addExcludes",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#addexcludes",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"(excludes: string | RegExp | (string | RegExp)[]) => void"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Contrary to ",(0,i.jsx)(n.code,{children:"addIncludes"}),", specifies that certain files are excluded from Babel's compilation."]}),"\n",(0,i.jsxs)(n.p,{children:["For example, without compiling files in the ",(0,i.jsx)(n.code,{children:"src/example"})," directory:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    babel(config, { addExcludes }) {\n      addExcludes('src/example');\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["The usage of the ",(0,i.jsx)(n.code,{children:"addExcludes"})," function is basically the same as the ",(0,i.jsx)(n.code,{children:"source.exclude"})," config, please see the ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/builder/api/config-source.html#sourceexclude",target:"_blank",rel:"noopener noreferrer",children:"source.exclude documentation"})," for a more detailed usage. You can also use ",(0,i.jsx)(n.code,{children:"source.exclude"})," directly instead of the ",(0,i.jsx)(n.code,{children:"addExcludes"})," function.\n"]})})]}),"\n",(0,i.jsxs)(n.h4,{id:"modifypresetenvoptions",children:["modifyPresetEnvOptions",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#modifypresetenvoptions",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"(options: PresetEnvOptions) => void"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Modify the configuration of ",(0,i.jsx)(n.a,{href:"https://babeljs.io/docs/en/babel-preset-env",target:"_blank",rel:"noopener noreferrer",children:"@babel/preset-env"}),", the configuration you pass in will be shallowly merged with default config. For example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    babel(config, { modifyPresetEnvOptions }) {\n      modifyPresetEnvOptions({\n        targets: {\n          browsers: ['last 2 versions'],\n        },\n      });\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"modifypresetreactoptions",children:["modifyPresetReactOptions",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#modifypresetreactoptions",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"(options: PresetReactOptions) => void"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Modify the configuration of ",(0,i.jsx)(n.a,{href:"https://babeljs.io/docs/en/babel-preset-react",target:"_blank",rel:"noopener noreferrer",children:"@babel/preset-react"}),", the configuration you pass in will be shallowly merged with default config. For example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    babel(config, { modifyPresetReactOptions }) {\n      modifyPresetReactOptions({\n        pragma: 'React.createElement',\n      });\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"debugging-babel-configuration",children:["Debugging Babel Configuration",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#debugging-babel-configuration",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["After modifying the ",(0,i.jsx)(n.code,{children:"babel-loader"})," configuration through ",(0,i.jsx)(n.code,{children:"tools.babel"}),", you can view the final generated configuration in ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/builder/en/guide/debug/debug-mode.html",target:"_blank",rel:"noopener noreferrer",children:"Builder debug mode"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["First, enable debug mode by using the ",(0,i.jsx)(n.code,{children:"DEBUG=builder"})," parameter:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Debug development mode\nDEBUG=builder pnpm dev\n\n# Debug production mode\nDEBUG=builder pnpm build\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Then open the generated ",(0,i.jsx)(n.code,{children:"(webpack|rspack).config.web.js"})," file and search for the ",(0,i.jsx)(n.code,{children:"babel-loader"})," keyword to see the complete ",(0,i.jsx)(n.code,{children:"babel-loader"})," configuration."]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Ftools%2Fbabel.md"]={toc:[{text:"Usage Scenarios",id:"usage-scenarios",depth:3},{text:"Function Type",id:"function-type",depth:3},{text:"Object Type",id:"object-type",depth:3},{text:"Util Functions",id:"util-functions",depth:3},{text:"addPlugins",id:"addplugins",depth:4},{text:"addPresets",id:"addpresets",depth:4},{text:"removePlugins",id:"removeplugins",depth:4},{text:"removePresets",id:"removepresets",depth:4},{text:"addIncludes",id:"addincludes",depth:4},{text:"addExcludes",id:"addexcludes",depth:4},{text:"modifyPresetEnvOptions",id:"modifypresetenvoptions",depth:4},{text:"modifyPresetReactOptions",id:"modifypresetreactoptions",depth:4},{text:"Debugging Babel Configuration",id:"debugging-babel-configuration",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},29693:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",div:"div",a:"a",blockquote:"blockquote",h3:"h3",h4:"h4",pre:"pre",h5:"h5",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Function | undefined"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["You can modify the webpack and Rspack configuration by configuring ",(0,i.jsx)(n.code,{children:"tools.bundlerChain"})," which is type of ",(0,i.jsx)(n.code,{children:"Function"}),". The function receives two parameters, the first is the original bundler chain object, and the second is an object containing some utils."]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"What is BundlerChain"}),(0,i.jsxs)(n.div,{className:"modern-directive-content",children:["\n",(0,i.jsx)(n.p,{children:"Bundler chain is a subset of webpack chain, which contains part of the webpack chain API that you can use to modify both webpack and Rspack configuration."}),"\n",(0,i.jsxs)(n.p,{children:["Configurations modified via bundler chain will work on both webpack and Rspack builds. Note that the bundler chain only supports modifying the configuration of the non-differentiated parts of webpack and Rspack. For example, modifying the devtool configuration item (webpack and Rspack have the same devtool property value type), or adding an ",(0,i.jsx)(n.a,{href:"https://www.rspack.dev/guide/plugin-compat.html",target:"_blank",rel:"noopener noreferrer",children:"Rspack-compatible"})," webpack plugin."]}),"\n"]})]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"tools.bundlerChain"})," is executed earlier than tools.webpackChain / tools.webpack / tools.rspack and thus will be overridden by changes in others."]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"utils",children:["Utils",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#utils",children:"#"})]}),"\n",(0,i.jsxs)(n.h4,{id:"env",children:["env",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#env",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"'development' | 'production' | 'test'"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"env"})," parameter can be used to determine whether the current environment is development, production or test. For example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    bundlerChain: (chain, { env }) => {\n      if (env === 'development') {\n        chain.devtool('cheap-module-eval-source-map');\n      }\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"isprod",children:["isProd",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#isprod",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"isProd"})," parameter can be used to determine whether the current environment is production. For example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    bundlerChain: (chain, { isProd }) => {\n      if (isProd) {\n        chain.devtool('source-map');\n      }\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"target",children:["target",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#target",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"'web' | 'node' | 'modern-web' | 'web-worker'"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"target"})," parameter can be used to determine the current environment. For example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    bundlerChain: (chain, { target }) => {\n      if (target === 'node') {\n        // ...\n      }\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"isserver",children:["isServer",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#isserver",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Determines whether the target environment is ",(0,i.jsx)(n.code,{children:"node"}),", equivalent to ",(0,i.jsx)(n.code,{children:"target === 'node'"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    bundlerChain: (chain, { isServer }) => {\n      if (isServer) {\n        // ...\n      }\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"iswebworker",children:["isWebWorker",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#iswebworker",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Determines whether the target environment is ",(0,i.jsx)(n.code,{children:"web-worker"}),", equivalent to ",(0,i.jsx)(n.code,{children:"target === 'web-worker'"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    bundlerChain: (chain, { isWebWorker }) => {\n      if (isWebWorker) {\n        // ...\n      }\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"htmlplugin",children:["HtmlPlugin",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmlplugin",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"typeof import('html-webpack-plugin') | import('@rspack/plugin-html') "})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The HtmlPlugin instance in webpack or Rspack:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    bundlerChain: (chain, { HtmlPlugin }) => {\n      console.log(HtmlPlugin);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"chain_id",children:["CHAIN_ID",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chain_id",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Some common Chain IDs are predefined in the Builder, and you can use these IDs to locate the built-in Rule or Plugin."}),"\n",(0,i.jsxs)(n.h5,{id:"chain_idrule",children:["CHAIN_ID.RULE",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chain_idrule",children:"#"})]}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"ID"}),"\n",(0,i.jsx)(n.th,{children:"Description"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RULE.MJS"})}),"\n",(0,i.jsxs)(n.td,{children:["Rule for ",(0,i.jsx)(n.code,{children:"mjs"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RULE.CSS"})}),"\n",(0,i.jsxs)(n.td,{children:["Rule for ",(0,i.jsx)(n.code,{children:"css"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RULE.LESS"})}),"\n",(0,i.jsxs)(n.td,{children:["Rule for ",(0,i.jsx)(n.code,{children:"less"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RULE.SASS"})}),"\n",(0,i.jsxs)(n.td,{children:["Rule for ",(0,i.jsx)(n.code,{children:"sass"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RULE.TOML"})}),"\n",(0,i.jsxs)(n.td,{children:["Rule for ",(0,i.jsx)(n.code,{children:"toml"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RULE.YAML"})}),"\n",(0,i.jsxs)(n.td,{children:["Rule for ",(0,i.jsx)(n.code,{children:"yaml"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RULE.WASM"})}),"\n",(0,i.jsxs)(n.td,{children:["Rule for ",(0,i.jsx)(n.code,{children:"WASM"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"chain_idone_of",children:["CHAIN_ID.ONE_OF",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chain_idone_of",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"ONE_OF.XXX"})," can match a certain type of rule in the rule array."]}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"ID"}),"\n",(0,i.jsx)(n.th,{children:"Description"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ONE_OF.SVG"})}),"\n",(0,i.jsx)(n.td,{children:"Rules for SVG, automatic choice between data URI and separate file"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ONE_OF.SVG_URL"})}),"\n",(0,i.jsx)(n.td,{children:"Rules for SVG, output as a separate file"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ONE_OF.SVG_INLINE"})}),"\n",(0,i.jsx)(n.td,{children:"Rules for SVG, inlined into bundles as data URIs"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ONE_OF.SVG_ASSETS"})}),"\n",(0,i.jsx)(n.td,{children:"Rules for SVG, automatic choice between data URI and separate file"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"chain_iduse",children:["CHAIN_ID.USE",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chain_iduse",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"USE.XXX"})," can match a certain loader."]}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"ID"}),"\n",(0,i.jsx)(n.th,{children:"Description"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.LESS"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"less-loader"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.SASS"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"sass-loader"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.TOML"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"toml-loader"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.YAML"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"yaml-loader"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.SVGR"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"@svgr/webpack"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.POSTCSS"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"postcss-loader"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"chain_idplugin",children:["CHAIN_ID.PLUGIN",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chain_idplugin",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"PLUGIN.XXX"})," can match a certain webpack plugin."]}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"ID"}),"\n",(0,i.jsx)(n.th,{children:"Description"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.HTML"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"HtmlPlugin"}),", you need to splice the entry name when using: ",(0,i.jsx)(n.code,{children:"${PLUGIN.HTML}-${entryName}"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.APP_ICON"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"AppIconPlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.INLINE_HTML"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"InlineChunkHtmlPlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.BUNDLE_ANALYZER"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"WebpackBundleAnalyzer"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.BOTTOM_TEMPLATE"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"BottomTemplatePlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.AUTO_SET_ROOT_SIZE"})}),"\n",(0,i.jsx)(n.td,{children:"correspond to automatically set root font size plugin in Builder"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"examples",children:["Examples",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#examples",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["The usage of BundlerChain can reference: ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/builder/en/guide/advanced/custom-webpack-config.html#webpack-chain-basics",target:"_blank",rel:"noopener noreferrer",children:"WebpackChain Examples"}),"."]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Ftools%2FbundlerChain.mdx"]={toc:[{text:"Utils",id:"utils",depth:3},{text:"env",id:"env",depth:4},{text:"isProd",id:"isprod",depth:4},{text:"target",id:"target",depth:4},{text:"isServer",id:"isserver",depth:4},{text:"isWebWorker",id:"iswebworker",depth:4},{text:"HtmlPlugin",id:"htmlplugin",depth:3},{text:"CHAIN_ID",id:"chain_id",depth:4},{text:"CHAIN_ID.ONE_OF",id:"chain_idone_of",depth:3},{text:"CHAIN_ID.USE",id:"chain_iduse",depth:3},{text:"CHAIN_ID.PLUGIN",id:"chain_idplugin",depth:3},{text:"Examples",id:"examples",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},31861:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",pre:"pre",p:"p",a:"a",h3:"h3"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Object | Function"})]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Default:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const defaultOptions = {\n  // The loader options\n  loaderOptions: {},\n  // The plugin options\n  pluginOptions: {\n    // The default value of cssPath is `static/css`\n    // while the default value of cssFilename is `[name].[contenthash:8].css`\n    filename: `${cssPath}/${cssFilename}`,\n    chunkFilename: `${cssPath}/async/${cssFilename}`,\n    ignoreOrder: true,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Bundler:"})," ",(0,i.jsx)(n.code,{children:"only support webpack"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["The config of ",(0,i.jsx)(n.a,{href:"https://github.com/webpack-contrib/mini-css-extract-plugin",target:"_blank",rel:"noopener noreferrer",children:"mini-css-extract-plugin"})," can be modified through ",(0,i.jsx)(n.code,{children:"tools.cssExtract"}),"."]}),"\n",(0,i.jsxs)(n.h3,{id:"object-type",children:["Object Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-type",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"When this value is an Object, it is merged with the default config via Object.assign. For example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    cssExtract: {\n      pluginOptions: {\n        filename: 'static/css/[name].[contenthash:8].css',\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"function-type",children:["Function Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-type",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"When the value a Function, the default config is passed in as the first parameter. You can modify the config object directly, or return an object as the final config. For example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    cssExtract: config => {\n      config.pluginOptions.filename = 'static/css/[name].[contenthash:8].css';\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["For more config details, please refer to ",(0,i.jsx)(n.a,{href:"https://github.com/webpack-contrib/mini-css-extract-plugin",target:"_blank",rel:"noopener noreferrer",children:"mini-css-extract-plugin"}),"."]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Ftools%2FcssExtract.md"]={toc:[{text:"Object Type",id:"object-type",depth:3},{text:"Function Type",id:"function-type",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},14101:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",pre:"pre",div:"div",h3:"h3"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Object | Function"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["The config of ",(0,i.jsx)(n.a,{href:"https://github.com/webpack-contrib/css-loader",target:"_blank",rel:"noopener noreferrer",children:"css-loader"})," can be modified through ",(0,i.jsx)(n.code,{children:"tools.cssLoader"}),". The default config is as follows:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  modules: {\n    auto: true,\n    exportLocalsConvention: 'camelCase',\n    localIdentName: config.output.cssModuleLocalIdentName,\n    // isServer indicates node (SSR) build\n    // isWebWorker indicates web worker build\n    exportOnlyLocals: isServer || isWebWorker,\n  },\n  // CSS Source Map enabled by default in development environment\n  sourceMap: isDev,\n  // importLoaders is `1` when compiling css files, and is `2` when compiling sass/less files\n  importLoaders: 1 || 2,\n}\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["When using Rspack as the bundler, this configuration is only supported when set ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/builder/api/config-output.html#outputdisablecssextract",target:"_blank",rel:"noopener noreferrer",children:"disableCssExtract"})," is true.\n"]})})]}),"\n",(0,i.jsxs)(n.h3,{id:"object-type",children:["Object Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-type",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"When this value is an Object, it is merged with the default config via deep merge. For example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    cssLoader: {\n      modules: {\n        exportOnlyLocals: true,\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"function-type",children:["Function Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-type",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"When the value is a Function, the default config is passed in as the first parameter. You can modify the config object directly, or return an object as the final config. For example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    cssLoader: config => {\n      config.modules.exportOnlyLocals = true;\n      return config;\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Ftools%2FcssLoader.md"]={toc:[{text:"Object Type",id:"object-type",depth:3},{text:"Function Type",id:"function-type",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},92325:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",h4:"h4",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Object"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"{}"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["The config of DevServer can be modified through ",(0,i.jsx)(n.code,{children:"tools.devServer"}),"."]}),"\n",(0,i.jsxs)(n.h3,{id:"options",children:["Options",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#options",children:"#"})]}),"\n",(0,i.jsxs)(n.h4,{id:"after",children:["after",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#after",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Array"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"[]"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Provides the ability to execute custom middleware after all other middleware internally within the server."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    devServer: {\n      after: [\n        async (req, res, next) => {\n          console.log('after dev middleware');\n          next();\n        },\n      ],\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"webpack-dev-server"})," uses Express as the server-side framework. Modern.js does not use any framework, and the ",(0,i.jsx)(n.code,{children:"req"})," and ",(0,i.jsx)(n.code,{children:"res"})," in the above middleware are all native Node objects. Therefore, the Express middleware used in ",(0,i.jsx)(n.code,{children:"webpack-dev-server"})," may not be directly usable in Modern.js."]}),"\n",(0,i.jsxs)(n.p,{children:["If you want to migrate the Express middleware used in ",(0,i.jsx)(n.code,{children:"webpack-dev-server"}),", you can use the following method to pass the Express app as middleware:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import expressMiddleware from 'my-express-middleware';\nimport express from 'express';\n\n// init Express app\nconst app = express();\napp.use(expressMiddleware);\n\nexport default {\n  tools: {\n    devServer: {\n      after: [app],\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"before",children:["before",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#before",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Array"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"[]"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Provides the ability to execute custom middleware prior to all other middleware internally within the server."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    devServer: {\n      before: [\n        async (req, res, next) => {\n          console.log('before dev middleware');\n          next();\n        },\n      ],\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"client",children:["client",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#client",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"{\n    /** Specify a protocol to use */\n    protocol?: string;\n    /** The path which the middleware is serving the event stream on */\n    path?: string;\n    /** Specify a port number to listen for requests on */\n    port?: string;\n    /** Specify a host to use */\n    host?: string;\n}\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Default:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const defaultConfig = {\n  path: '/webpack-hmr',\n  // By default it is set to the port number of the dev server\n  port: '',\n  // By default it is set to \"location.hostname\"\n  host: '',\n  // By default it is set to \"location.protocol === 'https:' ? 'wss' : 'ws'\"\"\n  protocol: '',\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"The config of HMR client, which are usually used to set the WebSocket URL of HMR."}),"\n",(0,i.jsxs)(n.h4,{id:"compress",children:["compress",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#compress",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Whether to enable gzip compression for served static resources."}),"\n",(0,i.jsxs)(n.p,{children:["If you want to disable the gzip compression, you can set ",(0,i.jsx)(n.code,{children:"compress"})," to ",(0,i.jsx)(n.code,{children:"false"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    devServer: {\n      compress: false,\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"devmiddleware",children:["devMiddleware",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#devmiddleware",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  writeToDisk: boolean | ((filename: string) => boolean);\n}\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Default:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  writeToDisk: (file: string) => !file.includes('.hot-update.'),\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["The config of devMiddleware. Current options is the subset of ",(0,i.jsx)(n.a,{href:"https://github.com/webpack/webpack-dev-middleware",target:"_blank",rel:"noopener noreferrer",children:"webpack-dev-middleware"}),"."]}),"\n",(0,i.jsxs)(n.h4,{id:"headers",children:["headers",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#headers",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Record<string, string>"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Adds headers to all responses."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    devServer: {\n      headers: {\n        'X-Custom-Foo': 'bar',\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"historyapifallback",children:["historyApiFallback",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#historyapifallback",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean | ConnectHistoryApiFallbackOptions"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["The index.html page will likely have to be served in place of any 404 responses. Enable ",(0,i.jsx)(n.code,{children:"devServer.historyApiFallback"})," by setting it to ",(0,i.jsx)(n.code,{children:"true"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    devServer: {\n      historyApiFallback: true,\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["For more options and information, see the ",(0,i.jsx)(n.a,{href:"https://github.com/bripkens/connect-history-api-fallback",target:"_blank",rel:"noopener noreferrer",children:"connect-history-api-fallback"})," documentation."]}),"\n",(0,i.jsxs)(n.h4,{id:"hot",children:["hot",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#hot",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Enable ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/concepts/hot-module-replacement/",target:"_blank",rel:"noopener noreferrer",children:"Hot Module Replacement"})," feature."]}),"\n",(0,i.jsxs)(n.h4,{id:"https",children:["https",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#https",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean | { key: string; cert: string }"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["By default, DevServer will be served over HTTP. It can optionally be served over HTTPS by setting ",(0,i.jsx)(n.code,{children:"devServer.https"})," to ",(0,i.jsx)(n.code,{children:"true"}),", and will disable the HTTP server."]}),"\n",(0,i.jsx)(n.p,{children:"You can also manually pass in the certificate and corresponding private key required by the HTTPS server:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    devServer: {\n      https: {\n        key: fs.readFileSync('certificates/private.pem'),\n        cert: fs.readFileSync('certificates/public.pem'),\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"livereload",children:["liveReload",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#livereload",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["By default, the DevServer will reload/refresh the page when file changes are detected (",(0,i.jsx)(n.code,{children:"devServer.hot"})," option must be disabled in order for liveReload to take effect). Disable ",(0,i.jsx)(n.code,{children:"devServer.liveReload"})," by setting it to ",(0,i.jsx)(n.code,{children:"false"}),"."]}),"\n",(0,i.jsxs)(n.h4,{id:"setupmiddlewares",children:["setupMiddlewares",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#setupmiddlewares",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"Array<\n  (\n    middlewares: {\n      unshift: (...handlers: RequestHandler[]) => void;\n      push: (...handlers: RequestHandler[]) => void;\n    },\n    server: {\n      sockWrite: (\n        type: string,\n        data?: string | boolean | Record<string, any>,\n      ) => void;\n    },\n  ) => void\n>;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Provides the ability to execute a custom function and apply custom middlewares."}),"\n",(0,i.jsxs)(n.p,{children:["The order among several different types of middleware is: ",(0,i.jsx)(n.code,{children:"devServer.before"})," => ",(0,i.jsx)(n.code,{children:"unshift"})," => internal middlewares => ",(0,i.jsx)(n.code,{children:"push"})," => ",(0,i.jsx)(n.code,{children:"devServer.after"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    devServer: {\n      setupMiddlewares: [\n        (middlewares, server) => {\n          middlewares.unshift((req, res, next) => {\n            next();\n          });\n\n          middlewares.push((req, res, next) => {\n            next();\n          });\n        },\n      ],\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"It is possible to use some server api to meet special scenario requirements:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:'sockWrite. Allow send some message to hmr client, and then the hmr client will take different actions depending on the message type. If you send a "content changed" message, the page will reload.'}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    devServer: {\n      setupMiddlewares: [\n        (middlewares, server) => {\n          // add custom watch & trigger page reload when change\n          watcher.on('change', changed => {\n            server.sockWrite('content-changed');\n          });\n        },\n      ],\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"proxy",children:["proxy",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#proxy",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Record<string, string> | Record<string, ProxyDetail>"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Proxying some URLs."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    devServer: {\n      proxy: {\n        '/api': 'http://localhost:3000',\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["A request to /api/users will now proxy the request to ",(0,i.jsx)(n.a,{href:"http://localhost:3000/api/users",target:"_blank",rel:"noopener noreferrer",children:"http://localhost:3000/api/users"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"If you don't want /api to be passed along, we need to rewrite the path:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    devServer: {\n      proxy: {\n        '/api': {\n          target: 'http://localhost:3000',\n          pathRewrite: { '^/api': '' },\n        },\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["The DevServer Proxy makes use of the ",(0,i.jsx)(n.a,{href:"https://github.com/chimurai/http-proxy-middleware/tree/2.x",target:"_blank",rel:"noopener noreferrer",children:"http-proxy-middleware"})," package. Check out its documentation for more advanced usages."]}),"\n",(0,i.jsx)(n.p,{children:"The full type definition of DevServer Proxy is:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import type { Options as HttpProxyOptions } from 'http-proxy-middleware';\n\ntype ProxyDetail = HttpProxyOptions & {\n  bypass?: (\n    req: IncomingMessage,\n    res: ServerResponse,\n    proxyOptions: ProxyOptions,\n  ) => string | undefined | null | false;\n  context?: string | string[];\n};\n\ntype ProxyOptions =\n  | Record<string, string>\n  | Record<string, ProxyDetail>\n  | ProxyDetail[]\n  | ProxyDetail;\n"})}),"\n",(0,i.jsx)(n.p,{children:"In addition to the http-proxy-middleware option, we also support the bypass and context configuration:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["bypass: bypass the proxy based on the return value of a function.","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Return ",(0,i.jsx)(n.code,{children:"null"})," or ",(0,i.jsx)(n.code,{children:"undefined"})," to continue processing the request with proxy."]}),"\n",(0,i.jsxs)(n.li,{children:["Return ",(0,i.jsx)(n.code,{children:"false"})," to produce a 404 error for the request."]}),"\n",(0,i.jsx)(n.li,{children:"Return a path to serve from, instead of continuing to proxy the request."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"context: If you want to proxy multiple, specific paths to the same target, you can use an array of one or more objects with a context property."}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"// custom bypass\nexport default {\n  tools: {\n    devServer: {\n      proxy: {\n        '/api': {\n          target: 'http://localhost:3000',\n          bypass: function (req, res, proxyOptions) {\n            if (req.headers.accept.indexOf('html') !== -1) {\n              console.log('Skipping proxy for browser request.');\n              return '/index.html';\n            }\n          },\n        },\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"// proxy multiple\nexport default {\n  tools: {\n    devServer: {\n      proxy: [\n        {\n          context: ['/auth', '/api'],\n          target: 'http://localhost:3000',\n        },\n      ],\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"watch",children:["watch",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#watch",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Whether to watch files change in directories such as ",(0,i.jsx)(n.code,{children:"mock/"}),", ",(0,i.jsx)(n.code,{children:"server/"}),", ",(0,i.jsx)(n.code,{children:"api/"}),"."]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Ftools%2FdevServer.md"]={toc:[{text:"Options",id:"options",depth:3},{text:"after",id:"after",depth:4},{text:"before",id:"before",depth:4},{text:"client",id:"client",depth:4},{text:"compress",id:"compress",depth:4},{text:"devMiddleware",id:"devmiddleware",depth:4},{text:"headers",id:"headers",depth:4},{text:"historyApiFallback",id:"historyapifallback",depth:4},{text:"hot",id:"hot",depth:4},{text:"https",id:"https",depth:4},{text:"liveReload",id:"livereload",depth:4},{text:"setupMiddlewares",id:"setupmiddlewares",depth:4},{text:"proxy",id:"proxy",depth:4},{text:"watch",id:"watch",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},89450:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",pre:"pre",p:"p",a:"a",h3:"h3"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"false | Object | Function"})]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Default:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const defaultHtmlPluginOptions = {\n  inject, // corresponding to the html.inject config\n  favicon, // corresponding to html.favicon config\n  filename, // generated based on output.distPath and entryName\n  template, // defaults to the built-in HTML template path\n  templateParameters, // corresponding to the html.templateParameters config\n  chunks: [entryName],\n  minify: {\n    removeComments: false,\n    useShortDoctype: true,\n    keepClosingSlash: true,\n    collapseWhitespace: true,\n    removeRedundantAttributes: true,\n    removeScriptTypeAttributes: true,\n    removeStyleLinkTypeAttributes: true,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["The configs of ",(0,i.jsx)(n.a,{href:"https://github.com/jantimon/html-webpack-plugin",target:"_blank",rel:"noopener noreferrer",children:"html-webpack-plugin"})," or ",(0,i.jsx)(n.a,{href:"https://github.com/web-infra-dev/rspack/tree/main/packages/rspack-plugin-html",target:"_blank",rel:"noopener noreferrer",children:"@rspack/plugin-html"})," can be modified through ",(0,i.jsx)(n.code,{children:"tools.htmlPlugin"}),"."]}),"\n",(0,i.jsxs)(n.h3,{id:"object-type",children:["Object Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-type",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When ",(0,i.jsx)(n.code,{children:"tools.htmlPlugin"})," is ",(0,i.jsx)(n.code,{children:"Object"})," type, the value will be merged with the default config via ",(0,i.jsx)(n.code,{children:"Object.assign"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    htmlPlugin: {\n      scriptLoading: 'blocking',\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"function-type",children:["Function Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-type",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When ",(0,i.jsx)(n.code,{children:"tools.htmlPlugin"})," is a Function:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"The first parameter is the default config, which can be modified directly."}),"\n",(0,i.jsx)(n.li,{children:"The second parameter is also an object, containing the entry name and the entry value."}),"\n",(0,i.jsx)(n.li,{children:"The Function can return a new object as the final config."}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    htmlPlugin(config, { entryName, entryValue }) {\n      if (entryName === 'main') {\n        config.scriptLoading = 'blocking';\n      }\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"boolean-type",children:["Boolean Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#boolean-type",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["The built-in ",(0,i.jsx)(n.code,{children:"html-webpack-plugin"})," plugins can be disabled by set ",(0,i.jsx)(n.code,{children:"tools.htmlPlugin"})," to ",(0,i.jsx)(n.code,{children:"false"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    htmlPlugin: false,\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Ftools%2FhtmlPlugin.md"]={toc:[{text:"Object Type",id:"object-type",depth:3},{text:"Function Type",id:"function-type",depth:3},{text:"Boolean Type",id:"boolean-type",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},14996:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",h3:"h3",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Object | Function | undefined"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Bundler:"})," ",(0,i.jsx)(n.code,{children:"only support webpack"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["You can enable or configure the ",(0,i.jsx)(n.a,{href:"https://github.com/web-infra-dev/webpack-inspector",target:"_blank",rel:"noopener noreferrer",children:"webpack inspector"})," through ",(0,i.jsx)(n.code,{children:"tools.inspector"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["When the configuration is not ",(0,i.jsx)(n.code,{children:"undefined"}),", it means that ",(0,i.jsx)(n.code,{children:"webpack-inspector"})," is enabled, and the type of ",(0,i.jsx)(n.code,{children:"tools.inspector"})," can be ",(0,i.jsx)(n.code,{children:"Object"})," or ",(0,i.jsx)(n.code,{children:"Function"}),"."]}),"\n",(0,i.jsxs)(n.h3,{id:"object-type",children:["Object Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-type",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When ",(0,i.jsx)(n.code,{children:"tools.inspector"})," is configured with type ",(0,i.jsx)(n.code,{children:"Object"}),", it is merged with the default configuration via Object.assign. For example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    inspector: {\n      // The default port is 3333\n      port: 3334,\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"function-type",children:["Function Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-type",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When ",(0,i.jsx)(n.code,{children:"tools.inspector"})," is a Function, the default configuration is passed as the first parameter and can be directly modified or returned as the final result. For example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    inspector(config) {\n      config.port = 3334;\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Ftools%2Finspector.md"]={toc:[{text:"Object Type",id:"object-type",depth:3},{text:"Function Type",id:"function-type",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},93237:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",pre:"pre",p:"p",a:"a",h3:"h3",h4:"h4"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Object | Function"})]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Default:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const defaultOptions = {\n  lessOptions: {\n    javascriptEnabled: true,\n  },\n  // CSS Source Map enabled by default in development environment\n  sourceMap: isDev,\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["You can modify the config of ",(0,i.jsx)(n.a,{href:"https://github.com/webpack-contrib/less-loader",target:"_blank",rel:"noopener noreferrer",children:"less-loader"})," via ",(0,i.jsx)(n.code,{children:"tools.less"}),"."]}),"\n",(0,i.jsxs)(n.h3,{id:"object-type",children:["Object Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-type",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When ",(0,i.jsx)(n.code,{children:"tools.less"})," is configured as ",(0,i.jsx)(n.code,{children:"Object"})," type, it is merged with the default config through Object.assign in a shallow way. It should be noted that ",(0,i.jsx)(n.code,{children:"lessOptions"})," is merged through deepMerge in a deep way. For example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    less: {\n      lessOptions: {\n        javascriptEnabled: false,\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"function-type",children:["Function Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-type",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When ",(0,i.jsx)(n.code,{children:"tools.less"})," is a Function, the default config is passed as the first parameter, which can be directly modified or returned as the final result. The second parameter provides some utility functions that can be called directly. For example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    less(config) {\n      // Modify the config of lessOptions\n      config.lessOptions = {\n        javascriptEnabled: false,\n      };\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"util-function",children:["Util Function",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#util-function",children:"#"})]}),"\n",(0,i.jsxs)(n.h4,{id:"addexcludes",children:["addExcludes",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#addexcludes",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"(excludes: RegExp | RegExp[]) => void"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Used to specify which files ",(0,i.jsx)(n.code,{children:"less-loader"})," does not compile, You can pass in one or more regular expressions to match the path of less files, for example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    less(config, { addExcludes }) {\n      addExcludes(/node_modules/);\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Ftools%2Fless.md"]={toc:[{text:"Object Type",id:"object-type",depth:3},{text:"Function Type",id:"function-type",depth:3},{text:"Util Function",id:"util-function",depth:3},{text:"addExcludes",id:"addexcludes",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},82716:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",pre:"pre",p:"p",a:"a",h3:"h3"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Object | Function | undefined"})]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Default:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const defaultOptions = {\n  minimizerOptions: {\n    preset: [\n      'default',\n      {\n        mergeLonghand: false,\n      },\n    ],\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Bundler:"})," ",(0,i.jsx)(n.code,{children:"only support webpack"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["When building for production, Builder will minimize the CSS code through ",(0,i.jsx)(n.a,{href:"https://github.com/webpack-contrib/css-minimizer-webpack-plugin",target:"_blank",rel:"noopener noreferrer",children:"css-minimizer-webpack-plugin"}),". The config of ",(0,i.jsx)(n.a,{href:"https://github.com/webpack-contrib/css-minimizer-webpack-plugin",target:"_blank",rel:"noopener noreferrer",children:"css-minimizer-webpack-plugin"})," can be modified via ",(0,i.jsx)(n.code,{children:"tools.minifyCss"}),"."]}),"\n",(0,i.jsxs)(n.h3,{id:"object-type",children:["Object Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-type",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When ",(0,i.jsx)(n.code,{children:"tools.minifyCss"})," is ",(0,i.jsx)(n.code,{children:"Object"})," type, it will be merged with the default config via ",(0,i.jsx)(n.code,{children:"Object.assign"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["For example, modify the ",(0,i.jsx)(n.code,{children:"preset"})," config of ",(0,i.jsx)(n.a,{href:"https://cssnano.co/",target:"_blank",rel:"noopener noreferrer",children:"cssnano"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    minifyCss: {\n      minimizerOptions: {\n        preset: require.resolve('cssnano-preset-simple'),\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"function-type",children:["Function Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-type",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When ",(0,i.jsx)(n.code,{children:"tools.minifyCss"})," is ",(0,i.jsx)(n.code,{children:"Function"})," type, the default config is passed in as the first parameter, the config object can be modified directly, or a value can be returned as the final result."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n   tools: {\n    minifyCss: options => {\n      options.minimizerOptions = {\n        preset: require.resolve('cssnano-preset-simple'),\n      },\n    }\n  }\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Ftools%2FminifyCss.md"]={toc:[{text:"Object Type",id:"object-type",depth:3},{text:"Function Type",id:"function-type",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},38287:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",pre:"pre",p:"p",a:"a",h3:"h3",h4:"h4",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Object | Function"})]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Default:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const defaultOptions = {\n  postcssOptions: {\n    plugins: [\n      require('postcss-flexbugs-fixes'),\n      require('postcss-custom-properties'),\n      require('postcss-initial'),\n      require('postcss-page-break'),\n      require('postcss-font-variant'),\n      require('postcss-media-minmax'),\n      require('postcss-nesting'),\n      require('autoprefixer')({\n        flexbox: 'no-2009',\n      }),\n    ],\n    // CSS Source Map enabled by default in development environment\n    sourceMap: isDev,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Builder integrates PostCSS by default, you can configure ",(0,i.jsx)(n.a,{href:"https://github.com/webpack-contrib/postcss-loader",target:"_blank",rel:"noopener noreferrer",children:"postcss-loader"})," through ",(0,i.jsx)(n.code,{children:"tools.postcss"}),"."]}),"\n",(0,i.jsxs)(n.h3,{id:"function-type",children:["Function Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-type",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"When the value is a Function, the internal default config is passed as the first parameter, and the config object can be modified directly without returning, or an object can be returned as the final result; the second parameter is a set of tool functions for modifying the postcss-loader config."}),"\n",(0,i.jsx)(n.p,{children:"For example, you need to add a PostCSS plugin on the basis of the original plugin, and push a new plugin to the postcssOptions.plugins array:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    postcss: opts => {\n      opts.postcssOptions.plugins.push(require('postcss-px-to-viewport'));\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"When you need to pass parameters to the PostCSS plugin, you can pass them in by function parameters:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    postcss: opts => {\n      const viewportPlugin = require('postcss-px-to-viewport')({\n        viewportWidth: 375,\n      });\n      opts.postcssOptions.plugins.push(viewportPlugin);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"tools.postcss"})," can return a config object and completely replace the default config:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    postcss: () => {\n      return {\n        postcssOptions: {\n          plugins: [require('postcss-px-to-viewport')],\n        },\n      };\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"object-type",children:["Object Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-type",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When this value is an Object, it is merged with the default config via ",(0,i.jsx)(n.code,{children:"Object.assign"}),". Note that ",(0,i.jsx)(n.code,{children:"Object.assign"})," is a shallow copy and will completely overwrite the built-in ",(0,i.jsx)(n.code,{children:"presets"})," or ",(0,i.jsx)(n.code,{children:"plugins"})," array, please use it with caution."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    postcss: {\n      // Because `Object.assign` is used, the default postcssOptions will be overwritten.\n      postcssOptions: {\n        plugins: [require('postcss-px-to-viewport')],\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"util-functions",children:["Util Functions",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#util-functions",children:"#"})]}),"\n",(0,i.jsxs)(n.h4,{id:"addplugins",children:["addPlugins",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#addplugins",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"(plugins: PostCSSPlugin | PostCSSPlugin[]) => void"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"For adding additional PostCSS plugins, You can pass in a single PostCSS plugin, or an array of PostCSS plugins."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    postcss: (config, { addPlugins }) => {\n      // Add a PostCSS Plugin\n      addPlugins(require('postcss-preset-env'));\n      // Add multiple PostCSS Plugins\n      addPlugins([require('postcss-preset-env'), require('postcss-import')]);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"Builder uses the PostCSS v8 version. When you use third-party PostCSS plugins, please pay attention to whether the PostCSS version is compatible. Some legacy plugins may not work in PostCSS v8."})})]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Ftools%2Fpostcss.md"]={toc:[{text:"Function Type",id:"function-type",depth:3},{text:"Object Type",id:"object-type",depth:3},{text:"Util Functions",id:"util-functions",depth:3},{text:"addPlugins",id:"addplugins",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},39142:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",h3:"h3",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"true | Object | Function | undefined"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Configure the ",(0,i.jsx)(n.a,{href:"https://pugjs.org/",target:"_blank",rel:"noopener noreferrer",children:"Pug"})," template engine."]}),"\n",(0,i.jsxs)(n.h3,{id:"boolean-type",children:["Boolean Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#boolean-type",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Pug template engine is not enabled by default, you can enable it by setting ",(0,i.jsx)(n.code,{children:"tools.pug"})," to ",(0,i.jsx)(n.code,{children:"true"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    pug: true,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["When enabled, you can use ",(0,i.jsx)(n.code,{children:"index.pug"})," as the template file in ",(0,i.jsx)(n.code,{children:"html.template"})," config."]}),"\n",(0,i.jsxs)(n.h3,{id:"object-type",children:["Object Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-type",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When ",(0,i.jsx)(n.code,{children:"tools.terser"})," is ",(0,i.jsx)(n.code,{children:"Object"})," type, you can passing the Pug options:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    pug: {\n      doctype: 'xml',\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["For detailed options, please refer to ",(0,i.jsx)(n.a,{href:"https://pugjs.org/api/reference.html#options",target:"_blank",rel:"noopener noreferrer",children:"Pug API Reference"}),"."]}),"\n",(0,i.jsxs)(n.h3,{id:"function-type",children:["Function Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-type",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When ",(0,i.jsx)(n.code,{children:"tools.pug"})," is ",(0,i.jsx)(n.code,{children:"Function"})," type, the default configuration is passed in as the first parameter, the configuration object can be modified directly, or a value can be returned as the final result."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    pug(config) {\n      config.doctype = 'xml';\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Ftools%2Fpug.md"]={toc:[{text:"Boolean Type",id:"boolean-type",depth:3},{text:"Object Type",id:"object-type",depth:3},{text:"Function Type",id:"function-type",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},77031:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",h3:"h3",pre:"pre",div:"div",h4:"h4"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Object | Function | undefined"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Bundler:"})," ",(0,i.jsx)(n.code,{children:"only support Rspack"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"tools.rspack"})," is used to configure ",(0,i.jsx)(n.a,{href:"https://www.rspack.dev/",target:"_blank",rel:"noopener noreferrer",children:"Rspack"}),"."]}),"\n",(0,i.jsxs)(n.h3,{id:"object-type",children:["Object Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-type",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"tools.rspack"})," can be configured as an object to be deep merged with the built-in Rspack configuration through ",(0,i.jsx)(n.a,{href:"https://github.com/survivejs/webpack-merge",target:"_blank",rel:"noopener noreferrer",children:"webpack-merge"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["For example, add ",(0,i.jsx)(n.code,{children:"resolve.alias"})," configuration:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    rspack: {\n      resolve: {\n        alias: {\n          '@util': 'src/util',\n        },\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"function-type",children:["Function Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-type",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"tools.rspack"})," can be configured as a function. The first parameter of this function is the built-in Rspack configuration object, you can modify this object, and then return it. For example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    rspack: config => {\n      config.resolve.alias['@util'] = 'src/util';\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["The object returned by the ",(0,i.jsx)(n.code,{children:"tools.rspack"})," function is used directly as the final Rspack configuration and is not merged with the built-in Rspack configuration.\n"]})})]}),"\n",(0,i.jsx)(n.p,{children:"The second parameter of this function is an object, which contains some utility functions and properties, as follows:"}),"\n",(0,i.jsxs)(n.h3,{id:"utils",children:["Utils",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#utils",children:"#"})]}),"\n",(0,i.jsxs)(n.h4,{id:"env",children:["env",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#env",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"'development' | 'production' | 'test'"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"env"})," parameter can be used to determine whether the current environment is development, production or test. For example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    rspack: (config, { env }) => {\n      if (env === 'development') {\n        config.devtool = 'cheap-module-eval-source-map';\n      }\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"isprod",children:["isProd",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#isprod",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"isProd"})," parameter can be used to determine whether the current environment is production. For example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    rspack: (config, { isProd }) => {\n      if (isProd) {\n        config.devtool = 'source-map';\n      }\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"target",children:["target",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#target",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"'web' | 'node' | 'modern-web' | 'web-worker'"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"target"})," parameter can be used to determine the current target. For example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    rspack: (config, { target }) => {\n      if (target === 'node') {\n        // ...\n      }\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"isserver",children:["isServer",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#isserver",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Determines whether the target environment is ",(0,i.jsx)(n.code,{children:"node"}),", equivalent to ",(0,i.jsx)(n.code,{children:"target === 'node'"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    rspack: (config, { isServer }) => {\n      if (isServer) {\n        // ...\n      }\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"iswebworker",children:["isWebWorker",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#iswebworker",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Determines whether the target environment is ",(0,i.jsx)(n.code,{children:"web-worker"}),", equivalent to ",(0,i.jsx)(n.code,{children:"target === 'web-worker'"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    rspack: (config, { isWebWorker }) => {\n      if (isWebWorker) {\n        // ...\n      }\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"addrules",children:["addRules",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#addrules",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"(rules: RuleSetRule | RuleSetRule[]) => void"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Add additional ",(0,i.jsx)(n.a,{href:"https://www.rspack.dev/config/module.html#modulerules",target:"_blank",rel:"noopener noreferrer",children:"Rspack rules"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"For example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    rspack: (config, { addRules }) => {\n      // add a single rule\n      addRules({\n        test: /\\.foo/,\n        loader: require.resolve('foo-loader'),\n      });\n\n      // Add multiple rules as an array\n      addRules([\n        {\n          test: /\\.foo/,\n          loader: require.resolve('foo-loader'),\n        },\n        {\n          test: /\\.bar/,\n          loader: require.resolve('bar-loader'),\n        },\n      ]);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"prependplugins",children:["prependPlugins",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#prependplugins",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"(plugins: RspackPluginInstance | RspackPluginInstance[]) => void"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Add additional plugins to the head of the internal Rspack plugins array, and the plugin will be executed first."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    rspack: (config, { prependPlugins }) => {\n      // add a single plugin\n      prependPlugins(new PluginA());\n\n      // Add multiple plugins\n      prependPlugins([new PluginA(), new PluginB()]);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"appendplugins",children:["appendPlugins",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#appendplugins",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"(plugins: RspackPluginInstance | RspackPluginInstance[]) => void"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Add additional plugins at the end of the internal Rspack plugins array, the plugin will be executed last."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    rspack: (config, { appendPlugins }) => {\n      // add a single plugin\n      appendPlugins([new PluginA()]);\n\n      // Add multiple plugins\n      appendPlugins([new PluginA(), new PluginB()]);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"removeplugin",children:["removePlugin",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#removeplugin",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"(name: string) => void"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Remove the internal Rspack plugin, the parameter is the ",(0,i.jsx)(n.code,{children:"constructor.name"})," of the plugin."]}),"\n",(0,i.jsxs)(n.p,{children:["For example, remove the internal ",(0,i.jsx)(n.a,{href:"https://github.com/webpack-contrib/webpack-bundle-analyzer",target:"_blank",rel:"noopener noreferrer",children:"webpack-bundle-analyzer"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    rspack: (config, { removePlugin }) => {\n      removePlugin('BundleAnalyzerPlugin');\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"mergeconfig",children:["mergeConfig",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#mergeconfig",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"(...configs: RspackConfig[]) => RspackConfig"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Used to merge multiple Rspack configs, same as ",(0,i.jsx)(n.a,{href:"https://github.com/survivejs/webpack-merge",target:"_blank",rel:"noopener noreferrer",children:"webpack-merge"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    rspack: (config, { mergeConfig }) => {\n      return mergeConfig(config, {\n        devtool: 'eval',\n      });\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"getcompiledpath",children:["getCompiledPath",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#getcompiledpath",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"(name: string) => string"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Get the path to the builder built-in dependencies, such as:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"sass"}),"\n",(0,i.jsx)(n.li,{children:"sass-loader"}),"\n",(0,i.jsx)(n.li,{children:"less"}),"\n",(0,i.jsx)(n.li,{children:"less-loader"}),"\n",(0,i.jsx)(n.li,{children:"babel-loader"}),"\n",(0,i.jsx)(n.li,{children:"url-loader"}),"\n",(0,i.jsx)(n.li,{children:"file-loader"}),"\n",(0,i.jsx)(n.li,{children:"..."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"This method is usually used when you need to reuse the same dependency with the builder."}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"Builder built-in dependencies are subject to change with version iterations, e.g. generate large version break changes. Please avoid using this API if it is not necessary."})})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    rspack: (config, { getCompiledPath }) => {\n      const loaderPath = getCompiledPath('less-loader');\n      // ...\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Ftools%2Frspack.md"]={toc:[{text:"Object Type",id:"object-type",depth:3},{text:"Function Type",id:"function-type",depth:3},{text:"Utils",id:"utils",depth:3},{text:"env",id:"env",depth:4},{text:"isProd",id:"isprod",depth:4},{text:"target",id:"target",depth:4},{text:"isServer",id:"isserver",depth:4},{text:"isWebWorker",id:"iswebworker",depth:4},{text:"addRules",id:"addrules",depth:4},{text:"prependPlugins",id:"prependplugins",depth:4},{text:"appendPlugins",id:"appendplugins",depth:4},{text:"removePlugin",id:"removeplugin",depth:4},{text:"mergeConfig",id:"mergeconfig",depth:4},{text:"getCompiledPath",id:"getcompiledpath",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},11106:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",pre:"pre",p:"p",a:"a",h3:"h3",h4:"h4"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Object | Function"})]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Default:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const defaultOptions = {\n  // CSS Source Map enabled by default in development environment\n  sourceMap: isDev,\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["You can modify the config of ",(0,i.jsx)(n.a,{href:"https://github.com/webpack-contrib/sass-loader",target:"_blank",rel:"noopener noreferrer",children:"sass-loader"})," via ",(0,i.jsx)(n.code,{children:"tools.sass"}),"."]}),"\n",(0,i.jsxs)(n.h3,{id:"object-type",children:["Object Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-type",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When ",(0,i.jsx)(n.code,{children:"tools.sass"})," is ",(0,i.jsx)(n.code,{children:"Object"})," type, it is merged with the default config through Object.assign. It should be noted that ",(0,i.jsx)(n.code,{children:"sassOptions"})," is merged through deepMerge in a deep way."]}),"\n",(0,i.jsx)(n.p,{children:"For example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    sass: {\n      sourceMap: true,\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"function-type",children:["Function Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-type",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When ",(0,i.jsx)(n.code,{children:"tools.sass"})," is a Function, the default config is passed as the first parameter, which can be directly modified or returned as the final result. The second parameter provides some utility functions that can be called directly. For Example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    sass(config) {\n      // Modify sourceMap config\n      config.additionalData = async (content, loaderContext) => {\n        // ...\n      };\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"utility-function",children:["Utility Function",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#utility-function",children:"#"})]}),"\n",(0,i.jsxs)(n.h4,{id:"addexcludes",children:["addExcludes",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#addexcludes",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"(excludes: RegExp | RegExp[]) => void"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Used to specify which files ",(0,i.jsx)(n.code,{children:"sass-loader"})," does not compile, You can pass in one or more regular expressions to match the path of sass files, for example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    sass(config, { addExcludes }) {\n      addExcludes(/node_modules/);\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Ftools%2Fsass.md"]={toc:[{text:"Object Type",id:"object-type",depth:3},{text:"Function Type",id:"function-type",depth:3},{text:"Utility Function",id:"utility-function",depth:3},{text:"addExcludes",id:"addexcludes",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},24932:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",h3:"h3",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Object | Function"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"{}"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["The config of ",(0,i.jsx)(n.a,{href:"https://github.com/webpack-contrib/style-loader",target:"_blank",rel:"noopener noreferrer",children:"style-loader"})," can be set through ",(0,i.jsx)(n.code,{children:"tools.styleLoader"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["It is worth noting that Builder does not enable ",(0,i.jsx)(n.code,{children:"style-loader"})," by default. You can use ",(0,i.jsx)(n.code,{children:"output.disableCssExtract"})," config to enable it."]}),"\n",(0,i.jsxs)(n.h3,{id:"object-type",children:["Object Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-type",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"When this value is an Object, it is merged with the default config via Object.assign. For example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    styleLoader: {\n      loaderOptions: {\n        insert: 'head',\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"function-type",children:["Function Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-type",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"When the value is a Function, the default config is passed in as the first parameter. You can modify the config object directly, or return an object as the final config. For example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    styleLoader: config => {\n      config.loaderOptions.insert = 'head';\n      return config;\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Ftools%2FstyleLoader.md"]={toc:[{text:"Object Type",id:"object-type",depth:3},{text:"Function Type",id:"function-type",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},71855:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",pre:"pre",p:"p",a:"a"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Object | Function"})]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Default:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  displayName: true,\n  // `isSSR` is true in SSR build\n  ssr: isSSR,\n  // `pure` is enabled in production to reduce bundle size\n  pure: isProd,\n  transpileTemplateLiterals: true,\n}\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Bundler:"})," ",(0,i.jsx)(n.code,{children:"only support webpack"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"tools.styledComponents"})," config is corresponding to ",(0,i.jsx)(n.a,{href:"https://github.com/styled-components/babel-plugin-styled-components",target:"_blank",rel:"noopener noreferrer",children:"babel-plugin-styled-components"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"When the value is an Object, use the Object.assign function to merge with the default config. For example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    styledComponents: {\n      pure: false,\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"When the config is a Function, the first parameter is the default configuration, and the second parameter provides some utility functions that can be called directly:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    styledComponents(config) {\n      config.pure = false;\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Ftools%2FstyledComponents.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},74131:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",pre:"pre",p:"p",a:"a",h3:"h3",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Object | Function | undefined"})]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Default:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const defaultTerserOptions = {\n  terserOptions: {\n    mangle: {\n      safari10: true,\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Bundler:"})," ",(0,i.jsx)(n.code,{children:"only support webpack"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["When building for production, Builder will minimize the JavaScript code through ",(0,i.jsx)(n.a,{href:"https://github.com/webpack-contrib/terser-webpack-plugin",target:"_blank",rel:"noopener noreferrer",children:"terser-webpack-plugin"}),". The config of ",(0,i.jsx)(n.a,{href:"https://github.com/webpack-contrib/terser-webpack-plugin",target:"_blank",rel:"noopener noreferrer",children:"terser-webpack-plugin"})," can be modified via ",(0,i.jsx)(n.code,{children:"tools.terser"}),"."]}),"\n",(0,i.jsxs)(n.h3,{id:"object-type",children:["Object Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-type",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When ",(0,i.jsx)(n.code,{children:"tools.terser"})," is ",(0,i.jsx)(n.code,{children:"Object"})," type, it will be merged with the default config via ",(0,i.jsx)(n.code,{children:"Object.assign"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"For example, to exclude some files from minification:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    terser: {\n      exclude: /\\/excludes/,\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"function-type",children:["Function Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-type",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When ",(0,i.jsx)(n.code,{children:"tools.terser"})," is ",(0,i.jsx)(n.code,{children:"Function"})," type, the default config is passed in as the first parameter, the config object can be modified directly, or a value can be returned as the final result."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    terser: opts => {\n      opts.exclude = /\\/excludes/;\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"Disable code minification"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["If you need to disable code minification, you can use the ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/builder/en/api/config-output.html#outputdisableminimize",target:"_blank",rel:"noopener noreferrer",children:"output.disableMinimize"})," configuration.\n"]})})]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Ftools%2Fterser.md"]={toc:[{text:"Object Type",id:"object-type",depth:3},{text:"Function Type",id:"function-type",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},37843:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",pre:"pre",p:"p",a:"a",h3:"h3"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Object | Function"})]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Default:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const defaultOptions = {\n  typescript: {\n    // avoid OOM issue\n    memoryLimit: 8192,\n    // use tsconfig of user project\n    configFile: tsconfigPath,\n    // use typescript of user project\n    typescriptPath: require.resolve('typescript'),\n  },\n  issue: {\n    exclude: [\n      { file: '**/*.(spec|test).ts' },\n      { file: '**/node_modules/**/*' },\n    ],\n  },\n  logger: {\n    log() {\n      // do nothing\n      // we only want to display error messages\n    },\n    error(message: string) {\n      console.error(message.replace(/ERROR/g, 'Type Error'));\n    },\n  },\n},\n"})}),"\n",(0,i.jsxs)(n.p,{children:["By default, the ",(0,i.jsx)(n.a,{href:"https://github.com/TypeStrong/fork-ts-checker-webpack-plugin",target:"_blank",rel:"noopener noreferrer",children:"fork-ts-checker-webpack-plugin"})," is enabled for type checking. You can use ",(0,i.jsx)(n.code,{children:"output.disableTsChecker"})," config to disable it."]}),"\n",(0,i.jsxs)(n.h3,{id:"object-type",children:["Object Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-type",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"When this value is an Object, it is merged with the default config via Object.assign."}),"\n",(0,i.jsxs)(n.h3,{id:"function-type",children:["Function Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-type",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"When the value is a Function, the default config is passed in as the first parameter. You can modify the config object directly, or return an object as the final config."})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Ftools%2FtsChecker.md"]={toc:[{text:"Object Type",id:"object-type",depth:3},{text:"Function Type",id:"function-type",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},7648:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",pre:"pre",h4:"h4"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Object | Function | undefined"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Bundler:"})," ",(0,i.jsx)(n.code,{children:"only support webpack"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"ts-loader"})," is not enabled by default in the project. When ",(0,i.jsx)(n.code,{children:"tools.tsLoader"})," is not undefined, builder will use ts-loader instead of babel-loader to compile TypeScript code."]}),"\n",(0,i.jsxs)(n.h3,{id:"object-type",children:["Object Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-type",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"When this value is an Object, it is merged with the default configuration via Object.assign."}),"\n",(0,i.jsx)(n.p,{children:"The default configuration is as follows:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "compilerOptions": {\n    "target": "es5",\n    "module": "ESNext"\n  },\n  "transpileOnly": true,\n  "allowTsInNodeModules": true\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["You can override the default configuration via the ",(0,i.jsx)(n.code,{children:"tools.tsLoader"})," configuration item:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    tsLoader: {\n      allowTsInNodeModules: false,\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"function-type",children:["Function Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-type",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When this value is a Function, the default configuration is passed in as the first parameter, the configuration object can be modified directly, or an object can be returned as the final configuration.The second parameter is the util functions to modify the ",(0,i.jsx)(n.code,{children:"ts-loader"})," configuration. For example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    tsLoader: opts => {\n      opts.allowTsInNodeModules = false;\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"util-functions",children:["Util Functions",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#util-functions",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When the value of ",(0,i.jsx)(n.code,{children:"tools.tsLoader"})," is a Function, the utils functions available for the second parameter are as follows:"]}),"\n",(0,i.jsxs)(n.h4,{id:"addincludes",children:["addIncludes",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#addincludes",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"(includes: string | RegExp | Array<string | RegExp>) => void"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["By default, only the application code in the src directory will be compiled. Use ",(0,i.jsx)(n.code,{children:"addIncludes"})," to specify ts-loader to compile some files under ",(0,i.jsx)(n.code,{children:"node_modules"}),". For example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    tsLoader: (config, { addIncludes }) => {\n      addIncludes([/node_modules\\/react/]);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"addexcludes",children:["addExcludes",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#addexcludes",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"(excludes: string | RegExp | Array<string | RegExp>) => void"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Contrary to ",(0,i.jsx)(n.code,{children:"addIncludes"}),", specify ",(0,i.jsx)(n.code,{children:"ts-loader"})," to exclude certain files when compiling."]}),"\n",(0,i.jsxs)(n.p,{children:["For example, without compiling files in the ",(0,i.jsx)(n.code,{children:"src/example"})," directory:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    tsLoader: (config, { addExcludes }) => {\n      addExcludes([/src\\/example\\//]);\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Ftools%2FtsLoader.md"]={toc:[{text:"Object Type",id:"object-type",depth:3},{text:"Function Type",id:"function-type",depth:3},{text:"Util Functions",id:"util-functions",depth:3},{text:"addIncludes",id:"addincludes",depth:4},{text:"addExcludes",id:"addexcludes",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},6708:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",blockquote:"blockquote",h3:"h3",pre:"pre",div:"div",h4:"h4"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Object | Function | undefined"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Bundler:"})," ",(0,i.jsx)(n.code,{children:"only support webpack"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"tools.webpack"})," is used to configure ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/",target:"_blank",rel:"noopener noreferrer",children:"webpack"}),"."]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"tools.webpackChain"})," is also used to modify the webpack configuration, and the function is more powerful. It is recommended to use ",(0,i.jsx)(n.code,{children:"tools.webpackChain"})," first."]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"object-type",children:["Object Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-type",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"tools.webpack"})," can be configured as an object to be deep merged with the built-in webpack configuration through ",(0,i.jsx)(n.a,{href:"https://github.com/survivejs/webpack-merge",target:"_blank",rel:"noopener noreferrer",children:"webpack-merge"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["For example, add ",(0,i.jsx)(n.code,{children:"resolve.alias"})," configuration:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpack: {\n      resolve: {\n        alias: {\n          '@util': 'src/util',\n        },\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"function-type",children:["Function Type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-type",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"tools.webpack"})," can be configured as a function. The first parameter of this function is the built-in webpack configuration object, you can modify this object, and then return it. For example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpack: config => {\n      config.resolve.alias['@util'] = 'src/util';\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["The object returned by the ",(0,i.jsx)(n.code,{children:"tools.webpack"})," function is used directly as the final webpack configuration and is not merged with the built-in webpack configuration.\n"]})})]}),"\n",(0,i.jsxs)(n.h3,{id:"utils",children:["Utils",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#utils",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The second parameter of this function is an object, which contains some utility functions and properties, as follows:"}),"\n",(0,i.jsxs)(n.h4,{id:"env",children:["env",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#env",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"'development' | 'production' | 'test'"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"env"})," parameter can be used to determine whether the current environment is development, production or test. For example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpack: (config, { env }) => {\n      if (env === 'development') {\n        config.devtool = 'cheap-module-eval-source-map';\n      }\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"isprod",children:["isProd",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#isprod",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"isProd"})," parameter can be used to determine whether the current environment is production. For example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpack: (config, { isProd }) => {\n      if (isProd) {\n        config.devtool = 'source-map';\n      }\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"target",children:["target",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#target",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"'web' | 'node' | 'modern-web' | 'web-worker'"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"target"})," parameter can be used to determine the current target. For example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpack: (config, { target }) => {\n      if (target === 'node') {\n        // ...\n      }\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"isserver",children:["isServer",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#isserver",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Determines whether the target environment is ",(0,i.jsx)(n.code,{children:"node"}),", equivalent to ",(0,i.jsx)(n.code,{children:"target === 'node'"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpack: (config, { isServer }) => {\n      if (isServer) {\n        // ...\n      }\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"iswebworker",children:["isWebWorker",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#iswebworker",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Determines whether the target environment is ",(0,i.jsx)(n.code,{children:"web-worker"}),", equivalent to ",(0,i.jsx)(n.code,{children:"target === 'web-worker'"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpack: (config, { isWebWorker }) => {\n      if (isWebWorker) {\n        // ...\n      }\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"webpack",children:["webpack",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#webpack",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"typeof import('webpack')"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The webpack instance. For example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpack: (config, { webpack }) => {\n      config.plugins.push(new webpack.ProgressPlugin());\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"htmlwebpackplugin",children:["HtmlWebpackPlugin",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmlwebpackplugin",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"typeof import('html-webpack-plugin')"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The HtmlWebpackPlugin instance:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpackChain: (chain, { HtmlWebpackPlugin }) => {\n      console.log(HtmlWebpackPlugin);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"addrules",children:["addRules",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#addrules",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"(rules: RuleSetRule | RuleSetRule[]) => void"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Add additional ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/configuration/module/#modulerules",target:"_blank",rel:"noopener noreferrer",children:"webpack rules"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"For example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    webpack: (config, { addRules }) => {\n      // add a single rule\n      addRules({\n        test: /\\.foo/,\n        loader: require.resolve('foo-loader'),\n      });\n\n      // Add multiple rules as an array\n      addRules([\n        {\n          test: /\\.foo/,\n          loader: require.resolve('foo-loader'),\n        },\n        {\n          test: /\\.bar/,\n          loader: require.resolve('bar-loader'),\n        },\n      ]);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"prependplugins",children:["prependPlugins",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#prependplugins",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"(plugins: WebpackPluginInstance | WebpackPluginInstance[]) => void"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Add additional plugins to the head of the internal webpack plugins array, and the plugin will be executed first."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    webpack: (config, { prependPlugins, webpack }) => {\n      // add a single plugin\n      prependPlugins(\n        new webpack.BannerPlugin({\n          banner: 'hello world!',\n        }),\n      );\n\n      // Add multiple plugins\n      prependPlugins([new PluginA(), new PluginB()]);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"appendplugins",children:["appendPlugins",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#appendplugins",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"(plugins: WebpackPluginInstance | WebpackPluginInstance[]) => void"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Add additional plugins at the end of the internal webpack plugins array, the plugin will be executed last."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    webpack: (config, { appendPlugins, webpack }) => {\n      // add a single plugin\n      appendPlugins([\n        new webpack.BannerPlugin({\n          banner: 'hello world!',\n        }),\n      ]);\n\n      // Add multiple plugins\n      appendPlugins([new PluginA(), new PluginB()]);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"removeplugin",children:["removePlugin",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#removeplugin",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"(name: string) => void"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Remove the internal webpack plugin, the parameter is the ",(0,i.jsx)(n.code,{children:"constructor.name"})," of the plugin."]}),"\n",(0,i.jsxs)(n.p,{children:["For example, remove the internal ",(0,i.jsx)(n.a,{href:"https://github.com/TypeStrong/fork-ts-checker-webpack-plugin",target:"_blank",rel:"noopener noreferrer",children:"fork-ts-checker-webpack-plugin"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    webpack: (config, { removePlugin }) => {\n      removePlugin('ForkTsCheckerWebpackPlugin');\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"mergeconfig",children:["mergeConfig",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#mergeconfig",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"(...configs: WebpackConfig[]) => WebpackConfig"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Used to merge multiple webpack configs, same as ",(0,i.jsx)(n.a,{href:"https://github.com/survivejs/webpack-merge",target:"_blank",rel:"noopener noreferrer",children:"webpack-merge"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    webpack: (config, { mergeConfig }) => {\n      return mergeConfig(config, {\n        devtool: 'eval',\n      });\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"getcompiledpath",children:["getCompiledPath",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#getcompiledpath",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"(name: string) => string"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Get the path to the builder built-in dependencies, same as ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/builder/en/api/config-tools.html#toolswebpackchain",target:"_blank",rel:"noopener noreferrer",children:"webpackChain#getCompiledPath"}),"."]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Ftools%2Fwebpack.md"]={toc:[{text:"Object Type",id:"object-type",depth:3},{text:"Function Type",id:"function-type",depth:3},{text:"Utils",id:"utils",depth:3},{text:"env",id:"env",depth:4},{text:"isProd",id:"isprod",depth:4},{text:"target",id:"target",depth:4},{text:"isServer",id:"isserver",depth:4},{text:"isWebWorker",id:"iswebworker",depth:4},{text:"webpack",id:"webpack",depth:4},{text:"HtmlWebpackPlugin",id:"htmlwebpackplugin",depth:4},{text:"addRules",id:"addrules",depth:4},{text:"prependPlugins",id:"prependplugins",depth:4},{text:"appendPlugins",id:"appendplugins",depth:4},{text:"removePlugin",id:"removeplugin",depth:4},{text:"mergeConfig",id:"mergeconfig",depth:4},{text:"getCompiledPath",id:"getcompiledpath",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},52432:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",blockquote:"blockquote",h3:"h3",a:"a",h4:"h4",pre:"pre",div:"div",h5:"h5",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Function | undefined"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Bundler:"})," ",(0,i.jsx)(n.code,{children:"only support webpack"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["You can modify the webpack configuration by configuring ",(0,i.jsx)(n.code,{children:"tools.webpackChain"})," which is type of ",(0,i.jsx)(n.code,{children:"Function"}),". The function receives two parameters, the first is the original webpack chain object, and the second is an object containing some utils."]}),"\n",(0,i.jsxs)(n.p,{children:["Compared with ",(0,i.jsx)(n.code,{children:"tools.webpack"}),", ",(0,i.jsx)(n.strong,{children:"webpack-chain not only supports chained calls, but also can locate built-in Rule or Plugin based on aliases, so as to achieve precise config modification"}),". We recommend using ",(0,i.jsx)(n.code,{children:"tools.webpackChain"})," instead of ",(0,i.jsx)(n.code,{children:"tools.webpack"}),"."]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"tools.webpackChain"})," is executed earlier than tools.webpack and thus will be overridden by changes in ",(0,i.jsx)(n.code,{children:"tools.webpack"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"utils",children:["Utils",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#utils",children:"#"})]}),"\n",(0,i.jsxs)(n.h4,{id:"env",children:["env",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#env",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"'development' | 'production' | 'test'"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"env"})," parameter can be used to determine whether the current environment is development, production or test. For example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpackChain: (chain, { env }) => {\n      if (env === 'development') {\n        chain.devtool('cheap-module-eval-source-map');\n      }\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"isprod",children:["isProd",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#isprod",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"isProd"})," parameter can be used to determine whether the current environment is production. For example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpackChain: (chain, { isProd }) => {\n      if (isProd) {\n        chain.devtool('source-map');\n      }\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"target",children:["target",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#target",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"'web' | 'node' | 'modern-web' | 'web-worker'"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"target"})," parameter can be used to determine the current environment. For example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpackChain: (chain, { target }) => {\n      if (target === 'node') {\n        // ...\n      }\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"isserver",children:["isServer",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#isserver",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Determines whether the target environment is ",(0,i.jsx)(n.code,{children:"node"}),", equivalent to ",(0,i.jsx)(n.code,{children:"target === 'node'"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpackChain: (chain, { isServer }) => {\n      if (isServer) {\n        // ...\n      }\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"iswebworker",children:["isWebWorker",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#iswebworker",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Determines whether the target environment is ",(0,i.jsx)(n.code,{children:"web-worker"}),", equivalent to ",(0,i.jsx)(n.code,{children:"target === 'web-worker'"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpackChain: (chain, { isWebWorker }) => {\n      if (isWebWorker) {\n        // ...\n      }\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"webpack",children:["webpack",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#webpack",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"typeof import('webpack')"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The webpack instance. For example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpackChain: (chain, { webpack }) => {\n      chain.plugin('my-progress').use(webpack.ProgressPlugin);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"htmlwebpackplugin",children:["HtmlWebpackPlugin",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmlwebpackplugin",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"typeof import('html-webpack-plugin')"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"The HtmlWebpackPlugin instance:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpackChain: (chain, { HtmlWebpackPlugin }) => {\n      console.log(HtmlWebpackPlugin);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"getcompiledpath",children:["getCompiledPath",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#getcompiledpath",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"(name: string) => string"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Get the path to the builder built-in dependencies, such as:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"sass"}),"\n",(0,i.jsx)(n.li,{children:"sass-loader"}),"\n",(0,i.jsx)(n.li,{children:"less"}),"\n",(0,i.jsx)(n.li,{children:"less-loader"}),"\n",(0,i.jsx)(n.li,{children:"css-loader"}),"\n",(0,i.jsx)(n.li,{children:"babel-loader"}),"\n",(0,i.jsx)(n.li,{children:"url-loader"}),"\n",(0,i.jsx)(n.li,{children:"file-loader"}),"\n",(0,i.jsx)(n.li,{children:"..."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"This method is usually used when you need to reuse the same dependency with the builder."}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"Builder built-in dependencies are subject to change with version iterations, e.g. generate large version break changes. Please avoid using this API if it is not necessary."})})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpackChain: (chain, { getCompiledPath }) => {\n      const loaderPath = getCompiledPath('less-loader');\n      // ...\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"chain_id",children:["CHAIN_ID",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chain_id",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Some common Chain IDs are predefined in the Builder, and you can use these IDs to locate the built-in Rule or Plugin."}),"\n",(0,i.jsxs)(n.h5,{id:"chain_idrule",children:["CHAIN_ID.RULE",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chain_idrule",children:"#"})]}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"ID"}),"\n",(0,i.jsx)(n.th,{children:"Description"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RULE.MJS"})}),"\n",(0,i.jsxs)(n.td,{children:["Rule for ",(0,i.jsx)(n.code,{children:"mjs"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RULE.JS"})}),"\n",(0,i.jsxs)(n.td,{children:["Rule for ",(0,i.jsx)(n.code,{children:"js"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RULE.TS"})}),"\n",(0,i.jsxs)(n.td,{children:["Rule for ",(0,i.jsx)(n.code,{children:"ts"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RULE.CSS"})}),"\n",(0,i.jsxs)(n.td,{children:["Rule for ",(0,i.jsx)(n.code,{children:"css"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RULE.LESS"})}),"\n",(0,i.jsxs)(n.td,{children:["Rule for ",(0,i.jsx)(n.code,{children:"less"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RULE.SASS"})}),"\n",(0,i.jsxs)(n.td,{children:["Rule for ",(0,i.jsx)(n.code,{children:"sass"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RULE.PUG"})}),"\n",(0,i.jsxs)(n.td,{children:["Rule for ",(0,i.jsx)(n.code,{children:"pug"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RULE.VUE"})}),"\n",(0,i.jsxs)(n.td,{children:["Rule for ",(0,i.jsx)(n.code,{children:"vue"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RULE.TOML"})}),"\n",(0,i.jsxs)(n.td,{children:["Rule for ",(0,i.jsx)(n.code,{children:"toml"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RULE.YAML"})}),"\n",(0,i.jsxs)(n.td,{children:["Rule for ",(0,i.jsx)(n.code,{children:"yaml"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RULE.WASM"})}),"\n",(0,i.jsxs)(n.td,{children:["Rule for ",(0,i.jsx)(n.code,{children:"WASM"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RULE.FONT"})}),"\n",(0,i.jsxs)(n.td,{children:["Rule for ",(0,i.jsx)(n.code,{children:"font"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RULE.IMAGE"})}),"\n",(0,i.jsxs)(n.td,{children:["Rule for ",(0,i.jsx)(n.code,{children:"image"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RULE.MEDIA"})}),"\n",(0,i.jsxs)(n.td,{children:["Rule for ",(0,i.jsx)(n.code,{children:"media"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"chain_idone_of",children:["CHAIN_ID.ONE_OF",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chain_idone_of",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"ONE_OF.XXX"})," can match a certain type of rule in the rule array."]}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"ID"}),"\n",(0,i.jsx)(n.th,{children:"Description"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ONE_OF.SVG"})}),"\n",(0,i.jsx)(n.td,{children:"Rules for SVG, automatic choice between data URI and separate file"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ONE_OF.SVG_URL"})}),"\n",(0,i.jsx)(n.td,{children:"Rules for SVG, output as a separate file"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ONE_OF.SVG_INLINE"})}),"\n",(0,i.jsx)(n.td,{children:"Rules for SVG, inlined into bundles as data URIs"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ONE_OF.SVG_ASSETS"})}),"\n",(0,i.jsx)(n.td,{children:"Rules for SVG, automatic choice between data URI and separate file"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"chain_iduse",children:["CHAIN_ID.USE",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chain_iduse",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"USE.XXX"})," can match a certain loader."]}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"ID"}),"\n",(0,i.jsx)(n.th,{children:"Description"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.TS"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"ts-loader"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.CSS"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"css-loader"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.LESS"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"less-loader"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.SASS"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"sass-loader"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.PUG"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"pug-loader"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.VUE"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"vue-loader"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.TOML"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"toml-loader"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.YAML"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"yaml-loader"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.FILE"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"file-loader"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.URL"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"url-loader"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.SVGR"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"@svgr/webpack"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.BABEL"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"babel-loader"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.STYLE"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"style-loader"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.POSTCSS"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"postcss-loader"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.MARKDOWN"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"markdown-loader"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.CSS_MODULES_TS"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"css-modules-typescript-loader"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.MINI_CSS_EXTRACT"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"mini-css-extract-plugin.loader"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"chain_idplugin",children:["CHAIN_ID.PLUGIN",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chain_idplugin",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"PLUGIN.XXX"})," can match a certain webpack plugin."]}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"ID"}),"\n",(0,i.jsx)(n.th,{children:"Description"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.HMR"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"HotModuleReplacementPlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.COPY"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"CopyWebpackPlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.HTML"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"HtmlWebpackPlugin"}),", you need to splice the entry name when using: ",(0,i.jsx)(n.code,{children:"${PLUGIN.HTML}-${entryName}"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.DEFINE"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"DefinePlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.IGNORE"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"IgnorePlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.BANNER"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"BannerPlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.PROGRESS"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"Webpackbar"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.APP_ICON"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"AppIconPlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.LOADABLE"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"LoadableWebpackPlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.MANIFEST"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"WebpackManifestPlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.TS_CHECKER"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"ForkTsCheckerWebpackPlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.INLINE_HTML"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"InlineChunkHtmlPlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.BUNDLE_ANALYZER"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"WebpackBundleAnalyzer"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.BOTTOM_TEMPLATE"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"BottomTemplatePlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.MINI_CSS_EXTRACT"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"MiniCssExtractPlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.VUE_LOADER_PLUGIN"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"VueLoaderPlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.REACT_FAST_REFRESH"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"ReactFastRefreshPlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.NODE_POLYFILL_PROVIDE"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"ProvidePlugin"})," for node polyfills"]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.INSPECTOR"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"@modern-js/inspector-webpack-plugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.SUBRESOURCE_INTEGRITY"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"webpack-subresource-integrity"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.ASSETS_RETRY"})}),"\n",(0,i.jsx)(n.td,{children:"correspond to webpack static asset retry plugin in Builder"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.AUTO_SET_ROOT_SIZE"})}),"\n",(0,i.jsx)(n.td,{children:"correspond to automatically set root font size plugin in Builder"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"chain_idminimizer",children:["CHAIN_ID.MINIMIZER",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chain_idminimizer",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"MINIMIZER.XXX"})," can match a certain minimizer."]}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"ID"}),"\n",(0,i.jsx)(n.th,{children:"Description"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"MINIMIZER.JS"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"TerserWebpackPlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"MINIMIZER.CSS"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"CssMinimizerWebpackPlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"MINIMIZER.ESBUILD"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"ESBuildPlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"MINIMIZER.SWC"})}),"\n",(0,i.jsxs)(n.td,{children:["correspond to ",(0,i.jsx)(n.code,{children:"SwcWebpackPlugin"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"examples",children:["Examples",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#examples",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["The following are some common configuration examples, see the full webpack-chain API ",(0,i.jsx)(n.a,{href:"https://github.com/neutrinojs/webpack-chain",target:"_blank",rel:"noopener noreferrer",children:"webpack-chain documentation"}),"."]}),"\n",(0,i.jsxs)(n.h4,{id:"add/modify/delete-loader",children:["Add/Modify/Delete loader",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#add/modify/delete-loader",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpackChain: (chain, { CHAIN_ID }) => {\n      // Add loader\n      chain.module\n        .rule('md')\n        .test(/\\.md$/)\n        .use('md-loader')\n        .loader('md-loader');\n\n      // Modify loader\n      chain.module\n        .rule(CHAIN_ID.RULE.JS)\n        .use(CHAIN_ID.USE.BABEL)\n        .tap(options => {\n          options.plugins.push('babel-plugin-xxx');\n          return options;\n        });\n\n      // Delete loader\n      chain.module.rule(CHAIN_ID.RULE.JS).uses.delete(CHAIN_ID.USE.BABEL);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"add/modify/delete-plugin",children:["Add/Modify/Delete plugin",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#add/modify/delete-plugin",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpackChain: (chain, { webpack, CHAIN_ID }) => {\n      // Add plugin\n      chain.plugin('custom-define').use(webpack.DefinePlugin, [\n        {\n          'process.env': {\n            NODE_ENV: JSON.stringify(process.env.NODE_ENV),\n          },\n        },\n      ]);\n\n      // Modify plugin\n      chain.plugin(CHAIN_ID.PLUGIN.HMR).tap(options => {\n        options[0].fullBuildTimeout = 200;\n        return options;\n      });\n\n      // Delete plugin\n      chain.plugins.delete(CHAIN_ID.PLUGIN.HMR);\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fconfig%2Ftools%2FwebpackChain.md"]={toc:[{text:"Utils",id:"utils",depth:3},{text:"env",id:"env",depth:4},{text:"isProd",id:"isprod",depth:4},{text:"target",id:"target",depth:4},{text:"isServer",id:"isserver",depth:4},{text:"isWebWorker",id:"iswebworker",depth:4},{text:"webpack",id:"webpack",depth:4},{text:"HtmlWebpackPlugin",id:"htmlwebpackplugin",depth:4},{text:"getCompiledPath",id:"getcompiledpath",depth:4},{text:"CHAIN_ID",id:"chain_id",depth:4},{text:"CHAIN_ID.ONE_OF",id:"chain_idone_of",depth:3},{text:"CHAIN_ID.USE",id:"chain_iduse",depth:3},{text:"CHAIN_ID.PLUGIN",id:"chain_idplugin",depth:3},{text:"CHAIN_ID.MINIMIZER",id:"chain_idminimizer",depth:3},{text:"Examples",id:"examples",depth:3},{text:"Add/Modify/Delete loader",id:"add/modify/delete-loader",depth:4},{text:"Add/Modify/Delete plugin",id:"add/modify/delete-plugin",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},72742:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",code:"code",ul:"ul",li:"li",h2:"h2",pre:"pre",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"alias",children:["Alias",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#alias",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Alias is a way to specify a short name for a module or a path to a directory or file. This can be useful when you want to use a short, easy-to-remember name for a module instead of a long, complex path."}),"\n",(0,i.jsxs)(n.p,{children:["For example, if you have a file at ",(0,i.jsx)(n.code,{children:"src/common/request.ts"}),", you could create an alias called ",(0,i.jsx)(n.code,{children:"@request"})," for it, so you could import the file like this: ",(0,i.jsx)(n.code,{children:"import request from '@request'"}),". This makes it easier to reference the file in your code, and also allows you to move the file to a different location without having to update all the import statements in your code."]}),"\n",(0,i.jsx)(n.p,{children:"In Builder, you can set aliases in two ways:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/en/api/config-source#sourcealias",children:"source.alias"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"paths"})," in ",(0,i.jsx)(n.code,{children:"tsconfig.json"})]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"using-sourcealias-config",children:["Using ",(0,i.jsx)(n.code,{children:"source.alias"})," config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#using-sourcealias-config",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"/en/api/config-source#sourcealias",children:"source.alias"})," corresponds to webpack's native ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/configuration/resolve/#resolvealias",target:"_blank",rel:"noopener noreferrer",children:"resolve.alias"})," config, you can configure it as an object or a function."]}),"\n",(0,i.jsx)(n.p,{children:"First, you can configure it as an object, for example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    alias: {\n      '@common': './src/common',\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"The relative path in it will be parsed as an absolute path in Builder."}),"\n",(0,i.jsxs)(n.p,{children:["You can also configure it as a function to get the preset ",(0,i.jsx)(n.code,{children:"alias"})," object and modify it, for example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    alias: alias => {\n      alias['@common'] = './src/common';\n      return alias;\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"using-paths-config-in-tsconfigjson",children:["Using ",(0,i.jsx)(n.code,{children:"paths"})," config in ",(0,i.jsx)(n.code,{children:"tsconfig.json"}),(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#using-paths-config-in-tsconfigjson",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["In addition to ",(0,i.jsx)(n.code,{children:"source.alias"}),", you can also configure it by ",(0,i.jsx)(n.code,{children:"paths"})," in ",(0,i.jsx)(n.code,{children:"tsconfig.json"}),". We recommend to use this way in TypeScript projects, because it can solve type problem of alias path."]}),"\n",(0,i.jsx)(n.p,{children:"For example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "compilerOptions": {\n    "paths": {\n      "@common/*": ["./src/common/*"]\n    }\n  }\n}\n'})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"Priority"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"paths"})," config has higher priority than ",(0,i.jsx)(n.code,{children:"source.alias"}),".\n"]})})]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fguide%2Fadvanced%2Falias.md"]={toc:[{text:"Using source.alias config",id:"using-sourcealias-config",depth:2},{text:"Using paths config in tsconfig.json",id:"using-paths-config-in-tsconfigjson",depth:2}],title:"Alias",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},77386:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",ul:"ul",li:"li",h3:"h3",strong:"strong",blockquote:"blockquote",code:"code",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"browser-compatibility",children:["Browser Compatibility",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#browser-compatibility",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"This chapter introduces how to use the capabilities provided by Builder to deal with browser compatibility issues."}),"\n",(0,i.jsxs)(n.h2,{id:"set-browserslist",children:["Set browserslist",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#set-browserslist",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Before dealing with compatibility issues, you first need to clarify which browsers your project needs to support, and add the corresponding browserslist config."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["If you haven't set browserslist yet, please read the ",(0,i.jsx)(n.a,{href:"/guide/advanced/browserslist",children:"Browserslist"})," chapter first."]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"If you have set a browserslist, Builder will automatically compile according to that scope, downgrade JavaScript syntax and CSS syntax, and inject the required polyfill. In most cases, you can safely use modern ECMAScript features without worrying about compatibility issues."}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"After setting the browserslist, if you still encountered some compatibility issues, please continue reading below contents to find some solutions."}),"\n",(0,i.jsxs)(n.h2,{id:"background-knowledge",children:["Background knowledge",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#background-knowledge",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Before dealing with compatibility issues, it is recommended that you understand the following background knowledge to better handle related issues."}),"\n",(0,i.jsxs)(n.h3,{id:"syntax-downgrade-and-api-downgrade",children:["Syntax downgrade and API downgrade",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#syntax-downgrade-and-api-downgrade",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"When you use higher-version syntax and API in your project, in order to make the compiled code run stably in lower-version browsers, we need to downgrade two parts: syntax downgrade and API downgrade."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Builder downgrades syntax through syntax transpilation, and downgrades API through inject polyfill."})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Grammar and API are not strongly bound. When browser manufacturers implement the engine, they will support some syntax or implement some APIs in advance according to the specification or their own needs. Therefore, browsers from different manufacturers in the same period are not necessarily compatible with syntax and API. So in general practice, syntax and API are handled in two parts."}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"syntax-transpilation",children:["Syntax transpilation",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#syntax-transpilation",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Syntax is a series of rules for how a programming language organizes code"}),", and code that does not follow these rules cannot be correctly recognized by the programming language's engine and therefore cannot be run. In JavaScript, the following examples are syntax rules:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["In ",(0,i.jsx)(n.code,{children:"const foo = 1"}),", ",(0,i.jsx)(n.code,{children:"const"})," means to declare an immutable constant."]}),"\n",(0,i.jsxs)(n.li,{children:["In ",(0,i.jsx)(n.code,{children:"foo?.bar?.baz"}),", ",(0,i.jsx)(n.code,{children:"?."})," indicates optional chaining of access properties."]}),"\n",(0,i.jsxs)(n.li,{children:["In ",(0,i.jsx)(n.code,{children:"async function () {}"}),", ",(0,i.jsx)(n.code,{children:"async"})," means to declare an asynchronous function."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Because the parsers of different browsers can support different syntax, especially the old version of the browser engine can support less grammar, so when some syntax are run in the lower version of the browser engine, an error will be reported at the stage of parsing the AST ."}),"\n",(0,i.jsx)(n.p,{children:"For example, the following code will report an error in IE browser or a lower version of Node.js:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const foo = {};\nfoo?.bar();\n"})}),"\n",(0,i.jsx)(n.p,{children:"When we run this code in a low version of Node.js, the following error message will appear:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"SyntaxError: Unexpected token.\n   at Object.exports.runInThisContext (vm.js:73:16)\n   at Object.<anonymous> ([eval]-wrapper:6:22)\n   at Module._compile (module.js:460:26)\n   at evalScript (node.js:431:25)\n   at startup (node.js:90:7)\n   at node.js:814:3\n"})}),"\n",(0,i.jsx)(n.p,{children:"It is obvious from the error message that this is a syntax error. This means that this syntax is not supported in lower versions of the engine."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Syntax can not be supported by polyfill or shim"}),". If you want to run some syntax that it does not originally support in a low-version browser, you need to transpile the code into a syntax that the low-version engine can support."]}),"\n",(0,i.jsx)(n.p,{children:"Transpile the above code into the following code to run in lower version engines:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"var foo = {};\nfoo === null || foo === void 0 ? void 0 : foo.bar();\n"})}),"\n",(0,i.jsxs)(n.p,{children:["After transpilation, the syntax of the code has changed, and some syntax that the engine of the lower version cannot understand has been replaced with the syntax it can understand, ",(0,i.jsx)(n.strong,{children:"but the meaning of the code itself has not changed"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"If the engine encounters an unrecognized syntax when converting to AST, it will report a syntax error and abort the code execution process. In this case, if your project does not use capabilities such as SSR or SSG, the page will be blank, making the page unavailable."}),"\n",(0,i.jsx)(n.p,{children:"If the code is successfully converted to AST, the engine will convert the AST into executable code and execute it normally inside the engine."}),"\n",(0,i.jsxs)(n.h3,{id:"api-polyfill",children:["API Polyfill",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#api-polyfill",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"JavaScript is an interpreted scripting language, unlike compiled languages like Rust. Rust will check the calls in the code during the compilation phase, and JavaScript does not know whether the function called by this line of code exists before it actually runs to a certain line of code, so some errors will only appear at runtime."}),"\n",(0,i.jsx)(n.p,{children:"For example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"var str = 'Hello world!';\nconsole.log(str.notExistedMethod());\n"})}),"\n",(0,i.jsxs)(n.p,{children:["The above code has correct syntax and can be converted to AST correctly in the first stage of the engine runtime, but when it is actually running, because the method ",(0,i.jsx)(n.code,{children:"notExistedMethod"})," does not exist on ",(0,i.jsx)(n.code,{children:"String.prototype"}),", an error will be reported:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"Uncaught TypeError: str.notExistedMethod is not a function\n   at <anonymous>:2:17\n"})}),"\n",(0,i.jsxs)(n.p,{children:["With the iteration of ECMAScript, some new methods will be added to be built-in objects. For example, ",(0,i.jsx)(n.code,{children:"String.prototype.replaceAll"})," was introduced in ES2021, then the ",(0,i.jsx)(n.code,{children:"replaceAll"})," method does not exist in the built-in object ",(0,i.jsx)(n.code,{children:"String.prototype"})," of most browser engines before 2021, so the following code works in the latest Chrome, but not in earlier versions:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"'abc'.replaceAll('abc', 'xyz');\n"})}),"\n",(0,i.jsxs)(n.p,{children:["In order to solve the problem that ",(0,i.jsx)(n.code,{children:"String.prototype"})," lacks ",(0,i.jsx)(n.code,{children:"replaceAll"})," in older browsers, we can extend the ",(0,i.jsx)(n.code,{children:"String.prototype"})," object in older browsers and add the ",(0,i.jsx)(n.code,{children:"replaceAll"})," method to it, for example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"// The implementation of this polyfill does not necessarily conform to the standard, it is only used as an example.\nif (!String.prototype.replaceAll) {\n  String.prototype.replaceAll = function (str, newStr) {\n    // If a regex pattern\n    if (\n      Object.prototype.toString.call(str).toLowerCase() === '[object regexp]'\n    ) {\n      return this.replace(str, newStr);\n    }\n    // If a string\n    return this.replace(new RegExp(str, 'g'), newStr);\n  };\n}\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"This technique of providing implementations for legacy environments to align new APIs is called polyfill."}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"downgrade-method",children:["Downgrade method",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#downgrade-method",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"In Builder, we divide code into three categories:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"The first category is the source code in the current project."}),"\n",(0,i.jsx)(n.li,{children:"The second category is third-party dependencies installed through npm."}),"\n",(0,i.jsx)(n.li,{children:"The third category is the code out of the current project, such as the code in other directories in the monorepo."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"By default, Builder will only compile and downgrade the first category, other categories will not be downgraded by default."}),"\n",(0,i.jsx)(n.p,{children:"There are several considerations for this approach:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Downgrading all third-party party dependencies will ",(0,i.jsx)(n.strong,{children:"significantly reduce build performance"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Most third-party dependencies have been downgraded before release, and the second downgrade may introduce new problems."}),"\n",(0,i.jsx)(n.li,{children:"The code out of the current project may have been compiled, or the compilation config may be different."}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"downgrade-the-current-project-code",children:["Downgrade the current project code",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#downgrade-the-current-project-code",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The code of the current project will be downgraded by default, so you don't need to add additional config, just make sure that the browserslist config is set correctly."}),"\n",(0,i.jsxs)(n.h3,{id:"downgrade-third-party-dependencies",children:["Downgrade third-party dependencies",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#downgrade-third-party-dependencies",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When you find that a third-party dependencies causes compatibility issues, you can add this dependency to Builder's ",(0,i.jsx)(n.a,{href:"/en/api/config-source#sourceinclude",children:"source.include"})," config, Make Builder do extra compilation for this dependency."]}),"\n",(0,i.jsxs)(n.p,{children:["Taking the npm package ",(0,i.jsx)(n.code,{children:"query-string"})," as an example, you can add the following config:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import path from 'path';\n\nexport default {\n  source: {\n    include: [/\\/query-string\\//],\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Please refer to ",(0,i.jsx)(n.a,{href:"/api/config-source#sourceinclude",children:"source.include"})," document for detailed usage guide."]}),"\n",(0,i.jsxs)(n.h3,{id:"downgrade-the-code-out-of-the-current-project",children:["Downgrade the code out of the current project",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#downgrade-the-code-out-of-the-current-project",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When you import the code out of the current project, if the code has not been compiled, then you also need to configure ",(0,i.jsx)(n.a,{href:"/en/api/config-source#sourceinclude",children:"source.include"})," to it to compile."]}),"\n",(0,i.jsxs)(n.p,{children:["For example, if you need to reference a module under the ",(0,i.jsx)(n.code,{children:"packages"})," directory in the monorepo, you can add the following config:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import path from 'path';\n\nexport default {\n  source: {\n    include: [\n      // method one:\n      // Compile all files in the package directory of Monorepo\n      path.resolve(__dirname, '../../packages'),\n\n      // Method Two:\n      // Compile the source code of a package in the Monorepo's package directory\n      // The matching range of this writing method is more precise, and has less impact on the overall compilation performance\n      path.resolve(__dirname, '../../packages/xxx/src'),\n    ],\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"polyfill-mode",children:["Polyfill mode",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#polyfill-mode",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder compiles JavaScript code through Babel or SWC, and injects polyfill libraries like ",(0,i.jsx)(n.a,{href:"https://github.com/zloirock/core-js",target:"_blank",rel:"noopener noreferrer",children:"core-js"}),", ",(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/@babel/runtime",target:"_blank",rel:"noopener noreferrer",children:"@babel/runtime"})," and ",(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/@swc/helpers",target:"_blank",rel:"noopener noreferrer",children:"@swc/helpers"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["In different usage scenarios, you may need different polyfill solutions. Builder provides ",(0,i.jsx)(n.a,{href:"/en/api/config-output#outputpolyfill",children:"output.polyfill"})," config to switch between different polyfill modes."]}),"\n",(0,i.jsxs)(n.h3,{id:"entry-mode",children:["entry mode",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#entry-mode",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"entry is the default mode and does not need to be set manually."}),"\n",(0,i.jsxs)(n.p,{children:["When using the entry mode, Builder will analyze which ",(0,i.jsx)(n.code,{children:"core-js"})," methods need to be injected according to the browserslist set by the current project, and inject them to the entry file of each page. The polyfill injected in this way is more comprehensive, and there is no need to worry about the project source code and third-party dependencies polyfill issues. However, because some unused polyfill codes are included, the bundle size may increase."]}),"\n",(0,i.jsx)(n.p,{children:"The config of entry mode is:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    polyfill: 'entry',\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"usage-mode",children:["usage mode",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#usage-mode",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The usage mode allows more precise control over which core-js polyfills need to be injected."}),"\n",(0,i.jsx)(n.p,{children:"When you enable the usage mode, Builder will analyze the source code in the project and determine which polyfills need to be injected."}),"\n",(0,i.jsxs)(n.p,{children:["For example, the code uses the ",(0,i.jsx)(n.code,{children:"Map"})," object:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"var b = new Map();\n"})}),"\n",(0,i.jsxs)(n.p,{children:["After compilation, only the polyfills for ",(0,i.jsx)(n.code,{children:"Map"})," will be injected into this file:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import 'core-js/modules/es.map';\nvar b = new Map();\n"})}),"\n",(0,i.jsxs)(n.p,{children:["The advantage of this method is that the size of the injected polyfill is smaller, which is suitable for projects with higher requirements on bundle size. The disadvantage is that polyfill may not be fully injected, because third-party dependencies will not be compiled and downgraded by default, so the polyfill required by third-party dependencies will not be analyzed. If you need to analyze a third-party dependency, you also need to add it to ",(0,i.jsx)(n.a,{href:"/en/api/config-source#sourceinclude",children:"source.include"})," config."]}),"\n",(0,i.jsx)(n.p,{children:"The config of usage mode is:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    polyfill: 'usage',\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"disable-polyfill",children:["Disable Polyfill",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#disable-polyfill",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["You can disable polyfill injection behavior by setting ",(0,i.jsx)(n.code,{children:"output.polyfill"})," to ",(0,i.jsx)(n.code,{children:"'off'"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    polyfill: 'off',\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["When using this config, you need to ensure compatibility by yourself, such as manually import the required polyfill code through ",(0,i.jsx)(n.a,{href:"/en/api/config-source#sourcepreentry",children:"source.preEntry"}),"."]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fguide%2Fadvanced%2Fbrowser-compatibility.md"]={toc:[{text:"Set browserslist",id:"set-browserslist",depth:2},{text:"Background knowledge",id:"background-knowledge",depth:2},{text:"Syntax downgrade and API downgrade",id:"syntax-downgrade-and-api-downgrade",depth:3},{text:"Syntax transpilation",id:"syntax-transpilation",depth:3},{text:"API Polyfill",id:"api-polyfill",depth:3},{text:"Downgrade method",id:"downgrade-method",depth:2},{text:"Downgrade the current project code",id:"downgrade-the-current-project-code",depth:3},{text:"Downgrade third-party dependencies",id:"downgrade-third-party-dependencies",depth:3},{text:"Downgrade the code out of the current project",id:"downgrade-the-code-out-of-the-current-project",depth:3},{text:"Polyfill mode",id:"polyfill-mode",depth:2},{text:"entry mode",id:"entry-mode",depth:3},{text:"usage mode",id:"usage-mode",depth:3},{text:"Disable Polyfill",id:"disable-polyfill",depth:3}],title:"Browser Compatibility",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},86158:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",strong:"strong",code:"code",div:"div",h3:"h3",pre:"pre",ul:"ul",li:"li",img:"img"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"browserslist",children:["Browserslist",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#browserslist",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder supports using ",(0,i.jsx)(n.a,{href:"https://browsersl.ist/",target:"_blank",rel:"noopener noreferrer",children:"Browserslist"})," to specify which browsers should be supported in your Web application."]}),"\n",(0,i.jsxs)(n.h2,{id:"what-is-browserslist",children:["What is Browserslist",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#what-is-browserslist",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Since different browsers support ECMAScript and CSS differently, developers need to set the correct browser range for web applications."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://browsersl.ist/",target:"_blank",rel:"noopener noreferrer",children:"Browserslist"})," can specify which browsers your web application can run in, it provides a configuration for specifying browsers range. Browserslist has become a standard in the industry, it is used by libraries such as Autoprefixer, Babel, ESLint, PostCSS, SWC and Webpack."]}),"\n",(0,i.jsxs)(n.p,{children:["When you specify a browser range through Browserslist, Builder will compile JavaScript and CSS code to the specified syntax, and inject the corresponding polyfill code. ",(0,i.jsx)(n.strong,{children:"When you only need to be compatible with modern browsers, the compilation process will introduce less compatible code and polyfills, and the performance of the page will be better."})]}),"\n",(0,i.jsxs)(n.p,{children:["For example, when you need to be compatible with IE11 browser, Builder will compile the code to ES5 and inject the polyfill required by IE11 through ",(0,i.jsx)(n.code,{children:"core-js"}),"."]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"What is polyfill"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["A polyfill is a piece of code that provides the functionality of a newer feature to older browsers that do not support that feature natively. It is used to fill in the gaps in older browsers' implementations of web standards, allowing developers to use newer features safely without having to worry about whether or not they will work in older browsers. For example, if a browser does not support the Array.map() method, a polyfill can be used to provide that functionality, allowing code that uses ",(0,i.jsx)(n.code,{children:"Array.prototype.flat()"})," to work in that browser. Polyfills are commonly used to ensure that web applications can work on a wide range of browsers, including older ones.\n"]})})]}),"\n",(0,i.jsxs)(n.h2,{id:"set-browserslist",children:["Set Browserslist",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#set-browserslist",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["You can set the Browserslist value in the ",(0,i.jsx)(n.code,{children:"package.json"})," or ",(0,i.jsx)(n.code,{children:".browserslistrc"})," file in the root directory of the current project."]}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Set via ",(0,i.jsx)(n.code,{children:"browserslist"})," in ",(0,i.jsx)(n.code,{children:"package.json"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "browserslist": [\n    "iOS >= 9",\n    "Android >= 4.4",\n    "last 2 versions",\n    "> 0.2%",\n    "not dead"\n  ]\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Set via a separate ",(0,i.jsx)(n.code,{children:".browserslistrc"})," file:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"iOS >= 9\nAndroid >= 4.4\nlast 2 versions\n> 0.2%\nnot dead\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"effective-scope",children:["Effective Scope",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#effective-scope",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["By default, the ",(0,i.jsx)(n.code,{children:".browserslistrc"})," file only takes effect for browser-side bundles, including the ",(0,i.jsx)(n.code,{children:"web"})," and ",(0,i.jsx)(n.code,{children:"web-worker"})," target types."]}),"\n",(0,i.jsxs)(n.p,{children:["When you are building multiple targets at the same time, for example if the targets contains both ",(0,i.jsx)(n.code,{children:"web"})," and ",(0,i.jsx)(n.code,{children:"node"}),", only the ",(0,i.jsx)(n.code,{children:"web"})," bundles will be affected by the ",(0,i.jsx)(n.code,{children:".browserslistrc"})," file. If you want to make changes to the ",(0,i.jsx)(n.code,{children:"node"})," bundles, you can use the ",(0,i.jsx)(n.code,{children:"output.overrideBrowserslist"})," configuration below."]}),"\n",(0,i.jsxs)(n.h3,{id:"use-outputoverridebrowserslist-config",children:["Use output.overrideBrowserslist config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#use-outputoverridebrowserslist-config",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["In addition to the above standard usage, Builder also provides ",(0,i.jsx)(n.a,{href:"/en/api/config-output#outputoverridebrowserslist",children:"output.overrideBrowserslist"})," config, which can also set the value of Browserslist."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"overrideBrowserslist"})," can be set to an array, which is written in the same way as the ",(0,i.jsx)(n.code,{children:"browserslistrc"})," configuration, but has a higher priority than ",(0,i.jsx)(n.code,{children:"browserslistrc"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    overrideBrowserslist: [\n      'iOS >= 9',\n      'Android >= 4.4',\n      'last 2 versions',\n      '> 0.2%',\n      'not dead',\n    ],\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["When ",(0,i.jsx)(n.code,{children:".overrideBrowserslist"})," is set to an array, it will also only work for browser-side bundles."]}),"\n",(0,i.jsxs)(n.p,{children:["When you build multiple targets at the same time, you can set different browser ranges for different targets. At this point, you need to set ",(0,i.jsx)(n.code,{children:"overrideBrowserslist"})," to an object whose key is the corresponding build target."]}),"\n",(0,i.jsxs)(n.p,{children:["For example to set different ranges for ",(0,i.jsx)(n.code,{children:"web"})," and ",(0,i.jsx)(n.code,{children:"node"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    overrideBrowserslist: {\n      web: [\n        'iOS >= 9',\n        'Android >= 4.4',\n        'last 2 versions',\n        '> 0.2%',\n        'not dead',\n      ],\n      node: ['node >= 14'],\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["In most cases, it is recommended to use the ",(0,i.jsx)(n.code,{children:".browserslistrc"})," file rather than the ",(0,i.jsx)(n.code,{children:"overrideBrowserslist"})," config. Because the ",(0,i.jsx)(n.code,{children:".browserslistrc"})," file is the official config file, it is more general and can be recognized by other libraries in the community."]}),"\n",(0,i.jsxs)(n.h2,{id:"commonly-used-browserslist",children:["Commonly used Browserslist",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#commonly-used-browserslist",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The following are some commonly used Browserslist, you can choose according to your project type."}),"\n",(0,i.jsxs)(n.h3,{id:"desktop-pc-scenario",children:["Desktop PC scenario",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#desktop-pc-scenario",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"In the desktop PC scenario, if you need to be compatible with IE 11 browsers, you can set Browserslist to:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"> 0.5%\nnot dead\nInternet Explorer 11\n"})}),"\n",(0,i.jsxs)(n.p,{children:["The above Browserslist will compile the code to the ES5 specification. For the specific browser list, please check ",(0,i.jsx)(n.a,{href:"https://browserslist.dev/?q=PiAwLjUlLCBub3QgZGVhZCwgSUUgMTE%3D",target:"_blank",rel:"noopener noreferrer",children:"browserslist.dev"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"If you don't need to be compatible with IE 11 browsers, you can adjust Browserslist to get a more performant output, such as:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Set to browsers that supports native ES Modules (recommended):"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"chrome >= 61\nedge >= 16\nfirefox >= 60\nsafari >= 11\nios_saf >= 11\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Set to browsers that support ES6:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"chrome >= 51\nedge >= 15\nfirefox >= 54\nsafari >= 10\nios_saf >= 10\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"mobile-h5-scenario",children:["Mobile H5 scenario",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#mobile-h5-scenario",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["The mobile H5 scenario is mainly compatible with ",(0,i.jsx)(n.code,{children:"iOS"})," and ",(0,i.jsx)(n.code,{children:"Android"})," systems, usually we set Browserslist as:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"iOS >= 9\nAndroid >= 4.4\nlast 2 versions\n> 0.2%\nnot dead\n"})}),"\n",(0,i.jsxs)(n.p,{children:["The above Browserslist will compile the code to the ES5 specification, which is compatible with most mobile scenarios on the market. For the detailed browsers list, please check ",(0,i.jsx)(n.a,{href:"https://browserslist.dev/?q=aU9TID49IDksIEFuZHJvaWQgPj0gNC40LCBsYXN0IDIgdmVyc2lvbnMsID4gMC4yJSwgbm90IGRlYWQ%3D",target:"_blank",rel:"noopener noreferrer",children:"browserslist.dev"}),"."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://lf3-static.bytednsdoc.com/obj/eden-cn/zq-uylkvT/ljhwZthlaukjlkulzlp/browserslist-dev-1222.png",alt:""})}),"\n",(0,i.jsx)(n.p,{children:"You can also choose to use the ES6 specification in the H5 scene, which will make the performance of the page better. The corresponding Browserslist is as follows:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"iOS >= 10\nChrome >= 51\n> 0.5%\nnot dead\nnot op_mini all\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"default-browserslist",children:["Default Browserslist",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#default-browserslist",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder will set different default values of Browserslist according to ",(0,i.jsx)(n.a,{href:"/guide/basic/build-target",children:"build target"}),", but we recommend that you explicitly set Browserslist in your project, which will make the compatible scope of the project more clear."]}),"\n",(0,i.jsxs)(n.h3,{id:"web-target",children:["Web Target",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#web-target",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The default values of web target are as follows:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"> 0.01%\nnot dead\nnot op_mini all\n"})}),"\n",(0,i.jsx)(n.p,{children:"Under this browser range, JavaScript code will be compiled to ES5 syntax."}),"\n",(0,i.jsxs)(n.h3,{id:"node-target",children:["Node Target",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#node-target",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Node target will be compatible with Node.js 14.0 by default."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"node >= 14\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"web-worker-target",children:["Web Worker Target",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#web-worker-target",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The default Browserslist of the Web Worker target is consistent with the Web target."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"> 0.01%\nnot dead\nnot op_mini all\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"modern-web-target",children:["Modern Web Target",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#modern-web-target",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Modern Web target will be compatible with browsers that support ",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules",target:"_blank",rel:"noopener noreferrer",children:"native ES Modules"})," by default."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"chrome >= 61\nedge >= 16\nfirefox >= 60\nsafari >= 11\nios_saf >= 11\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"query-browser-support",children:["Query browser support",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#query-browser-support",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When developing, we need to know the browser support of certain features or APIs. At this time, we can check on the ",(0,i.jsx)(n.a,{href:"https://caniuse.com/",target:"_blank",rel:"noopener noreferrer",children:"caniuse"})," website."]}),"\n",(0,i.jsxs)(n.p,{children:["For example, we need to know the browser support of ",(0,i.jsx)(n.code,{children:"Promise"}),", just enter ",(0,i.jsx)(n.code,{children:"Promise"})," in ",(0,i.jsx)(n.a,{href:"https://caniuse.com/",target:"_blank",rel:"noopener noreferrer",children:"caniuse"}),", and you can see the following results:"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://lf3-static.bytednsdoc.com/obj/eden-cn/zq-uylkvT/ljhwZthlaukjlkulzlp/caniuse-demo-1222.png",alt:""})}),"\n",(0,i.jsxs)(n.p,{children:["As can be seen from the above table, ",(0,i.jsx)(n.code,{children:"Promise"})," is natively supported in Chrome 33 and iOS 8, but not in IE 11."]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fguide%2Fadvanced%2Fbrowserslist.md"]={toc:[{text:"What is Browserslist",id:"what-is-browserslist",depth:2},{text:"Set Browserslist",id:"set-browserslist",depth:2},{text:"Example",id:"example",depth:3},{text:"Effective Scope",id:"effective-scope",depth:3},{text:"Use output.overrideBrowserslist config",id:"use-outputoverridebrowserslist-config",depth:3},{text:"Commonly used Browserslist",id:"commonly-used-browserslist",depth:2},{text:"Desktop PC scenario",id:"desktop-pc-scenario",depth:3},{text:"Mobile H5 scenario",id:"mobile-h5-scenario",depth:3},{text:"Default Browserslist",id:"default-browserslist",depth:2},{text:"Web Target",id:"web-target",depth:3},{text:"Node Target",id:"node-target",depth:3},{text:"Web Worker Target",id:"web-worker-target",depth:3},{text:"Modern Web Target",id:"modern-web-target",depth:3},{text:"Query browser support",id:"query-browser-support",depth:2}],title:"Browserslist",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},73407:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",pre:"pre",code:"code",div:"div",h3:"h3",ul:"ul",li:"li",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"custom-webpack-config",children:["Custom webpack config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#custom-webpack-config",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder supports directly modifying webpack configuration objects, and also supports deep customization of webpack configuration through webpack-chain."}),"\n",(0,i.jsxs)(n.h2,{id:"modify-the-webpack-configuration-object",children:["Modify the webpack configuration object",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#modify-the-webpack-configuration-object",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["You can use ",(0,i.jsx)(n.a,{href:"/api/config-tools#toolswebpack",children:"tools.webpack"})," to modify the webpack configuration object."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    webpack: (config, { env }) => {\n      if (env === 'development') {\n        config.devtool = 'cheap-module-eval-source-map';\n      }\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"When to use"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["When you only need to modify a small amount of webpack configuration, you can use ",(0,i.jsx)(n.code,{children:"tools.webpack"}),". But if you need to modify the built-in webpack plugins or loaders of Builder, please use ",(0,i.jsx)(n.code,{children:"tools.webpackChain"})," to modify.\n"]})})]}),"\n",(0,i.jsxs)(n.h2,{id:"using-webpack-chain",children:["Using webpack-chain",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#using-webpack-chain",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"webpack-chain is a configuration modification tools that is different from modifying webpack configuration objects. Compared with modifying webpack configuration objects, webpack-chain not only supports chain calls, but also can modify built-in Rule or Plugin based on id."}),"\n",(0,i.jsxs)(n.h3,{id:"toolswebpackchain-config",children:["tools.webpackChain config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolswebpackchain-config",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder provides ",(0,i.jsx)(n.a,{href:"/api/config-tools#toolswebpackchain",children:"tools.webpackChain"})," config to modify webpack-chain."]}),"\n",(0,i.jsxs)(n.p,{children:["The value of ",(0,i.jsx)(n.code,{children:"tools.webpackChain"})," is ",(0,i.jsx)(n.code,{children:"Function"})," type, which receives two parameters:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["The first parameter is the ",(0,i.jsx)(n.code,{children:"webpack-chain"})," instance, you can use this instance to modify the default webpack config."]}),"\n",(0,i.jsxs)(n.li,{children:["The second parameter is a ",(0,i.jsx)(n.a,{href:"/en/api/config-tools#utils-2",children:"utils collection"}),", including ",(0,i.jsx)(n.code,{children:"env"}),", ",(0,i.jsx)(n.code,{children:"isProd"}),", ",(0,i.jsx)(n.code,{children:"CHAIN_ID"}),", etc."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Here's a basic example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    webpackChain: (chain, { env }) => {\n      if (env === 'development') {\n        chain.devtool('cheap-module-eval-source-map');\n      }\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"webpack-chain-basics",children:["webpack-chain Basics",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#webpack-chain-basics",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Before you start using webpack-chain to modify your webpack configuration, it is recommended that you understand some basics."}),"\n",(0,i.jsxs)(n.h3,{id:"how-does-webpack-chain-locate",children:["How does webpack-chain locate",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#how-does-webpack-chain-locate",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Simply put, webpack-chain requires users to set a unique id for each Rule, Loader, Plugin, and Minimizer. Through these ids, you can easily find the desired object from deeply nested webpack configuration object."}),"\n",(0,i.jsxs)(n.p,{children:["Builder exports all internally defined ids through the ",(0,i.jsx)(n.code,{children:"CHAIN_ID"})," object, so you can use these exported ids to locate the Loader or Plugin you want to modify, without having to search through complex traversal in the webpack configuration object."]}),"\n",(0,i.jsxs)(n.p,{children:["For example, to delete the built-in HTML plugin via ",(0,i.jsx)(n.code,{children:"CHAIN_ID.PLUGIN.HTML"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    webpackChain: (chain, { webpack, CHAIN_ID }) => {\n      //\n      chain.plugins.delete(CHAIN_ID.PLUGIN.HTML);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"webpack-chain-id-type",children:["webpack-chain id type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#webpack-chain-id-type",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"CHAIN_ID"})," object contains some ids, which have different meanings:"]}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"CHAIN_ID field"}),"\n",(0,i.jsx)(n.th,{children:"Corresponding configuration"}),"\n",(0,i.jsx)(n.th,{children:"Description"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"CHAIN_ID.PLUGIN"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"plugins[i]"})}),"\n",(0,i.jsx)(n.td,{children:"corresponds to a plugin in the webpack configuration"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"CHAIN_ID.RULE"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"module.rules[i]"})}),"\n",(0,i.jsx)(n.td,{children:"corresponds to a Rule in the webpack configuration"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"CHAIN_ID.USE"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"module.rules[i].loader"})}),"\n",(0,i.jsx)(n.td,{children:"corresponds to a Loader in the webpack configuration"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"CHAIN_ID.MINIMIZER"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"optimization.minimizer"})}),"\n",(0,i.jsx)(n.td,{children:"corresponds to a compression tool in webpack configuration"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"CHAIN_ID.RESOLVE_PLUGIN"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"resolve.plugins[i]"})}),"\n",(0,i.jsx)(n.td,{children:"corresponds to a Resolve plugin in the webpack configuration"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"webpack-chain-demo",children:["webpack-chain Demo",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#webpack-chain-demo",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"add/modify/delete-loader",children:["Add/Modify/Delete loader",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#add/modify/delete-loader",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpackChain: (chain, { CHAIN_ID }) => {\n      // Add loader\n      chain.module\n        .rule('md')\n        .test(/\\.md$/)\n        .use('md-loader')\n        .loader('md-loader');\n\n      // Modify loader\n      chain.module\n        .rule(CHAIN_ID.RULE.JS)\n        .use(CHAIN_ID.USE.BABEL)\n        .tap(options => {\n          options.plugins.push('babel-plugin-xxx');\n          return options;\n        });\n\n      // Delete loader\n      chain.module.rule(CHAIN_ID.RULE.JS).uses.delete(CHAIN_ID.USE.BABEL);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"add/modify/delete-plugin",children:["Add/Modify/Delete plugin",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#add/modify/delete-plugin",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpackChain: (chain, { webpack, CHAIN_ID }) => {\n      // Add plugin\n      chain.plugin('custom-define').use(webpack.DefinePlugin, [\n        {\n          'process.env': {\n            NODE_ENV: JSON.stringify(process.env.NODE_ENV),\n          },\n        },\n      ]);\n\n      // Modify plugin\n      chain.plugin(CHAIN_ID.PLUGIN.HMR).tap(options => {\n        options[0].fullBuildTimeout = 200;\n        return options;\n      });\n\n      // Delete plugin\n      chain.plugins.delete(CHAIN_ID.PLUGIN.HMR);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"modify-the-config-according-to-environment",children:["Modify the config according to environment",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#modify-the-config-according-to-environment",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"In the tool collection, you can get the flag of various environments, such as development/production/test environment, SSR build, and Web Worker build, so as to modify the config in different environments."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpackChain: (chain, { env, isProd, target, isServer, isWebWorker }) => {\n      if (utils.env === 'development' || utils.env === 'test') {\n        // ...\n      }\n      if (utils.isProd) {\n        // ...\n      }\n      if (utils.target === 'node') {\n        // ...\n      }\n      if (utils.isServer) {\n        // ...\n      }\n      if (utils.isWebWorker) {\n        // ...\n      }\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["The above are some common config examples. For the complete webpack-chain API, please refer to ",(0,i.jsx)(n.a,{href:"https://github.com/neutrinojs/webpack-chain",target:"_blank",rel:"noopener noreferrer",children:"webpack-chain documentation"}),"."]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fguide%2Fadvanced%2Fcustom-webpack-config.md"]={toc:[{text:"Modify the webpack configuration object",id:"modify-the-webpack-configuration-object",depth:2},{text:"Using webpack-chain",id:"using-webpack-chain",depth:2},{text:"tools.webpackChain config",id:"toolswebpackchain-config",depth:3},{text:"webpack-chain Basics",id:"webpack-chain-basics",depth:2},{text:"How does webpack-chain locate",id:"how-does-webpack-chain-locate",depth:3},{text:"webpack-chain id type",id:"webpack-chain-id-type",depth:3},{text:"webpack-chain Demo",id:"webpack-chain-demo",depth:2},{text:"Add/Modify/Delete loader",id:"add/modify/delete-loader",depth:3},{text:"Add/Modify/Delete plugin",id:"add/modify/delete-plugin",depth:3},{text:"Modify the config according to environment",id:"modify-the-config-according-to-environment",depth:3}],title:"Custom webpack config",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},81756:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",h3:"h3",code:"code",pre:"pre",ul:"ul",li:"li",div:"div",ol:"ol"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"environment-variables",children:["Environment Variables",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#environment-variables",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder supports injecting environment variables or expressions into the code during compilation, which is helpful for distinguishing the running environment or injecting constant values. This chapter introduces how to use environment variables."}),"\n",(0,i.jsxs)(n.h2,{id:"default-variables",children:["Default Variables",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#default-variables",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"processenvnode_env",children:["process.env.NODE_ENV",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#processenvnode_env",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["By default, Builder will automatically set the ",(0,i.jsx)(n.code,{children:"process.env.NODE_ENV"})," environment variable to ",(0,i.jsx)(n.code,{children:"'development'"})," in development mode and ",(0,i.jsx)(n.code,{children:"'production'"})," in production mode."]}),"\n",(0,i.jsxs)(n.p,{children:["You can use ",(0,i.jsx)(n.code,{children:"process.env.NODE_ENV"})," directly in Node.js and in the runtime code."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"if (process.env.NODE_ENV === 'development') {\n  console.log('this is a development log');\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"In the development environment, the above code will be compiled as:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"if (true) {\n  console.log('this is a development log');\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"In the production environment, the above code will be compiled as:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"if (false) {\n  console.log('this is a development log');\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["After code minification, ",(0,i.jsx)(n.code,{children:"if (false) { ... }"})," will be recognized as invalid code and removed automatically."]}),"\n",(0,i.jsxs)(n.h3,{id:"processenvasset_prefix",children:["process.env.ASSET_PREFIX",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#processenvasset_prefix",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["You can use ",(0,i.jsx)(n.code,{children:"process.env.ASSET_PREFIX"})," in the runtime code to access the URL prefix of static assets."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["In development, it is equivalent to the value set by ",(0,i.jsx)(n.a,{href:"/api/config-dev#dev-assetprefix",children:"dev.assetPrefix"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["In production, it is equivalent to the value set by ",(0,i.jsx)(n.a,{href:"/api/config-output#output-assetprefix",children:"output.assetPrefix"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Builder will automatically remove the trailing slash from ",(0,i.jsx)(n.code,{children:"assetPrefix"})," to make string concatenation easier."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["For example, we copy the ",(0,i.jsx)(n.code,{children:"static/icon.png"})," image to the ",(0,i.jsx)(n.code,{children:"dist"})," directory through ",(0,i.jsx)(n.a,{href:"/api/config-output#output-copy",children:"output.copy"})," configuration:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  dev: {\n    assetPrefix: '/',\n  },\n  output: {\n    copy: [{ from: './static', to: 'static' }],\n    assetPrefix: 'https://example.com',\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"Then we can access the image URL in the runtime code:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"const Image = <img src={`${process.env.ASSET_PREFIX}/static/icon.png`} />;\n"})}),"\n",(0,i.jsx)(n.p,{children:"In the development environment, the above code will be compiled as:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"const Image = <img src={`/static/icon.png`} />;\n"})}),"\n",(0,i.jsx)(n.p,{children:"In the production environment, the above code will be compiled as:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"const Image = <img src={`https://example.com/static/icon.png`} />;\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"using-define-config",children:["Using define config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#using-define-config",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["By configuring the ",(0,i.jsx)(n.a,{href:"/en/api/config-source#sourcedefine",children:"source.define"}),", you can replace expressions with other expressions or values in compile time."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"Define"})," looks like macro definitions in other programming languages. But JavaScript has powerful runtime capabilities, so you don't need to use it as a complicated code generator. You can use it to pass simple data, such as environment variables, from compile time to runtime. Almost there, it can be used to work with Builder to shake trees."]}),"\n",(0,i.jsxs)(n.h3,{id:"replace-expressions",children:["Replace Expressions",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#replace-expressions",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["The most basic use case for ",(0,i.jsx)(n.code,{children:"Define"})," is to replace expressions in compile time."]}),"\n",(0,i.jsxs)(n.p,{children:["The value of the environment variable ",(0,i.jsx)(n.code,{children:"NODE_ENV"})," will change the behavior of many vendor packages. Usually, we need to set it to ",(0,i.jsx)(n.code,{children:"production"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    define: {\n      'process.env.NODE_ENV': JSON.stringify(process.env.NODE_ENV),\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Note that the value provided here must be a JSON string, e.g. ",(0,i.jsx)(n.code,{children:"process.env.NODE_ENV"})," with a value of ",(0,i.jsx)(n.code,{children:'"production"'})," should be passed in as ",(0,i.jsx)(n.code,{children:'"\\"production\\""'})," to be processed correctly."]}),"\n",(0,i.jsxs)(n.p,{children:["Similarly ",(0,i.jsx)(n.code,{children:'{ foo: "bar" }'})," should be converted to ",(0,i.jsx)(n.code,{children:'"{\\"foo\\":\\"bar\\"}"'}),", which if passed directly into the original object would mean replacing the expression ",(0,i.jsx)(n.code,{children:"process.env.NODE_ENV.foo"})," with the identifier ",(0,i.jsx)(n.code,{children:"bar"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["For more about ",(0,i.jsx)(n.code,{children:"source.define"}),", just refer to ",(0,i.jsx)(n.a,{href:"/api/config-source#sourcedefine",children:"API References"}),"."]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["The environment variable ",(0,i.jsx)(n.code,{children:"NODE_ENV"})," shown in the example above is already injected by the Builder, and you usually do not need to configure it manually.\n"]})})]}),"\n",(0,i.jsxs)(n.h3,{id:"processenv-injection",children:["process.env Injection",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#processenv-injection",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When using ",(0,i.jsx)(n.code,{children:"source.define"})," or ",(0,i.jsx)(n.code,{children:"source.globalVars"}),", please avoid injecting the entire ",(0,i.jsx)(n.code,{children:"process.env"})," object, e.g. the following usage is not recommended:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    define: {\n      'process.env': JSON.stringify(process.env),\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"If the above usage is adopted, the following problems will be caused:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Some unused environment variables are additionally injected, causing the environment variables of the development environment to be leaked into the front-end code."}),"\n",(0,i.jsxs)(n.li,{children:["As each ",(0,i.jsx)(n.code,{children:"process.env"})," code will be replaced by a complete environment variable object, the bundle size of the front-end code will increase and the performance will decrease."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["So please avoid full injection, just inject the used variables from ",(0,i.jsx)(n.code,{children:"process.env"}),"."]}),"\n",(0,i.jsxs)(n.h2,{id:"setup-environment-variables",children:["Setup Environment Variables",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#setup-environment-variables",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["You may often need to set environment variables, in which case you can instead use the ",(0,i.jsx)(n.a,{href:"/en/api/config-source#sourceglobalvars",children:"source.globalVars"})," configuration to simplify configuration. It is a syntax sugar of ",(0,i.jsx)(n.code,{children:"source.define"}),", the only difference is that ",(0,i.jsx)(n.code,{children:"source.globalVars"})," will automatically stringify the value, which makes it easier to set the value of global variables and avoid writing a lot of ",(0,i.jsx)(n.code,{children:"JSON.stringify(...)"})," stuffs."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    globalVars: {\n      'process.env.NODE_ENV': 'production',\n      'import.meta.foo': { bar: 42 },\n      'import.meta.baz': false,\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"Note that either of these methods will only match the full expression; destructing the expression will prevent the Builder from correctly recognizing it."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"console.log(process.env.NODE_ENV);\n// => production\n\nconst { NODE_ENV } = process.env;\nconsole.log(NODE_ENV);\n// => undefined\n\nconst vars = process.env;\nconsole.log(vars.NODE_ENV);\n// => undefined\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"declare-type-of-environment-variable",children:["Declare type of environment variable",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#declare-type-of-environment-variable",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"When you read an environment variable in a TypeScript file, TypeScript may prompt that the variable lacks a type definition, and you need to add the corresponding type declaration."}),"\n",(0,i.jsxs)(n.p,{children:["For example, if you reference a ",(0,i.jsx)(n.code,{children:"CUSTOM_VAR"})," variable, the following prompt will appear in the TypeScript file:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"TS2304: Cannot find name 'CUSTOM_VAR'.\n"})}),"\n",(0,i.jsxs)(n.p,{children:["To fix this, you can create a ",(0,i.jsx)(n.code,{children:"src/env.d.ts"})," file in your project and add the following content:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="src/env.d.ts"',children:"declare const CUSTOM_VAR: string;\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"tree-shaking",children:["Tree Shaking",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#tree-shaking",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"Define"})," can also be used to mark dead code to assist the Builder with Tree Shaking optimization."]}),"\n",(0,i.jsxs)(n.p,{children:["Building products for different regions is achieved by replacing ",(0,i.jsx)(n.code,{children:"process.env.REGION"})," with a specific value, for example."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    define: {\n      'process.env.REGION': JSON.stringify(process.env.REGION),\n    },\n    // or...\n    globalVars: {\n      'process.env.REGION': process.env.REGION,\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"For an internationalized app:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const App = () => {\n  if (process.env.REGION === 'cn') {\n    return <EntryFoo />;\n  } else if (process.env.REGION === 'sg') {\n    return <EntryBar />;\n  } else {\n    return <EntryBaz />;\n  }\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Specifying the environment variable ",(0,i.jsx)(n.code,{children:"REGION=sg"})," and then executing build will eliminate any dead code."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const App = () => {\n  if (false) {\n  } else if (true) {\n    return <EntryBar />;\n  } else {\n  }\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"Unused components are not packaged into the product, and their external dependencies can be optimized accordingly, resulting in a destination with better size and performance."}),"\n",(0,i.jsxs)(n.h2,{id:"in-source-testing",children:["In-source testing",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#in-source-testing",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Vitest supports writing tests inside source files to test the behavior of private features without exporting them. Set up ",(0,i.jsx)(n.code,{children:"Define"})," to remove the test code from the production build. Please refer to the ",(0,i.jsx)(n.a,{href:"https://vitest.dev/guide/in-source.html",target:"_blank",rel:"noopener noreferrer",children:"Vitest's documentation"})," for detailed guidelines"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"// the implementation\nfunction add(...args) {\n  return args.reduce((a, b) => a + b, 0);\n}\n\n// in-source test suites\nif (import.meta.vitest) {\n  const { it, expect } = import.meta.vitest;\n  it('add', () => {\n    expect(add()).toBe(0);\n    expect(add(1)).toBe(1);\n    expect(add(1, 2, 3)).toBe(6);\n  });\n}\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fguide%2Fadvanced%2Fdefine.md"]={toc:[{text:"Default Variables",id:"default-variables",depth:2},{text:"process.env.NODE_ENV",id:"processenvnode_env",depth:3},{text:"process.env.ASSET_PREFIX",id:"processenvasset_prefix",depth:3},{text:"Using define config",id:"using-define-config",depth:2},{text:"Replace Expressions",id:"replace-expressions",depth:3},{text:"process.env Injection",id:"processenv-injection",depth:3},{text:"Setup Environment Variables",id:"setup-environment-variables",depth:2},{text:"Declare type of environment variable",id:"declare-type-of-environment-variable",depth:2},{text:"Tree Shaking",id:"tree-shaking",depth:2},{text:"In-source testing",id:"in-source-testing",depth:2}],title:"Environment Variables",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},62189:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",ul:"ul",li:"li",h2:"h2",pre:"pre",code:"code",h3:"h3"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"hot-module-replacement",children:["Hot Module Replacement",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#hot-module-replacement",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Hot Module Replacement (HMR) exchanges, adds, or removes modules while an application is running, without a full reload. This can significantly speed up development in a few ways:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Retain application state which is lost during a full reload."}),"\n",(0,i.jsx)(n.li,{children:"Save valuable development time by only updating what's changed."}),"\n",(0,i.jsx)(n.li,{children:"Instantly update the browser when modifications are made to CSS/JS in the source code, which is almost comparable to changing styles directly in the browser's dev tools."}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"enabling-hmr",children:["Enabling HMR",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#enabling-hmr",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder has built-in support for HMR. By default, HMR is enabled in development."}),"\n",(0,i.jsxs)(n.p,{children:["By setting ",(0,i.jsx)(n.a,{href:"/en/api/config-dev#devhmr",children:"dev.hmr"})," to false, HMR can be disabled, which the HMR and react-refresh will no longer work."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  dev: {\n    hmr: false,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"specify-hmr-url",children:["Specify HMR URL",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#specify-hmr-url",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"By default, Builder uses the host and port number of the current page to splice the WebSocket URL of HMR."}),"\n",(0,i.jsxs)(n.p,{children:["When the HMR connection fails, you can specify the WebSocket URL by customizing ",(0,i.jsx)(n.code,{children:"devServer.client"})," configuration."]}),"\n",(0,i.jsxs)(n.h3,{id:"default-config",children:["Default Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#default-config",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The default config are as follows, Builder will automatically deduce the URL of the WebSocket request according to the current location:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    devServer: {\n      client: {\n        path: '/webpack-hmr',\n        // Equivalent to port of the dev server\n        port: '',\n        // Equivalent to location.hostname\n        host: '',\n        // Equivalent to location.protocol === 'https:' ? 'wss' : 'ws'\n        protocol: '',\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"proxy",children:["Proxy",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#proxy",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["If you are proxying an online page to local development, WebSocket requests will fail to connect. You can try configuring ",(0,i.jsx)(n.code,{children:"devServer.client"})," to the following values so that HMR requests can reach the local Dev Server."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    devServer: {\n      client: {\n        host: 'localhost',\n        protocol: 'ws',\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"live-reloading-vs-hot-reloading",children:["Live reloading vs Hot reloading",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#live-reloading-vs-hot-reloading",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Live reloading: After modifying the file, webpack recompiles and forces a browser refresh, which is a global (application-wide) refresh, equivalent to ",(0,i.jsx)(n.code,{children:"window.location.reload()"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Hot reloading: After modifying the file, webpack recompiles the corresponding module and remembers the state of the application when it is refreshed, thus enabling a partial refresh, i.e. hot update."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["DevServer provides two configuration items, ",(0,i.jsx)(n.a,{href:"/en/api/config-tools#hot",children:"hot"})," and ",(0,i.jsx)(n.a,{href:"/en/api/config-tools#livereload",children:"liveReload"}),", to control how updates are made. When both hot and liveReload are open, DevServer will attempt to use hot mode (HMR) first, and will degrade to reloading the page if the HMR update fails."]}),"\n",(0,i.jsxs)(n.h2,{id:"faq",children:["FAQ",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#faq",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Please refer to ",(0,i.jsx)(n.a,{href:"/guide/faq/hmr",children:"HMR FAQ"}),"."]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fguide%2Fadvanced%2Fhmr.md"]={toc:[{text:"Enabling HMR",id:"enabling-hmr",depth:2},{text:"Specify HMR URL",id:"specify-hmr-url",depth:2},{text:"Default Config",id:"default-config",depth:3},{text:"Proxy",id:"proxy",depth:3},{text:"Live reloading vs Hot reloading",id:"live-reloading-vs-hot-reloading",depth:2},{text:"FAQ",id:"faq",depth:2}],title:"Hot Module Replacement",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},58182:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",code:"code",ul:"ul",li:"li",pre:"pre",ol:"ol"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"rem-adaptation",children:["REM adaptation",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#rem-adaptation",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder supports REM adaptation via ",(0,i.jsx)(n.a,{href:"/en/api/config-output#outputconverttorem",children:"output.convertToRem"}),", which can dynamically adjusts the font size according to the screen size, so that the page will be displayed correctly on different screen sizes."]}),"\n",(0,i.jsxs)(n.h2,{id:"enabling-rem-adaptability",children:["Enabling REM adaptability",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#enabling-rem-adaptability",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["By setting ",(0,i.jsx)(n.code,{children:"output.convertToRem"}),", the Builder can do the following things:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Convert px to rem in CSS."}),"\n",(0,i.jsx)(n.li,{children:"Dynamic setting the fontSize of the root element."}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    convertToRem: true,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"css-conversion-properties",children:["CSS conversion properties",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#css-conversion-properties",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["By default, rootFontSize is 50. So the CSS styles value are converted according to the ratio of ",(0,i.jsx)(n.code,{children:"1rem : 50px"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-css",children:"/* input */\nh1 {\n  margin: 0 0 16px;\n  font-size: 32px;\n  line-height: 1.2;\n  letter-spacing: 1px;\n}\n\n/* output */\nh1 {\n  margin: 0 0 0.32rem;\n  font-size: 0.64rem;\n  line-height: 1.2;\n  letter-spacing: 0.02rem;\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["By default, builder converts all CSS properties from px to rem. If you want to convert only the ",(0,i.jsx)(n.code,{children:"font-size"})," property, you can setting pxtorem.propList is ",(0,i.jsx)(n.code,{children:"['font-size']"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    convertToRem: {\n      pxtorem: {\n        propList: ['font-size'],\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"setting-the-page-rootfontsize",children:["Setting the page rootFontSize",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#setting-the-page-rootfontsize",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The formula for calculating the font size of the page root element is:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"pageRootFontSize = clientWidth * rootFontSize / screenWidth\n"})}),"\n",(0,i.jsx)(n.p,{children:"In a mobile browser with a screen width of 390, the default value for rootFontSize is 50 and the screenWidth of the UI design is 375."}),"\n",(0,i.jsxs)(n.p,{children:["The calculated font size for the root element of the page is 52 (",(0,i.jsx)(n.code,{children:"390 * 50 / 375"}),")."]}),"\n",(0,i.jsx)(n.p,{children:"At this point, 1 rem is 52px, 32px (0.64 rem) in the CSS style, the actual size in page is 33.28 px."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    convertToRem: {\n      rootFontSize: 50,\n      screenWidth: 375,\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"customize-maxrootfontsize",children:["Customize maxRootFontSize",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#customize-maxrootfontsize",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"In the desktop browser, the page rootFontSize obtained from the calculation formula is often too large. When the calculated result large than the maxRootFontSize, the maxRootFontSize will used as the page rootFontSize."}),"\n",(0,i.jsx)(n.p,{children:"In the desktop browser with a screen width of 1920, the calculated rootFontSize is 349, which exceeds the default maxRootFontSize of 64. 64 is used as the current root element font value."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    convertToRem: {\n      maxRootFontSize: 64,\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"how-to-determine-if-rem-is-in-effect？",children:["How to determine if REM is in effect？",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#how-to-determine-if-rem-is-in-effect？",children:"#"})]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["CSS: Check the generated ",(0,i.jsx)(n.code,{children:".css"})," file to see if the value of the corresponding property is converted from px to rem."]}),"\n",(0,i.jsxs)(n.li,{children:["HTML: Open the Page Console to see if a valid value exists for ",(0,i.jsx)(n.code,{children:"document.documentElement.style.fontSize"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"how-to-get-the-rootfontsize-value-that-is-actually-in-effect-on-the-page?",children:["How to get the rootFontSize value that is actually in effect on the page?",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#how-to-get-the-rootfontsize-value-that-is-actually-in-effect-on-the-page?",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["The actual rootFontSize in effect for the page is calculated dynamically based on the current page. It can be seen by printing ",(0,i.jsx)(n.code,{children:"document.documentElement.style.fontSize"})," or obtained by ",(0,i.jsx)(n.code,{children:"window.ROOT_FONT_SIZE"}),"."]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fguide%2Fadvanced%2Frem.md"]={toc:[{text:"Enabling REM adaptability",id:"enabling-rem-adaptability",depth:2},{text:"CSS conversion properties",id:"css-conversion-properties",depth:2},{text:"Setting the page rootFontSize",id:"setting-the-page-rootfontsize",depth:2},{text:"Customize maxRootFontSize",id:"customize-maxrootfontsize",depth:2},{text:"How to determine if REM is in effect？",id:"how-to-determine-if-rem-is-in-effect？",depth:2},{text:"How to get the rootFontSize value that is actually in effect on the page?",id:"how-to-get-the-rootfontsize-value-that-is-actually-in-effect-on-the-page?",depth:2}],title:"REM adaptation",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},70664:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var t,i=r("9880"),s=r("23169"),l=r.ir(r("64290"));function o(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",h3:"h3",code:"code",pre:"pre",h4:"h4",blockquote:"blockquote",ul:"ul",li:"li",div:"div",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",br:"br",h5:"h5"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"using-rspack",children:["Using Rspack",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#using-rspack",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"This document will show you how to enable Rspack build mode in the Builder."}),"\n","\n",(0,i.jsx)(l.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"enable-rspack",children:["Enable Rspack",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#enable-rspack",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"enable-in-modernjs-framework",children:["Enable in Modern.js framework",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#enable-in-modernjs-framework",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Modern.js framework uses webpack as the default bundler. If you want to use Rspack as the bundler, you can refer to: ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/en/guides/advanced-features/rspack-start.html#initializing-an-rspack-project",target:"_blank",rel:"noopener noreferrer",children:"Using Rspack"}),"."]}),"\n",(0,i.jsxs)(n.h3,{id:"use-builder-in-a-front-end-framework",children:["Use Builder in a front-end framework",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#use-builder-in-a-front-end-framework",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Integrating rspack-provider into a frontend framework is similar to integrating webpack-provider. You only need to change the dependency from ",(0,i.jsx)(n.code,{children:"@modern-js/builder-webpack-provider"})," to ",(0,i.jsx)(n.code,{children:"@modern-js/builder-rspack-provider"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:"title=modern.config.ts",children:"import { createBuilder } from '@modern-js/builder';\nimport { builderRspackProvider } from '@modern-js/builder-rspack-provider';\n\nconst provider = builderRspackProvider({\n  builderConfig: {\n    // some configs\n  },\n});\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-diff",meta:"title=package.json",children:'{\n  "devDependencies": {\n-    "@modern-js/builder-webpack-provider": "2.8.0",\n+    "@modern-js/builder-rspack-provider": "2.8.0"\n  }\n}\n'})}),"\n",(0,i.jsxs)(n.h2,{id:"migrating-from-webpack-to-rspack",children:["Migrating from webpack to Rspack",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#migrating-from-webpack-to-rspack",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder aims to eliminate the main differences between different bundlers and help users migrate at a lower cost. However, due to the different capabilities of each bundler, you still need to be aware of some differences."}),"\n",(0,i.jsxs)(n.p,{children:["This article will introduce the differences between webpack and Rspack from the perspective of Builder. If you need to know more in-depth differences, please refer to the ",(0,i.jsx)(n.a,{href:"http://rspack.dev/guide/migrate-from-webpack.html",target:"_blank",rel:"noopener noreferrer",children:"Rspack documentation"}),"."]}),"\n",(0,i.jsxs)(n.h3,{id:"1-builder-configuration-differences",children:["1. Builder configuration differences",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#1-builder-configuration-differences",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Currently, most of configuration options in Builder have been adapted for Rspack, but there are still some configurations that are in the process of being supported."}),"\n",(0,i.jsxs)(n.h4,{id:"source-config",children:["Source Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#source-config",children:"#"})]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Source code parsing and compilation related configurations in Builder."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Unsupported configurations and capabilities include:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/api/config-source#sourceinclude",children:"source.include"})," (",(0,i.jsx)(n.a,{href:"https://github.com/web-infra-dev/rspack/issues/3067",target:"_blank",rel:"noopener noreferrer",children:"track issue"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/api/config-source#sourceexclude",children:"source.exclude"})," (",(0,i.jsx)(n.a,{href:"https://github.com/web-infra-dev/rspack/issues/3067",target:"_blank",rel:"noopener noreferrer",children:"track issue"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/api/config-source#sourcemodulescopes",children:"source.moduleScopes"})," (",(0,i.jsx)(n.a,{href:"https://github.com/web-infra-dev/rspack/issues/3548",target:"_blank",rel:"noopener noreferrer",children:"track issue"}),")"]}),"\n"]}),"\n",(0,i.jsxs)(n.h4,{id:"html-config",children:["Html Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#html-config",children:"#"})]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"HTML related configurations in Builder."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"All configurations and capabilities under html are available within rspack."}),"\n",(0,i.jsxs)(n.h4,{id:"security-config",children:["Security Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#security-config",children:"#"})]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Security related configurations in Builder."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Unsupported configurations and capabilities include:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/api/config-security#securitysri",children:"security.sri"})," (",(0,i.jsx)(n.a,{href:"https://github.com/web-infra-dev/rspack/issues/2669",target:"_blank",rel:"noopener noreferrer",children:"track issue"}),")"]}),"\n"]}),"\n",(0,i.jsxs)(n.h4,{id:"dev-config",children:["Dev Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#dev-config",children:"#"})]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Dev related configurations in Builder."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"All configurations and capabilities under dev are available within rspack."}),"\n",(0,i.jsxs)(n.h4,{id:"output-config",children:["Output Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#output-config",children:"#"})]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Output related configurations in Builder."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Unsupported configurations and capabilities include:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/api/config-output#outputdisablesourcemap",children:"output.disableSourcemap.css"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/api/config-output#outputenablecssmoduletsdeclaration",children:"output.enableCssModuleTSDeclaration"})," (Only supported when ",(0,i.jsx)(n.a,{href:"/api/config-output#outputdisablecssextract",children:"disableCssExtract"})," is true)"]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/api/config-output#outputenableinlinescripts",children:"output.enableInlineScripts"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/api/config-output#outputlegalcomments",children:"output.legalComments.inline"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/api/config-output#usage",children:"output.polyfill.usage"})," (",(0,i.jsx)(n.a,{href:"https://github.com/web-infra-dev/rspack/issues/3067",target:"_blank",rel:"noopener noreferrer",children:"track issue"}),")"]}),"\n"]}),"\n",(0,i.jsxs)(n.h4,{id:"experiments-config",children:["Experiments Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#experiments-config",children:"#"})]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Experimental related configurations in the Builder"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Unsupported configurations and capabilities include:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/api/config-experiments#experimentslazycompilation",children:"experiments.lazyCompilation"})}),"\n"]}),"\n",(0,i.jsxs)(n.h4,{id:"performance-config",children:["Performance Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#performance-config",children:"#"})]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Performance related configurations in Builder."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Unsupported configurations and capabilities include:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/api/config-performance#performanceprofile",children:"performance.profile"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/api/config-performance#performancebuildcache",children:"performance.buildCache"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/api/config-performance#performancechunksplit",children:"performance.chunkSplit (split-by-module)"})}),"\n"]}),"\n",(0,i.jsxs)(n.h4,{id:"tools-config",children:["Tools Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#tools-config",children:"#"})]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Low-level tools configurations in Builder."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Unsupported configurations and capabilities include:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/api/config-tools#toolsterser",children:"tools.terser"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/api/config-tools#toolscssextract",children:"tools.cssExtract"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/api/config-tools#toolscssloader",children:"tools.cssLoader"})," (Only supported when ",(0,i.jsx)(n.a,{href:"/api/config-output#outputdisablecssextract",children:"disableCssExtract"})," is true)"]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/api/config-tools#toolsinspector",children:"tools.inspector"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/api/config-tools#toolsminifycss",children:"tools.minifyCss"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/api/config-tools#toolsstyledcomponents",children:"tools.styledComponents"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/api/config-tools#toolstsloader",children:"tools.tsLoader"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/api/config-tools#toolswebpack",children:"tools.webpack"}),"：use ",(0,i.jsx)(n.a,{href:"/api/config-tools#toolsrspack",children:"tools.rspack"})," instead."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/api/config-tools#toolswebpackchain",children:"tools.webpackChain"}),"：use ",(0,i.jsx)(n.a,{href:"/api/config-tools#toolsbundlerchain",children:"tools.bundlerChain"})," instead."]}),"\n"]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"In addition to the above configurations, some of the supported configurations may have differences in their capabilities. For specific differences in configurations, please refer to the corresponding API for each configuration."})})]}),"\n",(0,i.jsxs)(n.h3,{id:"2-migrating-from-webpackchain-to-bundlerchain",children:["2. Migrating from webpackChain to bundlerChain",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#2-migrating-from-webpackchain-to-bundlerchain",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder supports modifying Rspack config via ",(0,i.jsx)(n.a,{href:"/api/config-tools#toolsbundlerchain",children:"bundlerChain"}),". configurations modified via bundlerChain will take effect on both webpack and Rspack builds."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-diff",children:"export default {\n  tools: {\n-   webpackChain: (chain, { env }) => {\n+   bundlerChain: (chain, { env }) => {\n      if (env === 'development') {\n        chain.devtool('cheap-module-eval-source-map');\n      }\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"The bundlerChain only provides consistent api modification for Rspack & webpack configurations, the actual plugin / loader availability depends on the actual Rspack / webpack support."})})]}),"\n",(0,i.jsxs)(n.h4,{id:"chain_id-differences",children:["CHAIN_ID differences",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chain_id-differences",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Because of some implementation differences between webpack and Rspack, there are some differences in the rules configuration."}),"\n",(0,i.jsxs)(n.p,{children:["You can see all the rules that are supported in both Rspack & webpack via ",(0,i.jsx)(n.a,{href:"/api/config-tools#chain_id",children:"tools.bundlerChain#CHAIN_ID"}),"."]}),"\n",(0,i.jsxs)(n.h3,{id:"3-migrating-from-toolswebpack-to-toolsrspack",children:["3. Migrating from tools.webpack to tools.rspack",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#3-migrating-from-toolswebpack-to-toolsrspack",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["BundlerChain only supports modifying the Rspack & webpack intersection config, more Rspack-exclusive features need to be modified via ",(0,i.jsx)(n.a,{href:"/api/config-tools#toolsrspack",children:"tools.rspack"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["Before modify the Rspack configuration object, you may should know ",(0,i.jsx)(n.a,{href:"https://www.rspack.dev/guide/config-diff.html",target:"_blank",rel:"noopener noreferrer",children:"the config diff between Rspack and Webapck"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-diff",children:"export default {\n  tools: {\n-   webppack: (config, { env }) => {\n+   rspack: (config, { env }) => {\n      if (env === 'development') {\n        config.devtool = 'cheap-module-eval-source-map';\n      }\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["More information about Rspack, please refer to the ",(0,i.jsx)(n.a,{href:"https://www.rspack.dev/",target:"_blank",rel:"noopener noreferrer",children:"Rspack website"}),"."]}),"\n",(0,i.jsxs)(n.h3,{id:"4-babel-configuration-migration",children:["4. Babel Configuration Migration",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#4-babel-configuration-migration",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["By default, Rspack uses SWC for transpilation and compression. Therefore, when using Rspack as the bundler, ",(0,i.jsx)(n.code,{children:"babel-loader"})," is not loaded by default."]}),"\n",(0,i.jsx)(n.p,{children:"For most common Babel plugins, you can find corresponding alternatives in Rspack, and there are also corresponding compatible configuration options in Builder."}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"Babel Plugin"}),"\n",(0,i.jsx)(n.th,{children:"Rspack Configuration"}),"\n",(0,i.jsx)(n.th,{children:"Builder Configuration"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"@babel/preset-env"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://www.rspack.dev/config/builtins.html#builtinspresetenv",target:"_blank",rel:"noopener noreferrer",children:"builtins.presetEnv"})}),"\n",(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.a,{href:"/guide/advanced/browserslist",children:"Browserslist"}),"、",(0,i.jsx)("br",{}),(0,i.jsx)(n.a,{href:"/guide/advanced/browser-compatibility",children:"Browser Compatibility"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"@babel/preset-react"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://www.rspack.dev/config/builtins.html#builtinsreact",target:"_blank",rel:"noopener noreferrer",children:"builtins.react"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"/guide/advanced/hmr",children:"Hot Module Replacement"})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"@emotion/babel-plugin"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://www.rspack.dev/config/builtins.html#builtinsemotion",target:"_blank",rel:"noopener noreferrer",children:"builtins.emotion"})}),"\n",(0,i.jsx)(n.td,{children:"Not supported"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"babel-plugin-import"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://www.rspack.dev/config/builtins.html#builtinspluginimport",target:"_blank",rel:"noopener noreferrer",children:"builtins.pluginImport"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"/api/config-source#sourcetransformimport",children:"source.transformImport"})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"babel-plugin-lodash"}),"\n",(0,i.jsx)(n.td,{children:"Not supported"}),"\n",(0,i.jsx)(n.td,{children:"Not supported"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"babel-plugin-styled-components"}),"\n",(0,i.jsx)(n.td,{children:"Not supported"}),"\n",(0,i.jsx)(n.td,{children:"Not supported"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"@babel/plugin-react-transform-remove-prop-types"}),"\n",(0,i.jsx)(n.td,{children:"Not supported"}),"\n",(0,i.jsx)(n.td,{children:"Not supported"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive Tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["When using Rspack for building, you can still configure Babel plugins through ",(0,i.jsx)(n.a,{href:"/api/config-tools#toolsbabel",children:"tools.babel"}),", but this will result in additional compilation overhead, which may slow down the Rspack build to some extent.\n"]})})]}),"\n",(0,i.jsxs)(n.h3,{id:"5-swc-configuration-support",children:["5. SWC Configuration Support",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#5-swc-configuration-support",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Rspack has built-in support for some swc configurations, such as builtins.react, which can be referred to in ",(0,i.jsx)(n.a,{href:"https://www.rspack.dev/config/builtins.html",target:"_blank",rel:"noopener noreferrer",children:"Builtins"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["Adding swc plugins and more custom configurations is not currently supported in Rspack. Relevant requirements can be tracked through the corresponding ",(0,i.jsx)(n.a,{href:"https://github.com/web-infra-dev/rspack/issues/3067",target:"_blank",rel:"noopener noreferrer",children:"issue"}),"."]}),"\n",(0,i.jsxs)(n.h3,{id:"6-webpack-plugin-migration",children:["6. Webpack Plugin Migration",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#6-webpack-plugin-migration",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Currently, only a limited number of webpack plugins are compatible with Rspack."}),"\n",(0,i.jsx)(n.p,{children:"If you are using the following plugins (or indirect dependencies) in your project, you will need to temporarily remove them or use alternative solutions, otherwise you won't be able to switch to the Rspack build:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["webpack-retry-chunk-load-plugin：use ",(0,i.jsx)(n.a,{href:"/api/config-output#outputassetsretry",children:"output.assetsRetry"})," instead."]}),"\n",(0,i.jsxs)(n.li,{children:["webpack.ProviderPlugin：use ",(0,i.jsx)(n.a,{href:"https://www.rspack.dev/config/builtins.html#builtinsprovide",target:"_blank",rel:"noopener noreferrer",children:"builtins.provide"})," instead."]}),"\n",(0,i.jsxs)(n.li,{children:["webpack.DefinePlugin：use ",(0,i.jsx)(n.a,{href:"https://www.rspack.dev/config/builtins.html#builtinsdefine",target:"_blank",rel:"noopener noreferrer",children:"builtins.define"})," instead."]}),"\n",(0,i.jsx)(n.li,{children:"webpack.ContextReplacementPlugin"}),"\n",(0,i.jsx)(n.li,{children:"..."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Detailed plugin support can be found at: ",(0,i.jsx)(n.a,{href:"https://www.rspack.dev/guide/plugin-compat.html",target:"_blank",rel:"noopener noreferrer",children:"Plugin compatibility"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["The plugins not listed can be judged according to ",(0,i.jsx)(n.a,{href:"https://www.rspack.dev/api/plugin-api.html",target:"_blank",rel:"noopener noreferrer",children:"Rspack Plugin API"}),"."]}),"\n",(0,i.jsxs)(n.h2,{id:"compare-with-rspack-cli",children:["Compare with Rspack CLI",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#compare-with-rspack-cli",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder Rspack build mode comparison ",(0,i.jsx)(n.a,{href:"https://www.rspack.dev/guide/quick-start.html#using-the-rspack-cli",target:"_blank",rel:"noopener noreferrer",children:"Rspack CLI"})," adds a lot of out-of-the-box capabilities. At the same time, these capabilities will bring a certain degree of performance overhead:"]}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"Features"}),"\n",(0,i.jsx)(n.th,{children:"Description"}),"\n",(0,i.jsx)(n.th,{children:"Links"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Browser Compatibility"}),"\n",(0,i.jsxs)(n.td,{children:["Builder will set different default values of Browserslist according to ",(0,i.jsx)(n.a,{href:"/guide/basic/build-target",children:"build target"})]}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/advanced/browserslist.html",children:"browserslist"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"SourceMap generation"}),"\n",(0,i.jsx)(n.td,{children:"Builder generates different SourceMaps according to the environment by default"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-output.html#outputdisablesourcemap",children:"output.disableSourceMap"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"SVG to React component"}),"\n",(0,i.jsx)(n.td,{children:"Builder support to import SVG as component by default"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/basic/svg-assets.html",children:"Import SVG Assets"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-output.html#outputdisablesvgr",children:"output.disableSvgr"})})]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Import common component library on demand"}),"\n",(0,i.jsxs)(n.td,{children:["When using ",(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/antd",target:"_blank",rel:"noopener noreferrer",children:"Ant Design"})," or ",(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/@arco-design/web-react",target:"_blank",rel:"noopener noreferrer",children:"Arco Design"})," component library, Builder will automatically enable the on-demand import function by default"]}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-source#sourcetransformimport",children:"source.transformImport"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Type Checker"}),"\n",(0,i.jsx)(n.td,{children:"Builder runs TypeScript type checker by default"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/basic/typescript.html#%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%9F%A5",children:"Type checking"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-output#outputdisabletschecker",children:"output.disableTsChecker"})})]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"PostCSS compilation"}),"\n",(0,i.jsx)(n.td,{children:"PostCSS compilation is enabled by default, built-in autoprefixer and other plugins"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/basic/css-usage.html#using-postcss",children:"Using PostCSS"})})})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"All of the above capabilities provide configurable options that can be adjusted as needed based on the actual situation of the project."}),"\n",(0,i.jsxs)(n.p,{children:["For more built-in capabilities, please refer to ",(0,i.jsx)(n.a,{href:"/guide/features",children:"Feature Navigation"}),"."]}),"\n",(0,i.jsxs)(n.h2,{id:"faq",children:["FAQ",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#faq",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"after-enabling-rspack,-the-performance-is-not-as-fast-as-expected?",children:["After enabling Rspack, the performance is not as fast as expected?",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#after-enabling-rspack,-the-performance-is-not-as-fast-as-expected?",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Usually, after enabling Rspack, there will be a 5 to 10 times improvement in compilation performance compared to Webpack."}),"\n",(0,i.jsx)(n.p,{children:"The following behaviors are currently known to slow down Rspack build performance to some extent:"}),"\n",(0,i.jsxs)(n.h5,{id:"using-configuration-options-or-plugins-that-rely-on-babel",children:["Using configuration options or plugins that rely on Babel",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#using-configuration-options-or-plugins-that-rely-on-babel",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"When using Rspack to build, babel-loader is not enabled by default."}),"\n",(0,i.jsx)(n.p,{children:"However, when a project uses configuration options or plugins implemented with Babel, an additional babel-loader will be added for file transpilation:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Add the Babel plugin via ",(0,i.jsx)(n.a,{href:"/api/config-tools#toolsbabel",children:"tools.babel"})]}),"\n",(0,i.jsxs)(n.li,{children:["Use ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/en/guides/advanced-features/ssr.html",target:"_blank",rel:"noopener noreferrer",children:"Modern.js SSR feature"})]}),"\n",(0,i.jsx)(n.li,{children:"..."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["You can check whether the Babel plugin exists in the final generated Rspack configuration by using ",(0,i.jsx)(n.a,{href:"/guide/debug/debug-mode",children:"debug mode"}),"."]}),"\n",(0,i.jsxs)(n.h5,{id:"enable-typescript-type-checking",children:["Enable TypeScript type checking",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#enable-typescript-type-checking",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"By default, Builder enables TypeScript type checking during build. In large projects, type checking can take much longer than the actual build time of Rspack, so this behavior can slow down the build speed to some extent during production environment builds."}),"\n",(0,i.jsxs)(n.p,{children:["In this case, you can disable type checking using ",(0,i.jsx)(n.a,{href:"/api/config-output#outputdisabletschecker",children:"output.disableTsChecker"})," to see if Rspack performance meets your expectations after excluding type checking."]}),"\n",(0,i.jsxs)(n.h5,{id:"large-number-of-less-files",children:["Large number of Less files",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#large-number-of-less-files",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Currently, Less files are processed using the ",(0,i.jsx)(n.code,{children:"less-loader"})," based on JavaScript and no Rust version is provided. Therefore, processing a large number of Less files can slow down the build performance."]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["When using component libraries such as ",(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/@arco-design/web-react",target:"_blank",rel:"noopener noreferrer",children:"Arco Design"}),", please try to avoid fully introducing Less styles. You can import on-demand instead. or directly import CSS styles.\n"]})})]}),"\n",(0,i.jsxs)(n.h5,{id:"large-number-of-svg-files",children:["Large number of SVG files",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#large-number-of-svg-files",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"By default, builder supports using SVG resources as React components, which incurs some performance overhead."}),"\n",(0,i.jsxs)(n.p,{children:["If you don't need this feature, you can set ",(0,i.jsx)(n.a,{href:"/api/config-output#outputdisablesvgr",children:"output.disableSvgr"})," to true to disable this behavior to improve build performance."]}),"\n",(0,i.jsxs)(n.h5,{id:"not-import-component-library-on-demand",children:["Not import component library on demand",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#not-import-component-library-on-demand",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["By default, when using ",(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/antd",target:"_blank",rel:"noopener noreferrer",children:"Ant Design"})," or ",(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/@arco-design/web-react",target:"_blank",rel:"noopener noreferrer",children:"Arco Design"})," component library, Builder will automatically enable the on-demand import function, and the default configuration can refer to ",(0,i.jsx)(n.a,{href:"/api/config-source#sourcetransformimport",children:"source.transformImport"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["When using other component libraries, if the component library supports on-demand import, we recommend to configure on-demand import through ",(0,i.jsx)(n.a,{href:"/api/config-source#sourcetransformimport",children:"source.transformImport"})," first."]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fguide%2Fadvanced%2Frspack-start.mdx"]={toc:[{text:"Enable Rspack",id:"enable-rspack",depth:2},{text:"Enable in Modern.js framework",id:"enable-in-modernjs-framework",depth:3},{text:"Use Builder in a front-end framework",id:"use-builder-in-a-front-end-framework",depth:3},{text:"Migrating from webpack to Rspack",id:"migrating-from-webpack-to-rspack",depth:2},{text:"1. Builder configuration differences",id:"1-builder-configuration-differences",depth:3},{text:"Source Config",id:"source-config",depth:4},{text:"Html Config",id:"html-config",depth:4},{text:"Security Config",id:"security-config",depth:4},{text:"Dev Config",id:"dev-config",depth:4},{text:"Output Config",id:"output-config",depth:4},{text:"Experiments Config",id:"experiments-config",depth:4},{text:"Performance Config",id:"performance-config",depth:4},{text:"Tools Config",id:"tools-config",depth:4},{text:"2. Migrating from webpackChain to bundlerChain",id:"2-migrating-from-webpackchain-to-bundlerchain",depth:3},{text:"CHAIN_ID differences",id:"chain_id-differences",depth:4},{text:"3. Migrating from tools.webpack to tools.rspack",id:"3-migrating-from-toolswebpack-to-toolsrspack",depth:3},{text:"4. Babel Configuration Migration",id:"4-babel-configuration-migration",depth:3},{text:"5. SWC Configuration Support",id:"5-swc-configuration-support",depth:3},{text:"6. Webpack Plugin Migration",id:"6-webpack-plugin-migration",depth:3},{text:"Compare with Rspack CLI",id:"compare-with-rspack-cli",depth:2},{text:"FAQ",id:"faq",depth:2},{text:"After enabling Rspack, the performance is not as fast as expected?",id:"after-enabling-rspack,-the-performance-is-not-as-fast-as-expected?",depth:3}],title:"Using Rspack",frontmatter:{}};var a=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},23003:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",code:"code",h2:"h2",ul:"ul",li:"li",pre:"pre",div:"div",strong:"strong"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"build-target",children:["Build Target",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#build-target",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder supports build multiple target types for running in different target environments. After setting the correct target type, Builder will optimize the build results for the environment, and enable some plugins or configs for the target environment during the build process."}),"\n",(0,i.jsxs)(n.p,{children:["You can set the type through the ",(0,i.jsx)(n.code,{children:"target"})," parameter of the ",(0,i.jsx)(n.a,{href:"/en/api/builder-core#createbuilder",children:"createBuilder"})," method."]}),"\n",(0,i.jsxs)(n.h2,{id:"default-target",children:["Default Target",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#default-target",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["By default, the build target is ",(0,i.jsx)(n.code,{children:"'web'"}),", and the build result can run in a browser environment."]}),"\n",(0,i.jsxs)(n.p,{children:["the Builder will read the ",(0,i.jsx)(n.a,{href:"https://github.com/browserslist/browserslist",target:"_blank",rel:"noopener noreferrer",children:"Browserslist config"})," in the project to determine the range of browsers."]}),"\n",(0,i.jsxs)(n.h2,{id:"optional-targets",children:["Optional Targets",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#optional-targets",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"target"})," can also be set to the following values:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"'node'"}),": Build for Node.js environment, usually used in SSR and other scenarios."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"'web-worker'"}),": Build for Web Worker environment."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"'modern-web'"}),": Build for modern browsers."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"For example, to build for the Node.js environment:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const builder = await createBuilder(provider, {\n  target: 'node',\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"multiple-targets",children:["Multiple Targets",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#multiple-targets",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"When target is an array containing multiple values, Builder will perform multiple builds at the same time."}),"\n",(0,i.jsx)(n.p,{children:"For example, we can build a browser target and an node target at the same time:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const builder = await createBuilder(provider, {\n  target: ['web', 'node'],\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"node-target",children:["Node Target",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#node-target",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Refers to the build target running in the Node.js environment, usually used in scenarios such as SSR."}),"\n",(0,i.jsxs)(n.p,{children:["When ",(0,i.jsx)(n.code,{children:"target"})," is set to ",(0,i.jsx)(n.code,{children:"'node'"}),", Builder will:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"No HTML files will be generated, and HTML-related logic will not be executed, since HTML is not required by the Node.js environment."}),"\n",(0,i.jsx)(n.li,{children:"CSS code will not be bundled or extracted, but the id information of CSS Modules will be included in the bundle."}),"\n",(0,i.jsx)(n.li,{children:"The default code split strategy will be disabled, but dynamic import can still work."}),"\n",(0,i.jsx)(n.li,{children:"Disable the HMR."}),"\n",(0,i.jsxs)(n.li,{children:["Adjust the default value of Browserslist to ",(0,i.jsx)(n.code,{children:"['node >= 14']"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"If target is an array, such as building web and node targets at the same time, then the above processing will not affect the web target, The HTML, CSS and other files required for the web target will still be generated correctly."})})]}),"\n",(0,i.jsxs)(n.h2,{id:"web-worker-target",children:["Web Worker Target",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#web-worker-target",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Refers to the build target running in the ",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API",target:"_blank",rel:"noopener noreferrer",children:"Web Worker"})," environment."]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"Web Worker"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"A web worker is a type of JavaScript program that runs in the background, independently of other scripts, without affecting the performance of the page. This makes it possible to run long-running scripts, such as ones that handle complex calculations or access remote resources, without blocking the user interface or other scripts. Web workers provide an easy way to run tasks in the background and improve the overall performance of web applications."})})]}),"\n",(0,i.jsxs)(n.p,{children:["When ",(0,i.jsx)(n.code,{children:"target"})," is set to ",(0,i.jsx)(n.code,{children:"'web-worker'"}),", Builder will:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"No HTML files will be generated, and HTML-related logic will not be executed, since HTML is not required by the Web Worker environment."}),"\n",(0,i.jsx)(n.li,{children:"CSS code will not be bundled or extracted, but the id information of CSS Modules will be included in the bundle."}),"\n",(0,i.jsxs)(n.li,{children:["The default code split strategy will be disabled, and ",(0,i.jsx)(n.strong,{children:"dynamic import can not work"}),", because the Web Worker only runs a single JavaScript file."]}),"\n",(0,i.jsx)(n.li,{children:"Disable the HMR."}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"modern-web-target",children:["Modern Web Target",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#modern-web-target",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Refers to the build target running in the modern browsers."}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"What are modern browsers?"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["Modern browsers are one of our conventions to refer to browsers that support ",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules",target:"_blank",rel:"noopener noreferrer",children:"native ES Modules"}),".\n"]})})]}),"\n",(0,i.jsxs)(n.p,{children:["When ",(0,i.jsx)(n.code,{children:"target"})," is set to ",(0,i.jsx)(n.code,{children:"'modern-web'"}),", Builder will:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Adjust the default value of Browserslist to:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const browserslist = [\n  'chrome >= 61',\n  'edge >= 16',\n  'firefox >= 60',\n  'safari >= 11',\n  'ios_saf >= 11',\n];\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fguide%2Fbasic%2Fbuild-target.md"]={toc:[{text:"Default Target",id:"default-target",depth:2},{text:"Optional Targets",id:"optional-targets",depth:2},{text:"Multiple Targets",id:"multiple-targets",depth:2},{text:"Node Target",id:"node-target",depth:2},{text:"Web Worker Target",id:"web-worker-target",depth:2},{text:"Modern Web Target",id:"modern-web-target",depth:2}],title:"Build Target",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},31503:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",code:"code",ul:"ul",li:"li",h2:"h2",pre:"pre",h3:"h3",strong:"strong"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"use-builder-cli",children:["Use Builder CLI",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#use-builder-cli",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Modern.js Builder provides a lightweight CLI tool that includes basic commands such as ",(0,i.jsx)(n.code,{children:"dev"})," and ",(0,i.jsx)(n.code,{children:"build"}),". It is primarily used for building non-React projects."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["For React projects, we recommend using the Modern.js framework directly. Please refer to ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/en/guides/get-started/quick-start.html",target:"_blank",rel:"noopener noreferrer",children:"Modern.js - Quick Start"})," for more information."]}),"\n",(0,i.jsx)(n.li,{children:"For non-React projects, such as developing a Vue project, you can use the Builder CLI tool to build your project."}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"install",children:["Install",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#install",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"You need to install two packages:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"@modern-js/builder-cli"})," is the CLI tool for Builder, providing basic CLI commands and automatically loading the installed Provider in the current project."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"@modern-js/builder-webpack-provider"})," or ",(0,i.jsx)(n.code,{children:"@modern-js/builder-rspack-provider"}),", they are Providers for Builder, offering build capabilities based on webpack or Rspack."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Using webpack for bundling\npnpm add @modern-js/builder-cli @modern-js/builder-webpack-provider -D\n\n# Using Rspack for bundling\npnpm add @modern-js/builder-cli @modern-js/builder-rspack-provider -D\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"commands",children:["Commands",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#commands",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder CLI provides the following commands to help you quickly start a development server, build production-ready code, and more."}),"\n",(0,i.jsxs)(n.h3,{id:"builder-dev",children:["builder dev",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builder-dev",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"builder dev"})," command is used to start a local development server and compile the source code in the development environment."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"Usage: builder dev [options]\n\nOptions:\n  -h, --help            display help for command\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"builder-build",children:["builder build",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builder-build",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"builder build"})," command will build the outputs for production in the ",(0,i.jsx)(n.code,{children:"dist/"})," directory by default."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"Usage: builder build [options]\n\nOptions:\n  -h, --help            display help for command\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"builder-serve",children:["builder serve",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builder-serve",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"builder serve"})," command is used to preview the production build outputs locally. Note that you need to execute the ",(0,i.jsx)(n.code,{children:"builder build"})," command beforehand to generate the corresponding outputs."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"Usage: builder serve [options]\n\nOptions:\n  -h, --help            display help for command\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"configuration",children:["Configuration",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#configuration",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder CLI will read the ",(0,i.jsx)(n.code,{children:"builder.config.ts"})," configuration file located in the root directory of your project by default. You can use ",(0,i.jsx)(n.a,{href:"/api/index",children:"all the configuration options"})," provided by Builder in the configuration file."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="builder.config.ts"',children:"import { defineConfig } from '@modern-js/builder-cli';\n\nexport default defineConfig({\n  output: {\n    disableTsChecker: true,\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.p,{children:["When you use Rspack as the bundler, there are some differences in configuration types between webpack and Rspack. Therefore, you need to specify the ",(0,i.jsx)(n.code,{children:"'rspack'"})," generic for ",(0,i.jsx)(n.code,{children:"defineConfig"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-diff",meta:'title="builder.config.ts"',children:"- export default defineConfig({\n+ export default defineConfig<'rspack'>({\n  // ...\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"build-entry",children:["Build Entry",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#build-entry",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["By default, Builder CLI uses ",(0,i.jsx)(n.code,{children:"src/index.(js|ts|jsx|tsx)"})," as the build entry. You can modify the build entry using the ",(0,i.jsx)(n.code,{children:"source.entries"})," configuration option."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type Entries = Record<string, string>;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Default:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const defaultEntry = {\n  index: 'src/index.(js|ts|jsx|tsx)',\n};\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="builder.config.ts"',children:"import { defineConfig } from '@modern-js/builder-cli';\n\nexport default defineConfig({\n  source: {\n    entries: {\n      foo: './src/pages/foo/index.ts',\n      bar: './src/pages/bar/index.ts',\n    },\n  },\n});\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fguide%2Fbasic%2Fbuilder-cli.mdx"]={toc:[{text:"Install",id:"install",depth:2},{text:"Commands",id:"commands",depth:2},{text:"builder dev",id:"builder-dev",depth:3},{text:"builder build",id:"builder-build",depth:3},{text:"builder serve",id:"builder-serve",depth:3},{text:"Configuration",id:"configuration",depth:2},{text:"Build Entry",id:"build-entry",depth:2}],title:"Use Builder CLI",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},39541:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",ul:"ul",li:"li",h3:"h3",pre:"pre",code:"code",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",strong:"strong"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"builder-config",children:["Builder Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builder-config",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder provides a wealth of configs to help users customize the build behavior."}),"\n",(0,i.jsxs)(n.h2,{id:"config-categories",children:["Config Categories",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#config-categories",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder Configs are divided into the following categories:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/api/config-dev",children:"Dev Config"}),": Config related to local development."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/api/config-html",children:"Html Config"}),": Config related to HTML."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/api/config-tools",children:"Tools Config"}),": Config related to the low-level tools."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/api/config-source",children:"Source Config"}),": Config related to source code parsing and compilation."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/api/config-output",children:"Output Config"}),": Config related to output."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/api/config-security",children:"Security Config"}),": Config related to security."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/api/config-performance",children:"Performance Config"}),": Config related to performance."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["You can find detailed descriptions of all configs on the ",(0,i.jsx)(n.a,{href:"/en/api/",children:"API Reference"})," page."]}),"\n",(0,i.jsxs)(n.h2,{id:"default-values",children:["Default Values",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#default-values",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The Builder presets a default value for each config, and the default value is suitable for most scenarios. At the same time, the upper-level framework will also override some of the default values based on the requirements of the vertical scene."}),"\n",(0,i.jsx)(n.p,{children:"In most cases, you don't need to define any Builder config, just use it right out of the box."}),"\n",(0,i.jsxs)(n.h2,{id:"use-config",children:["Use Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#use-config",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"in-the-upper-framework",children:["In the Upper Framework",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#in-the-upper-framework",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"When you use a Builder-based upper-level framework, you can define the Builder config directly through the framework's config file, and the upper-level framework will pass the config to the Builder."}),"\n",(0,i.jsxs)(n.p,{children:["For example, in the Modern.js framework, you can define the Builder's ",(0,i.jsx)(n.a,{href:"/en/api/config-source#sourcealias",children:"source.alias"})," config in ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/en/configure/app/usage.html",target:"_blank",rel:"noopener noreferrer",children:"modern.config.ts"})," file."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="modern.config.ts"',children:"export default {\n  source: {\n    alias: {\n      '@common': './src/common',\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"Commonly used framework config files include:"}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"Framework"}),"\n",(0,i.jsx)(n.th,{children:"Config File"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Modern.js"}),"\n",(0,i.jsx)(n.td,{children:"modern.config.ts"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"EdenX"}),"\n",(0,i.jsx)(n.td,{children:"edenx.config.ts"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"PIA"}),"\n",(0,i.jsx)(n.td,{children:"pia.config.ts"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"using-the-node-api",children:["Using the Node API",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#using-the-node-api",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When you call the Builder through the Node API, you can pass in the Builder config through the Provider's ",(0,i.jsx)(n.code,{children:"builderConfig"})," option:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { builderWebpackProvider } from '@modern-js/builder-webpack-provider';\n\nconst provider = builderWebpackProvider({\n  builderConfig: {\n    // some configs\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Please refer to ",(0,i.jsx)(n.a,{href:"/en/api/builder-core#createbuilder",children:"API - createBuilder"})," for details."]}),"\n",(0,i.jsxs)(n.h2,{id:"relationship-with-framework-config",children:["Relationship with Framework Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#relationship-with-framework-config",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Generally speaking, the Builder config is a subset of the framework config."}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Builder config only deals with build-related behaviors"}),", while framework config covers a wider range, including runtime, server, deployment, etc., so framework config is extended from Builder config."]}),"\n",(0,i.jsxs)(n.h2,{id:"debug-the-config",children:["Debug the config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#debug-the-config",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["You can enable Builder's debug mode by adding the ",(0,i.jsx)(n.code,{children:"DEBUG=builder"})," environment variable when executing a build."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"DEBUG=builder pnpm dev\n"})}),"\n",(0,i.jsx)(n.p,{children:"In debug mode, Builder will write the Builder config to the dist directory, which is convenient for developers to view and debug."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Inspect config succeed, open the following files to view the content:\n\n   - Builder Config: /Project/demo/dist/builder.config.js\n   - Webpack Config (web): /Project/demo/dist/webpack.config.web.js\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Open the generated ",(0,i.jsx)(n.code,{children:"/dist/builder.config.js"})," file to see the complete content of the Builder config."]}),"\n",(0,i.jsxs)(n.p,{children:["For a complete introduction to debug mode, see the ",(0,i.jsx)(n.a,{href:"/guide/debug/debug-mode",children:"Debug Mode"})," chapter."]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fguide%2Fbasic%2Fbuilder-config.mdx"]={toc:[{text:"Config Categories",id:"config-categories",depth:2},{text:"Default Values",id:"default-values",depth:2},{text:"Use Config",id:"use-config",depth:2},{text:"In the Upper Framework",id:"in-the-upper-framework",depth:3},{text:"Using the Node API",id:"using-the-node-api",depth:3},{text:"Relationship with Framework Config",id:"relationship-with-framework-config",depth:2},{text:"Debug the config",id:"debug-the-config",depth:2}],title:"Builder Config",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},58134:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",code:"code",ul:"ul",li:"li",h2:"h2",pre:"pre",div:"div",h3:"h3"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"use-css-modules",children:["Use CSS Modules",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#use-css-modules",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://github.com/css-modules/css-modules",target:"_blank",rel:"noopener noreferrer",children:"CSS Modules"})," allows us to write CSS code in a modular way, and these styles can be imported and used in JavaScript files. Using CSS Modules can automatically generate unique class names, isolate styles between different modules, and avoid class name conflicts."]}),"\n",(0,i.jsxs)(n.p,{children:["Builder supports CSS Modules by default, you don't need to add additional configuration. Our convention is to use the ",(0,i.jsx)(n.code,{children:"[name].module.css"})," filename to enable CSS Modules."]}),"\n",(0,i.jsx)(n.p,{children:"The following style files are considered CSS Modules:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"*.module.scss"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"*.module.less"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"*.module.css"})}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Write style:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-css",children:"/* button.module.css */\n.error {\n  background: red;\n}\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Using styles:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"// Button.tsx\nimport React, { Component } from 'react';\n// import style file\nimport styles from './button.module.css';\n\nexport default () => {\n  return <button className={styles.error}>Error Button</button>;\n};\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"enable-css-modules-for-all-css-files",children:["Enable CSS Modules for all CSS files",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#enable-css-modules-for-all-css-files",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["By default, only files ending in ",(0,i.jsx)(n.code,{children:"*.module.css"})," are treated CSS Modules."]}),"\n",(0,i.jsxs)(n.p,{children:["If you want to treat all CSS files in the source directory as CSS Modules, you can enable the ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/builder/en/api/config-output.html#outputdisablecssmoduleextension",target:"_blank",rel:"noopener noreferrer",children:"output.disableCssModuleExtension"})," config, for example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    disableCssModuleExtension: true,\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"When set, the following two files are treated as CSS Modules:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import styles1 from './foo.module.css';\nimport styles2 from './bar.css';\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"We do not recommend enabling this config, because after enabling disableCssModuleExtension, CSS Modules files and ordinary CSS files cannot be clearly distinguished, which is not conducive to long-term maintenance."})})]}),"\n",(0,i.jsxs)(n.h2,{id:"enable-css-modules-for-the-specified-style-file",children:["Enable CSS Modules for the specified style file",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#enable-css-modules-for-the-specified-style-file",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["By default, only files ending in ",(0,i.jsx)(n.code,{children:"*.module.css"})," are treated CSS Modules."]}),"\n",(0,i.jsxs)(n.p,{children:["If you want to enable CSS Modules only for specified style files, you can configure ",(0,i.jsx)(n.a,{href:"/api/config-output#outputcssmodule",children:"output.cssModules"}),", for example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    cssModules: {\n      auto: resource => {\n        return resource.includes('.module.') || resource.includes('shared/');\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"custom-class-names",children:["Custom Class Names",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#custom-class-names",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Customizing the class names generated by CSS Modules is also a commonly used function, you can use ",(0,i.jsx)(n.a,{href:"/en/api/config-output#outputcssmodulelocalidentname",children:"output.cssModuleLocalIdentName"})," to configure it."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    cssModuleLocalIdentName: '[hash:base64:4]',\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["If you need to customize other configs of CSS Modules, you can set them via ",(0,i.jsx)(n.a,{href:"/api/config-tools#css-loader",children:"tools.cssLoader"}),"."]}),"\n",(0,i.jsxs)(n.h2,{id:"add-type-declaration",children:["Add Type Declaration",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#add-type-declaration",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"When you import CSS Modules in TypeScript code, TypeScript may prompt that the module is missing a type definition:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"TS2307: Cannot find module './index.module.css' or its corresponding type declarations.\n"})}),"\n",(0,i.jsxs)(n.p,{children:["To fix this, you need to add a type declaration file for the CSS Modules, please create a ",(0,i.jsx)(n.code,{children:"src/global.d.ts"})," file, and add the corresponding type declaration:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="src/global.d.ts"',children:"declare module '*.module.css' {\n  const classes: { readonly [key: string]: string };\n  export default classes;\n}\n\ndeclare module '*.module.scss' {\n  const classes: { readonly [key: string]: string };\n  export default classes;\n}\n\ndeclare module '*.module.sass' {\n  const classes: { readonly [key: string]: string };\n  export default classes;\n}\n\ndeclare module '*.module.less' {\n  const classes: { readonly [key: string]: string };\n  export default classes;\n}\n\ndeclare module '*.module.styl' {\n  const classes: { readonly [key: string]: string };\n  export default classes;\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["If you enabled the ",(0,i.jsx)(n.code,{children:"disableCssModuleExtension"})," config, you also need to add the following types:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="src/global.d.ts"',children:"declare module '*.css' {\n  const classes: { readonly [key: string]: string };\n  export default classes;\n}\n\ndeclare module '*.scss' {\n  const classes: { readonly [key: string]: string };\n  export default classes;\n}\n\ndeclare module '*.sass' {\n  const classes: { readonly [key: string]: string };\n  export default classes;\n}\n\ndeclare module '*.less' {\n  const classes: { readonly [key: string]: string };\n  export default classes;\n}\n\ndeclare module '*.styl' {\n  const classes: { readonly [key: string]: string };\n  export default classes;\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["After adding the type declaration, if the type error still exists, you can try to restart the current IDE, or adjust the directory where ",(0,i.jsx)(n.code,{children:"global.d.ts"})," is located, making sure the TypeScript can correctly identify the type definition."]}),"\n",(0,i.jsxs)(n.h2,{id:"generate-exact-type-definitions",children:["Generate exact type definitions",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#generate-exact-type-definitions",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Although the above method can provide the type of CSS Modules, it cannot accurately prompt which classNames are exported by a certain CSS file."}),"\n",(0,i.jsxs)(n.p,{children:["Builder supports generating accurate type declarations for CSS Modules, you only need to enable the ",(0,i.jsx)(n.a,{href:"/en/api/config-output#outputenablecssmodulesdeclaration",children:"output.enableCssModuleTSDeclaration"})," config, and then execute the build, Builder will generate type declaration files for all CSS Modules."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    enableCssModuleTSDeclaration: true,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"example-1",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example-1",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["For example, there are two files ",(0,i.jsx)(n.code,{children:"src/index.ts"})," and ",(0,i.jsx)(n.code,{children:"src/index.module.scss"})," under a certain folder:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",meta:'title="src/index.ts"',children:"import styles from './index.module.scss';\n\nexport default () => {\n  <div>\n    <div className={styles.pageHeader}>Page Header</div>\n  </div>;\n};\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-scss",meta:'title="src/index.module.scss"',children:".page-header {\n  color: black;\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["After executing the build, the ",(0,i.jsx)(n.code,{children:"src/index.module.scss.d.ts"})," type declaration file will be automatically generated:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="src/index.module.scss.d.ts"',children:"// This file is automatically generated.\n// Please do not change this file!\ninterface CssExports {\n  'page-header': string;\n  pageHeader: string;\n}\nexport const cssExports: CssExports;\nexport default cssExports;\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Then open the ",(0,i.jsx)(n.code,{children:"src/index.ts"})," file again, you will see that the ",(0,i.jsx)(n.code,{children:"styles"})," object already has a exact type."]}),"\n",(0,i.jsxs)(n.h3,{id:"related-configuration",children:["Related configuration",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#related-configuration",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["In the above example, ",(0,i.jsx)(n.code,{children:"src/index.module.scss.d.ts"})," is generated by compilation, you can choose to commit them to the Git repository, or you can choose to ignore them in the ",(0,i.jsx)(n.code,{children:".gitignore"})," file:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Ignore auto generated CSS declarations\n*.module.css.d.ts\n*.module.sass.d.ts\n*.module.scss.d.ts\n*.module.less.d.ts\n*.module.styl.d.ts\n"})}),"\n",(0,i.jsxs)(n.p,{children:["In addition, if the generated code causes ESLint to report errors, you can also add the above configuration to the ",(0,i.jsx)(n.code,{children:".eslintignore"})," file."]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fguide%2Fbasic%2Fcss-modules.md"]={toc:[{text:"Example",id:"example",depth:2},{text:"Enable CSS Modules for all CSS files",id:"enable-css-modules-for-all-css-files",depth:2},{text:"Enable CSS Modules for the specified style file",id:"enable-css-modules-for-the-specified-style-file",depth:2},{text:"Custom Class Names",id:"custom-class-names",depth:2},{text:"Add Type Declaration",id:"add-type-declaration",depth:2},{text:"Generate exact type definitions",id:"generate-exact-type-definitions",depth:2},{text:"Example",id:"example-1",depth:3},{text:"Related configuration",id:"related-configuration",depth:3}],title:"Use CSS Modules",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},28579:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",pre:"pre",code:"code",h3:"h3",ul:"ul",li:"li",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"css-usage",children:["CSS Usage",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#css-usage",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder has built-in multiple style resource processing capabilities, including Less / Sass preprocessor, PostCSS, CSS Modules, CSS inline and CSS compression."}),"\n",(0,i.jsx)(n.p,{children:"In addition, Builder also provides multiple configs to customize the compile rules of style resources."}),"\n",(0,i.jsxs)(n.h2,{id:"using-less,-sass-and-stylus",children:["Using Less, Sass and Stylus",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#using-less,-sass-and-stylus",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The Builder has built-in community popular CSS preprocessors such as Less, Sass."}),"\n",(0,i.jsxs)(n.p,{children:["By default, you don't need to configure anything for Less and Sass. If you need to customize loader config, you can configure ",(0,i.jsx)(n.a,{href:"/en/api/config-tools#toolsless",children:"tools.less"}),", ",(0,i.jsx)(n.a,{href:"/en/api/config-tools#toolssass",children:"tools.sass"})," to set it up."]}),"\n",(0,i.jsxs)(n.p,{children:["You can also use Stylus in Builder, just install the Stylus plugin provided by Builder, please refer to ",(0,i.jsx)(n.a,{href:"/plugins/plugin-stylus",children:"Stylus Plugin"})," for usage."]}),"\n",(0,i.jsxs)(n.h2,{id:"using-postcss",children:["Using PostCSS",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#using-postcss",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder has built-in ",(0,i.jsx)(n.a,{href:"https://postcss.org/",target:"_blank",rel:"noopener noreferrer",children:"PostCSS"})," to transform the CSS code. You can configure the postcss-loader via ",(0,i.jsx)(n.a,{href:"/en/api/config-tools#toolspostcss",children:"tools.postcss"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    postcss: opts => {\n      const viewportPlugin = require('postcss-px-to-viewport')({\n        viewportWidth: 375,\n      });\n      opts.postcssOptions.plugins.push(viewportPlugin);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"builtin-postcss-plugins",children:["Builtin PostCSS plugins",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builtin-postcss-plugins",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder has some builtin PostCSS plugins, which will perform the following transformations on CSS:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://github.com/postcss/autoprefixer",target:"_blank",rel:"noopener noreferrer",children:"autoprefixer"}),": we have enabled ",(0,i.jsx)(n.a,{href:"https://github.com/postcss/autoprefixer",target:"_blank",rel:"noopener noreferrer",children:"autoprefixer"})," to add vendor prefixes to CSS rules. If you want to configure the target browser, you can use ",(0,i.jsx)(n.a,{href:"/en/api/config-output#outputoverridebrowserslist",children:"output.overrideBrowserslist"})," config."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/postcss-nested",target:"_blank",rel:"noopener noreferrer",children:"postcss-nesting"}),": Provide ",(0,i.jsx)(n.a,{href:"https://drafts.csswg.org/css-nesting-1/",target:"_blank",rel:"noopener noreferrer",children:"CSS Nesting"})," support, you can Use nested writing in CSS, such as:"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-css",children:".my-table {\n  & td {\n    text-align: center;\n\n    &.c {\n      text-transform: uppercase;\n    }\n  }\n}\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/postcss-flexbugs-fixes",target:"_blank",rel:"noopener noreferrer",children:"postcss-flexbugs-fixes"}),": Used to fix known ",(0,i.jsx)(n.a,{href:"https://github.com/philipwalton/flexbugs",target:"_blank",rel:"noopener noreferrer",children:"Flex Bugs"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/postcss-initial",target:"_blank",rel:"noopener noreferrer",children:"postcss-initial"}),": Enabled only when it needs to be compatible with legacy browsers, providing the ",(0,i.jsxs)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/initial_value",target:"_blank",rel:"noopener noreferrer",children:[(0,i.jsx)(n.code,{children:"initial"})," attribute value"]})," compatible."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/postcss-page-break",target:"_blank",rel:"noopener noreferrer",children:"postcss-page-break"}),": Enabled only when compatibility with legacy browsers is required, providing support for ",(0,i.jsxs)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/break-after",target:"_blank",rel:"noopener noreferrer",children:[(0,i.jsx)(n.code,{children:"break-"})," attribute"]}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/postcss-font-variant",target:"_blank",rel:"noopener noreferrer",children:"postcss-font-variant"}),": Enabled only when compatibility with legacy browsers is required, providing support for ",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/font-variant",target:"_blank",rel:"noopener noreferrer",children:(0,i.jsx)(n.code,{children:"font-variant"})}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/postcss-media-minmax",target:"_blank",rel:"noopener noreferrer",children:"postcss-media-minmax"}),": Enabled only when compatibility with legacy browsers is required, providing support for ",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/Media_Queries/Using_media_queries#syntax_improvements_in_level_4",target:"_blank",rel:"noopener noreferrer",children:"Media Query Ranges"})," compatibility."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/postcss-custom-properties",target:"_blank",rel:"noopener noreferrer",children:"postcss-custom-properties"}),": Only enabled when compatibility with legacy browsers is required, providing support for ",(0,i.jsx)(n.a,{href:"https://www.w3.org/TR/css-variables-1/",target:"_blank",rel:"noopener noreferrer",children:"Custom Properties"}),", you can define and use custom variables in CSS, such as:"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-css",children:":root {\n  --main-bg-color: pink;\n}\n\nbody {\n  background-color: var(--main-bg-color);\n}\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"using-css-modules",children:["Using CSS Modules",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#using-css-modules",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Please read the ",(0,i.jsx)(n.a,{href:"/guide/basic/css-modules",children:"Using CSS Modules"})," chapter for a complete usage of CSS Modules."]}),"\n",(0,i.jsxs)(n.h2,{id:"css-minify",children:["CSS Minify",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#css-minify",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Usually, in production environments we compress static resources such as CSS, JS, etc. to achieve better transfer efficiency."}),"\n",(0,i.jsxs)(n.p,{children:["Builder automatically compresses CSS code at production build time with ",(0,i.jsx)(n.a,{href:"https://github.com/webpack-contrib/css-minimizer-webpack-plugin",target:"_blank",rel:"noopener noreferrer",children:"css-minimizer-webpack-plugin"})," (The compression tool used at the bottom is ",(0,i.jsx)(n.a,{href:"https://cssnano.co/",target:"_blank",rel:"noopener noreferrer",children:"cssnano"}),")."]}),"\n",(0,i.jsxs)(n.p,{children:["You can configure ",(0,i.jsx)(n.a,{href:"/en/api/config-tools#toolsminifycss",children:"tools.minifyCss"})," to make it more customizable."]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"About cssnano"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"cssnano is a tool for optimizing and minifying CSS files. It reduces the size of CSS files by removing unused rules, merging similar rules, removing comments and whitespace, and converting length units, among other techniques, to improve the loading speed of websites."})})]}),"\n",(0,i.jsxs)(n.h2,{id:"inline-css-files",children:["Inline CSS Files",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#inline-css-files",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["By default, Builder will extract CSS into a separate ",(0,i.jsx)(n.code,{children:".css"})," file and output it to the dist directory."]}),"\n",(0,i.jsxs)(n.p,{children:["If you want to inline styles into your JS file, you can set ",(0,i.jsx)(n.a,{href:"/en/api/config-output#outputdisablecssextract",children:"output.disableCssExtract"})," to true to disable CSS extraction logic.When the JS file is requested by the browser, JS dynamically inserts the ",(0,i.jsx)(n.code,{children:"<style>"})," tag into the Html to load the CSS styles."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    disableCssExtract: true,\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"This will increase the size of your JS Bundle, so it is usually not recommended to disable the CSS extraction."}),"\n",(0,i.jsxs)(n.h2,{id:"import-css-in-node_modules",children:["Import CSS in node_modules",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#import-css-in-node_modules",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"You can directly import CSS files in node_modules."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Import in a component:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="src/App.tsx"',children:"// Import the Arco Design style:\nimport '@arco-design/web-react/dist/css/arco.css';\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Import in a style file:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-css",meta:'title="src/App.css"',children:"/* reference normalize.css */\n/* https://github.com/necolas/normalize.css */\n@import 'normalize.css';\n\nbody {\n  /* */\n}\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fguide%2Fbasic%2Fcss-usage.md"]={toc:[{text:"Using Less, Sass and Stylus",id:"using-less,-sass-and-stylus",depth:2},{text:"Using PostCSS",id:"using-postcss",depth:2},{text:"Builtin PostCSS plugins",id:"builtin-postcss-plugins",depth:3},{text:"Using CSS Modules",id:"using-css-modules",depth:2},{text:"CSS Minify",id:"css-minify",depth:2},{text:"Inline CSS Files",id:"inline-css-files",depth:2},{text:"Import CSS in node_modules",id:"import-css-in-node_modules",depth:2}],title:"CSS Usage",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},7931:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",pre:"pre",code:"code",h3:"h3",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"html-template",children:["HTML Template",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#html-template",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"During the build process, Builder will compile based on the HTML template and template parameters to generate several HTML files."}),"\n",(0,i.jsx)(n.p,{children:"Builder provides some configs to set the HTML template. Through this chapter, you can learn the basic usage of these configs."}),"\n",(0,i.jsxs)(n.h2,{id:"set-template",children:["Set Template",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#set-template",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"HTML templates are usually predefined by the upper framework."}),"\n",(0,i.jsxs)(n.p,{children:["For example, in the Modern.js framework, the HTML template is preset by default, and users can also customize the content of the template. You can read the ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/en/guides/basic-features/html.html",target:"_blank",rel:"noopener noreferrer",children:'"Modern.js - HTML Template"'})," chapter to learn about it."]}),"\n",(0,i.jsxs)(n.p,{children:["In Builder, you can use ",(0,i.jsx)(n.a,{href:"/en/api/config-html#htmltemplate",children:"html.template"})," and ",(0,i.jsx)(n.a,{href:"/en/api/config-html#htmltemplatebyentries",children:"html.templateByEntries"})," configs to define the path to the custom HTML template."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  html: {\n    template: './static/index.html',\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"set-page-title",children:["Set Page Title",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#set-page-title",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["You can set the HTML ",(0,i.jsx)(n.code,{children:"<title>"})," tag through the ",(0,i.jsx)(n.a,{href:"/en/api/config-html#htmltitle",children:"html.title"})," and ",(0,i.jsx)(n.a,{href:"/en/api/config-html#htmltitlebyentries",children:"html.titleByEntries"})," configs."]}),"\n",(0,i.jsxs)(n.p,{children:["When there is only one page in your project, just use the ",(0,i.jsx)(n.code,{children:"html.title"})," setting directly:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  html: {\n    title: 'example',\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["When there are multiple pages in your project, please use ",(0,i.jsx)(n.code,{children:"html.titleByEntries"})," to set corresponding titles for different pages. ",(0,i.jsx)(n.code,{children:"html.titleByEntries"}),' uses the page\'s "entry name" as the key.']}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  html: {\n    titleByEntries: {\n      foo: 'Foo',\n      bar: 'Bar',\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"set-page-icon",children:["Set Page Icon",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#set-page-icon",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder supports setting ",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Glossary/Favicon",target:"_blank",rel:"noopener noreferrer",children:"favicon"})," icon and ",(0,i.jsx)(n.a,{href:"https://webhint.io/docs/user-guide/hints/hint-apple-touch-icons/",target:"_blank",rel:"noopener noreferrer",children:"apple-touch-icon"})," icon."]}),"\n",(0,i.jsxs)(n.p,{children:["You can set the favicon through the ",(0,i.jsx)(n.a,{href:"/en/api/config-html#htmlfavicon",children:"html.favicon"})," and ",(0,i.jsx)(n.a,{href:"/en/api/config-html#htmlfaviconbyentries",children:"html.faviconByEntries"})," configs."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  html: {\n    favicon: './src/assets/icon.png',\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["You can also set the apple-touch-icon for iOS system through the ",(0,i.jsx)(n.a,{href:"/en/api/config-html#htmlappicon",children:"html.appIcon"})," config."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  html: {\n    appIcon: './src/assets/icon.png',\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"set-meta-tags",children:["Set Meta Tags",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#set-meta-tags",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["You can set the meta tags through the ",(0,i.jsx)(n.a,{href:"/en/api/config-html#htmlmeta",children:"html.meta"})," and ",(0,i.jsx)(n.a,{href:"/en/api/config-html#htmlmetabyentries",children:"html.metaByEntries"})," configs."]}),"\n",(0,i.jsx)(n.p,{children:"For example to setting description:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  html: {\n    meta: {\n      description: 'a description of the page',\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"The generated meta tag in HTML is:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<meta name="description" content="a description of the page" />\n'})}),"\n",(0,i.jsxs)(n.h2,{id:"set-template-parameters",children:["Set Template Parameters",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#set-template-parameters",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"In HTML templates, you can use a variety of template parameters. The template parameters injected by Builder by default include:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type DefaultParameters = {\n  meta: string; // corresponding to html.meta config\n  title: string; // corresponding to html.title config\n  mountId: string; // corresponding to html.mountId config\n  entryName: string; // entry name\n  assetPrefix: string; // corresponding to output.assetPrefix config\n  compilation: webpack.Compilation; // Compilation object corresponding to webpack\n  webpackConfig: config; // webpack config\n  // htmlWebpackPlugin built-in parameters\n  // See https://github.com/jantimon/html-webpack-plugin for details\n  htmlWebpackPlugin: {\n    tags: object;\n    files: object;\n    options: object;\n  };\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["You can also use the ",(0,i.jsx)(n.a,{href:"/en/api/config-html#htmltemplateparameters",children:"html.templateParameters"})," and ",(0,i.jsx)(n.a,{href:"/en/api/config-html#htmltemplateparametersbyentries",children:"html.templateParametersByEntries"})," configs to pass in custom template parameters."]}),"\n",(0,i.jsx)(n.p,{children:"For example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  html: {\n    templateParameters: {\n      text: 'World',\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Then you can read parameters in the HTML template with ",(0,i.jsx)(n.code,{children:"<%= text %>"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"<div>hello <%= text %>!</div>\n"})}),"\n",(0,i.jsx)(n.p,{children:"The generated HTML code is as follows:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"<div>hello world!</div>\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"template-engine",children:["Template Engine",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#template-engine",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder supports using ",(0,i.jsx)(n.a,{href:"https://www.lodashjs.com/docs/lodash.template",target:"_blank",rel:"noopener noreferrer",children:"Lodash Template"}),", ",(0,i.jsx)(n.a,{href:"https://ejs.co/",target:"_blank",rel:"noopener noreferrer",children:"EJS"}),", ",(0,i.jsx)(n.a,{href:"https://pugjs.org/",target:"_blank",rel:"noopener noreferrer",children:"Pug"})," as template engines, the most basic Lodash Template is used as the default template engine."]}),"\n",(0,i.jsxs)(n.h3,{id:"",children:[(0,i.jsx)(n.a,{href:"https://www.lodashjs.com/docs/lodash.template",target:"_blank",rel:"noopener noreferrer",children:"Lodash Template"}),(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When the suffix of the template is ",(0,i.jsx)(n.code,{children:".html"}),", Builder will use Lodash Template to compile it."]}),"\n",(0,i.jsxs)(n.p,{children:["For example, if you define a ",(0,i.jsx)(n.code,{children:"text"})," parameter in a template with a value of ",(0,i.jsx)(n.code,{children:"'world'"}),", Builder will automatically replace ",(0,i.jsx)(n.code,{children:"<%= text %>"})," with the value."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:"<!-- input -->\n<div>hello <%= text %>!</div>\n\n<!-- output -->\n<div>hello world!</div>\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Please read the ",(0,i.jsx)(n.a,{href:"https://www.lodashjs.com/docs/lodash.template",target:"_blank",rel:"noopener noreferrer",children:"Lodash Template"})," documentation for details."]}),"\n",(0,i.jsxs)(n.h3,{id:"-1",children:[(0,i.jsx)(n.a,{href:"https://ejs.co/",target:"_blank",rel:"noopener noreferrer",children:"EJS"}),(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#-1",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When the suffix of the template is ",(0,i.jsx)(n.code,{children:".ejs"}),", Builder will use the EJS template engine to compile it. EJS is a simple templating language that lets you generate HTML markup with plain JavaScript."]}),"\n",(0,i.jsxs)(n.p,{children:["For example, you can first refer to a ",(0,i.jsx)(n.code,{children:".ejs"})," template through the ",(0,i.jsx)(n.a,{href:"/en/api/config-html#htmltemplate",children:"html.template"})," config:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  html: {\n    template: './static/index.ejs',\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Then define a ",(0,i.jsx)(n.code,{children:"user"})," parameter in the template with a value of ",(0,i.jsx)(n.code,{children:"{ name: 'Jack' }"}),". Builder will automatically replace ",(0,i.jsx)(n.code,{children:"<%= user.name %>"})," with the value."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:"<!-- input -->\n<% if (user) { %>\n<h2><%= user.name %></h2>\n<% } %>\n\n<!-- output -->\n<h2>Jack</h2>\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Please read the ",(0,i.jsx)(n.a,{href:"https://ejs.co/",target:"_blank",rel:"noopener noreferrer",children:"EJS"})," documentation for details."]}),"\n",(0,i.jsxs)(n.h3,{id:"-2",children:[(0,i.jsx)(n.a,{href:"https://pugjs.org/",target:"_blank",rel:"noopener noreferrer",children:"Pug"}),(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#-2",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When the suffix of the template is ",(0,i.jsx)(n.code,{children:".pug"}),", Builder will use the Pug template engine to compile it. Pug is a robust, elegant, feature rich template engine for Node.js."]}),"\n",(0,i.jsxs)(n.p,{children:["Before using the Pug template, you need to enable the ",(0,i.jsx)(n.a,{href:"/en/api/config-tools#toolspug",children:"tools.pug"})," config, and define the ",(0,i.jsx)(n.a,{href:"/en/api/config-html#htmltemplate",children:"html.template"})," config to reference a ",(0,i.jsx)(n.code,{children:".pug"})," template:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  html: {\n    template: './static/index.pug',\n  },\n  tools: {\n    pug: true,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Then you can use Pug syntax in ",(0,i.jsx)(n.code,{children:".pug"})," templates:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:"<!-- input -->\np Hello #{text}!\n\n<!-- output -->\n<p>Hello World!</p>\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Please read the ",(0,i.jsx)(n.a,{href:"https://pugjs.org/",target:"_blank",rel:"noopener noreferrer",children:"Pug"})," documentation for details."]}),"\n",(0,i.jsxs)(n.h2,{id:"injecting-tags",children:["Injecting Tags",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#injecting-tags",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"html.tags"})," option can be configured to insert any tags into the final generated HTML product."]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive warning",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"Usage Cases"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"The products of the web application will eventually be referenced directly or indirectly by HTML entries, but most of the time injecting tags directly into HTML is not preferred."})})]}),"\n",(0,i.jsxs)(n.p,{children:["All tags that need to be injected into HTML can be accessed in the template file via the variable ",(0,i.jsx)(n.code,{children:"htmlWebpackPlugin.tags"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:"<html>\n  <head>\n    <%= htmlWebpackPlugin.tags.headTags %>\n  </head>\n  <body>\n    <%= htmlWebpackPlugin.tags.bodyTags %>\n  </body>\n</html>\n"})}),"\n",(0,i.jsxs)(n.p,{children:["The purpose of ",(0,i.jsx)(n.code,{children:"html.tags"})," is to adjust these template variables and thus modify the HTML, as defined in ",(0,i.jsx)(n.a,{href:"/api/config-html#htmltags",children:"API References"}),"."]}),"\n",(0,i.jsxs)(n.h3,{id:"tag-object",children:["Tag Object",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#tag-object",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    assetPrefix: '//example.com/'\n  },\n  html: {\n    tags: [\n      { tag: 'script', attrs: { src: 'a.js' } },\n      { tag: 'script', attrs: { src: 'b.js' }, append: false },\n      { tag: 'link', attrs: { href: 'style.css', rel: 'stylesheet' }, append: true }\n      { tag: 'link', attrs: { href: 'page.css', rel: 'stylesheet' }, publicPath: false }\n      { tag: 'script', attrs: { src: 'c.js' }, head: false },\n      { tag: 'meta', attrs: { name: 'referrer', content: 'origin' } },\n    ],\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["The final insertion position of the tag is determined by the ",(0,i.jsx)(n.code,{children:"head"})," and ",(0,i.jsx)(n.code,{children:"append"})," options, and two elements with the same configuration will be inserted into the same area and hold their relative positions to each other."]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"publicPath"})," configuration is enabled by default for tags, the value of ",(0,i.jsx)(n.code,{children:"output.assetPrefix"})," will be stitched to the ",(0,i.jsx)(n.code,{children:"src"})," property of the ",(0,i.jsx)(n.code,{children:"script"})," tag that represents the path."]}),"\n",(0,i.jsx)(n.p,{children:"So the HTML output built with the above configuration will look like this."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<html>\n  <head>\n    <script src="//example.com/b.js"></script>\n    <link href="//example.com/style.css" rel="stylesheet" />\n    <link href="page.css" rel="stylesheet" />\n    <!-- some other headTags... -->\n    <script src="//example.com/a.js"></script>\n    <meta name="referrer" content="origin" />\n  </head>\n  <body>\n    <!-- some other bodyTags... -->\n    <script src="//example.com/c.js"></script>\n  </body>\n</html>\n'})}),"\n",(0,i.jsxs)(n.h3,{id:"tags-handler",children:["Tags Handler",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#tags-handler",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"html.tags"})," also accepts a callback function, which is often used to modify the list of tags or to ensure their relative position while inserting them."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  html: {\n    tags: [\n      tags => {\n        tags.splice(0, 1);\n      },\n      { tag: 'script', attrs: { src: 'a.js' }, head: false },\n      { tag: 'script', attrs: { src: 'b.js' }, append: false },\n      { tag: 'script', attrs: { src: 'c.js' } },\n      tags => [...tags, { tag: 'script', attrs: { src: 'd.js' } }],\n    ],\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"And you will get:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<html>\n  <head>\n    <!-- some other headTags... -->\n    <script src="//example.com/c.js"></script>\n    <script src="//example.com/d.js"></script>\n  </head>\n  <body>\n    <!-- some other bodyTags... -->\n    <script src="//example.com/a.js"></script>\n  </body>\n</html>\n'})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fguide%2Fbasic%2Fhtml-template.md"]={toc:[{text:"Set Template",id:"set-template",depth:2},{text:"Set Page Title",id:"set-page-title",depth:2},{text:"Set Page Icon",id:"set-page-icon",depth:2},{text:"Set Meta Tags",id:"set-meta-tags",depth:2},{text:"Set Template Parameters",id:"set-template-parameters",depth:2},{text:"Template Engine",id:"template-engine",depth:2},{text:"",id:"",depth:3},{text:"",id:"-1",depth:3},{text:"",id:"-2",depth:3},{text:"Injecting Tags",id:"injecting-tags",depth:2},{text:"Tag Object",id:"tag-object",depth:3},{text:"Tags Handler",id:"tags-handler",depth:3}],title:"HTML Template",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},42245:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",h3:"h3",pre:"pre",code:"code"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"import-json-files",children:["Import JSON Files",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#import-json-files",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder supports import JSON files in code, and also supports import ",(0,i.jsx)(n.a,{href:"https://yaml.org/",target:"_blank",rel:"noopener noreferrer",children:"YAML"})," and ",(0,i.jsx)(n.a,{href:"https://toml.io/en/",target:"_blank",rel:"noopener noreferrer",children:"Toml"})," files and converting them to JSON format."]}),"\n",(0,i.jsxs)(n.h2,{id:"json-file",children:["JSON file",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#json-file",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"You can import JSON files directly in JavaScript files."}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",meta:'title="example.json"',children:'{\n  "name": "foo",\n  "items": [1, 2]\n}\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",meta:'title="index.js"',children:"import example from './example.json';\n\nconsole.log(example.name); // 'foo';\nconsole.log(example.items); // [1, 2];\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"named-import",children:["Named Import",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#named-import",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder does not support importing JSON files via named import yet:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import { name } from './example.json';\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"yaml-file",children:["YAML file",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#yaml-file",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"YAML is a data serialization language commonly used for writing configuration files."}),"\n",(0,i.jsxs)(n.p,{children:["You can directly import ",(0,i.jsx)(n.code,{children:".yaml"})," or ",(0,i.jsx)(n.code,{children:".yml"})," files in JavaScript and they will be automatically converted to JSON format."]}),"\n",(0,i.jsxs)(n.h3,{id:"example-1",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example-1",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",meta:'title="example.yaml"',children:"---\nhello: world\nfoo:\n  bar: baz\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import example from './example.yaml';\n\nconsole.log(example.hello); // 'world';\nconsole.log(example.foo); // { bar: 'baz' };\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"add-type-declaration",children:["Add type declaration",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#add-type-declaration",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When you import a YAML file in your TypeScript code, please create a ",(0,i.jsx)(n.code,{children:"src/global.d.ts"})," file in your project and add the corresponding type declaration:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="src/global.d.ts"',children:"declare module '*.yaml' {\n  const content: Record<string, any>;\n  export default content;\n}\n\ndeclare module '*.yml' {\n  const content: Record<string, any>;\n  export default content;\n}\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"toml-file",children:["Toml file",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toml-file",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Toml is a semantically explicit, easy-to-read configuration file format."}),"\n",(0,i.jsxs)(n.p,{children:["You can directly import ",(0,i.jsx)(n.code,{children:".toml"})," files in JavaScript and it will be automatically converted to JSON format."]}),"\n",(0,i.jsxs)(n.h3,{id:"example-2",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example-2",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-toml",meta:'title="example.toml"',children:'hello = "world"\n\n[foo]\nbar = "baz"\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import example from './example.toml';\n\nconsole.log(example.hello); // 'world';\nconsole.log(example.foo); // { bar: 'baz' };\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"add-type-declaration-1",children:["Add type declaration",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#add-type-declaration-1",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When you import Toml files in TypeScript code, please create a ",(0,i.jsx)(n.code,{children:"src/global.d.ts"})," file in your project and add the corresponding type declarations:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="src/global.d.ts"',children:"declare module '*.toml' {\n  const content: Record<string, any>;\n  export default content;\n}\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fguide%2Fbasic%2Fjson-files.md"]={toc:[{text:"JSON file",id:"json-file",depth:2},{text:"Example",id:"example",depth:3},{text:"Named Import",id:"named-import",depth:3},{text:"YAML file",id:"yaml-file",depth:2},{text:"Example",id:"example-1",depth:3},{text:"Add type declaration",id:"add-type-declaration",depth:3},{text:"Toml file",id:"toml-file",depth:2},{text:"Example",id:"example-2",depth:3},{text:"Add type declaration",id:"add-type-declaration-1",depth:3}],title:"Import JSON Files",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},89414:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",code:"code",pre:"pre",ul:"ul",li:"li"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"output-files",children:["Output Files",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#output-files",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"This chapter will introduces the directory structure of output files and how to control the output directory of different types of files."}),"\n",(0,i.jsxs)(n.h2,{id:"default-directory-structure",children:["Default Directory Structure",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#default-directory-structure",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["The following is a basic directory for output files. By default, the compiled files will be output in the ",(0,i.jsx)(n.code,{children:"dist"})," directory of current project."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"dist\n├── static\n│   ├── css\n│   │   ├── [name].[hash].css\n│   │   └── [name].[hash].css.map\n│   │\n│   └── js\n│       ├── [name].[hash].js\n│       ├── [name].[hash].js.LICENSE.txt\n│       └── [name].[hash].js.map\n│\n└── html\n    └── [name]\n        └── index.html\n"})}),"\n",(0,i.jsx)(n.p,{children:"The most common output files are HTML files, JS files, and CSS files:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["HTML files: default output to the ",(0,i.jsx)(n.code,{children:"html"})," directory."]}),"\n",(0,i.jsxs)(n.li,{children:["JS files: default output to ",(0,i.jsx)(n.code,{children:"static/js"})," directory,"]}),"\n",(0,i.jsxs)(n.li,{children:["CSS files: default output to the ",(0,i.jsx)(n.code,{children:"static/css"})," directory."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"In addition, JS files and CSS files sometimes generate some related files:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["License files: contains open source license, which is output to the same level directory of the JS file, and adds ",(0,i.jsx)(n.code,{children:".LICENSE.txt"})," suffix."]}),"\n",(0,i.jsxs)(n.li,{children:["Source Map files: contains the source code mappings, which is output to the same level directory of JS files and CSS files, and adds a ",(0,i.jsx)(n.code,{children:".map"})," suffix."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["In the filename, ",(0,i.jsx)(n.code,{children:"[name]"})," represents the entry name corresponding to this file, such as ",(0,i.jsx)(n.code,{children:"index"}),", ",(0,i.jsx)(n.code,{children:"main"}),". ",(0,i.jsx)(n.code,{children:"[hash]"})," is the hash value generated based on the content of the file."]}),"\n",(0,i.jsxs)(n.h2,{id:"modify-the-directory",children:["Modify the Directory",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#modify-the-directory",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder provides some configs to modify the directory or filename, you can:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Modify the filename through ",(0,i.jsx)(n.a,{href:"/en/api/config-output#outputfilename",children:"output.filename"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Modify the output path of through ",(0,i.jsx)(n.a,{href:"/en/api/config-output#outputdistpath",children:"output.distPath"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Modify the license file through ",(0,i.jsx)(n.a,{href:"/en/api/config-output#outputlegalcomments",children:"output.legalComments"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Remove Source Map file through ",(0,i.jsx)(n.a,{href:"/en/api/config-output#outputdisablesourcemap",children:"output.disableSourceMap"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Remove the folder corresponding to the HTML files through ",(0,i.jsx)(n.a,{href:"/en/api/config-html#htmldisablehtmlfolder",children:"html.disableHtmlFolder"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"static-assets",children:["Static Assets",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#static-assets",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When you import static assets such as images, SVG, fonts, media, etc. in the code, they will also be output to the ",(0,i.jsx)(n.code,{children:"dist/static"})," directory, and automatically assigned to the corresponding subdirectories according to the file type:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"dist\n└── static\n    ├── image\n    │   └── foo.[hash].png\n    │\n    ├── svg\n    │   └── bar.[hash].svg\n    │\n    ├── font\n    │   └── baz.[hash].woff2\n    │\n    └── media\n        └── qux.[hash].mp4\n"})}),"\n",(0,i.jsxs)(n.p,{children:["You can use the ",(0,i.jsx)(n.a,{href:"/en/api/config-output#outputdistpath",children:"output.distPath"})," config to uniformly input these static assets into a directory, for example, output to the ",(0,i.jsx)(n.code,{children:"assets"})," directory:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    distPath: {\n      image: 'assets',\n      svg: 'assets',\n      font: 'assets',\n      media: 'assets',\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"The above config produces the following directory structure:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"dist\n└── assets\n    ├── foo.[hash].png\n    ├── bar.[hash].svg\n    ├── baz.[hash].woff2\n    └── qux.[hash].mp4\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"nodejs-output-directory",children:["Node.js Output Directory",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#nodejs-output-directory",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When the ",(0,i.jsx)(n.a,{href:"/guide/basic/build-target",children:"Build Target"})," of Builder contains ",(0,i.jsx)(n.code,{children:"'node'"}),", or you have enabled server-side features such as SSR in the upper framework, Builder will generate some output files for Node.js and output them to the ",(0,i.jsx)(n.code,{children:"bundles"})," directory:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"dist\n├── bundles\n│   └── [name].js\n├── static\n└── html\n"})}),"\n",(0,i.jsx)(n.p,{children:"Node.js files usually only contain JS files, no HTML or CSS. Also, JS file names will not contain hash."}),"\n",(0,i.jsxs)(n.p,{children:["You can modify the output path of Node.js files through the ",(0,i.jsx)(n.a,{href:"/en/api/config-output#outputdistpath",children:"output.distPath.server"})," config."]}),"\n",(0,i.jsxs)(n.p,{children:["For example, output Node.js files to the ",(0,i.jsx)(n.code,{children:"server"})," directory:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    distPath: {\n      server: 'server',\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"flatten-the-directory",children:["Flatten the Directory",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#flatten-the-directory",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Sometimes you don't want the dist directory to have too many levels, you can set the directory to an empty string to flatten the generated directory."}),"\n",(0,i.jsx)(n.p,{children:"See the example below:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    distPath: {\n      js: '',\n      css: '',\n      html: '',\n    },\n    disableHtmlFolder: true,\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"The above config produces the following directory structure:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"dist\n├── [name].[hash].css\n├── [name].[hash].css.map\n├── [name].[hash].js\n├── [name].[hash].js.map\n└── [name].html\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"not-written-to-disk",children:["Not Written to Disk",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#not-written-to-disk",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"By default, Builder will write the generated files to disk, so developers can view the file content or configure proxy rules for static assets."}),"\n",(0,i.jsx)(n.p,{children:"In development, you can choose to keep the generated files in the Dev Server's memory to reduce the overhead of file operations."}),"\n",(0,i.jsxs)(n.p,{children:["Just set the ",(0,i.jsx)(n.code,{children:"dev.writeToDisk"})," config to ",(0,i.jsx)(n.code,{children:"false"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  dev: {\n    writeToDisk: false,\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fguide%2Fbasic%2Foutput-files.md"]={toc:[{text:"Default Directory Structure",id:"default-directory-structure",depth:2},{text:"Modify the Directory",id:"modify-the-directory",depth:2},{text:"Static Assets",id:"static-assets",depth:2},{text:"Node.js Output Directory",id:"nodejs-output-directory",depth:2},{text:"Flatten the Directory",id:"flatten-the-directory",depth:2},{text:"Not Written to Disk",id:"not-written-to-disk",depth:2}],title:"Output Files",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},66146:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",div:"div",h2:"h2",ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"import-static-assets",children:["Import Static Assets",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#import-static-assets",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder supports import static assets, including images, fonts, and medias."}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"What is Static Assets"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"Static assets are files that are part of a web application and do not change, even when the application is being used. Examples of static assets include images, fonts, medias, stylesheets, and JavaScript files. These assets are typically stored on a web server or CDN, and delivered to the user's web browser when the Web application is accessed. Because they do not change, static assets can be cached by the browser, which helps to improve the performance of the Web application."})})]}),"\n",(0,i.jsxs)(n.h2,{id:"assets-format",children:["Assets Format",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#assets-format",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The following are the formats supported by Builder by default:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Image"}),": png, jpg, jpeg, gif, svg, bmp, webp, ico, apng, avif, tiff."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Fonts"}),": woff, woff2, eot, ttf, otf, ttc."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Media"}),": mp4, webm, ogg, mp3, wav, flac, aac, mov."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["If you need to import static resources in other formats, please provide feedback through ",(0,i.jsx)(n.a,{href:"https://github.com/web-infra-dev/modern.js/issues",target:"_blank",rel:"noopener noreferrer",children:"GitHub Issues"}),"."]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"SVG images"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["SVG image is a special case. Builder support convert SVG to React components, so SVG is processed separately. For details, see ",(0,i.jsx)(n.a,{href:"/guide/basic/svg-assets",children:"Import SVG Assets"}),".\n"]})})]}),"\n",(0,i.jsxs)(n.h2,{id:"import-assets-in-js-file",children:["Import Assets in JS file",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#import-assets-in-js-file",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"In JS files, you can directly import static assets in relative paths:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"// Import the logo.png image in the static directory\nimport logo from './static/logo.png';\n\nexport default = () => <img src={logo} />;\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Import with ",(0,i.jsx)(n.a,{href:"/guide/advanced/alias",children:"alias"})," are also supported:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"import logo from '@/static/logo.png';\n\nexport default = () => <img src={logo} />;\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"import-assets-in-css-file",children:["Import Assets in CSS file",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#import-assets-in-css-file",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"In CSS files, you can reference static assets in relative paths:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-css",children:".logo {\n  background-image: url('../static/logo.png');\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Import with ",(0,i.jsx)(n.a,{href:"/guide/advanced/alias",children:"alias"})," are also supported:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-css",children:".logo {\n  background-image: url('@/static/logo.png');\n}\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"import-results",children:["Import Results",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#import-results",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The result of importing static assets depends on the file size:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"When the file size is greater than 10KB, a URL will be returned, and the file will be output to the dist directory."}),"\n",(0,i.jsx)(n.li,{children:"When the file size is less than 10KB, it will be automatically inlined to Base64 format."}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import largeImage from './static/largeImage.png';\nimport smallImage from './static/smallImage.png';\n\nconsole.log(largeImage); // \"/static/largeImage.6c12aba3.png\"\nconsole.log(smallImage); // \"data:image/png;base64,iVBORw0KGgo...\"\n"})}),"\n",(0,i.jsxs)(n.p,{children:["For a more detailed introduction to asset inlining, please refer to the ",(0,i.jsx)(n.a,{href:"/guide/optimization/inline-assets",children:"Static Asset Inlining"})," chapter."]}),"\n",(0,i.jsxs)(n.h2,{id:"output-files",children:["Output Files",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#output-files",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"When static assets are imported, they will be output to the dist directory. You can:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Modify the output filename through ",(0,i.jsx)(n.a,{href:"/en/api/config-output#outputfilename",children:"output.filename"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Modify the output path through ",(0,i.jsx)(n.a,{href:"/en/api/config-output#outputdistpath",children:"output.distPath"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Please read ",(0,i.jsx)(n.a,{href:"/guide/basic/output-files",children:"Output Files"})," for details."]}),"\n",(0,i.jsxs)(n.h2,{id:"url-prefix",children:["URL Prefix",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#url-prefix",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The URL returned after importing a asset will automatically include the path prefix:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["In development, using ",(0,i.jsx)(n.a,{href:"/en/api/config-dev#devassetprefix",children:"dev.assetPrefix"})," to set the path prefix."]}),"\n",(0,i.jsxs)(n.li,{children:["In production, using ",(0,i.jsx)(n.a,{href:"/en/api/config-output#outputassetprefix",children:"output.assetPrefix"})," to set the path prefix."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["For example, you can set ",(0,i.jsx)(n.code,{children:"output.assetPrefix"})," to ",(0,i.jsx)(n.code,{children:"https://modern.com"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import logo from './static/logo.png';\n\nconsole.log(logo); // \"https://modern.com/static/logo.6c12aba3.png\"\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"add-type-declaration",children:["Add Type Declaration",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#add-type-declaration",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"When you import static assets in TypeScript code, TypeScript may prompt that the module is missing a type definition:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"TS2307: Cannot find module './logo.png' or its corresponding type declarations.\n"})}),"\n",(0,i.jsxs)(n.p,{children:["To fix this, you need to add a type declaration file for the static assets, please create a ",(0,i.jsx)(n.code,{children:"src/global.d.ts"})," file, and add the corresponding type declaration. Taking png images as an example, you need to add the following declarations:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="src/global.d.ts"',children:"declare module '*.png' {\n  const content: string;\n  export default content;\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["After adding the type declaration, if the type error still exists, you can try to restart the current IDE, or adjust the directory where ",(0,i.jsx)(n.code,{children:"global.d.ts"})," is located, making sure the TypeScript can correctly identify the type definition."]}),"\n",(0,i.jsxs)(n.h2,{id:"image-format",children:["Image Format",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#image-format",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"When using image assets, you can choose a appropriate image format according to the pros and cons in the table below."}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"Format"}),"\n",(0,i.jsx)(n.th,{children:"Pros"}),"\n",(0,i.jsx)(n.th,{children:"Cons"}),"\n",(0,i.jsx)(n.th,{children:"Scenarios"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"PNG"}),"\n",(0,i.jsx)(n.td,{children:"Lossless compression, no loss of picture details, no distortion, support for translucency"}),"\n",(0,i.jsx)(n.td,{children:"Not suitable for pictures with complex color tables"}),"\n",(0,i.jsx)(n.td,{children:"Suitable for pictures with few colors and well-defined borders, suitable for logos, icons, transparent images and other scenes"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"JPG"}),"\n",(0,i.jsx)(n.td,{children:"Rich colors"}),"\n",(0,i.jsx)(n.td,{children:"Lossy compression, which will cause image distortion, does not support transparency"}),"\n",(0,i.jsx)(n.td,{children:"Suitable for pictures with a large number of colors, gradients, and overly complex pictures, suitable for portrait photos, landscapes and other scenes"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"WebP"}),"\n",(0,i.jsx)(n.td,{children:"Supports both lossy and lossless compression, supports transparency, and is much smaller than PNG and JPG"}),"\n",(0,i.jsx)(n.td,{children:"iOS compatibility is not good"}),"\n",(0,i.jsx)(n.td,{children:"Pixel images of almost any scene, and the hosting environment that supports WebP, should prefer WebP image format"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"SVG"}),"\n",(0,i.jsx)(n.td,{children:"Lossless format, no distortion, supports transparency"}),"\n",(0,i.jsx)(n.td,{children:"Not suitable for complex graphics"}),"\n",(0,i.jsx)(n.td,{children:"Suitable for vector graphics, suitable for icons"}),"\n"]}),"\n"]}),"\n"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fguide%2Fbasic%2Fstatic-assets.md"]={toc:[{text:"Assets Format",id:"assets-format",depth:2},{text:"Import Assets in JS file",id:"import-assets-in-js-file",depth:2},{text:"Import Assets in CSS file",id:"import-assets-in-css-file",depth:2},{text:"Import Results",id:"import-results",depth:2},{text:"Output Files",id:"output-files",depth:2},{text:"URL Prefix",id:"url-prefix",depth:2},{text:"Add Type Declaration",id:"add-type-declaration",depth:2},{text:"Image Format",id:"image-format",depth:2}],title:"Import Static Assets",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},77613:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",div:"div",h2:"h2",code:"code",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"import-svg-assets",children:["Import SVG Assets",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#import-svg-assets",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder supports import SVG assets and transform SVG into React components or URLs."}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"What is SVG"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"SVG stands for Scalable Vector Graphics. It is a type of image format that uses vector graphics to represent images. Vector graphics are different from raster graphics, which are made up of pixels. Instead, vector graphics use geometric shapes, lines, and curves to represent images. Because vector graphics are not made up of pixels, they can be scaled to any size without losing resolution or quality."})})]}),"\n",(0,i.jsxs)(n.h2,{id:"import-svg-in-js-file",children:["Import SVG in JS file",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#import-svg-in-js-file",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When import an SVG in a JS file, if you import ",(0,i.jsx)(n.code,{children:"ReactComponent"}),", Builder will call ",(0,i.jsx)(n.a,{href:"https://react-svgr.com/",target:"_blank",rel:"noopener noreferrer",children:"SVGR"})," to convert the SVG into a React component."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",meta:'title="src/component/Logo.tsx"',children:"import { ReactComponent as Logo } from './static/logo.svg';\n\nexport default () => <Logo />;\n"})}),"\n",(0,i.jsx)(n.p,{children:"If you use the default import, then the SVG will be treated as a normal static asset and you will get a URL:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",meta:'title="src/component/Logo.tsx"',children:"import logoURL from './static/logo.svg';\n\nconsole.log(logoURL); // => \"/static/logo.6c12aba3.png\"\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"modify-the-default-export",children:["Modify the Default Export",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#modify-the-default-export",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["You can modify the default export of SVG files through the ",(0,i.jsx)(n.a,{href:"/en/api/config-output#outputsvgdefaultexport",children:"output.svgDefaultExport"})," config. For example, set the default export as a React component:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    svgDefaultExport: 'component',\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"Then import the SVG, you'll get a React component instead of a URL:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",meta:'title="src/component/Logo.tsx"',children:"import Logo from './static/logo.svg';\n\nexport default () => <Logo />;\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"import-svg-in-css-file",children:["Import SVG in CSS file",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#import-svg-in-css-file",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"When import an SVG in a CSS file, the SVG is treated as a normal static resource and you will get a URL:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-css",children:".logo {\n  background-image: url('../static/logo.svg');\n}\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"assets-processing",children:["Assets Processing",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#assets-processing",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"When SVG is imported not as a React component but as a normal static resource, it is processed exactly the same as other static assets, and it is also affected by rules such as assets inlining and URL prefixing."}),"\n",(0,i.jsxs)(n.p,{children:["Please read the ",(0,i.jsx)(n.a,{href:"/guide/basic/static-assets",children:"Import Static Assets"})," section to understand the processing rules for static assets."]}),"\n",(0,i.jsxs)(n.h2,{id:"disable-svgr-processing",children:["Disable SVGR Processing",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#disable-svgr-processing",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["By default, when an SVG resource is referenced in a JS file, Builder will call SVGR to convert the SVG into a React component. If you are sure that all SVG resources in your project are not being used as React components, you can turn off this conversion by setting ",(0,i.jsx)(n.a,{href:"/api/config-output#outputdisablesvgr",children:(0,i.jsx)(n.code,{children:"disableSvgr"})})," to true to improve build performance."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    disableSvgr: true,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"add-type-declaration",children:["Add type declaration",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#add-type-declaration",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"When you reference an SVG asset in TypeScript code, TypeScript may prompt that the module is missing a type definition:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"TS2307: Cannot find module './logo.svg' or its corresponding type declarations.\n"})}),"\n",(0,i.jsxs)(n.p,{children:["To fix this, you need to add a type declaration file for the SVG asset, please create a ",(0,i.jsx)(n.code,{children:"src/global.d.ts"})," file, and add the following type declaration:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"declare module '*.svg' {\n  export const ReactComponent: React.FunctionComponent<\n    React.SVGProps<SVGSVGElement>\n  >;\n\n  const content: string;\n  export default content;\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["If you set ",(0,i.jsx)(n.code,{children:"svgDefaultExport"})," to ",(0,i.jsx)(n.code,{children:"'component'"}),", then change the type declaration to:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"declare module '*.svg' {\n  export const ReactComponent: React.FunctionComponent<\n    React.SVGProps<SVGSVGElement>\n  >;\n\n  export default ReactComponent;\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["After adding the type declaration, if the type error still exists, you can try to restart the current IDE, or adjust the directory where ",(0,i.jsx)(n.code,{children:"global.d.ts"})," is located, making sure the TypeScript can correctly identify the type definition."]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fguide%2Fbasic%2Fsvg-assets.md"]={toc:[{text:"Import SVG in JS file",id:"import-svg-in-js-file",depth:2},{text:"Modify the Default Export",id:"modify-the-default-export",depth:2},{text:"Import SVG in CSS file",id:"import-svg-in-css-file",depth:2},{text:"Assets Processing",id:"assets-processing",depth:2},{text:"Disable SVGR Processing",id:"disable-svgr-processing",depth:2},{text:"Add type declaration",id:"add-type-declaration",depth:2}],title:"Import SVG Assets",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},90390:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",code:"code",h2:"h2",strong:"strong",pre:"pre",h3:"h3",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"use-typescript",children:["Use TypeScript",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#use-typescript",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder supports TypeScript compilation and type checking by default, you can use ",(0,i.jsx)(n.code,{children:". ts"})," and `. tsx' files in the project without any configuration."]}),"\n",(0,i.jsxs)(n.h2,{id:"typescript-compilation",children:["TypeScript compilation",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#typescript-compilation",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder has three ways to compile TypeScript files."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Babel"})}),"\n",(0,i.jsx)(n.p,{children:"By default, all TypeScript files are compiled by Babel."}),"\n",(0,i.jsxs)(n.p,{children:["You may find some old articles pointing out that Babel cannot handle ",(0,i.jsx)(n.code,{children:"const enum"})," and ",(0,i.jsx)(n.code,{children:"namespace alias"})," syntax, however since version ",(0,i.jsx)(n.a,{href:"https://babeljs.io/blog/2021/07/26/7.15.0",target:"_blank",rel:"noopener noreferrer",children:"7.15"})," Babel has supported them. Babel compile is enabled by default."]}),"\n",(0,i.jsx)(n.p,{children:"If you want more Babel plugins"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"ts-loader"})}),"\n",(0,i.jsx)(n.p,{children:"The ts-loader uses TypeScript's official compiler-TSC under the hood. When ts-loader is enabled, TypeScript files will no longer be compiled by Babel, but Babel will still inject polyfill into the TSC output and transform it to the lower version of JavaScript."}),"\n",(0,i.jsx)(n.p,{children:"Enable ts-loader(with default options):"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    tsLoader: {},\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["More configuration can be found at ",(0,i.jsx)(n.a,{href:"/en/api/config-tools#toolstsloader",children:"tools.tsLoader"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["If ts-loader is enabled with default configuration, it does not have type checking, we do type checking by ",(0,i.jsx)(n.a,{href:"https://github.com/TypeStrong/fork-ts-checker-webpack-plugin",target:"_blank",rel:"noopener noreferrer",children:"fork-ts-checker-webpack-plugin"}),"."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"SWC"})}),"\n",(0,i.jsx)(n.p,{children:"If you want a super fast compiler, and you don't need some custom Babel plugins, then you can use SWC for compilation and minification."}),"\n",(0,i.jsxs)(n.p,{children:["SWC plugin in Builder supports TypeScript, TSX and legacy decorator, you can check ",(0,i.jsx)(n.a,{href:"/en/plugins/plugin-swc",children:"SWC plugin"}),"."]}),"\n",(0,i.jsxs)(n.h3,{id:"why-babel-is-the-default-option",children:["Why Babel is the default option",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#why-babel-is-the-default-option",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Babel supports TypeScript well. It cannot check types, but we can check types in another process. Babel follows standards more when compiled to lower versions of JavaScript in certain situations. For example, Babel will initialize class members as undefined, and mark class methods as non-enumerable. If TSC is enabled, for better syntax downgrading and Polyfill, the TSC output will still be compiled by Babel, causing unnecessary performance costs."}),"\n",(0,i.jsxs)(n.h2,{id:"type-checking",children:["Type checking",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#type-checking",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Currently, the only stable TypeScript type checking tool is TSC, and it usually takes a while to check types in a large project, so Builder by default using tsChecker(",(0,i.jsx)(n.a,{href:"https://github.com/TypeStrong/fork-ts-checker-webpack-plugin",target:"_blank",rel:"noopener noreferrer",children:"fork-ts-checker-webpack-plugin"}),") for asynchronous type checking, it won't block project setup."]}),"\n",(0,i.jsx)(n.p,{children:"Set tsChecker(with default options):"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    tsChecker: {},\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["More configurations can be seen at ",(0,i.jsx)(n.a,{href:"/en/api/config-tools#toolstschecker",children:"tsChecker configuration"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["Note that if ts-loader is enabled and ",(0,i.jsx)(n.code,{children:"compileOnly: false"})," is set, please disable tsChecker to avoid duplicate type-checking."]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"STC"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["The author of SWC has announced a new open-source type-checking tool based on Rust, which is called ",(0,i.jsx)(n.a,{href:"https://github.com/dudykr/stc",target:"_blank",rel:"noopener noreferrer",children:"STC"}),", it's super fast but it cannot used for production now, really don't recommend you use that for now, when it's stabled we will use that in Builder SWC plugin as experimental ability.\n"]})})]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fguide%2Fbasic%2Ftypescript.md"]={toc:[{text:"TypeScript compilation",id:"typescript-compilation",depth:2},{text:"Why Babel is the default option",id:"why-babel-is-the-default-option",depth:3},{text:"Type checking",id:"type-checking",depth:2}],title:"Use TypeScript",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},847:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",div:"div",h2:"h2",pre:"pre",code:"code"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"import-wasm-assets",children:["Import Wasm Assets",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#import-wasm-assets",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder supports import WebAssembly assets in code."}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"What is WebAssembly"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"WebAssembly (Wasm) is a portable, high-performance binary format designed to execute CPU-intensive computing tasks in modern web browsers, bringing performance and reliability similar to native compiled code to the web platform."})})]}),"\n",(0,i.jsxs)(n.h2,{id:"import",children:["Import",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#import",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"You can import a WebAssembly module directly in a JavaScript file:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",meta:'title="index.js"',children:"import { add } from './add.wasm';\n\nconsole.log(add); // [native code]\nconsole.log(add(1, 2)); // 3\n"})}),"\n",(0,i.jsx)(n.p,{children:"WebAssembly modules can also be imported via Dynamic Import:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",meta:'title="index.js"',children:"import('./add.wasm').then(({ add }) => {\n  console.log('---- Async Wasm Module');\n  console.log(add); // [native code]\n  console.log(add(1, 2)); // 3\n});\n"})}),"\n",(0,i.jsxs)(n.p,{children:["You can also get the path of a WebAssembly module using the ",(0,i.jsx)(n.code,{children:"new URL"})," syntax:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",meta:'title="index.js"',children:"const wasmURL = new URL('./add.wasm', import.meta.url);\n\nconsole.log(wasmURL).pathname; // \"/static/wasm/[hash].module.wasm\"\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"output-directory",children:["Output Directory",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#output-directory",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When a ",(0,i.jsx)(n.code,{children:".wasm"})," asset is imported, it will be output by Builder to the ",(0,i.jsx)(n.code,{children:"dist/static/wasm"})," directory by default."]}),"\n",(0,i.jsxs)(n.p,{children:["You can change the output directory of ",(0,i.jsx)(n.code,{children:".wasm"})," files via ",(0,i.jsx)(n.a,{href:"/api/config-output#outputdistpath",children:"output.distPath"})," config."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    distPath: {\n      wasm: 'resource/wasm',\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"add-type-declaration",children:["Add Type Declaration",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#add-type-declaration",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"When you import a Wasm file in TypeScript code, you usually need to add the corresponding type declaration."}),"\n",(0,i.jsxs)(n.p,{children:["For example, the ",(0,i.jsx)(n.code,{children:"add.wasm"})," file exports an ",(0,i.jsx)(n.code,{children:"add()"})," method, then you can create an ",(0,i.jsx)(n.code,{children:"add.wasm.d.ts"})," file in the same directory and add the corresponding type declaration:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="add.wasm.d.ts"',children:"export const add = (num1: number, num2: number) => number;\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fguide%2Fbasic%2Fwasm-assets.md"]={toc:[{text:"Import",id:"import",depth:2},{text:"Output Directory",id:"output-directory",depth:2},{text:"Add Type Declaration",id:"add-type-declaration",depth:2}],title:"Import Wasm Assets",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},37340:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",code:"code",pre:"pre",h2:"h2"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"debug-mode",children:["Debug Mode",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#debug-mode",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder provides a debug mode to troubleshoot problems, you can add the ",(0,i.jsx)(n.code,{children:"DEBUG=builder"})," environment variable when executing a build to enable Builder's debug mode."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Debug development environment\nDEBUG=builder pnpm dev\n\n# Debug production environment\nDEBUG=builder pnpm build\n"})}),"\n",(0,i.jsx)(n.p,{children:"In debug mode, Builder will output some additional log information, and write the Builder config and webpack config to the dist directory, which is convenient for developers to view and debug."}),"\n",(0,i.jsxs)(n.h2,{id:"log-information",children:["Log Information",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#log-information",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["In debug mode, you will see some additional information output from the shell, among which are some process logs starting with ",(0,i.jsx)(n.code,{children:"debug"}),", indicating what operations are performed inside the Builder."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"$ DEBUG=builder pnpm dev\n\ndebug create context [1842.90 ms]\ndebug add default plugins [1874.45 ms]\ndebug add default plugins done [1938.57 ms]\ndebug init plugins [2388.29 ms]\ndebug init plugins done [2389.48 ms]\n...\n"})}),"\n",(0,i.jsx)(n.p,{children:"In addition, the following logs will be output in the Shell, indicating that the Builder has written the internally generated build configs to disk, and you can open these config files to view the corresponding content."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"Inspect config succeeds, open following files to view the content:\n\n   - Builder Config: /Project/demo/dist/builder.config.js\n   - Webpack Config (web): /Project/demo/dist/webpack.config.web.js\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"builder-config-file",children:["Builder Config File",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builder-config-file",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["In debug mode, Builder will automatically generate ",(0,i.jsx)(n.code,{children:"dist/builder.config.js"})," file, which contains the final generated Builder config. In this file, you can know the final result of the Builder config you passed in after being processed by the framework and Builder."]}),"\n",(0,i.jsx)(n.p,{children:"The structure of the file is as follows:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  dev: {\n    // some configs...\n  },\n  source: {\n    // some configs...\n  },\n  // other configs...\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["For a complete introduction to Builder config, please see the ",(0,i.jsx)(n.a,{href:"/guide/basic/builder-config",children:"Builder Config"})," chapter."]}),"\n",(0,i.jsxs)(n.h2,{id:"webpack-config-file",children:["Webpack Config File",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#webpack-config-file",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["If the current project is built using webpack, then in debug mode, Builder will also automatically generate ",(0,i.jsx)(n.code,{children:"dist/webpack.config.web.js"})," file, which contains the final generated webpack config. In this file, you can see what is included in the config that Builder finally passes to webpack."]}),"\n",(0,i.jsx)(n.p,{children:"The structure of the file is as follows:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  resolve: {\n    // some resolve configs...\n  },\n  module: {\n    // some webpack loaders...\n  },\n  plugins: [\n    // some webpack plugins...\n  ],\n  // other configs...\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["In addition, if the project configures additional build targets, such as enabling the SSR capability of the framework (corresponding to additional Node.js build target), an additional ",(0,i.jsx)(n.code,{children:"webpack.config.node.js"})," file will be generated in the ",(0,i.jsx)(n.code,{children:"dist"})," directory, corresponding to the webpack config for SSR bundles."]}),"\n",(0,i.jsxs)(n.p,{children:["For a complete introduction to webpack configs, please see ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/concepts/config/",target:"_blank",rel:"noopener noreferrer",children:"webpack official documentation"}),"."]}),"\n",(0,i.jsxs)(n.h2,{id:"rspack-config-file",children:["Rspack Config File",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#rspack-config-file",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["If the current project is built using Rspack, then in debug mode, Builder will also automatically generate ",(0,i.jsx)(n.code,{children:"dist/rspack.config.web.js"})," file, which contains the final generated Rspack config. In this file, you can see what is included in the config that Builder finally passes to Rspack."]}),"\n",(0,i.jsx)(n.p,{children:"The structure of the file is as follows:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  resolve: {\n    // some resolve configs...\n  },\n  module: {\n    // some Rspack loaders...\n  },\n  plugins: [\n    // some Rspack plugins...\n  ],\n  // other configs...\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["For a complete introduction to Rspack configs, please see ",(0,i.jsx)(n.a,{href:"https://rspack.dev/config/",target:"_blank",rel:"noopener noreferrer",children:"Rspack official documentation"}),"."]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fguide%2Fdebug%2Fdebug-mode.md"]={toc:[{text:"Log Information",id:"log-information",depth:2},{text:"Builder Config File",id:"builder-config-file",depth:2},{text:"Webpack Config File",id:"webpack-config-file",depth:2},{text:"Rspack Config File",id:"rspack-config-file",depth:2}],title:"Debug Mode",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},35515:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",ul:"ul",li:"li",pre:"pre",code:"code",h3:"h3",img:"img",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"using-webpack-inspector",children:["Using Webpack Inspector",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#using-webpack-inspector",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder has a built-in ",(0,i.jsx)(n.a,{href:"https://github.com/web-infra-dev/webpack-inspector",target:"_blank",rel:"noopener noreferrer",children:"webpack inspector"})," to debug webpack."]}),"\n",(0,i.jsxs)(n.h2,{id:"introduction",children:["Introduction",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#introduction",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The internal workflow of webpack is relatively black box, when using webpack, we often encounter the following problems:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"When using some upper-level frameworks, I don't know what the final generated webpack config contains."}),"\n",(0,i.jsx)(n.li,{children:"Each module will be processed by different loaders, and the compilation results of each loader are difficult to perceive."}),"\n",(0,i.jsx)(n.li,{children:"It is difficult to analyze the time cost of each webpack loader (such as babel-loader, ts-loader)."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["In order to make performance analysis, error investigation and loader development more convenient, we provide the ",(0,i.jsx)(n.a,{href:"https://github.com/web-infra-dev/webpack-inspector",target:"_blank",rel:"noopener noreferrer",children:"webpack inspector"})," tool in the Builder."]}),"\n",(0,i.jsxs)(n.h2,{id:"enable",children:["Enable",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#enable",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["You can enable webpack inspector through ",(0,i.jsx)(n.a,{href:"/en/api/config-tools#toolsinspector",children:"tools.inspector"})," config:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    inspector: {},\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"In order to prevent the inspector from affecting normal development, it is recommended to enable the inspector only in DEBUG mode:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    inspector: process.env.DEBUG ? {} : undefined,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["After adding the above config, when you execute ",(0,i.jsx)(n.code,{children:"DEBUG=true pnpm dev"}),", Builder will start the inspector after the compilation is complete. At this time, you can see the following information in the Shell:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"info    Starting dev server...\n\n【Webpack Inspector】\uD83D\uDD25 started at http://localhost:3333\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Open the ",(0,i.jsx)(n.code,{children:"http://localhost:3333"})," address to access the debug panel of the inspector."]}),"\n",(0,i.jsxs)(n.h2,{id:"debug-panel",children:["Debug Panel",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#debug-panel",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The Inspector's debugging panel provides multiple modes, which you can switch through the buttons in the upper right corner."}),"\n",(0,i.jsxs)(n.h3,{id:"config-preview-mode",children:["Config Preview Mode",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#config-preview-mode",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The default mode of the panel is config preview mode. In this mode, you can view all config information inside webpack, and the config object can be expanded or collapsed:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://lf3-static.bytednsdoc.com/obj/eden-cn/zq-uylkvT/ljhwZthlaukjlkulzlp/39248c0f-b1cd-4ea5-b522-3ebba7569497.png",alt:""})}),"\n",(0,i.jsxs)(n.h3,{id:"list-mode",children:["List Mode",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#list-mode",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"In this mode, all module information will be displayed:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://lf3-static.bytednsdoc.com/obj/eden-cn/zq-uylkvT/ljhwZthlaukjlkulzlp/8ff3bba0-7824-43b3-996f-7a3b5d2c4f59.png",alt:""})}),"\n",(0,i.jsx)(n.p,{children:"Clicking on the list item will display the compilation details of the module:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://lf3-static.bytednsdoc.com/obj/eden-cn/zq-uylkvT/ljhwZthlaukjlkulzlp/output.png",alt:""})}),"\n",(0,i.jsxs)(n.h3,{id:"loader-statistics",children:["Loader Statistics",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#loader-statistics",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Click the following switch to view loader statistics:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://lf3-static.bytednsdoc.com/obj/eden-cn/zq-uylkvT/ljhwZthlaukjlkulzlp/c0697cd6-963f-4169-8dc3-dc178641a861.png",alt:""})}),"\n",(0,i.jsxs)(n.h3,{id:"dependency-graph-mode",children:["Dependency Graph Mode",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#dependency-graph-mode",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"In this mode, the dependencies of all modules will be displayed:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://lf3-static.bytednsdoc.com/obj/eden-cn/zq-uylkvT/ljhwZthlaukjlkulzlp/9ee30176-e993-4638-83d0-add14484b1b2.png",alt:""})}),"\n",(0,i.jsx)(n.p,{children:"Clicking on a node in the graph will also display the compilation details of the specific module:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://lf3-static.bytednsdoc.com/obj/eden-cn/zq-uylkvT/ljhwZthlaukjlkulzlp/6f4b6cc7-94c8-446a-8b64-86ca98fbdca7.png",alt:""})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"For performance reasons, the dependency graph is not displayed when the number of modules is > 100."})})]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fguide%2Fdebug%2Finspector.md"]={toc:[{text:"Introduction",id:"introduction",depth:2},{text:"Enable",id:"enable",depth:2},{text:"Debug Panel",id:"debug-panel",depth:2},{text:"Config Preview Mode",id:"config-preview-mode",depth:3},{text:"List Mode",id:"list-mode",depth:3},{text:"Loader Statistics",id:"loader-statistics",depth:3},{text:"Dependency Graph Mode",id:"dependency-graph-mode",depth:3}],title:"Using Webpack Inspector",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},22072:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",h3:"h3",p:"p",pre:"pre",code:"code",ol:"ol",li:"li",div:"div",hr:"hr",ul:"ul",strong:"strong"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"exceptions-faq",children:["Exceptions FAQ",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#exceptions-faq",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"\\\\'compilation\\\\'-argument-error-when-webpack-compiling?",children:["'compilation' argument error when webpack compiling?",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#\\\\'compilation\\\\'-argument-error-when-webpack-compiling?",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"If the following error occurs when compiling, it is usually caused by installing the wrong version of webpack in the project, or installing multiple versions of webpack:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"TypeError: The 'compilation' argument must be an instance of Compilation\n"})}),"\n",(0,i.jsx)(n.p,{children:"The webpack version problem has the following situations:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"The webpack dependency is directly declared in the project's package.json, and the version range of the webpack that the Builder depends on is different and cannot match the same version."}),"\n",(0,i.jsx)(n.li,{children:"Multiple npm packages installed in the project all depend on webpack, and the webpack version ranges they depend on are different and cannot match the same version."}),"\n",(0,i.jsx)(n.li,{children:"Due to the lock mechanism of the package manager, multiple webpack versions are generated in the lock file."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["In the first case, it is recommended to remove the webpack dependency from the project's package.json. Because Builder encapsulates webpack-related capabilities by default, and will pass in the webpack object in the ",(0,i.jsx)(n.a,{href:"/en/api/config-tools#toolswebpack",children:"tools.webpack"})," configuration item. Therefore, in most cases, it is not recommended to install additional webpack dependencies in the project."]}),"\n",(0,i.jsxs)(n.p,{children:["In the second case, it is recommended to see if you can upgrade an npm package so that its dependent webpack version range is consistent with the Builder. It is also possible to manually unify versions through the ability of the package manager, e.g. using ",(0,i.jsx)(n.a,{href:"https://classic.yarnpkg.com/lang/en/docs/selective-version-resolutions/",target:"_blank",rel:"noopener noreferrer",children:"yarn resolutions"})," or [pnpm overrides](https ://pnpm.io/package_json#pnpmoverrides)."]}),"\n",(0,i.jsx)(n.p,{children:"If it is the third case, you can use the two methods mentioned in the second case, or you can try to delete the lock file and reinstall it to solve it."}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"Deleting the lock file will automatically upgrade the dependency version in the project to the latest version under the specified scope, please test it thoroughly."})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"find-es6+-code-in-the-compiled-files?",children:["Find ES6+ code in the compiled files?",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#find-es6+-code-in-the-compiled-files?",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["By default, Builder will not compile files under ",(0,i.jsx)(n.code,{children:"node_modules"})," through ",(0,i.jsx)(n.code,{children:"babel-loader"})," or ",(0,i.jsx)(n.code,{children:"ts-loader"}),". If the npm package introduced by the project contains ES6+ syntax, it will be packaged into the product."]}),"\n",(0,i.jsxs)(n.p,{children:["When this happens, you can specify directories or modules that need to be compiled additionally through the ",(0,i.jsx)(n.a,{href:"/en/api/config-source#sourceinclude",children:"source.include"})," configuration item."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"failed-import-other-modules-in-monorepo?",children:["Failed import other modules in Monorepo?",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#failed-import-other-modules-in-monorepo?",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["For the sake of compilation performance, by default, Builder will not compile files under ",(0,i.jsx)(n.code,{children:"node_modules"})," through ",(0,i.jsx)(n.code,{children:"babel-loader"})," or ",(0,i.jsx)(n.code,{children:"ts-loader"}),", nor will it compile files outside the current project directory."]}),"\n",(0,i.jsxs)(n.p,{children:["Through the ",(0,i.jsx)(n.code,{children:"source.include"})," configuration item, you can specify directories or modules that require additional compilation."]}),"\n",(0,i.jsxs)(n.p,{children:["For details, see ",(0,i.jsx)(n.a,{href:"/en/api/config-source#sourceinclude",children:"source.include usage introduction"}),"."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"compile-error-you-may-need-additional-loader?",children:["Compile error ",(0,i.jsx)(n.code,{children:"You may need additional loader"}),"?",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#compile-error-you-may-need-additional-loader?",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"If the following error message is encountered during the compilation process, it means that there are individual files that cannot be compiled correctly."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"Module parse failed: Unexpected token\nFile was processed with these loaders:\n * some-loader/index.js\n\nYou may need an additional loader to handle the result of these loaders.\n"})}),"\n",(0,i.jsx)(n.p,{children:"Solution:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["If the ",(0,i.jsx)(n.code,{children:".ts"})," file outside the current project is referenced, or the ",(0,i.jsx)(n.code,{children:".ts"})," file under node_modules, please add the ",(0,i.jsx)(n.a,{href:"/en/api/config-source#sourceinclude",children:"source.include"})," configuration Items that specify files that require additional compilation."]}),"\n",(0,i.jsx)(n.li,{children:"If you refer to a file format that is not supported by Builder, please configure the corresponding webpack loader for compilation."}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"find-exports-is-not-defined-runtime-error?",children:["Find ",(0,i.jsx)(n.code,{children:"exports is not defined"})," runtime error?",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#find-exports-is-not-defined-runtime-error?",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["If the compilation is succeed, but the ",(0,i.jsx)(n.code,{children:"exports is not defined"})," error appears after opening the page, it is usually because a CommonJS module is compiled by Babel."]}),"\n",(0,i.jsxs)(n.p,{children:["Under normal circumstances, Builder will not use Babel to compile CommonJS modules. If the ",(0,i.jsx)(n.a,{href:"/en/api/config-source#sourceinclude",children:"source.include"})," configuration item is used in the project, or the ",(0,i.jsx)(n.a,{href:"/en/api/config-tools#tools-babel",children:"tools.babel"})," ",(0,i.jsx)(n.code,{children:"addIncludes"})," method, some CommonJS modules may be added to the Babel compilation."]}),"\n",(0,i.jsx)(n.p,{children:"There are two workarounds for this problem:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Avoid adding CommonJS modules to Babel compilation."}),"\n",(0,i.jsxs)(n.li,{children:["Set Babel's ",(0,i.jsx)(n.code,{children:"sourceType"})," configuration item to ",(0,i.jsx)(n.code,{children:"unambiguous"}),", for example:"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    babel(config) {\n      config.sourceType = 'unambiguous';\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Setting ",(0,i.jsx)(n.code,{children:"sourceType"})," to ",(0,i.jsx)(n.code,{children:"unambiguous"})," may have some other effects, please refer to ",(0,i.jsx)(n.a,{href:"https://babeljs.io/docs/en/options#sourcetype",target:"_blank",rel:"noopener noreferrer",children:"Babel official documentation"}),"."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:'compile-error-\\\\"error:-es-modules-may-not-assign-moduleexports-or-exports*,-use-esm-export-syntax\\\\"?',children:['Compile error "Error: ES Modules may not assign module.exports or exports.*, Use ESM export syntax"?',(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:'#compile-error-\\\\"error:-es-modules-may-not-assign-moduleexports-or-exports*,-use-esm-export-syntax\\\\"?',children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["If the following error occurs during compilation, it is usually because a CommonJS module is compiled with Babel in the project, and the solution is same as the above ",(0,i.jsx)(n.code,{children:"exports is not defined"})," problem."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"Error: ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: 581\n"})}),"\n",(0,i.jsxs)(n.p,{children:["For more information, please refer to issue: ",(0,i.jsx)(n.a,{href:"https://github.com/babel/babel/issues/12731",target:"_blank",rel:"noopener noreferrer",children:"babel#12731"}),"."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"the-compilation-progress-bar-is-stuck,-but-there-is-no-error-log-in-the-terminal?",children:["The compilation progress bar is stuck, but there is no Error log in the terminal?",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#the-compilation-progress-bar-is-stuck,-but-there-is-no-error-log-in-the-terminal?",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"When the compilation progress bar is stuck, but there is no Error log on the terminal, it is usually because an exception occurred during the compilation. In some cases, when Error is caught by webpack or other modules, the error log can not be output correctly. The most common scenario is that there is an exception in the Babel config, which is caught by webpack, and webpack swallows the Error in some cases."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Solution:"})}),"\n",(0,i.jsx)(n.p,{children:"If this problem occurs after you modify the Babel config, it is recommended to check for the following incorrect usages:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"You have configured a plugin or preset that does not exist, maybe the name is misspelled, or it is not installed correctly."}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// wrong example\nexport default {\n  tools: {\n    babel(config, { addPlugins }) {\n      // The plugin has the wrong name or is not installed\n      addPlugins('babel-plugin-not-exists');\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:"Whether multiple babel-plugin-imports are configured, but the name of each babel-plugin-import is not declared in the third item of the array."}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// wrong example\nexport default {\n  tools: {\n    babel(config, { addPlugins }) {\n      addPlugins([\n        [\n          'babel-plugin-import',\n          { libraryName: 'antd', libraryDirectory: 'es' },\n        ],\n        [\n          'babel-plugin-import',\n          { libraryName: 'antd-mobile', libraryDirectory: 'es' },\n        ],\n      ]);\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// correct example\nexport default {\n  tools: {\n    babel(config, { addPlugins }) {\n      addPlugins([\n        [\n          'babel-plugin-import',\n          { libraryName: 'antd', libraryDirectory: 'es' },\n          'antd',\n        ],\n        [\n          'babel-plugin-import',\n          { libraryName: 'antd-mobile', libraryDirectory: 'es' },\n          'antd-mobile',\n        ],\n      ]);\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"the-webpack-cache-does-not-work?",children:["The webpack cache does not work?",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#the-webpack-cache-does-not-work?",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder enables webpack's persistent cache by default."}),"\n",(0,i.jsxs)(n.p,{children:["After the first compilation is completed, the cache file will be automatically generated and output to the ",(0,i.jsx)(n.code,{children:"./node_modules/.cache/webpack"})," directory. When the second compilation is performed, the cache is hit and the compilation speed is greatly improved."]}),"\n",(0,i.jsxs)(n.p,{children:["When configuration files such as ",(0,i.jsx)(n.code,{children:"package.json"})," are modified, the cache is automatically invalidated."]}),"\n",(0,i.jsx)(n.p,{children:"If the webpack compilation cache in the project has not taken effect, you can add the following configuration for troubleshooting:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    webpack(config) {\n      config.infrastructureLogging = {\n        ...config.infrastructureLogging,\n        debug: /webpack\\.cache/,\n      };\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["After adding the above configuration, webpack will output logs for debugging. Please refer to the logs related to ",(0,i.jsx)(n.code,{children:"PackFileCacheStrategy"})," to understand the cause of cache invalidation."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"tree-shaking-does-not-take-effect?",children:["Tree shaking does not take effect?",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#tree-shaking-does-not-take-effect?",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder will enable the tree shaking function of webpack by default during production construction. Whether tree shaking can take effect depends on whether the business code can meet the tree shaking conditions of webpack."}),"\n",(0,i.jsxs)(n.p,{children:["If you encounter the problem that tree shaking does not take effect, you can check whether the ",(0,i.jsx)(n.code,{children:"sideEffects"})," configuration of the relevant npm package is correct. If you don't know what ",(0,i.jsx)(n.code,{children:"sideEffects"})," is, or are interested in the principles behind tree shaking, you can read the following two documents:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://webpack.docschina.org/guides/tree-shaking/",target:"_blank",rel:"noopener noreferrer",children:"webpack official documentation - Tree Shaking"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://bytedance.feishu.cn/docs/doccn8E1ldDct5uv1EEDQs8Ycwe",target:"_blank",rel:"noopener noreferrer",children:"Tree Shaking Troubleshooting Guide"})}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"javascript-heap-out-of-memory-when-compiling?",children:["JavaScript heap out of memory when compiling?",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#javascript-heap-out-of-memory-when-compiling?",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"This error indicates that there is a memory overflow problem during the packaging process. In most cases, it is because the packaged content exceeds the default memory limit of Node.js."}),"\n",(0,i.jsxs)(n.p,{children:["In case of OOM issues, the easiest way to fix this is by increasing the memory cap, Node.js provides the ",(0,i.jsx)(n.code,{children:"--max-old-space-size"})," option to set this. You can set this parameter by adding ",(0,i.jsx)(n.a,{href:"https://nodejs.org/api/cli.html#node_optionsoptions",target:"_blank",rel:"noopener noreferrer",children:"NODE_OPTIONS"})," before the CLI command."]}),"\n",(0,i.jsxs)(n.p,{children:["For example, add parameters before the ",(0,i.jsx)(n.code,{children:"modern build"})," command:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-diff",meta:'title="package.json"',children:'{\n   "scripts": {\n- "build": "modern build"\n+ "build": "NODE_OPTIONS=--max_old_space_size=16384 modern build"\n   }\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["If you are executing other commands, such as ",(0,i.jsx)(n.code,{children:"modern deploy"}),", please add parameters before the corresponding command."]}),"\n",(0,i.jsxs)(n.p,{children:["The value of the ",(0,i.jsx)(n.code,{children:"max_old_space_size"})," parameter represents the upper limit of the memory size (MB). Generally, it can be set to ",(0,i.jsx)(n.code,{children:"16384"})," (16GB)."]}),"\n",(0,i.jsx)(n.p,{children:"The following parameters are explained in more detail in the official Node.js documentation:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://nodejs.org/api/cli.html#node_optionsoptions",target:"_blank",rel:"noopener noreferrer",children:"NODE_OPTIONS"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://nodejs.org/api/cli.html#--max-old-space-sizesize-in-megabytes",target:"_blank",rel:"noopener noreferrer",children:"--max-old-space-size"})}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["In addition to increasing the memory limit, it is also a solution to improve efficiency by enabling some compilation strategies, please refer to ",(0,i.jsx)(n.a,{href:"/guide/optimization/build-performance",children:"Improve Build Performance"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"If the above methods cannot solve your problem, it may be that some abnormal logic in the project has caused memory overflow. You can debug recent code changes and locate the root cause of problems. If it cannot be located, please contact us."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"can\\\\'t-resolve-\\\\'core-js/modules/xxxjs\\\\'-when-compiling?",children:["Can't resolve 'core-js/modules/xxx.js' when compiling?",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#can\\\\'t-resolve-\\\\'core-js/modules/xxxjs\\\\'-when-compiling?",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["If you get an error similar to the following when compiling, it means that ",(0,i.jsx)(n.a,{href:"https://github.com/zloirock/core-js",target:"_blank",rel:"noopener noreferrer",children:"core-js"})," cannot be resolved properly in the project."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"Module not found: Can't resolve 'core-js/modules/es.error.cause.js'\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Usually, you don't need to install ",(0,i.jsx)(n.code,{children:"core-js"})," in the project, because the Builder already has a built-in ",(0,i.jsx)(n.code,{children:"core-js"})," v3."]}),"\n",(0,i.jsxs)(n.p,{children:["If there is an error that ",(0,i.jsx)(n.code,{children:"core-js"})," cannot be found, there may be several reasons:"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["The ",(0,i.jsx)(n.code,{children:"plugins"})," configured by Babel is overwritten in the project, causing the built-in ",(0,i.jsx)(n.code,{children:"babelPluginLockCorejsVersion"})," does not work. In this case, just change ",(0,i.jsx)(n.code,{children:"tools.babel"})," to a function:"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// Wrong usage, will override Builder's default Babel plugins\nexport default {\n  tools: {\n    babel: {\n      plugins: ['babel-plugin-xxx'],\n    },\n  },\n};\n\n// Correct usage, add a new plugin in the default configuration instead of overriding the plugin\nexport default {\n  tools: {\n    babel(config) {\n      config.plugins.push('babel-plugin-xxx');\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsxs)(n.li,{children:["Some code in the project depends on ",(0,i.jsx)(n.code,{children:"core-js"})," v2. In this case, you usually need to find out the corresponding code and upgrade ",(0,i.jsx)(n.code,{children:"core-js"})," to the v3."]}),"\n",(0,i.jsxs)(n.li,{children:["An npm package in ",(0,i.jsx)(n.code,{children:"node_modules"})," imported ",(0,i.jsx)(n.code,{children:"core-js"}),", but does not declare the ",(0,i.jsx)(n.code,{children:"core-js"})," dependency in ",(0,i.jsx)(n.code,{children:"dependencies"}),". In this case, you need to declare the ",(0,i.jsx)(n.code,{children:"core-js"})," dependency in the corresponding npm package, or install a copy of ",(0,i.jsx)(n.code,{children:"core-js"})," in the project root directory."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"compilation-error-after-referencing-a-type-from-lodash",children:["Compilation error after referencing a type from lodash",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#compilation-error-after-referencing-a-type-from-lodash",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["If the ",(0,i.jsx)(n.code,{children:"@types/lodash"})," package is installed in your project, you may import some types from ",(0,i.jsx)(n.code,{children:"lodash"}),", such as the ",(0,i.jsx)(n.code,{children:"DebouncedFunc"})," type:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { debounce, DebouncedFunc } from 'lodash';\n"})}),"\n",(0,i.jsx)(n.p,{children:"Builder will throw an error after compiling the above code:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"Syntax error: /project/src/index.ts: The lodash method `DebouncedFunc` is not a known module.\nPlease report bugs to https://github.com/lodash/babel-plugin-lodash/issues.\n"})}),"\n",(0,i.jsxs)(n.p,{children:["The reason is that Builder has enabled the ",(0,i.jsx)(n.a,{href:"https://github.com/lodash/babel-plugin-lodash",target:"_blank",rel:"noopener noreferrer",children:"babel-plugin-lodash"}),' plugin by default to optimize the bundle size of lodash, but Babel cannot distinguish between "value" and "type", which resulting in an exception in the compiled code.']}),"\n",(0,i.jsxs)(n.p,{children:["The solution is to use TypeScript's ",(0,i.jsx)(n.code,{children:"import type"})," syntax to explicitly declare the ",(0,i.jsx)(n.code,{children:"DebouncedFunc"})," type:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { debounce } from 'lodash';\nimport type { DebouncedFunc } from 'lodash';\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["In any case, it is recommended to use ",(0,i.jsx)(n.code,{children:"import type"})," to import types, this will help the compiler to identify the type.\n"]})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"division-in-less-file-doesn\\\\'t-work?",children:["Division in Less file doesn't work?",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#division-in-less-file-doesn\\\\'t-work?",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Compared with the v3 version, the Less v4 version has some differences in the way of writing division:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-less",children:"// Less v3\n.math {\n  width: 2px / 2; // 1px\n  width: 2px ./ 2; // 1px\n  width: (2px / 2); // 1px\n}\n\n// Less v4\n.math {\n  width: 2px / 2; // 2px / 2\n  width: 2px ./ 2; // 1px\n  width: (2px / 2); // 1px\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"The built-in Less version of Builder is v4, and the writing method of the lower version will not take effect. Please pay attention to the distinction."}),"\n",(0,i.jsxs)(n.p,{children:["The writing of division in Less can also be modified through configuration items, see ",(0,i.jsx)(n.a,{href:"https://lesscss.org/usage/#less-options-math",target:"_blank",rel:"noopener noreferrer",children:"Less - Math"}),"."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"compile-error-‘typeerror:-cannot-delete-property-\\\\'xxx\\\\'-of-#<object>’",children:["Compile error ‘TypeError: Cannot delete property 'xxx' of #<Object>’",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#compile-error-‘typeerror:-cannot-delete-property-\\\\'xxx\\\\'-of-#<object>’",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"This error indicates that a read-only configuration item was deleted during the compilation process. Normally, we do not want any operation to directly modify the incoming configuration when compiling, but it is difficult to restrict the behavior of underlying plugins (such as postcss-loader, etc). If this error occurs, please contact the builder developer and we will need to do something special with that configuration."}),"\n",(0,i.jsx)(n.p,{children:"The same type of error is also reported:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"'TypeError: Cannot add property xxx, object is not extensible'"}),"\n",(0,i.jsx)(n.li,{children:"'TypeError: Cannot assign to read only property 'xxx' of object '#<Object>'"}),"\n"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fguide%2Ffaq%2Fexceptions.md"]={toc:[{text:"\\'compilation\\' argument error when webpack compiling?",id:"\\'compilation\\'-argument-error-when-webpack-compiling?",depth:3},{text:"Find ES6+ code in the compiled files?",id:"find-es6+-code-in-the-compiled-files?",depth:3},{text:"Failed import other modules in Monorepo?",id:"failed-import-other-modules-in-monorepo?",depth:3},{text:"Compile error You may need additional loader?",id:"compile-error-you-may-need-additional-loader?",depth:3},{text:"Find exports is not defined runtime error?",id:"find-exports-is-not-defined-runtime-error?",depth:3},{text:'Compile error \\"Error: ES Modules may not assign module.exports or exports.*, Use ESM export syntax\\"?',id:'compile-error-\\"error:-es-modules-may-not-assign-moduleexports-or-exports*,-use-esm-export-syntax\\"?',depth:3},{text:"The compilation progress bar is stuck, but there is no Error log in the terminal?",id:"the-compilation-progress-bar-is-stuck,-but-there-is-no-error-log-in-the-terminal?",depth:3},{text:"The webpack cache does not work?",id:"the-webpack-cache-does-not-work?",depth:3},{text:"Tree shaking does not take effect?",id:"tree-shaking-does-not-take-effect?",depth:3},{text:"JavaScript heap out of memory when compiling?",id:"javascript-heap-out-of-memory-when-compiling?",depth:3},{text:"Can\\'t resolve \\'core-js/modules/xxx.js\\' when compiling?",id:"can\\'t-resolve-\\'core-js/modules/xxxjs\\'-when-compiling?",depth:3},{text:"Compilation error after referencing a type from lodash",id:"compilation-error-after-referencing-a-type-from-lodash",depth:3},{text:"Division in Less file doesn\\'t work?",id:"division-in-less-file-doesn\\'t-work?",depth:3},{text:"Compile error ‘TypeError: Cannot delete property \\'xxx\\' of #<Object>’",id:"compile-error-‘typeerror:-cannot-delete-property-\\'xxx\\'-of-#<object>’",depth:3}],title:"Exceptions FAQ",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},39458:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",h3:"h3",p:"p",pre:"pre",code:"code",hr:"hr",blockquote:"blockquote",h4:"h4"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"features-faq",children:["Features FAQ",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#features-faq",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"how-to-import-ui-component-library-on-demand?",children:["How to import UI Component library on demand?",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#how-to-import-ui-component-library-on-demand?",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["If you need to configure the on-demand import of the component library, you can configure it through ",(0,i.jsx)(n.a,{href:"/api/config-source#sourcetransformimport",children:"source.transformImport"}),", which is equivalent to ",(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/babel-plugin-import",target:"_blank",rel:"noopener noreferrer",children:"babel-plugin-import"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  source: {\n    transformImport: [\n      {\n        libraryName: 'xxx-components',\n        libraryDirectory: 'es',\n        style: true,\n      },\n    ],\n  },\n};\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"how-to-run-eslint-during-compilation?",children:["How to run ESLint during compilation?",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#how-to-run-eslint-during-compilation?",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["For the sake of compilation performance, Builder will not perform ESLint verification during the compilation process by default. If you need this function, you can manually install and register the ",(0,i.jsx)(n.a,{href:"https://github.com/webpack",target:"_blank",rel:"noopener noreferrer",children:"eslint-webpack-plugin"})," in the community -contrib/eslint-webpack-plugin)."]}),"\n",(0,i.jsx)(n.p,{children:"The sample code to register the plugin is as follows:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import ESLintPlugin from 'eslint-webpack-plugin';\n\nexport default {\n  tools: {\n    webpackChain(chain) {\n      chain.plugin('eslint-plugin').use(ESLintPlugin, [\n        {\n          extensions: ['.js', '.ts', '.jsx', 'tsx', '.mjs'],\n        },\n      ]);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["For more detailed usage, please refer to the ",(0,i.jsx)(n.a,{href:"https://github.com/webpack-contrib/eslint-webpack-plugin",target:"_blank",rel:"noopener noreferrer",children:"eslint-webpack-plugin"})," documentation."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"how-to-configure-cdn-path-for-static-assets?",children:["How to configure CDN path for static assets?",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#how-to-configure-cdn-path-for-static-assets?",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["If you need to upload static assets such as JS and CSS to CDN for use, you can set the URL prefix of static assets through the ",(0,i.jsx)(n.a,{href:"/api/config-output#outputassetprefix",children:"output.assetPrefix"})," configuration."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    assetPrefix: 'https://cdn.example.com/assets/',\n  },\n};\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"how-to-clear-the-webpack-cache?",children:["How to clear the webpack cache?",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#how-to-clear-the-webpack-cache?",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["By default, Builder's webpack cache is generated in the ",(0,i.jsx)(n.code,{children:"./node_modules/.cache/webpack"})," directory."]}),"\n",(0,i.jsx)(n.p,{children:"If you need to clear the local webpack cache, you can execute the following command:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"rm -rf ./node_modules/.cache\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"how-to-remove-console-after-production-build?",children:["How to remove console after production build?",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#how-to-remove-console-after-production-build?",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When the production environment is built, we can remove the ",(0,i.jsx)(n.code,{children:"console"})," from the code, so as to avoid the log of the development environment being output to the production environment."]}),"\n",(0,i.jsxs)(n.p,{children:["Builder provides a configuration item to remove console by default, please see ",(0,i.jsx)(n.a,{href:"/en/api/config-performance#performanceremoveconsole",children:"performance.removeConsole"}),"."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"how-to-view-the-final-generated-webpack-/-rspack-configuration?",children:["How to view the final generated webpack / Rspack configuration?",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#how-to-view-the-final-generated-webpack-/-rspack-configuration?",children:"#"})]}),"\n",(0,i.jsxs)(n.h4,{id:"viewing-with-the-inspect-command",children:["Viewing with the inspect command",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#viewing-with-the-inspect-command",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When you using an upper-level framework such as Modern.js, the framework usually provides ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/en/apis/app/commands.html",target:"_blank",rel:"noopener noreferrer",children:"inspect command"})," to view the final Modern.js Builder configuration and webpack / Rspack configuration generated by the project."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"➜ npx modern inspect\n\nInspect config succeed, open following files to view the content:\n\n  - Builder Config: /root/my-project/dist/builder.config.js\n  - Rspack Config (web): /root/my-project/dist/rspack.config.web.js\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"viewing-with-the-builder-debug-mode",children:["Viewing with the Builder debug mode",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#viewing-with-the-builder-debug-mode",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["By adding the ",(0,i.jsx)(n.code,{children:"DEBUG=builder"})," environment variable when executing the build, the ",(0,i.jsx)(n.a,{href:"/guide/debug/debug-mode",children:"debug mode"})," of the Builder can be enabled, and the final generated webpack or Rspack configuration will be output to the dist directory."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"➜ DEBUG=builder pnpm dev\n\ndebug   create context [1842.90 ms]\ndebug   add default plugins [1874.45 ms]\ndebug   add default plugins done [1938.57 ms]\n...\n\nInspect config succeed, open following files to view the content:\n\n  - Builder Config: /root/my-project/dist/builder.config.js\n  - Rspack Config (web): /root/my-project/dist/rspack.config.web.js\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fguide%2Ffaq%2Ffeatures.md"]={toc:[{text:"How to import UI Component library on demand?",id:"how-to-import-ui-component-library-on-demand?",depth:3},{text:"How to run ESLint during compilation?",id:"how-to-run-eslint-during-compilation?",depth:3},{text:"How to configure CDN path for static assets?",id:"how-to-configure-cdn-path-for-static-assets?",depth:3},{text:"How to clear the webpack cache?",id:"how-to-clear-the-webpack-cache?",depth:3},{text:"How to remove console after production build?",id:"how-to-remove-console-after-production-build?",depth:3},{text:"How to view the final generated webpack / Rspack configuration?",id:"how-to-view-the-final-generated-webpack-/-rspack-configuration?",depth:3},{text:"Viewing with the inspect command",id:"viewing-with-the-inspect-command",depth:4},{text:"Viewing with the Builder debug mode",id:"viewing-with-the-builder-debug-mode",depth:4}],title:"Features FAQ",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},25728:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",h3:"h3",p:"p",hr:"hr",blockquote:"blockquote"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"general-faq",children:["General FAQ",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#general-faq",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"the-relationship-between-modernjs-builder-and-modernjs?",children:["The relationship between Modern.js Builder and Modern.js?",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#the-relationship-between-modernjs-builder-and-modernjs?",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The building abilities of Modern.js are based on Modern.js Builder."}),"\n",(0,i.jsx)(n.p,{children:"When developing Modern.js, we designed Builder as an independent module, and clearly divided the responsibilities of Builder and Modern.js. Therefore, Builder can be used independently of the Modern.js framework and be applied to other frameworks or scenarios."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"can-builder-be-used-to-build-libraries-or-ui-components?",children:["Can Builder be used to build libraries or UI components?",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#can-builder-be-used-to-build-libraries-or-ui-components?",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder focuses on solving web application building scenarios. We do not recommend that you use Builder to build libraries or UI components."}),"\n",(0,i.jsxs)(n.p,{children:["If you need to build a library or UI components, it is recommended to use the ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/module-tools/en",target:"_blank",rel:"noopener noreferrer",children:"Modern.js Module Tools"}),"."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"will-builder-support-turbopack?",children:["Will Builder support Turbopack?",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#will-builder-support-turbopack?",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder is already supporting Rspack, and currently Turbopack supports use in Next.js, so there is no plan for Builder to support ",(0,i.jsx)(n.a,{href:"https://turbo.build/pack",target:"_blank",rel:"noopener noreferrer",children:"Turbopack"}),"."]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["You can find the comparison of Rspack and Turbopack in the ",(0,i.jsx)(n.a,{href:"https://www.rspack.dev/guide/introduction.html",target:"_blank",rel:"noopener noreferrer",children:"Introduction"})," of Rspack."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"will-builder-support-vite?",children:["Will Builder support Vite?",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#will-builder-support-vite?",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://vitejs.dev/",target:"_blank",rel:"noopener noreferrer",children:"Vite"})," is a great tool, but the goal of Builder is to replace webpack with Rust Bundler, Rspack can provide fast compilation speed, while maintaining the consistent behavior between development and production."]}),"\n",(0,i.jsx)(n.p,{children:"Builder will focus on the evolution from webpack to Rspack, so it will not be support Vite."}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["You can find the comparison of Vite and Turbopack in the ",(0,i.jsx)(n.a,{href:"https://www.rspack.dev/guide/introduction.html",target:"_blank",rel:"noopener noreferrer",children:"Introduction"})," of Rspack."]}),"\n"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fguide%2Ffaq%2Fgeneral.md"]={toc:[{text:"The relationship between Modern.js Builder and Modern.js?",id:"the-relationship-between-modernjs-builder-and-modernjs?",depth:3},{text:"Can Builder be used to build libraries or UI components?",id:"can-builder-be-used-to-build-libraries-or-ui-components?",depth:3},{text:"Will Builder support Turbopack?",id:"will-builder-support-turbopack?",depth:3},{text:"Will Builder support Vite?",id:"will-builder-support-vite?",depth:3}],title:"General FAQ",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},39032:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",h3:"h3",p:"p",code:"code",pre:"pre",hr:"hr",ul:"ul",li:"li",img:"img",blockquote:"blockquote"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"hmr-faq",children:["HMR FAQ",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#hmr-faq",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"hmr-not-working-when-external-react?",children:["HMR not working when external React?",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#hmr-not-working-when-external-react?",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"To ensure that HMR works properly, we need to use the development builds of React and ReactDOM."}),"\n",(0,i.jsxs)(n.p,{children:["If you exclude React via ",(0,i.jsx)(n.code,{children:"externals"})," when bundling, the production build of React is usually injected through CDN, and this can cause HMR to fail."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    externals: {\n      react: 'React',\n      'react-dom': 'ReactDOM',\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["To solve this problem, you need to reference the development builds of React or not configure ",(0,i.jsx)(n.code,{children:"externals"})," in the development environment."]}),"\n",(0,i.jsxs)(n.p,{children:["If you are unsure about the type of React build you are using, you can refer to the ",(0,i.jsx)(n.a,{href:"https://legacy.reactjs.org/docs/optimizing-performance.html#use-the-production-build",target:"_blank",rel:"noopener noreferrer",children:"React documentation - Use the Production Build"}),"."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"hmr-not-working-when-setting-filename-hash-in-development-mode?",children:["HMR not working when setting filename hash in development mode?",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#hmr-not-working-when-setting-filename-hash-in-development-mode?",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Usually, we only set the filename hash in the production mode (i.e., when ",(0,i.jsx)(n.code,{children:"process.env.NODE_ENV === 'production'"}),")."]}),"\n",(0,i.jsxs)(n.p,{children:["If you set the filename hash in the development mode, it may cause HMR to fail (especially for CSS files). This is because every time the file content changes, the hash value changes, preventing tools like ",(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/mini-css-extract-plugin",target:"_blank",rel:"noopener noreferrer",children:"mini-css-extract-plugin"})," from reading the latest file content."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Correct usage:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    filename: {\n      css:\n        process.env.NODE_ENV === 'production'\n          ? '[name].[contenthash:8].css'\n          : '[name].css',\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Incorrect usage:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    filename: {\n      css: '[name].[contenthash:8].css',\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"hmr-not-working-when-updating-react-components?",children:["HMR not working when updating React components?",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#hmr-not-working-when-updating-react-components?",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder uses React's official ",(0,i.jsx)(n.a,{href:"https://github.com/pmmmwh/react-refresh-webpack-plugin",target:"_blank",rel:"noopener noreferrer",children:"Fast Refresh"})," capability to perform component hot updates."]}),"\n",(0,i.jsx)(n.p,{children:"If there is a problem that the hot update of the React component cannot take effect, or the state of the React component is lost after the hot update, it is usually because your React component uses an anonymous function. In the official practice of React Fast Refresh, it is required that the component cannot be an anonymous function, otherwise the state of the React component cannot be preserved after hot update."}),"\n",(0,i.jsx)(n.p,{children:"Here are some examples of wrong usage:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"// bad\nexport default function () {\n  return <div>Hello World</div>;\n}\n\n// bad\nexport default () => <div>Hello World</div>;\n"})}),"\n",(0,i.jsx)(n.p,{children:"The correct usage is to declare a name for each component function:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"// good\nexport default function MyComponent() {\n  return <div>Hello World</div>;\n}\n\n// good\nconst MyComponent = () => <div>Hello World</div>;\n\nexport default MyComponent;\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"hmr-not-working-when-use-https?",children:["HMR not working when use https?",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#hmr-not-working-when-use-https?",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"If https is enabled, the HMR connection may fail due to a certificate issue, and if you open the console, you will get an HMR connect failed error."}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://lf3-static.bytednsdoc.com/obj/eden-cn/6221eh7uhbfvhn/modern/img_v2_2f90d027-a232-4bd8-8021-dac3c651682g.jpg",alt:"hmr-connect-error-0"})}),"\n",(0,i.jsx)(n.p,{children:'The solution to this problem is to click on "Advanced" -> "Proceed to xxx (unsafe)" on the Chrome problem page.'}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://lf3-static.bytednsdoc.com/obj/eden-cn/6221eh7uhbfvhn/modern/3d2d4a38-acfe-4fe2-bdff-48b3366db481.png",alt:"hmr-connect-error-1"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:'Tips: When accessing the page through Localhost, the words "Your connection is not private" may not appear and can be handled by visiting the Network domain.'}),"\n"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fguide%2Ffaq%2Fhmr.md"]={toc:[{text:"HMR not working when external React?",id:"hmr-not-working-when-external-react?",depth:3},{text:"HMR not working when setting filename hash in development mode?",id:"hmr-not-working-when-setting-filename-hash-in-development-mode?",depth:3},{text:"HMR not working when updating React components?",id:"hmr-not-working-when-updating-react-components?",depth:3},{text:"HMR not working when use https?",id:"hmr-not-working-when-use-https?",depth:3}],title:"HMR FAQ",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},9553:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",ul:"ul",li:"li",code:"code"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"all-features",children:["All Features",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#all-features",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Here are all the main features supported by Modern.js Builder."}),"\n",(0,i.jsxs)(n.h2,{id:"javascript",children:["JavaScript",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#javascript",children:"#"})]}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"Features"}),"\n",(0,i.jsx)(n.th,{children:"Description"}),"\n",(0,i.jsx)(n.th,{children:"Links"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Rspack bundler"}),"\n",(0,i.jsx)(n.td,{children:"Optional feature, use Rspack as the bundler"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/advanced/rspack-start.html",children:"Using Rspack"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Babel compilation"}),"\n",(0,i.jsx)(n.td,{children:"Babel compilation is enabled by default, which converts JavaScript and TypeScript code to backward compatible JavaScript syntax"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/api/config-tools.html#toolsbabel",children:"tools.babel"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"TS compilation"}),"\n",(0,i.jsxs)(n.td,{children:["TS files are compiled by Babel by default, you can also use ",(0,i.jsx)(n.code,{children:"ts-loader"})]}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/guide/basic/typescript.html#typescript-compilation",children:"TypeScript compilation"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/api/config-tools.html#toolsbabel",children:"tools.babel"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/api/config-tools.html#toolstsloader",children:"tools.tsLoader"})})]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Type checker"}),"\n",(0,i.jsx)(n.td,{children:"Runs TypeScript type checker by default"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/guide/basic/typescript.html#type-checking",children:"Type checking"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/api/config-tools.html#toolstschecker",children:"tools.tsChecker"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/api/config-output.html#outputdisabletschecker",children:"output.disableTsChecker"})})]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"JS minification"}),"\n",(0,i.jsx)(n.td,{children:"JS minification is enabled by default in production build"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/api/config-tools.html#toolsterser",children:"tools.terser"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Polyfill injection"}),"\n",(0,i.jsx)(n.td,{children:"core-js and other polyfills are injected by default"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/advanced/browser-compatibility.html",children:"Browser Compatibility"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/api/config-output.html#outputpolyfill",children:"output.polyfill"})})]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"SourceMap generation"}),"\n",(0,i.jsx)(n.td,{children:"High-quality SourceMap is generated by default in production build"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/api/config-output.html#outputdisablesourcemap",children:"output.disableSourceMap"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Alias"}),"\n",(0,i.jsx)(n.td,{children:"Optional feature, set import alias"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/api/config-source.html#sourcealias",children:"source.alias"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Restrict importing paths"}),"\n",(0,i.jsx)(n.td,{children:"Optional feature, restrict source code import paths"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/api/config-source.html#sourcemodulescopes",children:"source.moduleScopes"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"esbuild compilation"}),"\n",(0,i.jsx)(n.td,{children:"Optional feature, transform and minify JavaScript and TypeScript code with esbuild"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/plugins/plugin-esbuild.html",children:"esbuild plugin"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"SWC compilation"}),"\n",(0,i.jsx)(n.td,{children:"Optional feature, transform and minify JavaScript and TypeScript code with SWC"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/plugins/plugin-swc.html",children:"SWC plugin"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Node outputs"}),"\n",(0,i.jsx)(n.td,{children:"Optional feature, support building bundles that run in Node.js environment"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/guide/basic/build-target.html#node-target",children:"Node Target"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Web Worker outputs"}),"\n",(0,i.jsx)(n.td,{children:"Optional feature, support building bundles that run in a Web Worker environment"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/guide/basic/build-target.html#web-worker-target",children:"Web Worker Target"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Browserslist"}),"\n",(0,i.jsx)(n.td,{children:"Optional feature, using browserslist (opens new window)to specify which browsers should be supported in your Web application."}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/advanced/browserslist.html",children:"Browserslist"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Compatibility check"}),"\n",(0,i.jsx)(n.td,{children:"Optional feature, analyze if there are incompatible advanced syntax in the outputs within the current browser scope"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-security.html#securitychecksyntax",children:"security.checkSyntax"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Environment variable"}),"\n",(0,i.jsx)(n.td,{children:"Optional feature, inject environment variables or expressions into the code"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/advanced/define.html",children:"Environment Variables"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Node Polyfill"}),"\n",(0,i.jsx)(n.td,{children:"Optional feature, inject polyfills for Node core modules on the browser side"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/plugins/plugin-node-polyfill.html",children:"Node Polyfill Plugin"})})})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"css",children:["CSS",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#css",children:"#"})]}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"Features"}),"\n",(0,i.jsx)(n.th,{children:"Description"}),"\n",(0,i.jsx)(n.th,{children:"Links"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"PostCSS compilation"}),"\n",(0,i.jsx)(n.td,{children:"PostCSS compilation is enabled by default, built-in autoprefixer and other plugins"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/basic/css-usage.html",children:"CSS Usage"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/api/config-tools.html#toolspostcss",children:"tools.postcss"})}),(0,i.jsxs)("li",{children:[" ",(0,i.jsx)(n.a,{href:"/en/api/config-tools.html#toolsautoprefixer",children:"tools.autoprefixer"})]})]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Sass preprocessing"}),"\n",(0,i.jsx)(n.td,{children:"Support compile Sass files by default"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/basic/css-usage.html",children:"CSS Usage"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/api/config-tools.html#toolssass",children:"tools.sass"})})," "]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Less preprocessing"}),"\n",(0,i.jsx)(n.td,{children:"Support compile Less files by default"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/basic/css-usage.html",children:"CSS Usage"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/api/config-tools.html#toolsless",children:"tools.less"})})]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Stylus preprocessing"}),"\n",(0,i.jsx)(n.td,{children:"Optional feature, compile Stylus files"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/plugins/plugin-stylus.html",children:"Stylus Plugin"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"CSS Modules compilation"}),"\n",(0,i.jsxs)(n.td,{children:["Support compiling ",(0,i.jsx)(n.code,{children:"*.module.*"})," files by default"]}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/basic/css-modules.html",children:"Use CSS Modules"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/api/config-tools.html#toolscssloader",children:"tools.cssLoader"})})]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"CSS Modules type"}),"\n",(0,i.jsx)(n.td,{children:"Optional feature, automatically generate type definition for CSS Modules"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/basic/css-modules.html",children:"Use CSS Modules"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/api/config-output.html#outputenablecssmoduletsdeclaration",children:"enableCssModuleTSDeclaration"})})]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"CSS minification"}),"\n",(0,i.jsx)(n.td,{children:"CSS minification is enabled by default in production build"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/basic/css-usage.html",children:"CSS Usage"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/api/config-tools.html#toolsminifycss",children:"tools.minifyCss"})})]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Extract CSS files"}),"\n",(0,i.jsx)(n.td,{children:"CSS will be extracted as separate files by default"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/api/config-tools.html#toolscssextract",children:"tools.cssExtract"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Styled Components"}),"\n",(0,i.jsx)(n.td,{children:"Support styled components compilation by default"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/api/config-tools.html#toolsstyledcomponents",children:"tools.styledComponents"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Inline CSS into JS"}),"\n",(0,i.jsx)(n.td,{children:"Optional feature, inline CSS files to JavaScript files"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/basic/css-usage.html",children:"CSS Usage"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/api/config-tools.html#toolsstyleloader",children:"tools.styleLoader"})})]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"rem unit conversion"}),"\n",(0,i.jsx)(n.td,{children:"Optional feature, convert px units in CSS to rem units"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-output.html#outputconverttorem",children:"output.convertToRem"})})})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"html",children:["HTML",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#html",children:"#"})]}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"Features"}),"\n",(0,i.jsx)(n.th,{children:"Description"}),"\n",(0,i.jsx)(n.th,{children:"Links"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Set title"}),"\n",(0,i.jsx)(n.td,{children:"Set HTML title tag"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/guide/basic/html-template.html#set-page-title",children:"Set Page Title"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/api/config-html.html#htmltitle",children:"html.title"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/api/config-html.html#htmltitlebyentries",children:"html.titleByEntries"})})]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Set meta"}),"\n",(0,i.jsx)(n.td,{children:"Set HTML meta tag"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/guide/basic/html-template.html#set-meta-tags",children:"Set Meta Tags"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/api/config-html.html#htmlmeta",children:"html.meta"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/api/config-html.html#htmlmetabyentries",children:"html.metaByEntries"})})]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Set favicon"}),"\n",(0,i.jsx)(n.td,{children:"Set favicon for page"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/guide/basic/html-template.html#set-page-icon",children:"Set Page Icon"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/api/config-html.html#htmlfavicon",children:"html.favicon"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/api/config-html.html#htmlfaviconbyentries",children:"html.faviconByEntries"})})]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Set app icon"}),"\n",(0,i.jsx)(n.td,{children:"Set apple icon for iOS"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/guide/basic/html-template.html#set-page-icon",children:"Set Page Icon"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/api/config-html.html#htmlappicon",children:"html.appIcon"})})]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Use EJS template engine"}),"\n",(0,i.jsx)(n.td,{children:"Optional feature, use EJS template engine"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/guide/basic/html-template.html#ejs",children:"tools.pug"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Use Pug template engine"}),"\n",(0,i.jsx)(n.td,{children:"Optional feature, use pug template engine"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/guide/basic/html-template.html#pug",children:"tools.pug"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Inline JS files"}),"\n",(0,i.jsx)(n.td,{children:"Optional feature, inline JS files into HTML"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/optimization/inline-assets.html",children:"Inline Static Assets"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/api/config-output.html#outputenableinlinescripts",children:"output.enableInlineScripts"})})]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Inline CSS files"}),"\n",(0,i.jsx)(n.td,{children:"Optional feature, inline CSS files into HTML"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/optimization/inline-assets.html",children:"Inline Static Assets"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/api/config-output.html#outputenableinlinestyles",children:"output.enableInlineStyles"})})]})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"development-and-debugging",children:["Development and Debugging",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#development-and-debugging",children:"#"})]}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"Features"}),"\n",(0,i.jsx)(n.th,{children:"Description"}),"\n",(0,i.jsx)(n.th,{children:"Links"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Automatically open page"}),"\n",(0,i.jsx)(n.td,{children:"Optional feature, automatically open page URL in browser when starting Dev Server"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsxs)("li",{children:[(0,i.jsx)(n.a,{href:"/en/api/config-dev.html#devstarturl",children:"dev.startUrl"})," "]})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"HTTPS Dev Server"}),"\n",(0,i.jsx)(n.td,{children:"Optional feature, enable HTTPS Dev Server"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/api/config-dev.html#devhttps",children:"dev.https"})})})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"frontend-framework",children:["Frontend Framework",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#frontend-framework",children:"#"})]}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"Features"}),"\n",(0,i.jsx)(n.th,{children:"Description"}),"\n",(0,i.jsx)(n.th,{children:"Links"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"React Refresh"}),"\n",(0,i.jsx)(n.td,{children:"Support React Refresh by default"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/advanced/hmr.html",children:"Hot Module Replacement"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/api/config-dev.html#devhmr",children:"dev.hmr"})})]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"SVG to React component"}),"\n",(0,i.jsx)(n.td,{children:"Support to import SVG as component by default"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/basic/svg-assets.html",children:"Import SVG Assets"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/api/config-output.html#outputsvgdefaultexport",children:"output.svgDefaultExport"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/api/config-output.html#outputdisablesvgr",children:"output.disableSvgr"})})]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Vue 3 SFC compilation"}),"\n",(0,i.jsx)(n.td,{children:"Optional feature, enable compilation of Vue 3 SFC (Single File Components) files"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/plugins/plugin-vue",children:"Vue Plugin"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Vue 3 JSX compilation"}),"\n",(0,i.jsx)(n.td,{children:"Optional feature, enable compilation of Vue 3 JSX syntax"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/plugins/plugin-vue",children:"Vue Plugin"})})})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"static-assets",children:["Static Assets",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#static-assets",children:"#"})]}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"Features"}),"\n",(0,i.jsx)(n.th,{children:"Description"}),"\n",(0,i.jsx)(n.th,{children:"Links"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Import image assets"}),"\n",(0,i.jsx)(n.td,{children:"Support for import image assets in code"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/basic/static-assets.html",children:"Import Static Assets"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Import font assets"}),"\n",(0,i.jsx)(n.td,{children:"Support for import font assets in code"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/basic/static-assets.html",children:"Import Static Assets"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Import video assets"}),"\n",(0,i.jsx)(n.td,{children:"Support for import video assets in code"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/basic/static-assets.html",children:"Import Static Assets"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Import wasm assets"}),"\n",(0,i.jsx)(n.td,{children:"Support for import WebAssembly assets in code"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/basic/wasm-assets.html",children:"Import Wasm Assets"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Inline static assets"}),"\n",(0,i.jsx)(n.td,{children:"Small assets are inlined into JS by default"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/optimization/inline-assets.html",children:"Inline Static Assets"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/api/config-output.html#outputdataurilimit",children:"output.dataUriLimit"})})]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Clean up static assets"}),"\n",(0,i.jsx)(n.td,{children:"Automatically clean up static assets in the dist directory before each build"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/api/config-output.html#outputcleandistpath",children:"output.cleanDistPath"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Copy static assets"}),"\n",(0,i.jsx)(n.td,{children:"Optional feature, copy static assets to the dist directory"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/api/config-output.html#outputcopy",children:"output.copy"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Generate manifest file"}),"\n",(0,i.jsx)(n.td,{children:"Optional feature, generate manifest file containing static asset information"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/api/config-output.html#outputenableassetmanifest",children:"output.enableAssetManifest"})})})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"performance",children:["Performance",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#performance",children:"#"})]}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"Features"}),"\n",(0,i.jsx)(n.th,{children:"Description"}),"\n",(0,i.jsx)(n.th,{children:"Links"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Chunk Splitting"}),"\n",(0,i.jsx)(n.td,{children:"A variety of chunk splitting strategies are built into Builder to automatically split the bundle into files of moderate size"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/optimization/split-chunk.html",children:"Chunk Splitting Practice"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/api/config-performance.html#performancechunksplit",children:"performance.chunkSplit"})})]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Print File Size"}),"\n",(0,i.jsx)(n.td,{children:"After the production build, All bundle sizes is displayed by default"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/api/config-performance.html#performanceprintfilesize",children:"performance.printFileSize"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Analyze bundle size"}),"\n",(0,i.jsx)(n.td,{children:"Optional feature, analyze bundle size through Bundle Analyzer"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/api/config-performance.html#performancebundleanalyze",children:"performance.bundleAnalyze"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Remove console"}),"\n",(0,i.jsxs)(n.td,{children:["Optional feature, remove ",(0,i.jsx)(n.code,{children:"console.xx"})," in code"]}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/api/config-performance.html#performanceremoveconsole",children:"performance.removeConsole"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Optimize moment.js size"}),"\n",(0,i.jsx)(n.td,{children:"Optional feature, remove the redundant locale files of moment.js"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/en/api/config-performance.html#performanceremovemomentlocale",children:"performance.removeMomentLocale"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Component on-demand import"}),"\n",(0,i.jsx)(n.td,{children:"Optional feature, selectively import code and styles from component libraries"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-source.html#sourcetransformimport",children:"source.transformImport"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Image compression"}),"\n",(0,i.jsx)(n.td,{children:"Optional feature, compress used image resources"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/plugins/plugin-image-compress.html",children:"Image Compress Plugin"})})})}),"\n"]}),"\n"]}),"\n"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fguide%2Ffeatures.mdx"]={toc:[{text:"JavaScript",id:"javascript",depth:2},{text:"CSS",id:"css",depth:2},{text:"HTML",id:"html",depth:2},{text:"Development and Debugging",id:"development-and-debugging",depth:2},{text:"Frontend Framework",id:"frontend-framework",depth:2},{text:"Static Assets",id:"static-assets",depth:2},{text:"Performance",id:"performance",depth:2}],title:"All Features",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},184:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return c}});var t,i=r("9880"),s=r("23169"),l=r.ir(r("85446")),o=r.ir(r("72016")),a=r.ir(r("89186"));function d(e){let n=Object.assign({h1:"h1",a:"a",h2:"h2",p:"p",ul:"ul",li:"li",code:"code",strong:"strong"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"glossary",children:["Glossary",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#glossary",children:"#"})]}),"\n",(0,i.jsxs)(n.h2,{id:"bundler",children:["Bundler",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#bundler",children:"#"})]}),"\n","\n",(0,i.jsx)(l.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"builder",children:["Builder",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builder",children:"#"})]}),"\n","\n",(0,i.jsx)(o.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"rspack",children:["Rspack",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#rspack",children:"#"})]}),"\n","\n",(0,i.jsx)(a.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"builder-provider",children:["Builder Provider",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builder-provider",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder Provider is a part of Builder. Providers implements corresponding build feature based on specific bundlers."}),"\n",(0,i.jsx)(n.p,{children:"Currently there are two Providers:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"@modern-js/builder-webpack-provider"}),": Based on webpack."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"@modern-js/builder-rspack-provider"}),": Based on rspack."]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"modernjs",children:["Modern.js",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#modernjs",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Modern.js is an open source web engineering system from ByteDance"}),", which provides multiple solutions to help developers solve problems in different development scenarios."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://github.com/web-infra-dev/modern.js",target:"_blank",rel:"noopener noreferrer",children:"Modern.js Repository"}),"."]}),"\n",(0,i.jsxs)(n.h2,{id:"edenx",children:["EdenX",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#edenx",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"ByteDance's internal web engineering system, implemented based on Modern.js."})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fguide%2Fglossary.mdx"]={toc:[{text:"Bundler",id:"bundler",depth:2},{text:"Builder",id:"builder",depth:2},{text:"Rspack",id:"rspack",depth:2},{text:"Builder Provider",id:"builder-provider",depth:2},{text:"Modern.js",id:"modernjs",depth:2},{text:"EdenX",id:"edenx",depth:2}],title:"Glossary",frontmatter:{}};var c=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},74885:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return c}});var t,i=r("9880"),s=r("23169"),l=r.ir(r("64290")),o=r.ir(r("70792")),a=r.ir(r("69571"));function d(e){let n=Object.assign({h1:"h1",a:"a",p:"p",strong:"strong",h2:"h2",img:"img",ul:"ul",li:"li",h3:"h3",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"introduction",children:["Introduction",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#introduction",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Modern.js Builder is ",(0,i.jsx)(n.strong,{children:"a Build Engine for web development"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"With the growing of the front-end ecosystem, more and more build tools and plugins are created. For most developers, the configuration and dependencies required to build a web application have become complex; the cost of finding best practices for developers has also risen."}),"\n",(0,i.jsx)(n.p,{children:"In order to reduce the complexity and make it easier to build a project, we abstracted the build abilities based on the practical experience of Modern.js, and created the open source tool Modern.js Builder."}),"\n",(0,i.jsxs)(n.h2,{id:"rust-tools",children:["Rust Tools",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#rust-tools",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["In recent years, the trend in front-end toolchain has been to re-implement them with native programming languages like Rust for better performance. Some high-performance tools have created, such as ",(0,i.jsx)(n.a,{href:"https://swc.rs/",target:"_blank",rel:"noopener noreferrer",children:"SWC"}),", ",(0,i.jsx)(n.a,{href:"/guide/glossary#rspack",children:"Rspack"}),", etc., and their use is gradually expanding. However, there are many differences between these Rust tools and JavaScript tools, including functional differences, configuration inconsistencies, which make it difficult for users to migrate."]}),"\n",(0,i.jsxs)(n.p,{children:["The Rust process of the front-end toolchain will continue for a long time, ",(0,i.jsx)(n.strong,{children:"Modern.js Builder is expected to help developers better transition to Rust tools"}),". Whether it's JavaScript tools, Rust tools, or even low-level bundlers like webpack, they're all replaceable components in Modern.js Builder. You can incrementally replace these components by turning on configuration or enabling plugins, and Modern.js Builder will smooth out the major differences and help users migrate."]}),"\n",(0,i.jsxs)(n.h2,{id:"position",children:["Position",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#position",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Modern.js Builder is a build engine serving the upper-level front-end frameworks. It focuses on solving problems in web application building, and expects to provide out-of-box building abilities for front-end frameworks."}),"\n",(0,i.jsx)("img",{src:"https://lf3-static.bytednsdoc.com/obj/eden-cn/zq-uylkvT/ljhwZthlaukjlkulzlp/builder-layers-1117.png",style:{maxWidth:"540px",width:"100%"}}),"\n",(0,i.jsx)(n.p,{children:"If you are developing a front-end framework, or developing a scaffolding for a front-end application, Builder can provide most of the build logics for you, which allowing you to focus on implementing other features of the framework."}),"\n",(0,i.jsx)(n.p,{children:"If you are a business developer, in most cases, you do not need to manually install Builder in your projects. We recommend that you use the upper-level frameworks based on Builder."}),"\n",(0,i.jsx)(n.p,{children:"Currently, the following front-end frameworks are already using Builder:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://github.com/web-infra-dev/modern.js",target:"_blank",rel:"noopener noreferrer",children:"Modern.js"})," Framework (Open source)."]}),"\n",(0,i.jsx)(n.li,{children:"EdenX Framework and PIA Framework inside ByteDance."}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"features",children:["Features",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#features",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"support-rspack-build",children:["Support Rspack Build",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#support-rspack-build",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Builder supports both webpack and Rspack"}),", so you can switch between the stable Webpack and the faster Rspack."]}),"\n","\n",(0,i.jsx)(l.default,{}),"\n",(0,i.jsxs)(n.p,{children:["By default, Builder uses webpack 5 as the bundler. Although the compilation speed of webpack is not ideal, it is still the most mature and ecological bundler in the community. Based on webpack, Builder integrates ",(0,i.jsx)(n.a,{href:"https://github.com/babel/babel",target:"_blank",rel:"noopener noreferrer",children:"Babel"}),", ",(0,i.jsx)(n.a,{href:"https://github.com/postcss/postcss",target:"_blank",rel:"noopener noreferrer",children:"PostCSS"}),", ",(0,i.jsx)(n.a,{href:"https://github.com/terser/terser",target:"_blank",rel:"noopener noreferrer",children:"terser"})," and other tools to transform or minify codes. Builder also supports replacing some compile tools with native tools to improve compilation speed, such as replacing babel/terser with ",(0,i.jsx)(n.a,{href:"https://github.com/swc-project/swc",target:"_blank",rel:"noopener noreferrer",children:"swc"})," or ",(0,i.jsx)(n.a,{href:"https://github.com/evanw/esbuild",target:"_blank",rel:"noopener noreferrer",children:"esbuild"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["If you have higher build performance requirements, you can easily switch to Rspack build mode, see ",(0,i.jsx)(n.a,{href:"/guide/advanced/rspack-start",children:"Using Rspack"})," for more information."]}),"\n",(0,i.jsxs)(n.h3,{id:"deep-optimization",children:["Deep optimization",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#deep-optimization",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder ",(0,i.jsx)(n.strong,{children:"makes full use of various optimization strategies"})," in the webpack ecosystem to ensure the product performance in the production environment."]}),"\n",(0,i.jsxs)(n.p,{children:["Taking the chunk splitting scenario as an example, the webpack's splitChunks config is complex, and Builder makes it as an out-of-the-box ",(0,i.jsx)(n.a,{href:"/en/api/config-performance#performancechunksplit",children:"performance.chunkSplit"})," config, it will split common third-party libraries into chunks to make page loading faster."]}),"\n",(0,i.jsxs)(n.h3,{id:"extensible-plugin-system",children:["Extensible Plugin System",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#extensible-plugin-system",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Provides rich configuration items and a flexible plugin system to support in-depth customization of all features."}),"\n",(0,i.jsx)(n.p,{children:"For Builder, all building abilities are achieved through plugins:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Most of the plugins are lightweight, built in Builder, and developers can enable or disable them through configs."}),"\n",(0,i.jsx)(n.li,{children:"Some plugins are more complex and developed as independent npm packages, developers can install and use them as needed."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Builder also supports custom plugins, so framework developers can develop custom plugins to meet customized requirements."}),"\n",(0,i.jsxs)(n.h2,{id:"npm-packages",children:["npm packages",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#npm-packages",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Below is the npm package published by Builder."}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"Package"}),"\n",(0,i.jsx)(n.th,{children:"Version"}),"\n",(0,i.jsx)(n.th,{children:"Description"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/@modern-js/builder",target:"_blank",rel:"noopener noreferrer",children:"@modern-js/builder"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.img,{src:"https://img.shields.io/npm/v/@modern-js/builder?style=flat-square",alt:""})}),"\n",(0,i.jsx)(n.td,{children:"Core package of Builder"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/@modern-js/builder-cli",target:"_blank",rel:"noopener noreferrer",children:"@modern-js/builder-cli"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.img,{src:"https://img.shields.io/npm/v/@modern-js/builder-cli?style=flat-square",alt:""})}),"\n",(0,i.jsx)(n.td,{children:"CLI of Builder"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/@modern-js/builder-webpack-provider",target:"_blank",rel:"noopener noreferrer",children:"@modern-js/builder-webpack-provider"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.img,{src:"https://img.shields.io/npm/v/@modern-js/builder-webpack-provider?style=flat-square",alt:""})}),"\n",(0,i.jsx)(n.td,{children:"Provides webpack build ability"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/@modern-js/builder-rspack-provider",target:"_blank",rel:"noopener noreferrer",children:"@modern-js/builder-rspack-provider"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.img,{src:"https://img.shields.io/npm/v/@modern-js/builder-rspack-provider?style=flat-square",alt:""})}),"\n",(0,i.jsx)(n.td,{children:"Provides Rspack build ability"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/@modern-js/builder-plugin-vue",target:"_blank",rel:"noopener noreferrer",children:"@modern-js/builder-plugin-vue"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.img,{src:"https://img.shields.io/npm/v/@modern-js/builder-plugin-vue?style=flat-square",alt:""})}),"\n",(0,i.jsx)(n.td,{children:"Vue 3 Plugin"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/@modern-js/builder-plugin-swc",target:"_blank",rel:"noopener noreferrer",children:"@modern-js/builder-plugin-swc"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.img,{src:"https://img.shields.io/npm/v/@modern-js/builder-plugin-swc?style=flat-square",alt:""})}),"\n",(0,i.jsx)(n.td,{children:"SWC Plugin"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/@modern-js/builder-plugin-stylus",target:"_blank",rel:"noopener noreferrer",children:"@modern-js/builder-plugin-stylus"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.img,{src:"https://img.shields.io/npm/v/@modern-js/builder-plugin-stylus?style=flat-square",alt:""})}),"\n",(0,i.jsx)(n.td,{children:"Stylus Plugin"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/@modern-js/builder-plugin-esbuild",target:"_blank",rel:"noopener noreferrer",children:"@modern-js/builder-plugin-esbuild"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.img,{src:"https://img.shields.io/npm/v/@modern-js/builder-plugin-esbuild?style=flat-square",alt:""})}),"\n",(0,i.jsx)(n.td,{children:"Esbuild Plugin"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/@modern-js/builder-plugin-node-polyfill",target:"_blank",rel:"noopener noreferrer",children:"@modern-js/builder-plugin-node-polyfill"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.img,{src:"https://img.shields.io/npm/v/@modern-js/builder-plugin-node-polyfill?style=flat-square",alt:""})}),"\n",(0,i.jsx)(n.td,{children:"Node Polyfill Plugin"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/@modern-js/builder-plugin-image-compress",target:"_blank",rel:"noopener noreferrer",children:"@modern-js/builder-plugin-image-compress"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.img,{src:"https://img.shields.io/npm/v/@modern-js/builder-plugin-image-compress?style=flat-square",alt:""})}),"\n",(0,i.jsx)(n.td,{children:"Image Compress Plugin"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/@modern-js/builder-shared",target:"_blank",rel:"noopener noreferrer",children:"@modern-js/builder-shared"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.img,{src:"https://img.shields.io/npm/v/@modern-js/builder-shared?style=flat-square",alt:""})}),"\n",(0,i.jsx)(n.td,{children:"Shared modules of Builder"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/@modern-js/builder-doc",target:"_blank",rel:"noopener noreferrer",children:"@modern-js/builder-doc"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.img,{src:"https://img.shields.io/npm/v/@modern-js/builder-doc?style=flat-square",alt:""})}),"\n",(0,i.jsx)(n.td,{children:"Documentation snippets of Builder"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["You can view the source code of these packages in the ",(0,i.jsx)(n.a,{href:"https://github.com/web-infra-dev/modern.js/tree/main/packages/builder/",target:"_blank",rel:"noopener noreferrer",children:"packages/builder"})," directory of the modern.js repository."]}),"\n",(0,i.jsxs)(n.h2,{id:"next-step",children:["Next Step",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#next-step",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"You may want:"}),"\n","\n",(0,i.jsxs)(o.default,{children:[(0,i.jsx)(a.default,{href:"/guide/quick-start.html",title:"Quick Start",description:"Learn how to use Builder"}),(0,i.jsx)(a.default,{href:"/guide/features.html",title:"All Features",description:"Learn all features of Builder"}),(0,i.jsx)(a.default,{href:"/api/index.html",title:"API Reference",description:"View detailed API documentation"})]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fguide%2Fintroduction.mdx"]={toc:[{text:"Rust Tools",id:"rust-tools",depth:2},{text:"Position",id:"position",depth:2},{text:"Features",id:"features",depth:2},{text:"Support Rspack Build",id:"support-rspack-build",depth:3},{text:"Deep optimization",id:"deep-optimization",depth:3},{text:"Extensible Plugin System",id:"extensible-plugin-system",depth:3},{text:"npm packages",id:"npm-packages",depth:2},{text:"Next Step",id:"next-step",depth:2}],title:"Introduction",frontmatter:{}};var c=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},38281:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var t,i=r("9880"),s=r("23169"),l=r.ir(r("89186"));function o(e){let n=Object.assign({h1:"h1",a:"a",p:"p",div:"div",h2:"h2",h3:"h3",strong:"strong",pre:"pre",code:"code",ul:"ul",li:"li",blockquote:"blockquote"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"improve-build-performance",children:["Improve Build Performance",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#improve-build-performance",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Modern.js Builder optimizes build performance by default, but as the project becomes larger, you may encounter some build performance problems."}),"\n",(0,i.jsx)(n.p,{children:"This document provides some optional speed-up strategies, developers can choose some of them to improve the build performance."}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"\uD83D\uDCE2 Notice"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["The strategies in ",(0,i.jsx)(n.a,{href:"/en/guide/optimization/optimize-bundle",children:"Bundle Size Optimization"})," can also be used to improve build performance, so we won't repeat them here.\n"]})})]}),"\n",(0,i.jsxs)(n.h2,{id:"general-optimization-strategy",children:["General optimization strategy",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#general-optimization-strategy",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The following are some general optimization strategies, which can speed up the development build and production build, and some of them also optimize the bundle size."}),"\n",(0,i.jsxs)(n.h3,{id:"upgrade-nodejs-version",children:["Upgrade Node.js version",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#upgrade-nodejs-version",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["In general, updating Node.js to the latest ",(0,i.jsx)(n.a,{href:"https://github.com/nodejs/release#release-schedule",target:"_blank",rel:"noopener noreferrer",children:"LTS release"})," will help improve build performance."]}),"\n",(0,i.jsx)(n.p,{children:"Especially for devices with Apple M1/M2 chips, it is recommended to use Node 16 or Node 18."}),"\n",(0,i.jsxs)(n.p,{children:["Node 16 provides Apple Silicon binaries by default, so the performance on M1/M2 models will be greatly improved than Node 14. According to our tests, ",(0,i.jsx)(n.strong,{children:"After switching from Node 14 to Node 16, the compilation speed can be improved by more than 100%"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"You can switch to Node 16 by following steps:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Install Node.js v16\nnvm install 16\n\n# switch to Node 16\nnvm use 16\n\n# Set Node 16 as the default version\nnvm default 16\n\n# View Node version\nnode -v\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"using-rspack-build",children:["Using Rspack build",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#using-rspack-build",children:"#"})]}),"\n","\n",(0,i.jsx)(l.default,{}),"\n",(0,i.jsxs)(n.p,{children:["If you have higher build performance requirements, you can easily switch to Rspack build mode, see ",(0,i.jsx)(n.a,{href:"/guide/advanced/rspack-start",children:"Using Rspack"})," for more information."]}),"\n",(0,i.jsxs)(n.h3,{id:"using-swc-or-esbuild",children:["Using SWC or esbuild",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#using-swc-or-esbuild",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://SWC.rs/",target:"_blank",rel:"noopener noreferrer",children:"SWC"})," (Speedy Web Compiler) is a transformer and minimizer for JavaScript and TypeScript based on ",(0,i.jsx)(n.code,{children:"Rust"}),". SWC can provide the same abilities with Babel, and it's more than 10x faster than Babel."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://esbuild.github.io/",target:"_blank",rel:"noopener noreferrer",children:"esbuild"})," is a front-end build tool based on Golang. It has the functions of bundling, compiling and minimizing JavaScript code. Compared with traditional tools, the performance is significantly improved. When minimizing code, compared to webpack's built-in terser minimizer, esbuild has dozens of times better performance."]}),"\n",(0,i.jsx)(n.p,{children:"Builder provides SWC plugin and esbuild plugin that allow you to use SWC or esbuild instead of babel-loader, ts-loader and terser for transformation and minification process. See:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/plugins/plugin-swc",children:"SWC plugin document"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/plugins/plugin-esbuild",children:"esbuild plugin document"})}),"\n"]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"SWC vs esbuild"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"The SWC compiled outputs has better compatibility, supports polyfills such as core-js, and has more complete features, so it is recommended to use the SWC plugin first."})})]}),"\n",(0,i.jsxs)(n.h3,{id:"avoid-using-ts-loader",children:["Avoid using ts-loader",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#avoid-using-ts-loader",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["By default, Builder uses Babel to compile TS files. After enabling the ",(0,i.jsx)(n.a,{href:"/en/api/config-tools#toolstsloader",children:"tools.tsLoader"})," option, ",(0,i.jsx)(n.code,{children:"ts-loader"})," will be used to compile TS files."]}),"\n",(0,i.jsxs)(n.p,{children:["Please avoid using ",(0,i.jsx)(n.code,{children:"ts-loader"})," because it requires additional parsing and type checking, which will slow down the build."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    // remove this config\n    tsLoader: {},\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["See the ",(0,i.jsx)(n.a,{href:"/en/api/config-tools#toolstsloader",children:"tools.tsLoader documentation"})," for details."]}),"\n",(0,i.jsxs)(n.h2,{id:"development-optimization-strategies",children:["Development optimization strategies",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#development-optimization-strategies",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The following are strategies for improve build performance in development environment."}),"\n",(0,i.jsxs)(n.h3,{id:"enable-lazy-compilation",children:["Enable Lazy Compilation",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#enable-lazy-compilation",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"You can enable the lazy compilation (i.e. on-demand compilation) to improve the compilation startup speed."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  experiments: {\n    lazyCompilation: {\n      imports: true,\n      entries: false,\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["This is an experimental feature and may not work correctly in some scenarios, see ",(0,i.jsx)(n.a,{href:"/en/api/config-experiments#experiments-lazycompilation",children:"experiments.lazyCompilation"})," for details."]}),"\n",(0,i.jsxs)(n.h3,{id:"adjust-source-map-format",children:["Adjust Source Map format",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#adjust-source-map-format",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["In order to provide a good debugging experience, Builder uses the ",(0,i.jsx)(n.code,{children:"cheap-module-source-map"})," format Source Map by default in the development environment, which is a high-quality Source Map format and will bring certain performance overhead."]}),"\n",(0,i.jsx)(n.p,{children:"You can improve build speed by adjusting the source map format of your development environment."}),"\n",(0,i.jsx)(n.p,{children:"For example to disable Source Map:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpackChain(chain, { env }) {\n      if (env === 'development') {\n        chain.devtool(false);\n      }\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Or set the source map format of the development environment to the cheapest ",(0,i.jsx)(n.code,{children:"eval"})," format:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpackChain(chain, { env }) {\n      if (env === 'development') {\n        chain.devtool('eval');\n      }\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["For detailed differences between different Source Map formats, see ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/configuration/devtool/",target:"_blank",rel:"noopener noreferrer",children:"webpack - devtool"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"adjust-browserslist-for-development",children:["Adjust Browserslist for development",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#adjust-browserslist-for-development",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["This strategy is similar to ",(0,i.jsx)(n.a,{href:"/en/guide/optimization/optimize-bundle#adjust-browserslist",children:'"Adjust Browserslist"'}),", the difference is that we can set different browserslist for development and production environment, thereby reducing the compilation overhead in the development environment."]}),"\n",(0,i.jsxs)(n.p,{children:["For example, you can add the following config to ",(0,i.jsx)(n.code,{children:"package.json"}),", which means that only the latest browsers are compatible in the development environment, and the actual browsers are compatible in the production environment:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "browserslist": {\n    "production": [">0.2%", "not dead", "not op_mini all"],\n    "development": [\n      "last 1 chrome version",\n      "last 1 firefox version",\n      "last 1 safari version"\n    ]\n  }\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"Note that this strategy can lead to some differences in the build result of development production environment."}),"\n",(0,i.jsxs)(n.h2,{id:"production-optimization-strategies",children:["Production optimization strategies",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#production-optimization-strategies",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The following are strategies for improve build performance in production environment."}),"\n",(0,i.jsxs)(n.h3,{id:"disable-source-map",children:["Disable Source Map",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#disable-source-map",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["If your project does not need Source Map in the production, you can turn it off through the ",(0,i.jsx)(n.code,{children:"disableSourceMap"})," config to improve the build speed."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    disableSourceMap: true,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["See ",(0,i.jsx)(n.a,{href:"/en/api/config-output#outputdisablesourcemap",children:"output.disableSourceMap"})," for details."]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fguide%2Foptimization%2Fbuild-performance.mdx"]={toc:[{text:"General optimization strategy",id:"general-optimization-strategy",depth:2},{text:"Upgrade Node.js version",id:"upgrade-nodejs-version",depth:3},{text:"Using Rspack build",id:"using-rspack-build",depth:3},{text:"Using SWC or esbuild",id:"using-swc-or-esbuild",depth:3},{text:"Avoid using ts-loader",id:"avoid-using-ts-loader",depth:3},{text:"Development optimization strategies",id:"development-optimization-strategies",depth:2},{text:"Enable Lazy Compilation",id:"enable-lazy-compilation",depth:3},{text:"Adjust Source Map format",id:"adjust-source-map-format",depth:3},{text:"Adjust Browserslist for development",id:"adjust-browserslist-for-development",depth:3},{text:"Production optimization strategies",id:"production-optimization-strategies",depth:2},{text:"Disable Source Map",id:"disable-source-map",depth:3}],title:"Improve Build Performance",frontmatter:{}};var a=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},74158:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",pre:"pre",code:"code",h3:"h3",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"inline-static-assets",children:["Inline Static Assets",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#inline-static-assets",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Inline static assets refer to the practice of including the content of a static asset directly in a HTML or JS file, instead of linking to an external file. This can improve the performance of a website by reducing the number of HTTP requests that the browser has to make to load the page."}),"\n",(0,i.jsx)(n.p,{children:"However, static resource inlining also has some disadvantages, such as increasing the size of a single file, which may lead to slower loading. Therefore, in the actual scenario, it is necessary to decide whether to use static resource inlining according to the specific situation."}),"\n",(0,i.jsx)(n.p,{children:"Builder will automatically inline static assets that are less than 10KB, but sometimes you may need to manually control assets to force them to be inlined or not, and this document explains how to precisely control the inlining behavior of static assets."}),"\n",(0,i.jsxs)(n.h2,{id:"automatic-inlining",children:["Automatic Inlining",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#automatic-inlining",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"By default, Builder will inline assets when the file size of is less than a threshold (the default is 10KB). When inlined, the asset will be converted to a Base64 encoded string and will no longer send a separate HTTP request. When the file size is greater than this threshold, it is loaded as a separate file with a separate HTTP request."}),"\n",(0,i.jsxs)(n.p,{children:["The threshold can be modified with the ",(0,i.jsx)(n.a,{href:"/en/api/config-output#outputdataurilimit",children:"output.dataUriLimit"})," config. For example, set the threshold of images to 5000 Bytes, and set media assets not to be inlined:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    dataUriLimit: {\n      image: 5000,\n      media: 0,\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"force-inlining",children:["Force Inlining",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#force-inlining",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["You can force an asset to be inlined by adding the ",(0,i.jsx)(n.code,{children:"inline"})," query when importing the asset, regardless of whether the asset's size is smaller than the size threshold."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"import React from 'react';\nimport img from '. /foo.png?inline';\n\nexport default function Foo() {\n  return <img src={img} />;\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["In the above example, the ",(0,i.jsx)(n.code,{children:"foo.png"})," image will always be inlined, regardless of whether the size of the image is larger than the threshold."]}),"\n",(0,i.jsxs)(n.p,{children:["In addition to the ",(0,i.jsx)(n.code,{children:"inline"})," query, you can also use the ",(0,i.jsx)(n.code,{children:"__inline"})," query to force inlining of the asset:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"import img from '. /foo.png?__inline';\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"referenced-from-css-file",children:["Referenced from CSS file",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#referenced-from-css-file",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When you reference a static asset in your CSS file, you can also force inline the asset with the ",(0,i.jsx)(n.code,{children:"inline"})," or ",(0,i.jsx)(n.code,{children:"__inline"})," queries."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-css",children:".foo {\n  background-image: url('. /icon.png?inline');\n}\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"Do you really need to force inlining?"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"Inline large assets will significantly increase the first paint time or first contentful paint time of a page, which will hurt user experience. And when you inline a static asset multiple times into a CSS file, the base64 content will be repeatedly injected, causing the bundle size to grow . Please use forced inlining with caution."})})]}),"\n",(0,i.jsxs)(n.h2,{id:"force-no-inlining",children:["Force no inlining",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#force-no-inlining",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When you want to always treat some assets as separate files, no matter how small the asset is, you can add the ",(0,i.jsx)(n.code,{children:"url"})," query to force the asset not to be inlined."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"import React from 'react';\nimport img from '. /foo.png?url';\n\nexport default function Foo() {\n  return <img src={img} />;\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["In the above example, the ",(0,i.jsx)(n.code,{children:"foo.png"})," image will always be loaded as a separate file, even if the size of the image is smaller than the threshold."]}),"\n",(0,i.jsxs)(n.p,{children:["In addition to the ",(0,i.jsx)(n.code,{children:"url"})," query, you can also use the ",(0,i.jsx)(n.code,{children:"__inline=false"})," query to force the asset not to be inlined:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"import img from '. /foo.png?__inline=false';\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"referenced-from-css-file-1",children:["Referenced from CSS file",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#referenced-from-css-file-1",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When you reference a static asset in your CSS file, you can also force the asset not to be inlined with ",(0,i.jsx)(n.code,{children:"url"})," or ",(0,i.jsx)(n.code,{children:"__inline=false"})," queries."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-css",children:".foo {\n  background-image: url('. /icon.png?url');\n}\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"Do you really need to exclude assets from inlining?"}),(0,i.jsxs)(n.div,{className:"modern-directive-content",children:[(0,i.jsx)(n.p,{children:"Excluding assets from inlining will increase the number of assets that the Web App needs to load. This will reduce the efficiency of loading assets in a weak network environment or in scenarios where HTTP2 is not enabled. Please use force no Inline with caution."}),"\n",(0,i.jsxs)(n.h2,{id:"inline-js-files",children:["Inline JS files",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#inline-js-files",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"In addition to inlining static resource files into JS files, Builder also supports inlining JS files into HTML files."}),"\n",(0,i.jsxs)(n.p,{children:["Just enable the ",(0,i.jsx)(n.a,{href:"/en/api/config-output#outputenableinlinescripts",children:"output.enableInlineScripts"})," config, and the generated JS files will not be written into the output directory, but will be directly inlined to the corresponding in the HTML file."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    enableInlineScripts: true,\n  },\n};\n"})}),"\n"]})]}),"\n",(0,i.jsxs)(n.h2,{id:"inline-css-files",children:["Inline CSS files",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#inline-css-files",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"You can also inline CSS files into HTML files."}),"\n",(0,i.jsxs)(n.p,{children:["Just enable the ",(0,i.jsx)(n.a,{href:"/en/api/config-output#outputenableinlinestyles",children:"output.enableInlineStyles"})," config, the generated CSS file will not be written into the output directory, but will be directly inlined to the corresponding in the HTML file."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    enableInlineStyles: true,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"add-type-declaration",children:["Add Type Declaration",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#add-type-declaration",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When you use URL queries such as ",(0,i.jsx)(n.code,{children:"?inline"})," and ",(0,i.jsx)(n.code,{children:"?url"})," in TypeScript code, TypeScript may prompt that the module is missing a type definition:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"TS2307: Cannot find module './logo.png?inline' or its corresponding type declarations.\n"})}),"\n",(0,i.jsxs)(n.p,{children:["To fix this, you can add type declarations for these URL queries, please create ",(0,i.jsx)(n.code,{children:"src/global.d.ts"})," file and add the following type declarations:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"declare module '*?inline' {\n  const content: string;\n  export default content;\n}\n\ndeclare module '*?inline' {\n  const content: string;\n  export default content;\n}\n\ndeclare module '*?__inline' {\n  const content: string;\n  export default content;\n}\n\ndeclare module '*?inline=false' {\n  const content: string;\n  export default content;\n}\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fguide%2Foptimization%2Finline-assets.md"]={toc:[{text:"Automatic Inlining",id:"automatic-inlining",depth:2},{text:"Force Inlining",id:"force-inlining",depth:2},{text:"Referenced from CSS file",id:"referenced-from-css-file",depth:3},{text:"Force no inlining",id:"force-no-inlining",depth:2},{text:"Referenced from CSS file",id:"referenced-from-css-file-1",depth:3},{text:"Inline JS files",id:"inline-js-files",depth:2},{text:"Inline CSS files",id:"inline-css-files",depth:2},{text:"Add Type Declaration",id:"add-type-declaration",depth:2}],title:"Inline Static Assets",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},32699:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",ul:"ul",li:"li",code:"code",pre:"pre",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"bundle-size-optimization",children:["Bundle Size Optimization",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#bundle-size-optimization",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Bundle size optimization is an important part in production environment because it directly affects the user experience of online users. In this document, we will introduce some common bundle size optimization methods in Builder."}),"\n",(0,i.jsxs)(n.h2,{id:"reduce-duplicate-dependencies",children:["Reduce duplicate dependencies",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#reduce-duplicate-dependencies",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"In real projects, there will be some third-party dependencies installed with multiple versions. Duplicate dependencies can lead to larger bundles and slower builds."}),"\n",(0,i.jsx)(n.p,{children:"We can detect or eliminate duplicate dependencies with some community tools."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["If you are using ",(0,i.jsx)(n.code,{children:"pnpm >= 7.26.0"}),", you can use the ",(0,i.jsx)(n.a,{href:"https://pnpm.io/cli/dedupe",target:"_blank",rel:"noopener noreferrer",children:"pnpm dedupe"})," command to upgrade and eliminate duplicate dependencies."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"pnpm dedupe\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["If you are using ",(0,i.jsx)(n.code,{children:"pnpm < 7.26.0"}),", you can use ",(0,i.jsx)(n.a,{href:"https://github.com/ocavue/pnpm-deduplicate",target:"_blank",rel:"noopener noreferrer",children:"pnpm-deduplicate"})," to analyze all duplicate dependencies, then update dependencies or declare ",(0,i.jsx)(n.a,{href:"https://pnpm.io/package_json#pnpmoverrides",target:"_blank",rel:"noopener noreferrer",children:"pnpm overrides"})," to merge duplicated dependencies."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npx pnpm-deduplicate --list\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["If you are using ",(0,i.jsx)(n.code,{children:"yarn"}),", you can use ",(0,i.jsx)(n.a,{href:"https://github.com/scinos/yarn-deduplicate",target:"_blank",rel:"noopener noreferrer",children:"yarn-deduplicate"})," to automatically merge duplicated dependencies:"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npx yarn-deduplicate && yarn\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"use-lightweight-libraries",children:["Use lightweight libraries",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#use-lightweight-libraries",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["It is recommended to using lightweight libraries in your project, such as replacing ",(0,i.jsx)(n.a,{href:"https://momentjs.com/",target:"_blank",rel:"noopener noreferrer",children:"moment"})," with ",(0,i.jsx)(n.a,{href:"https://day.js.org/",target:"_blank",rel:"noopener noreferrer",children:"day.js"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["If you want to find out the large libraries in the project, you can add the ",(0,i.jsx)(n.code,{children:"BUNDLE_ANALYZE=true"})," environment variable when building:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"BUNDLE_ANALYZE=true pnpm build\n"})}),"\n",(0,i.jsxs)(n.p,{children:["See the ",(0,i.jsx)(n.a,{href:"/api/config-performance#performancebundleanalyze",children:"performance.bundleAnalyze"})," configuration for details."]}),"\n",(0,i.jsxs)(n.h2,{id:"adjust-browserslist",children:["Adjust Browserslist",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#adjust-browserslist",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The Builder will compile the code according to the project's Browserslist config, and inject some Polyfills. If the project does not need to be compatible with legacy browsers, you can adjust the Browserslist and drop some legacy browsers, thereby reducing the compilation overhead on syntax and polyfill."}),"\n",(0,i.jsx)(n.p,{children:"Builder's default Browserslist config is:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"['> 0.01%', 'not dead', 'not op_mini all'];\n"})}),"\n",(0,i.jsx)(n.p,{children:"For example, if you only need to be compatible with browsers above Chrome 61, you can change it to:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"['Chrome >= 61'];\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["Please read the ",(0,i.jsx)(n.a,{href:"/guide/advanced/browserslist",children:"Browserslist"})," chapter to know more about the usage of Browserslist.\n"]})})]}),"\n",(0,i.jsxs)(n.h2,{id:"usage-polyfill",children:["Usage polyfill",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#usage-polyfill",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When it is clear that third-party dependencies do not require additional polyfill, you can set ",(0,i.jsx)(n.a,{href:"/en/api/config-output#outputpolyfill",children:"output.polyfill"})," to ",(0,i.jsx)(n.code,{children:"usage"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["In ",(0,i.jsx)(n.code,{children:"usage"})," mode, Builder analyzes the syntax used in the source code and injects the required polyfill code on demand to reduce the size of polyfill."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    polyfill: 'usage',\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["Please read the ",(0,i.jsx)(n.a,{href:"/guide/advanced/browser-compatibility",children:"Browser Compatibility"})," chapter to know more about the usage of Browserslist.\n"]})})]}),"\n",(0,i.jsxs)(n.h2,{id:"image-compression",children:["Image Compression",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#image-compression",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"In general front-end projects, the size of image often accounts for a large proportion of the total bundle size of the project.So if the image size can be reduced as much as possible, it will have a significant optimization effect on the project bundle size. You can enable image compression by registering a plugin in the Builder:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import { builderPluginImageCompress } from '@modern-js/builder-plugin-image-compress';\n\n// Add the plugin to the Builder\nbuilder.addPlugins([builderPluginImageCompress()]);\n"})}),"\n",(0,i.jsxs)(n.p,{children:["See details in ",(0,i.jsx)(n.a,{href:"/en/plugins/plugin-image-compress",children:"plugin-image-compress"}),"."]}),"\n",(0,i.jsxs)(n.h2,{id:"split-chunk",children:["Split Chunk",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#split-chunk",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"A great chunk splitting strategy is very important to improve the loading performance of the application. It can make full use of the browser's caching mechanism to reduce the number of requests and improve the loading speed of the application."}),"\n",(0,i.jsxs)(n.p,{children:["A variety of ",(0,i.jsx)(n.a,{href:"/en/guide/optimization/split-chunk",children:"chunk splitting strategies"})," are built into Builder, which can meet the needs of most applications. You can also customize the chunk splitting config according to your own business scenarios."]}),"\n",(0,i.jsxs)(n.p,{children:["For example, split the ",(0,i.jsx)(n.code,{children:"axios"})," library under node_modules into ",(0,i.jsx)(n.code,{children:"axios.js"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  performance: {\n    chunkSplit: {\n      strategy: 'split-by-experience',\n      forceSplitting: {\n        axios: /node_modules\\/axios/,\n      },\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fguide%2Foptimization%2Foptimize-bundle.md"]={toc:[{text:"Reduce duplicate dependencies",id:"reduce-duplicate-dependencies",depth:2},{text:"Use lightweight libraries",id:"use-lightweight-libraries",depth:2},{text:"Adjust Browserslist",id:"adjust-browserslist",depth:2},{text:"Usage polyfill",id:"usage-polyfill",depth:2},{text:"Image Compression",id:"image-compression",depth:2},{text:"Split Chunk",id:"split-chunk",depth:2}],title:"Bundle Size Optimization",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},71202:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",blockquote:"blockquote",ul:"ul",li:"li",code:"code",h3:"h3",h4:"h4",pre:"pre",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"chunk-splitting-practice",children:["Chunk Splitting Practice",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chunk-splitting-practice",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"A great chunk splitting strategy is very important to improve the loading performance of the application. It can make full use of the browser's caching mechanism to reduce the number of requests and improve the loading speed of the application."}),"\n",(0,i.jsx)(n.p,{children:"A variety of chunk splitting strategies are built into Builder, which can meet the needs of most applications. You can also customize the chunk splitting config according to your own business scenarios."}),"\n",(0,i.jsxs)(n.h2,{id:"splitting-strategies",children:["Splitting Strategies",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#splitting-strategies",children:"#"})]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["The chunk splitting config of Builder is in ",(0,i.jsx)(n.a,{href:"/en/api/config-performance#performancechunksplit",children:"performance.chunkSplit"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Builder supports the following chunk splitting strategies:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"split-by-experience"}),": an empirical splitting strategy, automatically splits some commonly used npm packages into chunks of moderate size."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"split-by-module"}),": split by NPM package granularity, each NPM package corresponds to a chunk."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"split-by-size"}),": automatically split according to module size."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"all-in-one"}),": bundle all codes into one chunk."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"single-vendor"}),": bundle all NPM packages into a single chunk."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"custom"}),": custom chunk splitting strategy."]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"split-by-experience",children:["split-by-experience",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#split-by-experience",children:"#"})]}),"\n",(0,i.jsxs)(n.h4,{id:"behavior",children:["Behavior",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#behavior",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder adopts the ",(0,i.jsx)(n.code,{children:"split-by-experience"})," strategy by default, which is a strategy we have developed from experience. Specifically, when the following npm packages are referenced in your project, they will automatically be split into separate chunks:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"lib-polyfill.js"}),": includes ",(0,i.jsx)(n.code,{children:"core-js"}),", ",(0,i.jsx)(n.code,{children:"@babel/runtime"}),", ",(0,i.jsx)(n.code,{children:"@swc/helpers"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"lib-react.js"}),": includes ",(0,i.jsx)(n.code,{children:"react"}),", ",(0,i.jsx)(n.code,{children:"react-dom"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"lib-router.js"}),": includes ",(0,i.jsx)(n.code,{children:"react-router"}),", ",(0,i.jsx)(n.code,{children:"react-router-dom"}),", ",(0,i.jsx)(n.code,{children:"history"}),", ",(0,i.jsx)(n.code,{children:"@remix-run/router"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"lib-lodash.js"}),": includes ",(0,i.jsx)(n.code,{children:"lodash"}),", ",(0,i.jsx)(n.code,{children:"lodash-es"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"lib-antd.js"}),": includes ",(0,i.jsx)(n.code,{children:"antd"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"lib-arco.js"}),": includes ",(0,i.jsx)(n.code,{children:"@arco-design/web-react"})," and related packages under the ",(0,i.jsx)(n.code,{children:"@arco-design"})," organization."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"lib-semi.js"}),": includes ",(0,i.jsx)(n.code,{children:"@douyinfe/semi-ui"})," and related packages under the ",(0,i.jsx)(n.code,{children:"@ies"})," & ",(0,i.jsx)(n.code,{children:"@douyinfe"})," organization."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"lib-axios.js"}),": includes ",(0,i.jsx)(n.code,{children:"axios"})," and related packages."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"This strategy groups commonly used packages and then splits them into separate chunks. Generally, the number of chunks is not large, which is suitable for most applications and is also our recommended strategy."}),"\n",(0,i.jsxs)(n.h4,{id:"config",children:["Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#config",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  performance: {\n    chunkSplit: {\n      strategy: 'split-by-experience',\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"notes",children:["Notes",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#notes",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"If the npm packages mentioned above are not installed or used in the project, the corresponding chunk will not be generated."}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"split-by-module",children:["split-by-module",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#split-by-module",children:"#"})]}),"\n",(0,i.jsxs)(n.h4,{id:"behavior-1",children:["Behavior",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#behavior-1",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Split each NPM package into a Chunk."}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive warning",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"WARNING"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"This strategy will split the node_modules in the most granular way, and at the same time, under HTTP/2, multiplexing will speed up the loading time of resources.However, in non-HTTP/2 environments, it needs to be used with caution because of HTTP head-of-line blocking problem."})})]}),"\n",(0,i.jsxs)(n.h4,{id:"config-1",children:["Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#config-1",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  performance: {\n    chunkSplit: {\n      strategy: 'split-by-module',\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"notes-1",children:["Notes",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#notes-1",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"This configuration will split the node_modules into smaller chunks, resulting in a large number of file requests."}),"\n",(0,i.jsx)(n.li,{children:"When using HTTP/2, resource loading time will be accelerated and cache hit rate will be improved due to multiplexing."}),"\n",(0,i.jsx)(n.li,{children:"When not using HTTP/2, the performance of page loading may be reduced due to HTTP head-of-line blocking. Please use with caution."}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"all-in-one",children:["all-in-one",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#all-in-one",children:"#"})]}),"\n",(0,i.jsxs)(n.h4,{id:"behavior-2",children:["Behavior",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#behavior-2",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"This strategy puts business code and third-party dependencies in the same Chunk."}),"\n",(0,i.jsxs)(n.h4,{id:"config-2",children:["Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#config-2",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  performance: {\n    chunkSplit: {\n      strategy: 'all-in-one',\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"notes-2",children:["Notes",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#notes-2",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"This configuration will bundle all the generated JS code into one file (except for dynamically imported chunks)."}),"\n",(0,i.jsx)(n.li,{children:"The size of a single JS file may be very large, leading to a decrease in page loading performance."}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"single-vendor",children:["single-vendor",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#single-vendor",children:"#"})]}),"\n",(0,i.jsxs)(n.h4,{id:"behavior-3",children:["Behavior",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#behavior-3",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"This strategy puts third-party dependencies in one Chunk, and business code in another Chunk."}),"\n",(0,i.jsxs)(n.h4,{id:"config-3",children:["Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#config-3",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  performance: {\n    chunkSplit: {\n      strategy: 'single-vendor',\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"notes-3",children:["Notes",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#notes-3",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"The size of a single vendor file may be very large, leading to a decrease in page loading performance."}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"split-by-size",children:["split-by-size",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#split-by-size",children:"#"})]}),"\n",(0,i.jsxs)(n.h4,{id:"behavior-4",children:["Behavior",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#behavior-4",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Under this strategy, after setting ",(0,i.jsx)(n.code,{children:"minSize"}),", ",(0,i.jsx)(n.code,{children:"maxSize"})," to a fixed value, Builder will automatically split them without extra config."]}),"\n",(0,i.jsxs)(n.h4,{id:"config-4",children:["Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#config-4",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  performance: {\n    chunkSplit: {\n      strategy: 'split-by-size',\n      minSize: 30000,\n      maxSize: 50000,\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"custom-splitting-strategy",children:["Custom Splitting Strategy",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#custom-splitting-strategy",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"In addition to using the built-in strategies, you can also customize the splitting strategy to meet more customization needs. Custom strategy is divided into two parts:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Custom group"}),"\n",(0,i.jsxs)(n.li,{children:["Custom bundler ",(0,i.jsx)(n.code,{children:"splitChunks"})," config"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"It is worth noting that these two custom capabilities can be used together with the built-in strategy, that is, you can use the built-in strategy to split commonly used packages, and then use the custom function to split other packages."}),"\n",(0,i.jsxs)(n.h3,{id:"custom-group",children:["Custom Group",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#custom-group",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder supports custom group, which is more flexible than the built-in strategies, and simpler than writing bundler config."}),"\n",(0,i.jsxs)(n.p,{children:["For example, split the ",(0,i.jsx)(n.code,{children:"axios"})," library under node_modules into ",(0,i.jsx)(n.code,{children:"axios.js"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  performance: {\n    chunkSplit: {\n      strategy: 'split-by-experience',\n      forceSplitting: {\n        axios: /node_modules\\/axios/,\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Through ",(0,i.jsx)(n.code,{children:"forceSplitting"})," config, you can easily split some packages into a Chunk."]}),"\n",(0,i.jsxs)(n.h4,{id:"notes-4",children:["Notes",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#notes-4",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Chunks split using the ",(0,i.jsx)(n.code,{children:"forceSplitting"})," configuration will be inserted into the HTML file as resources requested for the initial screen using ",(0,i.jsx)(n.code,{children:"<script>"})," tags. Therefore, please split them appropriately based on the actual scenario to avoid excessive size of initial screen resources."]}),"\n",(0,i.jsxs)(n.h3,{id:"custom-bundler-splitchunks-config",children:["Custom Bundler ",(0,i.jsx)(n.code,{children:"splitChunks"})," Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#custom-bundler-splitchunks-config",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["In addition to using custom grouping, you can also customize the native bundler config through ",(0,i.jsx)(n.code,{children:"override"}),", such as:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  performance: {\n    chunkSplit: {\n      strategy: 'split-by-experience',\n      override: {\n        chunks: 'all',\n        minSize: 30000,\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["The config in ",(0,i.jsx)(n.code,{children:"override"})," will be merged with the bundler config. For specific config details, please refer to ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/plugins/split-chunks-plugin/#splitchunkschunks",target:"_blank",rel:"noopener noreferrer",children:"webpack - splitChunks"})," or ",(0,i.jsx)(n.a,{href:"https://rspack.dev/config/optimization.html#optimization-splitchunks",target:"_blank",rel:"noopener noreferrer",children:"Rspack - splitChunks"}),"."]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fguide%2Foptimization%2Fsplit-chunk.md"]={toc:[{text:"Splitting Strategies",id:"splitting-strategies",depth:2},{text:"split-by-experience",id:"split-by-experience",depth:3},{text:"Behavior",id:"behavior",depth:4},{text:"Config",id:"config",depth:4},{text:"Notes",id:"notes",depth:4},{text:"split-by-module",id:"split-by-module",depth:3},{text:"Behavior",id:"behavior-1",depth:4},{text:"Config",id:"config-1",depth:4},{text:"Notes",id:"notes-1",depth:4},{text:"all-in-one",id:"all-in-one",depth:3},{text:"Behavior",id:"behavior-2",depth:4},{text:"Config",id:"config-2",depth:4},{text:"Notes",id:"notes-2",depth:4},{text:"single-vendor",id:"single-vendor",depth:3},{text:"Behavior",id:"behavior-3",depth:4},{text:"Config",id:"config-3",depth:4},{text:"Notes",id:"notes-3",depth:4},{text:"split-by-size",id:"split-by-size",depth:3},{text:"Behavior",id:"behavior-4",depth:4},{text:"Config",id:"config-4",depth:4},{text:"Custom Splitting Strategy",id:"custom-splitting-strategy",depth:2},{text:"Custom Group",id:"custom-group",depth:3},{text:"Notes",id:"notes-4",depth:4},{text:"Custom Bundler splitChunks Config",id:"custom-bundler-splitchunks-config",depth:3}],title:"Chunk Splitting Practice",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},21725:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return c}});var t,i=r("9880"),s=r("23169"),l=r.ir(r("59085")),o=r.ir(r("70792")),a=r.ir(r("69571"));function d(e){let n=Object.assign({h1:"h1",a:"a",h2:"h2",p:"p",strong:"strong",pre:"pre",code:"code",div:"div",h3:"h3",ul:"ul",li:"li",blockquote:"blockquote"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"quick-start",children:["Quick Start",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#quick-start",children:"#"})]}),"\n",(0,i.jsxs)(n.h2,{id:"environment-preparation",children:["Environment preparation",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#environment-preparation",children:"#"})]}),"\n","\n",(0,i.jsx)(l.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"use-the-modernjs-framework",children:["Use the Modern.js Framework",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#use-the-modernjs-framework",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"The Modern.js Framework uses Modern.js Builder as its build engine by default"}),". If you are a business developer, you do not need to manually install Builder, just create a Modern.js project and use all the features provided by Builder."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npx @modern-js/create@latest my-app\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Please refer to ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/en/guides/get-started/introduction.html",target:"_blank",rel:"noopener noreferrer",children:"Modern.js - Introduction"})," and ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/en/guides/get-started/quick-start.html",target:"_blank",rel:"noopener noreferrer",children:"Modern.js - Quick Start"})," to learn how to use Modern.js framework."]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"About the documentation"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"Modern.js framework documentation and Modern.js Builder documentation are deployed under two separate sites. If you encounter any build-related problems while using the Modern.js framework, you can always refer to the documentation of Modern.js Builder to find solutions."})})]}),"\n",(0,i.jsxs)(n.h2,{id:"usse-the-builder-cli-tool",children:["Usse the Builder CLI Tool",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#usse-the-builder-cli-tool",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Modern.js Builder provides a lightweight CLI tool that includes basic commands such as ",(0,i.jsx)(n.code,{children:"dev"})," and ",(0,i.jsx)(n.code,{children:"build"}),". It is primarily used for building non-React projects."]}),"\n",(0,i.jsx)(n.p,{children:"If your project is not based on the React, for example, if you are developing a Vue project, you can use the Builder CLI tool to build your project."}),"\n",(0,i.jsxs)(n.p,{children:["Please refer to ",(0,i.jsx)(n.a,{href:"/guide/basic/builder-cli",children:"Use Builder CLI"})," for more information on how to use it."]}),"\n",(0,i.jsxs)(n.h2,{id:"use-builder-in-a-front-end-framework",children:["Use Builder in a Front-end Framework",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#use-builder-in-a-front-end-framework",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"If you are developing a front-end framework, you can use Builder by following these steps:"}),"\n",(0,i.jsxs)(n.h3,{id:"1-install-builder",children:["1. Install Builder",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#1-install-builder",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"You need to install two packages:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"@modern-js/builder"}),": This is the core package of Builder, which exports the core API of Builder."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"@modern-js/builder-webpack-provider"})," or ",(0,i.jsx)(n.code,{children:"@modern-js/builder-rspack-provider"}),": These are the Providers for Builder, which provide the building capabilities based on webpack or Rspack."]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Using webpack for bundling\npnpm add @modern-js/builder @modern-js/builder-webpack-provider -D\n\n# Using Rspack for bundling\npnpm add @modern-js/builder @modern-js/builder-rspack-provider -D\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"When performing a version upgrade, please ensure that the Builder and Provider packages you install are of the same version."}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"2-create-builder-instance",children:["2. Create Builder Instance",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#2-create-builder-instance",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"There are two steps to creating a Builder instance:"}),"\n",(0,i.jsxs)(n.p,{children:["First you need to initialize the Builder Provider and pass in the ",(0,i.jsx)(n.code,{children:"builderConfig"})," config object. Builder provides a lot of configs that allow you to customize the build behavior. At this point, you don't need to know the specific content of the config, just pass in an empty object. You can find all available configs in ",(0,i.jsx)(n.a,{href:"/en/api/#config",children:"API - config"}),"."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Initialize the Rspack Provider:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { createBuilder } from '@modern-js/builder';\nimport { builderWebpackProvider } from '@modern-js/builder-webpack-provider';\n\nconst provider = builderWebpackProvider({\n  builderConfig: {\n    // some configs\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Initialize the Rspack Provider："}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { createBuilder } from '@modern-js/builder';\nimport { builderRspackProvider } from '@modern-js/builder-rspack-provider';\n\nconst provider = builderRspackProvider({\n  builderConfig: {\n    // some configs\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.p,{children:["After getting the provider instance, you can call the ",(0,i.jsx)(n.code,{children:"createBuilder"})," method to create a Builder instance object:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const builder = await createBuilder(provider, {\n  entry: {\n    index: './src/index.ts',\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Except the ",(0,i.jsx)(n.code,{children:"entry"})," option, the ",(0,i.jsx)(n.code,{children:"createBuilder"})," method also provides some other options, which you can learn more about in ",(0,i.jsx)(n.a,{href:"/en/api/builder-core#createbuilder",children:"API - createBuilder"}),"."]}),"\n",(0,i.jsxs)(n.h3,{id:"3-call-builder-instance-method",children:["3. Call Builder Instance Method",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#3-call-builder-instance-method",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The Builder instance provides some methods, which you can use it according to the usage scenarios."}),"\n",(0,i.jsxs)(n.p,{children:["To start local development, it is recommended to use the ",(0,i.jsx)(n.a,{href:"/en/api/builder-instance#builder-startdevserver",children:"builder.startDevServer"})," method, which will start a local Dev Server."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"await builder.startDevServer();\n"})}),"\n",(0,i.jsx)(n.p,{children:"After successfully starting Dev Server, you can see the following logs:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"info    Starting dev server...\ninfo    Dev server running at:\n\n  > Local:    http://localhost:8081\n  > Network:  http://192.168.0.1:8081\n"})}),"\n",(0,i.jsxs)(n.p,{children:["To deploy the App to production environment, it is recommended to use the ",(0,i.jsx)(n.a,{href:"/en/api/builder-instance#builder-build",children:"builder.build"})," method, which will build the production outputs."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"await builder.build();\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["For more introduction of Builder instance methods, please read the ",(0,i.jsx)(n.a,{href:"/en/api/builder-instance",children:"Builder Instance"})," chapter."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"After completing the above three steps, you have learned the basic usage of Builder. Next, you can customize the build process through the Builder plugin and Builder configs."}),"\n",(0,i.jsxs)(n.h2,{id:"next-step",children:["Next Step",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#next-step",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"You may want:"}),"\n","\n",(0,i.jsxs)(o.default,{children:[(0,i.jsx)(a.default,{href:"/guide/glossary.html",title:"Glossary",description:"Learn about Builder related concepts"}),(0,i.jsx)(a.default,{href:"/guide/features.html",title:"All Features",description:"Learn all features of Builder"}),(0,i.jsx)(a.default,{href:"/api/index.html",title:"API Reference",description:"View detailed API documentation"})]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fguide%2Fquick-start.mdx"]={toc:[{text:"Environment preparation",id:"environment-preparation",depth:2},{text:"Use the Modern.js Framework",id:"use-the-modernjs-framework",depth:2},{text:"Usse the Builder CLI Tool",id:"usse-the-builder-cli-tool",depth:2},{text:"Use Builder in a Front-end Framework",id:"use-builder-in-a-front-end-framework",depth:2},{text:"1. Install Builder",id:"1-install-builder",depth:3},{text:"2. Create Builder Instance",id:"2-create-builder-instance",depth:3},{text:"3. Call Builder Instance Method",id:"3-call-builder-instance-method",depth:3},{text:"Next Step",id:"next-step",depth:2}],title:"Quick Start",frontmatter:{}};var c=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},21724:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){return(0,i.jsx)(i.Fragment,{})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Findex.md"]={toc:[],title:"",frontmatter:{pageType:"home",hero:{name:"Modern.js Builder",tagline:"A Build Engine for web development.",actions:[{theme:"brand",text:"Introduction",link:"/en/guide/introduction.html"},{theme:"alt",text:"Quick Start",link:"/en/guide/quick-start.html"}]},features:[{title:"Rust Bundler",details:"Easily switch to Rspack bundler with faster build speed.",icon:"\uD83D\uDE80"},{title:"Deep optimization",details:"Automatically optimize static resources, ensure the performance of production app.",icon:"\uD83C\uDF6D"},{title:"Out of the box",details:"Base on the best practice at ByteDance, various capabilities are out-of-the-box.",icon:"\uD83D\uDCE6"},{title:"Easy to Configure",details:"Launch with zero configuration, then everything is configurable.",icon:"\uD83D\uDCD6"},{title:"Pluggable",details:"Comes with a lightweight plugin system to meet your customization needs.",icon:"\uD83C\uDFA8"},{title:"Multiple Outputs",details:"Supports building output for Node.js, Web Workers, and other environments.",icon:"✨"}]}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},75775:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",ul:"ul",li:"li",h2:"h2",code:"code",pre:"pre",strong:"strong",h3:"h3"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"introduce-to-plugin",children:["Introduce to Plugin",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#introduce-to-plugin",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder provides developers with a lightweight but powerful plugin system to build itself and any other plugins.\nDeveloping plugins to change the Builder's behavior and introduce extra features. such as:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Modify config of bundlers."}),"\n",(0,i.jsx)(n.li,{children:"Resolve and handle new file types."}),"\n",(0,i.jsx)(n.li,{children:"Modify and compile file modules."}),"\n",(0,i.jsx)(n.li,{children:"Deploy your application."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Builder can use webpack or Rspack as the bundler, expose unified Node.js API, and integrate into different frameworks. Users can painlessly switch between bundlers."}),"\n",(0,i.jsxs)(n.h2,{id:"write-a-plugin",children:["Write a plugin",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#write-a-plugin",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Plugin module should export an entry function just like ",(0,i.jsx)(n.code,{children:"(options?: PluginOptions) => BuilderPlugin"}),", It is recommended to name plugin functions ",(0,i.jsx)(n.code,{children:"builderPluginXXX"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import type { BuilderPlugin } from '@modern-js/builder-webpack-provider';\n\nexport interface PluginFooOptions {\n  message?: string;\n}\n\nexport const builderPluginFoo = (\n  options?: PluginFooOptions,\n): BuilderPlugin => ({\n  name: 'plugin-foo',\n  setup(api) {\n    api.onExit(() => {\n      const msg = options.message || 'finish.';\n      console.log(msg);\n    });\n  },\n});\n\nbuilder.addPlugins([builderPluginFoo('some other message.')]);\n"})}),"\n",(0,i.jsxs)(n.p,{children:["The function usually ",(0,i.jsx)(n.strong,{children:"takes an options object"})," and ",(0,i.jsx)(n.strong,{children:"returns the plugin instance"}),", which manages state through closures."]}),"\n",(0,i.jsx)(n.p,{children:"Let's look at each part:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"name"})," is used to label the plugin"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"setup"})," as the main entry point of plugins"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"api"})," provides context object, lifetime hooks and utils."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["The package name of the plugin needs to contain the conventional ",(0,i.jsx)(n.code,{children:"builder-plugin"})," prefix for identification, just like ",(0,i.jsx)(n.code,{children:"builder-plugin-foo"}),", ",(0,i.jsx)(n.code,{children:"@scope/builder-plugin-bar"}),", etc."]}),"\n",(0,i.jsxs)(n.h2,{id:"lifetime-hooks",children:["Lifetime Hooks",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#lifetime-hooks",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder uses lifetime planning work internally, and plugins can also register hooks to take part in any stage of the workflow and implement their own features."}),"\n",(0,i.jsxs)(n.p,{children:["The full list of Builder's lifetime hooks can be found in the ",(0,i.jsx)(n.a,{href:"/api/plugin-hooks",children:"API References"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["The Builder does not take over the hooks of the underlying bundlers, whose documents can be found here: ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/api/compiler-hooks/",target:"_blank",rel:"noopener noreferrer",children:"webpack hooks"})]}),"\n",(0,i.jsxs)(n.h2,{id:"use-builder-config",children:["Use Builder Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#use-builder-config",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Custom plugins can usually get config from function parameters,\njust define and use it at your pleasure."}),"\n",(0,i.jsx)(n.p,{children:"But sometimes you may need to read and change the public config of the Builder. To begin with, you should understand how the Builder generates and uses its config:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Read, parse config and merge with default values."}),"\n",(0,i.jsxs)(n.li,{children:["Plugins modify the config by ",(0,i.jsx)(n.code,{children:"api.modifyBuilderConfig(...)"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Normalize the config and provide it to consume, then the config can no longer be modified."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Refer to this tiny example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export const builderPluginUploadDist = (): BuilderPlugin => ({\n  name: 'plugin-upload-dist',\n  setup(api) {\n    api.modifyBuilderConfig(config => {\n      // try to disable minimize.\n      // should deal with optional value by self.\n      config.output ||= {};\n      config.output.disableMinimize = true;\n      // but also can be enable by other plugins...\n    });\n    api.onBeforeBuild(() => {\n      // use the normalized config.\n      const config = api.getNormalizedConfig();\n      if (!config.output.disableMinimize) {\n        // let it crash when enable minimize.\n        throw new Error(\n          'You must disable minimize to upload readable dist files.',\n        );\n      }\n    });\n    api.onAfterBuild(() => {\n      const config = api.getNormalizedConfig();\n      const distRoot = config.output.distPath.root;\n      // TODO: upload all files in `distRoot`.\n    });\n  },\n});\n"})}),"\n",(0,i.jsx)(n.p,{children:"There are 3 ways to use Builder config:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["register callback with ",(0,i.jsx)(n.code,{children:"api.modifyBuilderConfig(config => {})"})," to modify config."]}),"\n",(0,i.jsxs)(n.li,{children:["use ",(0,i.jsx)(n.code,{children:"api.getBuilderConfig()"})," to get Builder config."]}),"\n",(0,i.jsxs)(n.li,{children:["use ",(0,i.jsx)(n.code,{children:"api.getNormalizedConfig()"})," to get finally normalized config."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"When normalized, it will again merge the config object with the default values\nand make sure the optional properties exist.\nSo for PluginUploadDist, part of its type looks like:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"api.modifyBuilderConfig((config: BuilderConfig) => {});\napi.getBuilderConfig() as BuilderConfig;\ntype BuilderConfig = {\n  output?: {\n    disableMinimize?: boolean;\n    distPath?: { root?: string };\n  };\n};\n\napi.getNormalizedConfig() as NormalizedConfig;\ntype NormalizedConfig = {\n  output: {\n    disableMinimize: boolean;\n    distPath: { root: string };\n  };\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["The return value type of ",(0,i.jsx)(n.code,{children:"getNormalizedConfig()"})," is slightly different from that of ",(0,i.jsx)(n.code,{children:"BuilderConfig"})," and is narrowed compared to the types described elsewhere in the documentation.\nYou don't need to fill in the defaults when you use it."]}),"\n",(0,i.jsx)(n.p,{children:"Therefore, the best way to use configuration items is to"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Modify the config"})," with ",(0,i.jsx)(n.code,{children:"api.modifyBuilderConfig(config => {})"})]}),"\n",(0,i.jsxs)(n.li,{children:["Read ",(0,i.jsx)(n.code,{children:"api.getNormalizedConfig()"})," as the ",(0,i.jsx)(n.strong,{children:"actual config used by the plugin"})," in the further lifetime."]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"modify-webpack-config",children:["Modify webpack Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#modify-webpack-config",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Plugins can handle webpack's config by:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["use ",(0,i.jsx)(n.code,{children:"api.modifyWebpackChain(chain => {})"})," to modify webpack-chain."]}),"\n",(0,i.jsxs)(n.li,{children:["use ",(0,i.jsx)(n.code,{children:"api.modifyWebpackConfig(config => {})"})," to modify raw webpack config."]}),"\n",(0,i.jsxs)(n.li,{children:["use ",(0,i.jsx)(n.code,{children:"api.onAfterCreateCompiler(compiler => {})"})," to handle webpack instance directly."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["We recommend that you use ",(0,i.jsx)(n.a,{href:"https://github.com/neutrinojs/webpack-chain",target:"_blank",rel:"noopener noreferrer",children:"neutrinojs/webpack-chain"}),"'s\nchained api to handle the config of webpack whenever possible."]}),"\n",(0,i.jsxs)(n.p,{children:["Builder integrated a webpack5-compatible version,\nwhich can be found in ",(0,i.jsx)(n.a,{href:"https://github.com/sorrycc/webpack-chain",target:"_blank",rel:"noopener noreferrer",children:"sorrycc/webpack-chain"}),"."]}),"\n",(0,i.jsxs)(n.h2,{id:"examples",children:["Examples",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#examples",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"modify-loaders",children:["Modify Loaders",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#modify-loaders",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["The webpack loaders can be used to load and transform various file types. For more information, see ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/concepts/loaders",target:"_blank",rel:"noopener noreferrer",children:"concepts"})," and ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/loaders/",target:"_blank",rel:"noopener noreferrer",children:"loaders"}),"."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import type { BuilderPlugin } from '@modern-js/builder-webpack-provider';\n\nexport const builderPluginTypeScriptExt = (): BuilderPlugin => ({\n  name: 'builder-typescript-ext',\n  setup(api) {\n    api.modifyWebpackChain(async chain => {\n      // set ts-loader to recognize more files as typescript modules.\n      chain.module.rule(CHAIN_ID.RULE.TS).test(/\\.(ts|mts|cts|tsx|tss|tsm)$/);\n    });\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"add-entry-points",children:["Add Entry Points",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#add-entry-points",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import type { BuilderPlugin } from '@modern-js/builder-webpack-provider';\n\nexport const builderPluginAdminPanel = (): BuilderPlugin => ({\n  name: 'builder-admin-panel',\n  setup(api) {\n    api.modifyWebpackChain(async chain => {\n      config.entry('admin-panel').add('src/admin/panel.js');\n    });\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"integrate-webpack-plugins",children:["Integrate webpack Plugins",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#integrate-webpack-plugins",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Integrate existing webpack plugins to migrate your applications:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import type { BuilderPlugin } from '@modern-js/builder-webpack-provider';\nimport type { Options } from '@modern-js/inspector-webpack-plugin';\n\nexport const builderPluginInspector = (options?: Options): BuilderPlugin => ({\n  name: 'builder-plugin-inspector',\n  setup(api) {\n    api.modifyWebpackChain(async chain => {\n      // load modules dynamically only when needed\n      // to avoid unnecessary performance cost.\n      const { InspectorWebpackPlugin } = await import(\n        '@modern-js/inspector-webpack-plugin'\n      );\n      // modify webpack-chain to setup webpack plugin.\n      chain\n        .plugin('inspector-webpack-plugin')\n        .use(InspectorWebpackPlugin, [inspectorOptions]);\n    });\n  },\n});\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fplugins%2Fintroduction.md"]={toc:[{text:"Write a plugin",id:"write-a-plugin",depth:2},{text:"Lifetime Hooks",id:"lifetime-hooks",depth:2},{text:"Use Builder Config",id:"use-builder-config",depth:2},{text:"Modify webpack Config",id:"modify-webpack-config",depth:2},{text:"Examples",id:"examples",depth:2},{text:"Modify Loaders",id:"modify-loaders",depth:3},{text:"Add Entry Points",id:"add-entry-points",depth:3},{text:"Integrate webpack Plugins",id:"integrate-webpack-plugins",depth:3}],title:"Introduce to Plugin",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},92746:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",h2:"h2",ul:"ul",li:"li",p:"p"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"overview",children:["Overview",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#overview",children:"#"})]}),"\n",(0,i.jsxs)(n.h2,{id:"official-plugins",children:["Official Plugins",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#official-plugins",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/plugins/plugin-vue",children:"@modern-js/builder-plugin-vue"}),": Used to build Vue 3 App."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/plugins/plugin-swc",children:"@modern-js/builder-plugin-swc"}),": Use SWC as the transformer and minimizer to improve build performance."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/plugins/plugin-stylus",children:"@modern-js/builder-plugin-stylus"}),": Use Stylus add CSS preprocessor."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/plugins/plugin-esbuild",children:"@modern-js/builder-plugin-esbuild"}),": Use esbuild as the transformer and minimizer to improve build performance."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/plugins/plugin-node-polyfill",children:"@modern-js/builder-plugin-node-polyfill"}),": Inject Polyfills of Node core modules in the browser side."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/plugins/plugin-image-compress",children:"@modern-js/builder-plugin-image-compress"}),": Compress the image resources used in the project."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["You can find the source code of these plugins in ",(0,i.jsx)(n.a,{href:"https://github.com/web-infra-dev/modern.js/tree/main/packages/builder",target:"_blank",rel:"noopener noreferrer",children:"modern.js/packages/builder"})," directory."]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fplugins%2Flist.md"]={toc:[{text:"Official Plugins",id:"official-plugins",depth:2}],title:"Overview",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},62037:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var t,i=r("9880"),s=r("23169"),l=r.ir(r("21081"));function o(e){let n=Object.assign({h1:"h1",a:"a",div:"div",p:"p",h2:"h2",h3:"h3",pre:"pre",code:"code",h4:"h4",ul:"ul",li:"li",strong:"strong"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"esbuild-plugin",children:["Esbuild Plugin",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#esbuild-plugin",children:"#"})]}),"\n","\n",(0,i.jsx)(l.default,{}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"Recommend using SWC"}),(0,i.jsxs)(n.div,{className:"modern-directive-content",children:[(0,i.jsx)(n.p,{children:"We recommend using SWC to transform and minify code rather than esbuild, because SWC supports more syntaxes, provides better code compression, and the compiled code has better compatibility."}),"\n",(0,i.jsxs)(n.p,{children:["Therefore, we recommend that you use SWC instead of esbuild, please refer to ",(0,i.jsx)(n.a,{href:"/plugins/plugin-swc",children:"SWC Plugin"})," for usage."]}),"\n"]})]}),"\n",(0,i.jsxs)(n.h2,{id:"quick-start",children:["Quick Start",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#quick-start",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"used-in-modernjs-framework",children:["Used in Modern.js framework",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#used-in-modernjs-framework",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["The Modern.js framework integrates the Builder's esbuild plugin by default, so you don't need to manually install and register the plugin, just use the ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/en/configure/app/tools/esbuild.html",target:"_blank",rel:"noopener noreferrer",children:"tools.esbuild"})," configuration:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default defineConfig({\n  tools: {\n    esbuild: {\n      loader: {\n        target: 'chrome61',\n      },\n      minimize: {\n        target: 'chrome61',\n      },\n    },\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"use-via-the-node-api",children:["Use via the Node API",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#use-via-the-node-api",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"If you use the Builder's Node API, you need to manually install and register the esbuild plugin."}),"\n",(0,i.jsxs)(n.h4,{id:"install",children:["Install",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#install",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"You can install the plugin with the following command:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# npm\nnpm install @modern-js/builder-plugin-esbuild -D\n\n# yarn\nyarn add @modern-js/builder-plugin-esbuild -D\n\n# pnpm\npnpm add @modern-js/builder-plugin-esbuild -D\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"register",children:["Register",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#register",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Register esbuild plugin through the ",(0,i.jsx)(n.code,{children:"addPlugins"})," method:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import { builderPluginEsbuild } from '@modern-js/builder-plugin-esbuild';\n\n// add the plugin to the builder instance\nbuilder.addPlugins([builderPluginEsbuild()]);\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"config",children:["Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#config",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The plugin will enable code transformation and minification by default. You can also customize the behavior of the plugin through configuration."}),"\n",(0,i.jsxs)(n.h3,{id:"loader",children:["loader",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#loader",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type LoaderOptions = EsbuildLoaderOptions | false | undefined;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Default:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const defaultOptions = {\n  target: 'es2015',\n  charset: builderConfig.output.charset,\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"This config is used to enable JavaScript/TypeScript transformation, which will replace babel-loader and ts-loader with esbuild-loader."}),"\n",(0,i.jsxs)(n.p,{children:["If you want to modify the options, you can check the ",(0,i.jsx)(n.a,{href:"https://github.com/privatenumber/esbuild-loader#loader",target:"_blank",rel:"noopener noreferrer",children:"esbuild-loader documentation"}),"."]}),"\n",(0,i.jsxs)(n.h4,{id:"set-jsx-format",children:["Set JSX Format",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#set-jsx-format",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When using esbuild for transformation, esbuild will read the ",(0,i.jsx)(n.code,{children:"compilerOptions.jsx"})," field in ",(0,i.jsx)(n.code,{children:"tsconfig.json"})," to determine which JSX syntax to use."]}),"\n",(0,i.jsxs)(n.p,{children:["Therefore, you need to set the correct JSX syntax in ",(0,i.jsx)(n.code,{children:"tsconfig.json"}),"."]}),"\n",(0,i.jsxs)(n.p,{children:["For example, React projects need to set ",(0,i.jsx)(n.code,{children:"compilerOptions.jsx"})," to ",(0,i.jsx)(n.code,{children:"react-jsx"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "compilerOptions": {\n    "jsx": "react-jsx"\n  }\n}\n'})}),"\n",(0,i.jsxs)(n.h4,{id:"set-the-target-environment",children:["Set the target environment",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#set-the-target-environment",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Use the ",(0,i.jsx)(n.code,{children:"target"})," option to set the target environment for transformation. ",(0,i.jsx)(n.code,{children:"target"})," can be set directly to the JavaScript language version, such as ",(0,i.jsx)(n.code,{children:"es6"}),", ",(0,i.jsx)(n.code,{children:"es2020"}),"; it can also be set to several target environments, each target environment is an environment name followed by a version number, such as ",(0,i.jsx)(n.code,{children:"['chrome58', 'edge16' ,'firefox57']"}),". For a detailed introduction of the ",(0,i.jsx)(n.code,{children:"target"})," option, please refer to ",(0,i.jsx)(n.a,{href:"https://esbuild.github.io/api/#target",target:"_blank",rel:"noopener noreferrer",children:"esbuild - target"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"target supports setting to the following environments:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"chrome"}),"\n",(0,i.jsx)(n.li,{children:"edge"}),"\n",(0,i.jsx)(n.li,{children:"firefox"}),"\n",(0,i.jsx)(n.li,{children:"ie"}),"\n",(0,i.jsx)(n.li,{children:"ios"}),"\n",(0,i.jsx)(n.li,{children:"node"}),"\n",(0,i.jsx)(n.li,{children:"opera"}),"\n",(0,i.jsx)(n.li,{children:"safari"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builderPluginEsbuild({\n  loader: {\n    target: 'chrome61',\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"disable-transformation",children:["Disable transformation",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#disable-transformation",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Set ",(0,i.jsx)(n.code,{children:"loader"})," to ",(0,i.jsx)(n.code,{children:"false"})," to disable esbuild transformation, and Builder will continue to use Babel to transform the code."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builderPluginEsbuild({\n  loader: false,\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"minimize",children:["minimize",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#minimize",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type MinimizeOptions = EsbuildMinifyOptions | false | undefined;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Default:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const defaultOptions = {\n  css: true,\n  target: 'es2015',\n  format: builderTarget === 'web' ? 'iife' : undefined,\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"This option is used to enable minification for JavaScript and CSS."}),"\n",(0,i.jsxs)(n.p,{children:["If you want to modify the options, you can check the ",(0,i.jsx)(n.a,{href:"https://github.com/privatenumber/esbuild-loader#minifyplugin",target:"_blank",rel:"noopener noreferrer",children:"esbuild-loader documentation"}),"."]}),"\n",(0,i.jsxs)(n.h4,{id:"set-the-target-environment-1",children:["Set the target environment",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#set-the-target-environment-1",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Use the ",(0,i.jsx)(n.code,{children:"target"})," option to set the target environment for minification."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builderPluginEsbuild({\n  minimize: {\n    target: 'chrome61',\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"disable-minification",children:["Disable minification",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#disable-minification",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Set ",(0,i.jsx)(n.code,{children:"minimize"})," to ",(0,i.jsx)(n.code,{children:"false"})," to disable esbuild minification, and Builder will continue to use Terser to minify the code."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builderPluginEsbuild({\n  minimize: false,\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"limitations",children:["Limitations",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#limitations",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Although esbuild can significantly improve the build performance of existing webpack projects, it still has certain limitations that require special attention."}),"\n",(0,i.jsxs)(n.h3,{id:"compatibility",children:["Compatibility",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#compatibility",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["As a compiler (i.e. ",(0,i.jsx)(n.code,{children:"loader"})," capability), esbuild usually supports at least ES2015 (that is, ES6) syntax, and does not have the ability to automatically inject Polyfill.. If the production environment needs to downgrade to ES5 and below syntax, it is recommended to use SWC compilation."]}),"\n",(0,i.jsx)(n.p,{children:"You can specify the target syntax version by following config:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builderPluginEsbuild({\n  loader: {\n    target: 'es2015',\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.p,{children:["As a code minify tool (i.e. ",(0,i.jsx)(n.code,{children:"minimize"})," capability), esbuild can minify the code in production environment, and usually supports ES2015 syntax at least."]}),"\n",(0,i.jsxs)(n.p,{children:["If you set the compressed ",(0,i.jsx)(n.code,{children:"target"})," to ",(0,i.jsx)(n.code,{children:"es5"}),", you need to ensure that all codes have been compiled to ES5 codes, otherwise it will cause esbuild compilation error: ",(0,i.jsx)(n.code,{children:"Transforming 'xxx' to the configured target environment (\"es5\") is not supported yet "}),"."]}),"\n",(0,i.jsx)(n.p,{children:"Therefore, for projects that need to be compatible with ES5 and below syntax in the production environment, please be careful to enable the minimize capability, and it is recommended to use SWC compression."}),"\n",(0,i.jsx)(n.p,{children:"You can specify the target syntax version by following config:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"builderPluginEsbuild({\n  minimize: {\n    target: 'es2015',\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive danger",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"Caution"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"Projects that need to be compatible with ES5 and below syntax in the production environment need to be careful to turn on the minimize config."})})]}),"\n",(0,i.jsxs)(n.h3,{id:"not-support-babel-plugins",children:["Not support Babel plugins",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#not-support-babel-plugins",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["As a compiler, the syntax transformation function of the original Babel plugins such as ",(0,i.jsx)(n.code,{children:"babel-plugin-import"})," is not available after esbuild is turned on. And since the bottom layer of the plugin uses esbuild's ",(0,i.jsx)(n.code,{children:"Transform API"}),", it does not support esbuild plugins to customize the compilation process."]}),"\n",(0,i.jsxs)(n.p,{children:["If you have requirements related to Babel plugins such as ",(0,i.jsx)(n.code,{children:"babel-plugin-import"}),", you can use the SWC plugin."]}),"\n",(0,i.jsxs)(n.h3,{id:"bundle-size",children:["Bundle Size",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#bundle-size",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Although the compression speed of esbuild is faster, the compression ratio of esbuild is lower than that of terser, so the bundle size will increase, please use it according to the scenes. Generally speaking, esbuild is more suitable for scenes that are not sensitive to bundle size."}),"\n",(0,i.jsxs)(n.p,{children:["You can refer to ",(0,i.jsx)(n.a,{href:"https://github.com/privatenumber/minification-benchmarks",target:"_blank",rel:"noopener noreferrer",children:"minification-benchmarks"})," for a detailed comparison between minimizers."]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fplugins%2Fplugin-esbuild.mdx"]={toc:[{text:"Quick Start",id:"quick-start",depth:2},{text:"Used in Modern.js framework",id:"used-in-modernjs-framework",depth:3},{text:"Use via the Node API",id:"use-via-the-node-api",depth:3},{text:"Install",id:"install",depth:4},{text:"Register",id:"register",depth:4},{text:"Config",id:"config",depth:2},{text:"loader",id:"loader",depth:3},{text:"Set JSX Format",id:"set-jsx-format",depth:4},{text:"Set the target environment",id:"set-the-target-environment",depth:4},{text:"Disable transformation",id:"disable-transformation",depth:4},{text:"minimize",id:"minimize",depth:3},{text:"Set the target environment",id:"set-the-target-environment-1",depth:4},{text:"Disable minification",id:"disable-minification",depth:4},{text:"Limitations",id:"limitations",depth:2},{text:"Compatibility",id:"compatibility",depth:3},{text:"Not support Babel plugins",id:"not-support-babel-plugins",depth:3},{text:"Bundle Size",id:"bundle-size",depth:3}],title:"Esbuild Plugin",frontmatter:{}};var a=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},63865:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",div:"div",h3:"h3",pre:"pre",code:"code"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"image-compress-plugin",children:["Image Compress Plugin",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#image-compress-plugin",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"With the image compression plugin, image resources used in the project can be compressed to reduce the size of the product without affecting the visual appearance of the image."}),"\n",(0,i.jsxs)(n.h2,{id:"quick-start",children:["Quick Start",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#quick-start",children:"#"})]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"When using Rspack as the bundler, the Image Compress plugin is not currently supported."})})]}),"\n",(0,i.jsxs)(n.h3,{id:"install",children:["Install",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#install",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"You can install the plugin with the following command:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# npm\nnpm install @modern-js/builder-plugin-image-compress -D\n\n# yarn\nyarn add @modern-js/builder-plugin-image-compress -D\n\n# pnpm\npnpm add @modern-js/builder-plugin-image-compress -D\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"register",children:["Register",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#register",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["In upper-level frameworks such as Modern.js, you can register image compress plugin through the ",(0,i.jsx)(n.code,{children:"builderPlugins"})," config:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { builderPluginImageCompress } from '@modern-js/builder-plugin-image-compress';\n\nexport default {\n  builderPlugins: [builderPluginImageCompress()],\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["If you are using the Builder's Node API, you can register image compress plugin through the ",(0,i.jsx)(n.code,{children:"addPlugins"})," method:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import { builderPluginImageCompress } from '@modern-js/builder-plugin-image-compress';\n\n// add the plugin to the builder instance\nbuilder.addPlugins([builderPluginImageCompress()]);\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"config",children:["Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#config",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["The plugin accepts an array of compressor configuration items, each of which can be either a string or an object. The string can be the name of a built-in compressor and its default configuration enabled.\nOr use the object format configuration and specify the compressor in the ",(0,i.jsx)(n.code,{children:"use"})," field. The remaining fields of the object will be used as compressor configuration items."]}),"\n",(0,i.jsxs)(n.p,{children:["By default, the plugin will enable ",(0,i.jsx)(n.code,{children:"jpeg"}),", ",(0,i.jsx)(n.code,{children:"png"}),", ",(0,i.jsx)(n.code,{children:"ico"})," image compressors, which are equivalent to the following two examples:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"builderPluginImageCompress(['jpeg', 'png', 'ico']);\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"builderPluginImageCompress([{ use: 'jpeg' }, { use: 'png' }, { use: 'ico' }]);\n"})}),"\n",(0,i.jsx)(n.p,{children:"The default configuration can be overridden by specifying a configuration item.\nFor example, to allow the jpeg compressor to recognize new extension name and to set the quality of the png compressor."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"builderPluginImageCompress([\n  { use: 'jpeg', test: /\\.(jpg|jpeg|jpe)$/ },\n  { use: 'png', minQuality: 50 },\n  'ico',\n]);\n"})}),"\n",(0,i.jsxs)(n.p,{children:["The default ",(0,i.jsx)(n.code,{children:"png"})," compressor is lossy.\nIf you want to replace it with a lossless compressor, you can use the following configuration."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"builderPluginImageCompress(['jpeg', 'pngLossless', 'ico']);\n"})}),"\n",(0,i.jsx)(n.p,{children:"The list of configuration items will eventually be converted to the corresponding bundler loader configuration, so compressors follow the same bottom-to-top matching rule."}),"\n",(0,i.jsxs)(n.p,{children:["For example, the ",(0,i.jsx)(n.code,{children:"png"})," compressor will take precedence over the ",(0,i.jsx)(n.code,{children:"pngLossless"})," compressor for the following configuration:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"builderPluginImageCompress(['jpeg', 'pngLossless', 'ico', 'png']);\n"})}),"\n",(0,i.jsxs)(n.p,{children:["For more information on compressors, please visit ",(0,i.jsx)(n.a,{href:"https://image.napi.rs/docs",target:"_blank",rel:"noopener noreferrer",children:"@napi-rs/image"}),"."]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fplugins%2Fplugin-image-compress.mdx"]={toc:[{text:"Quick Start",id:"quick-start",depth:2},{text:"Install",id:"install",depth:3},{text:"Register",id:"register",depth:3},{text:"Config",id:"config",depth:2}],title:"Image Compress Plugin",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},13282:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",div:"div",p:"p",h2:"h2",h3:"h3",code:"code",pre:"pre",h4:"h4",ul:"ul",li:"li"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"node-polyfill-plugin",children:["Node Polyfill Plugin",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#node-polyfill-plugin",children:"#"})]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"About Node Polyfill"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"Normally, we don't need to use Node libs on the browser side. However, it is possible to use some Node libs when the code will run on both the Node side and the browser side, and Node Polyfill provides browser versions of polyfills for these Node libs."})})]}),"\n",(0,i.jsx)(n.p,{children:"By using the Node Polyfill plugin, Node core libs polyfills are automatically injected into the browser-side, allowing you to use these modules on the browser side with confidence."}),"\n",(0,i.jsxs)(n.h2,{id:"quick-start",children:["Quick Start",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#quick-start",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"used-in-modernjs-framework",children:["Used in Modern.js framework",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#used-in-modernjs-framework",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["The Modern.js framework integrates the Builder's Node Polyfill plugin by default, so you don't need to manually install and register the plugin, just set the ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/configure/app/output/disable-node-polyfill.html",target:"_blank",rel:"noopener noreferrer",children:"output.disableNodePolyfill"})," config to ",(0,i.jsx)(n.code,{children:"false"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default defineConfig({\n  output: {\n    disableNodePolyfill: false,\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"use-via-the-node-api",children:["Use via the Node API",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#use-via-the-node-api",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"If you use the Builder's Node API, you need to manually install and register the esbuild plugin."}),"\n",(0,i.jsxs)(n.h4,{id:"install",children:["Install",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#install",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"You can install the plugin with the following command:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# npm\nnpm install @modern-js/builder-plugin-node-polyfill -D\n\n# yarn\nyarn add @modern-js/builder-plugin-node-polyfill -D\n\n# pnpm\npnpm add @modern-js/builder-plugin-node-polyfill -D\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"register",children:["Register",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#register",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Register node polyfill plugin through the ",(0,i.jsx)(n.code,{children:"addPlugins"})," method:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import { builderPluginNodePolyfill } from '@modern-js/builder-plugin-node-polyfill';\n\n// add the plugin to the builder instance\nbuilder.addPlugins([builderPluginNodePolyfill()]);\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"node-polyfills",children:["Node Polyfills",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#node-polyfills",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"globals",children:["Globals",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#globals",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"Buffer"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"process"})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"When the above global variables are used directly in code, the corresponding polyfill will be injected."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const bufferData = Buffer.from('xxxx');\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"modules",children:["Modules",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#modules",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"assert"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"buffer"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"console"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"constants"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"crypto"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"domain"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"events"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"http"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"https"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"os"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"path"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"punycode"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"process"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"querystring"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"stream"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"_stream_duplex"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"_stream_passthrough"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"_stream_readable"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"_stream_transform"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"_stream_writable"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"string_decoder"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"sys"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"timers"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"tty"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"url"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"util"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"vm"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"zlib"})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"When the above module is referenced in code via import / require syntax, the corresponding polyfill will be injected."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { Buffer } from 'buffer';\n\nconst bufferData = Buffer.from('xxxx');\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"fallbacks",children:["Fallbacks",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#fallbacks",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"child_process"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"cluster"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"dgram"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"dns"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"fs"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"module"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"net"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"readline"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"repl"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"tls"})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Currently there is no polyfill for the above modules on the browser side, so when you import the above modules, it will automatically fallback to an empty object."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import fs from 'fs';\n\nconsole.log(fs); // -> {}\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fplugins%2Fplugin-node-polyfill.mdx"]={toc:[{text:"Quick Start",id:"quick-start",depth:2},{text:"Used in Modern.js framework",id:"used-in-modernjs-framework",depth:3},{text:"Use via the Node API",id:"use-via-the-node-api",depth:3},{text:"Install",id:"install",depth:4},{text:"Register",id:"register",depth:4},{text:"Node Polyfills",id:"node-polyfills",depth:2},{text:"Globals",id:"globals",depth:3},{text:"Modules",id:"modules",depth:3},{text:"Fallbacks",id:"fallbacks",depth:3}],title:"Node Polyfill Plugin",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},95151:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",h3:"h3",pre:"pre",code:"code",ul:"ul",li:"li",strong:"strong"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"stylus-plugin",children:["Stylus Plugin",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#stylus-plugin",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Stylus is an Expressive, dynamic and robust CSS preprocessor. This chapter introduces how to use Stylus in Builder."}),"\n",(0,i.jsxs)(n.h2,{id:"quick-start",children:["Quick Start",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#quick-start",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"install",children:["Install",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#install",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"You can install the plugin with the following command:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# npm\nnpm install @modern-js/builder-plugin-stylus -D\n\n# yarn\nyarn add @modern-js/builder-plugin-stylus -D\n\n# pnpm\npnpm install @modern-js/builder-plugin-stylus -D\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"register",children:["Register",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#register",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["In upper-level frameworks such as Modern.js, you can register Stylus plugin through the ",(0,i.jsx)(n.code,{children:"builderPlugins"})," config:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { builderPluginStylus } from '@modern-js/builder-plugin-stylus';\n\nexport default {\n  builderPlugins: [builderPluginStylus()],\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["When you call the Builder's Node API directly, you can register Stylus plugin with the ",(0,i.jsx)(n.code,{children:"addPlugins"})," method:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import { builderPluginStylus } from '@modern-js/builder-plugin-stylus';\n\n// add the plugin to the builder instance\nbuilder.addPlugins([builderPluginStylus()]);\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["After installing the plugin, you can directly import ",(0,i.jsx)(n.code,{children:"*.styl"})," or ",(0,i.jsx)(n.code,{children:"*.module.styl"})," files into the code without adding other configs."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"normalize.styl"}),":"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-styl",children:"the body\n   color#000\n   font 14px Arial, sans-serif\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"title.module.styl"}),":"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-styl",children:".title\n   font-size: 14px;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"index.js"}),":"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import './normalize.styl';\nimport style from './title.module.styl';\n\nconsole.log(style.title);\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"config",children:["Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#config",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"If you need to customize the compilation behavior of Stylus, you can use the following configs."}),"\n",(0,i.jsxs)(n.h3,{id:"stylusoptions",children:["stylusOptions",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#stylusoptions",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"-Type:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type StylusOptions = {\n  use?: string[];\n  include?: string;\n  import?: string;\n  resolveURL?: boolean;\n  lineNumbers?: boolean;\n  hoistAtrules?: boolean;\n};\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Options passed to Stylus, please refer to the ",(0,i.jsx)(n.a,{href:"https://stylus-lang.com/docs/js.html",target:"_blank",rel:"noopener noreferrer",children:"Stylus documentation"})," for specific usage."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builderPluginStylus({\n  stylusOptions: {\n    lineNumbers: false,\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"sourcemap",children:["sourceMap",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#sourcemap",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"isDev"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Whether to generate Source Map, enabled by default in the development environment."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builderPluginStylus({\n  sourceMap: false,\n});\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fplugins%2Fplugin-stylus.mdx"]={toc:[{text:"Quick Start",id:"quick-start",depth:2},{text:"Install",id:"install",depth:3},{text:"Register",id:"register",depth:3},{text:"Example",id:"example",depth:2},{text:"Config",id:"config",depth:2},{text:"stylusOptions",id:"stylusoptions",depth:3},{text:"sourceMap",id:"sourcemap",depth:3}],title:"Stylus Plugin",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},23598:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return d}});var t,i=r("9880"),s=r("23169"),l=r.ir(r("106")),o=r.ir(r("86458"));function a(e){let n=Object.assign({h1:"h1",a:"a",h2:"h2",p:"p",h3:"h3",ul:"ul",li:"li",code:"code",h4:"h4",pre:"pre",strong:"strong",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"swc-plugin",children:["SWC Plugin",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#swc-plugin",children:"#"})]}),"\n","\n",(0,i.jsx)(l.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"usage-scenarios",children:["Usage Scenarios",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#usage-scenarios",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Before using the SWC plugin, please understand the scenarios and limitations of the SWC plugin to determine whether your project is suitable for using it."}),"\n",(0,i.jsxs)(n.h3,{id:"rspack-scenario",children:["Rspack Scenario",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#rspack-scenario",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"If you are already using Rspack as the bundler in your project, then you do not need to use the SWC plugin, because Rspack uses SWC for transpiler and minifier by default, and the SWC compilation capabilities are available out of the box."}),"\n",(0,i.jsxs)(n.h3,{id:"babel-plugins",children:["Babel Plugins",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#babel-plugins",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"If your project requires the registration of some custom Babel plugins, you will not be able to register and use Babel plugins after using SWC, since it replaces Babel as the transpiler."}),"\n",(0,i.jsx)(n.p,{children:"For most common Babel plugins, you can find corresponding replacements in SWC, such as:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"@babel/preset-env"}),": use ",(0,i.jsx)(n.a,{href:"#presetenv",children:"presetEnv"})," instead."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"@babel/preset-react"}),": use ",(0,i.jsx)(n.a,{href:"#presetreact",children:"presetReact"})," instead."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"babel-plugin-import"}),": use ",(0,i.jsx)(n.a,{href:"/api/config-source#sourcetransformimport",children:"source.transformImport"})," instead."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"babel-plugin-lodash"}),": use ",(0,i.jsx)(n.a,{href:"#extensionslodash",children:"extensions.lodash"})," instead."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"@emotion/babel-plugin"}),": use ",(0,i.jsx)(n.a,{href:"#extensionsemotion",children:"extensions.emotion"})," instead."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"babel-plugin-styled-components"}),": use ",(0,i.jsx)(n.a,{href:"#extensionsstyledcomponents",children:"extensions.styledComponents"})," instead."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"@babel/plugin-react-transform-remove-prop-types"}),": use ",(0,i.jsx)(n.a,{href:"#extensionsreactutils",children:"reactUtils.removePropTypes"})," instead."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["If you use Babel plugin capabilities that are not yet supported by SWC, you will no longer be able to use them after switching to SWC compilation. You can give feedback via issues under the ",(0,i.jsx)(n.a,{href:"https://github.com/web-infra-dev/swc-plugins",target:"_blank",rel:"noopener noreferrer",children:"swc-plugins"})," repository and we will evaluate if built-in support is needed."]}),"\n",(0,i.jsxs)(n.h3,{id:"bundle-size",children:["Bundle Size",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#bundle-size",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["When using SWC for code minification instead of ",(0,i.jsx)(n.a,{href:"https://github.com/terser/terser",target:"_blank",rel:"noopener noreferrer",children:"terser"})," and ",(0,i.jsx)(n.a,{href:"https://github.com/cssnano/cssnano",target:"_blank",rel:"noopener noreferrer",children:"cssnano"}),", there may be a small change in the bundle size. SWC outperforms terser for JavaScript code compression and slightly underperforms cssnano for CSS code compression."]}),"\n",(0,i.jsxs)(n.p,{children:["For a detailed comparison between minifiers, see ",(0,i.jsx)(n.a,{href:"https://github.com/privatenumber/minification-benchmarks",target:"_blank",rel:"noopener noreferrer",children:"minification-benchmarks"}),"."]}),"\n",(0,i.jsxs)(n.h2,{id:"quick-start",children:["Quick Start",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#quick-start",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"used-in-modernjs-framework",children:["Used in Modern.js framework",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#used-in-modernjs-framework",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The Modern.js framework integrates the Builder's SWC plugin, and you can use it in the following ways:"}),"\n","\n",(0,i.jsx)(o.default,{}),"\n",(0,i.jsxs)(n.h3,{id:"use-via-the-node-api",children:["Use via the Node API",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#use-via-the-node-api",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"If you use the Builder's Node API, you need to manually install and register the SWC plugin of Builder."}),"\n",(0,i.jsxs)(n.h4,{id:"install",children:["Install",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#install",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"You can install the plugin with the following command:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# npm\nnpm install @modern-js/builder-plugin-swc -D\n\n# yarn\nyarn add @modern-js/builder-plugin-swc -D\n\n# pnpm\npnpm add @modern-js/builder-plugin-swc -D\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"register",children:["Register",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#register",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Register SWC plugin through the ",(0,i.jsx)(n.code,{children:"addPlugins"})," method:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import { builderPluginSwc } from '@modern-js/builder-plugin-swc';\n\n// add the plugin to the builder instance\nbuilder.addPlugins([builderPluginSwc()]);\n"})}),"\n",(0,i.jsx)(n.p,{children:"That's it! Now you can use SWC transformation and minification in your project."}),"\n",(0,i.jsxs)(n.h2,{id:"config",children:["Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#config",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type PluginConfig = {\n  presetReact?: ReactConfig;\n  presetEnv?: EnvConfig;\n  jsMinify?: boolean | JsMinifyOptions;\n  cssMinify?: boolean | CssMinifyOptions;\n  extensions?: Extensions;\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"presetreact",children:["presetReact",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#presetreact",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.a,{href:"https://swc.rs/docs/configuration/compilation#jsctransformreact",target:"_blank",rel:"noopener noreferrer",children:"presetReact"})," in SWC."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Ported from ",(0,i.jsx)(n.code,{children:"@babel/preset-react"}),". The value you passed will be merged with default option."]}),"\n",(0,i.jsxs)(n.p,{children:["By default, the plugin will set ",(0,i.jsx)(n.code,{children:"runtime"})," field based on your ",(0,i.jsx)(n.code,{children:"react"})," version, if ",(0,i.jsx)(n.code,{children:"react"})," version is newer than 17.0.0, it will be set to ",(0,i.jsx)(n.code,{children:"automatic"}),", otherwish ",(0,i.jsx)(n.code,{children:"classic"}),"."]}),"\n",(0,i.jsxs)(n.h3,{id:"presetenv",children:["presetEnv",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#presetenv",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.a,{href:"https://swc.rs/docs/configuration/supported-browsers#options",target:"_blank",rel:"noopener noreferrer",children:"presetEnv"})," in SWC."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Ported from ",(0,i.jsx)(n.code,{children:"@babel/preset-env"}),". The value you passed will be merged with default option."]}),"\n",(0,i.jsx)(n.p,{children:"Default option is:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"{\n  targets: '', // automatic get browserslist from your project, so you don't have to set this field\n  mode: 'usage',\n}\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"jsminify",children:["jsMinify",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#jsminify",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})," or ",(0,i.jsx)(n.a,{href:"https://terser.org/docs/api-reference.html#compress-options",target:"_blank",rel:"noopener noreferrer",children:"compress configuration"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"{ compress: {}, mangle: true }"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["If set it to ",(0,i.jsx)(n.code,{children:"false"}),", then SWC minification will be disabled, if set it to ",(0,i.jsx)(n.code,{children:"true"})," then will it applies default option. If you pass an object, then this object will be merged with default option."]}),"\n",(0,i.jsxs)(n.h3,{id:"cssminify",children:["cssMinify",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#cssminify",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"}),": ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"}),": ",(0,i.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Whether enable to compress CSS files by SWC. If enabled, it will improve the performance of CSS compression, but the compression ratio will be slightly reduced."}),"\n",(0,i.jsxs)(n.h3,{id:"extensions",children:["extensions",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#extensions",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Object"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Some plugins ported from Babel."}),"\n",(0,i.jsxs)(n.h4,{id:"extensionsreactutils",children:["extensions.reactUtils",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#extensionsreactutils",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"Object"})]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type ReactUtilsOptions = {\n  autoImportReact?: boolean;\n  removeEffect?: boolean;\n  removePropTypes?: {\n    mode?: 'remove' | 'unwrap' | 'unsafe-wrap';\n    removeImport?: boolean;\n    ignoreFilenames?: string[];\n    additionalLibraries?: string[];\n    classNameMatchers?: string[];\n  };\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Some little help utils for ",(0,i.jsx)(n.code,{children:"React"}),"."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"reactUtils.autoImportReact"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Automatically import ",(0,i.jsx)(n.code,{children:"React"})," as global variable, eg: ",(0,i.jsx)(n.code,{children:"import React from 'react'"}),".\nMostly used for generated ",(0,i.jsx)(n.code,{children:"React.createElement"}),"."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"reactUtils.removeEffect"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Remove ",(0,i.jsx)(n.code,{children:"useEffect"})," call."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"reactUtils.removePropTypes"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type RemovePropTypesOptions = {\n  mode?: 'remove' | 'unwrap' | 'unsafe-wrap';\n  removeImport?: boolean;\n  ignoreFilenames?: string[];\n  additionalLibraries?: string[];\n  classNameMatchers?: string[];\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Remove ",(0,i.jsx)(n.code,{children:"React"})," runtime type checking. This is ported from ",(0,i.jsx)(n.a,{href:"https://github.com/oliviertassinari/babel-plugin-transform-react-remove-prop-types",target:"_blank",rel:"noopener noreferrer",children:"@babel/plugin-react-transform-remove-prop-types"}),", All the configurations remain the same."]}),"\n",(0,i.jsxs)(n.h4,{id:"extensionslodash",children:["extensions.lodash",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#extensionslodash",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type LodashOptions = {\n  cwd?: string;\n  ids?: string[];\n};\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Default:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const defaultOptions = {\n  cwd: process.cwd(),\n  ids: ['lodash', 'lodash-es'],\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Ported from ",(0,i.jsx)(n.a,{href:"https://github.com/lodash/babel-plugin-lodash",target:"_blank",rel:"noopener noreferrer",children:"babel-plugin-lodash"}),", it is used to automatically convert references to Lodash into on-demand imports, thereby reducing the bundle size of Lodash code."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// Input\nimport { get, throttle } from 'lodash';\n\n// Output\nimport get from 'lodash/get';\nimport throttle from 'lodash/throttle';\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"extensionsstyledcomponents",children:["extensions.styledComponents",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#extensionsstyledcomponents",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'boolean | {\n  // Enabled by default in development, disabled in production to reduce file size,\n  // setting this will override the default for all environments.\n  displayName?: boolean,\n  // Enabled by default.\n  ssr?: boolean,\n  // Enabled by default.\n  fileName?: boolean,\n  // Empty by default.\n  topLevelImportPaths?: string[],\n  // Defaults to ["index"].\n  meaninglessFileNames?: string[],\n  // Enabled by default.\n  cssProp?: boolean,\n  // Empty by default.\n  namespace?: string,\n};\n'})}),"\n",(0,i.jsxs)(n.p,{children:["This is ported by Next.js team from ",(0,i.jsx)(n.a,{href:"https://github.com/styled-components/babel-plugin-styled-components",target:"_blank",rel:"noopener noreferrer",children:"babel-plugin-styled-components"}),"."]}),"\n",(0,i.jsxs)(n.h4,{id:"extensionsemotion",children:["extensions.emotion",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#extensionsemotion",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"boolean | {\n  // default is true. It will be disabled when build type is production.\n  sourceMap?: boolean,\n  // default is 'dev-only'.\n  autoLabel?: 'never' | 'dev-only' | 'always',\n  // default is '[local]'.\n  // Allowed values: `[local]` `[filename]` and `[dirname]`\n  // This option only works when autoLabel is set to 'dev-only' or 'always'.\n  // It allows you to define the format of the resulting label.\n  // The format is defined via string where variable parts are enclosed in square brackets [].\n  // For example labelFormat: \"my-classname--[local]\", where [local] will be replaced with the name of the variable the result is assigned to.\n  labelFormat?: string,\n  // default is undefined.\n  // This option allows you to tell the compiler what imports it should\n  // look at to determine what it should transform so if you re-export\n  // Emotion's exports, you can still use transforms.\n  importMap?: {\n    [packageName: string]: {\n      [exportName: string]: {\n        canonicalImport?: [string, string],\n        styledBaseImport?: [string, string],\n      }\n    }\n  },\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["This is ported by Next.js team from ",(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/@emotion/babel-plugin",target:"_blank",rel:"noopener noreferrer",children:"@emotion/babel-plugin"})]}),"\n",(0,i.jsxs)(n.h4,{id:"extensionspluginimport",children:["extensions.pluginImport",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#extensionspluginimport",children:"#"})]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["Builder provides the ",(0,i.jsx)(n.a,{href:"/api/config-source#sourcetransformimport",children:"source.transformImport"})," config, so you don't need to configure ",(0,i.jsx)(n.code,{children:"extensions.pluginImport"})," manually.\n"]})})]}),"\n",(0,i.jsxs)(n.p,{children:["Ported from ",(0,i.jsx)(n.a,{href:"https://github.com/umijs/babel-plugin-import",target:"_blank",rel:"noopener noreferrer",children:"babel-plugin-import"}),", configurations are the same."]}),"\n",(0,i.jsxs)(n.p,{children:["Some configurations can be passed in functions, such as ",(0,i.jsx)(n.code,{children:"customName"}),", ",(0,i.jsx)(n.code,{children:"customStyleName"}),". These JavaScript functions will be called by Rust through Node-API, which will cause some performance overhead."]}),"\n",(0,i.jsxs)(n.p,{children:["Some simple function logic can be replaced by template language. Therefore, the configuration of function items such as ",(0,i.jsx)(n.code,{children:"customName"}),", ",(0,i.jsx)(n.code,{children:"customStyleName"})," can also be passed in strings as templates to replace functions and improve performance."]}),"\n",(0,i.jsx)(n.p,{children:"For example:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { MyButton as Btn } from 'foo';\n"})}),"\n",(0,i.jsx)(n.p,{children:"Apply following configurations:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"PluginSWC({\n  extensions: {\n    pluginImport: [\n      {\n        libraryName: 'foo',\n        customName: 'foo/es/{{ member }}',\n      },\n    ],\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"{{ member }}"})," will be replaced by the imported specifier:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import Btn from 'foo/es/MyButton';\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Template ",(0,i.jsx)(n.code,{children:"customName: 'foo/es/{{ member }}'"})," is the same as ",(0,i.jsx)(n.code,{children:" customName: (member) => `foo/es/${member}`  "}),", but template value has no performance overhead of Node-API."]}),"\n",(0,i.jsxs)(n.p,{children:["The template used here is ",(0,i.jsx)(n.a,{href:"https://handlebarsjs.com",target:"_blank",rel:"noopener noreferrer",children:"handlebars"}),". There are some useful builtin tools, Take the above import statement as an example:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"PluginSWC({\n  extensions: {\n    pluginImport: [\n      {\n        libraryName: 'foo',\n        customName: 'foo/es/{{ kebabCase member }}',\n      },\n    ],\n  },\n});\n"})}),"\n",(0,i.jsx)(n.p,{children:"Transformed to:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import Btn from 'foo/es/my-button';\n"})}),"\n",(0,i.jsxs)(n.p,{children:["In addition to ",(0,i.jsx)(n.code,{children:"kebabCase"}),", there are ",(0,i.jsx)(n.code,{children:"cameraCase"}),", ",(0,i.jsx)(n.code,{children:"snakeCase"}),", ",(0,i.jsx)(n.code,{children:"upperCase"})," and ",(0,i.jsx)(n.code,{children:"lowerCase"})," can be used as well."]}),"\n",(0,i.jsxs)(n.h2,{id:"limitation",children:["Limitation",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#limitation",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Do not support ",(0,i.jsx)(n.code,{children:"@babel/plugin-transform-runtime"})," and other custom Babel plugins."]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fplugins%2Fplugin-swc.mdx"]={toc:[{text:"Usage Scenarios",id:"usage-scenarios",depth:2},{text:"Rspack Scenario",id:"rspack-scenario",depth:3},{text:"Babel Plugins",id:"babel-plugins",depth:3},{text:"Bundle Size",id:"bundle-size",depth:3},{text:"Quick Start",id:"quick-start",depth:2},{text:"Used in Modern.js framework",id:"used-in-modernjs-framework",depth:3},{text:"Use via the Node API",id:"use-via-the-node-api",depth:3},{text:"Install",id:"install",depth:4},{text:"Register",id:"register",depth:4},{text:"Config",id:"config",depth:2},{text:"presetReact",id:"presetreact",depth:3},{text:"presetEnv",id:"presetenv",depth:3},{text:"jsMinify",id:"jsminify",depth:3},{text:"cssMinify",id:"cssminify",depth:3},{text:"extensions",id:"extensions",depth:3},{text:"extensions.reactUtils",id:"extensionsreactutils",depth:4},{text:"extensions.lodash",id:"extensionslodash",depth:4},{text:"extensions.styledComponents",id:"extensionsstyledcomponents",depth:4},{text:"extensions.emotion",id:"extensionsemotion",depth:4},{text:"extensions.pluginImport",id:"extensionspluginimport",depth:4},{text:"Limitation",id:"limitation",depth:2}],title:"SWC Plugin",frontmatter:{}};var d=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},49193:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",h3:"h3",pre:"pre",code:"code",ul:"ul",li:"li",strong:"strong"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"vue-plugin",children:["Vue Plugin",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#vue-plugin",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"The Vue plugin provides support for Vue 3 application builds."}),"\n",(0,i.jsxs)(n.h2,{id:"quick-start",children:["Quick Start",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#quick-start",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"install",children:["Install",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#install",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"You can install the plugin with the following command:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# npm\nnpm install @modern-js/builder-plugin-vue -D\n\n# yarn\nyarn add @modern-js/builder-plugin-vue -D\n\n# pnpm\npnpm install @modern-js/builder-plugin-vue -D\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"register",children:["Register",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#register",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["You can register Vue plugin with the ",(0,i.jsx)(n.code,{children:"addPlugins"})," method:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import { builderPluginVue } from '@modern-js/builder-plugin-vue';\n\nbuilder.addPlugins([builderPluginVue()]);\n"})}),"\n",(0,i.jsxs)(n.p,{children:["After installing the plugin, you can directly import ",(0,i.jsx)(n.code,{children:"*.vue"})," files into the code without adding other configs."]}),"\n",(0,i.jsxs)(n.h2,{id:"config",children:["Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#config",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"If you need to customize the compilation behavior of Vue, you can use the following configs."}),"\n",(0,i.jsxs)(n.h3,{id:"vueloaderoptions",children:["vueLoaderOptions",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#vueloaderoptions",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Type:"})," ",(0,i.jsx)(n.code,{children:"VueLoaderOptions"})]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Default:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const defaultOptions = {\n  compilerOptions: {\n    preserveWhitespace: false,\n  },\n  experimentalInlineMatchResource: builder === 'rspack',\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Options passed to ",(0,i.jsx)(n.code,{children:"vue-loader"}),", please refer to the ",(0,i.jsx)(n.a,{href:"https://vue-loader.vuejs.org/",target:"_blank",rel:"noopener noreferrer",children:"vue-loader documentation"})," for detailed usage."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builderPluginVue({\n  vueLoaderOptions: {\n    hotReload: false,\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"vuejsxoptions",children:["vueJsxOptions",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#vuejsxoptions",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type:"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type VueJSXPluginOptions = {\n  /** transform `on: { click: xx }` to `onClick: xxx` */\n  transformOn?: boolean;\n  /** enable optimization or not. */\n  optimize?: boolean;\n  /** merge static and dynamic class / style attributes / onXXX handlers */\n  mergeProps?: boolean;\n  /** configuring custom elements */\n  isCustomElement?: (tag: string) => boolean;\n  /** enable object slots syntax */\n  enableObjectSlots?: boolean;\n  /** Replace the function used when compiling JSX expressions */\n  pragma?: string;\n};\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Default:"})," ",(0,i.jsx)(n.code,{children:"{}"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["Options passed to ",(0,i.jsx)(n.code,{children:"@vue/babel-plugin-jsx"}),", please refer to the ",(0,i.jsx)(n.a,{href:"https://github.com/vuejs/babel-plugin-jsx",target:"_blank",rel:"noopener noreferrer",children:"@vue/babel-plugin-jsx documentation"})," for specific usage."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builderPluginVue({\n  vueJsxOptions: {\n    transformOn: true,\n  },\n});\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fplugins%2Fplugin-vue.mdx"]={toc:[{text:"Quick Start",id:"quick-start",depth:2},{text:"Install",id:"install",depth:3},{text:"Register",id:"register",depth:3},{text:"Config",id:"config",depth:2},{text:"vueLoaderOptions",id:"vueloaderoptions",depth:3},{text:"vueJsxOptions",id:"vuejsxoptions",depth:3}],title:"Vue Plugin",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},72016:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({p:"p",img:"img"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:'Refers to the build engine. The goal of Builder is to "reuse the best practices of build tools".'}),"\n",(0,i.jsx)(n.p,{children:"Bundlers are low-level, when we build a project based on webpack, we need to fully understand the webpack config and many webpack plugins and loaders, then spend a lot of time to combine them."}),"\n",(0,i.jsx)(n.p,{children:"Builder is out-of-box. By using Builder, you can quickly gain the ability to build a web application."}),"\n",(0,i.jsx)(n.p,{children:"The layers within the Modern.js Builder are as follows:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://lf3-static.bytednsdoc.com/obj/eden-cn/zq-uylkvT/ljhwZthlaukjlkulzlp/builder-struct-10092.png",alt:""})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fshared%2Fbuilder.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},85446:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({p:"p",a:"a"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Refers to module bundlers such as ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/",target:"_blank",rel:"noopener noreferrer",children:"webpack"}),", ",(0,i.jsx)(n.a,{href:"https://www.rspack.dev/",target:"_blank",rel:"noopener noreferrer",children:"Rspack"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"The main goal of bundlers is to bundle JavaScript, CSS and other files together, and the bundled files can be used in the browser, Node.js or other environments. When bundler processes the Web application, it builds a dependency graph and then combines every module into one or more bundles."})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fshared%2Fbundler.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},86458:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({p:"p",code:"code",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["First, you need to execute ",(0,i.jsx)(n.code,{children:"pnpm run new"})," to enable the SWC compile:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"? Please select the operation you want: Enable features\n? Please select the feature name: Enable SWC Compile\n"})}),"\n",(0,i.jsxs)(n.p,{children:["After the installation, please register the SWC plugin in the ",(0,i.jsx)(n.code,{children:"modern.config.ts"})," file, then the SWC compilation and compression will be enabled."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="modern.config.ts"',children:"import { appTools, defineConfig } from '@modern-js/app-tools';\nimport { swcPlugin } from '@modern-js/plugin-swc';\n\nexport default defineConfig({\n  plugins: [appTools(), swcPlugin()],\n});\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fshared%2Fenable-swc.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},21081:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({p:"p",a:"a",strong:"strong"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://esbuild.github.io/",target:"_blank",rel:"noopener noreferrer",children:"esbuild"})," is a front-end build tool based on Golang. It has the functions of bundling, compiling and minimizing JavaScript code. Compared with traditional tools, the performance is significantly improved. When minimizing code, compared to webpack's built-in terser minimizer, esbuild has dozens of times better performance."]}),"\n",(0,i.jsxs)(n.p,{children:["Modern.js Builder provides esbuild plugin that allow you to use esbuild instead of babel-loader, ts-loader and terser for transformation and minification process. When you enable esbuild in a large project, ",(0,i.jsx)(n.strong,{children:"it can greatly reduce the time required for code compilation and compression, while effectively avoiding OOM (heap out of memory) problems"}),"."]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fshared%2Fesbuild.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},29336:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({p:"p",code:"code",ul:"ul",li:"li",strong:"strong",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Get the Builder config, this method must be called after the ",(0,i.jsx)(n.code,{children:"modifyBuilderConfig"})," hook is executed."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"function GetBuilderConfig(): Readonly<BuilderConfig>;\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fshared%2FgetBuilderConfig.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},66731:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({p:"p",ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Get path information for all HTML assets."}),"\n",(0,i.jsx)(n.p,{children:"This method will return an object, the key is the entry name and the value is the relative path of the HTML file in the dist directory."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"function GetHTMLPaths(): Record<string, string>;\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fshared%2FgetHTMLPaths.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},66503:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({p:"p",code:"code",ul:"ul",li:"li",strong:"strong",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Get the normalized Builder config, this method must be called after the ",(0,i.jsx)(n.code,{children:"modifyBuilderConfig"})," hook is executed."]}),"\n",(0,i.jsxs)(n.p,{children:["Compared with the ",(0,i.jsx)(n.code,{children:"api.getBuilderConfig"})," method, the config returned by this method has been normalized, and the type definition of the config will be narrowed. For example, the ",(0,i.jsx)(n.code,{children:"undefined"})," type of ",(0,i.jsx)(n.code,{children:"config.html"})," will be removed."]}),"\n",(0,i.jsx)(n.p,{children:"It is recommended to use this method to get the Builder config."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"function GetNormalizedConfig(): Readonly<NormalizedConfig>;\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fshared%2FgetNormalizedConfig.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},85195:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({p:"p",ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Determines whether a plugin has been registered."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"function IsPluginExists(pluginName: string): boolean;\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fshared%2FisPluginExists.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},59085:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({p:"p",a:"a",strong:"strong",pre:"pre",code:"code",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Before getting started, you will need to install ",(0,i.jsx)(n.a,{href:"https://nodejs.org/",target:"_blank",rel:"noopener noreferrer",children:"Node.js"}),", and ensure that your Node.js version is higher than 14.17.6. ",(0,i.jsx)(n.strong,{children:"We recommend using the LTS version of Node.js 16."})]}),"\n",(0,i.jsx)(n.p,{children:"You can check the currently used Node.js version with the following command:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"node -v\n# v16.19.1\n"})}),"\n",(0,i.jsxs)(n.p,{children:["If you do not have Node.js installed in your current environment, or the installed version is lower than 14.17.6, you can use ",(0,i.jsx)(n.a,{href:"https://github.com/nvm-sh/nvm",target:"_blank",rel:"noopener noreferrer",children:"nvm"})," or ",(0,i.jsx)(n.a,{href:"https://github.com/Schniz/fnm",target:"_blank",rel:"noopener noreferrer",children:"fnm"})," to install the required version."]}),"\n",(0,i.jsx)(n.p,{children:"Here is an example of how to install the Node.js 16 LTS version via nvm:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Install the long-term support version of Node.js 16\nnvm install 16 --lts\n\n# Make the newly installed Node.js 16 as the default version\nnvm alias default 16\n\n# Switch to the newly installed Node.js 16\nnvm use 16\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"nvm and fnm"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"Both nvm and fnm are Node.js version management tools. Relatively speaking, nvm is more mature and stable, while fnm is implemented using Rust, which provides better performance than nvm."})})]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fshared%2FnodeVersion.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},70776:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({p:"p",code:"code",ul:"ul",li:"li",strong:"strong",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Called after executing the production build, you can get the build result information through the ",(0,i.jsx)(n.code,{children:"stats"})," parameter."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"function OnAfterBuild(\n  callback: (params: { stats?: Stats | MultiStats }) => Promise<void> | void,\n): void;\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fshared%2FonAfterBuild.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},5748:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({p:"p",code:"code",ul:"ul",li:"li",strong:"strong",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Called after creating a compiler instance, before executing a build, when you execute ",(0,i.jsx)(n.code,{children:"builder.startDevServer"}),", ",(0,i.jsx)(n.code,{children:"builder.build"})," or ",(0,i.jsx)(n.code,{children:"builder.createCompiler"}),", this hook will be called. You can get the compiler instance through the ",(0,i.jsx)(n.code,{children:"compiler"})," parameter."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"function OnAfterCreateCompiler(callback: (params: {\n  compiler: Compiler | MultiCompiler;\n}) => Promise<void> | void;): void;\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fshared%2FonAfterCreateCompiler.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},94563:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({p:"p",code:"code",ul:"ul",li:"li",strong:"strong",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Called after starting the development server, you can get the port number through the ",(0,i.jsx)(n.code,{children:"port"})," parameter."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"function OnAfterStartDevServer(\n  callback: (params: { port: number }) => Promise<void> | void,\n): void;\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fshared%2FonAfterStartDevServer.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},7208:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({p:"p",code:"code",ul:"ul",li:"li",strong:"strong",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Called before executing the production environment build, you can get the final config object of the bundler through the ",(0,i.jsx)(n.code,{children:"bundlerConfigs"})," parameter."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"function OnBeforeBuild(\n  callback: (params: {\n    bundlerConfigs?: WebpackConfig[] | RspackConfig[];\n  }) => Promise<void> | void,\n): void;\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fshared%2FonBeforeBuild.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},77730:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({p:"p",code:"code",ul:"ul",li:"li",strong:"strong",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Called before creating the compiler instance, when you execute ",(0,i.jsx)(n.code,{children:"builder.startDevServer"}),", ",(0,i.jsx)(n.code,{children:"builder.build"})," or ",(0,i.jsx)(n.code,{children:"builder.createCompiler"}),", this hook will be called. You can get the final config object of the bundler through the ",(0,i.jsx)(n.code,{children:"bundlerConfigs"})," parameter."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"function OnBeforeCreateCompiler(\n  callback: (params: {\n    bundlerConfigs: WebpackConfig[] | RspackConfig[];\n  }) => Promise<void> | void,\n): void;\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fshared%2FonBeforeCreateCompiler.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},39772:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({p:"p",ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Called before starting the development server."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"function OnBeforeStartDevServer(callback: () => Promise<void> | void): void;\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fshared%2FonBeforeStartDevServer.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},30125:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({p:"p",code:"code",ul:"ul",li:"li",strong:"strong",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Called after each development environment build, you can use ",(0,i.jsx)(n.code,{children:"isFirstCompile"})," to determine whether it is the first build."]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"function OnDevCompileDone(\n  callback: (params: { isFirstCompile: boolean }) => Promise<void> | void,\n): void;\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fshared%2FonDevCompileDone.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8250:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({p:"p",ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Called when the process is going to exit, this hook can only execute synchronous code."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Type"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"function OnExit(callback: () => void): void;\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fshared%2FonExit.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},64290:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var t,i=r("9880"),s=r("23169"),l=r.ir(r("89186"));function o(e){let n=Object.assign({div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"What is Rspack"}),(0,i.jsxs)(n.div,{className:"modern-directive-content",children:["\n","\n",(0,i.jsx)(l.default,{}),"\n"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fshared%2Frspack-tip.mdx"]={toc:[],title:"",frontmatter:{}};var a=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},89186:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({p:"p",a:"a"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://www.rspack.dev/",target:"_blank",rel:"noopener noreferrer",children:"Rspack"})," is a high performance JavaScript bundler based on Rust, with interoperability with the webpack ecosystem, allowing it to be integrated into webpack projects at a low cost while providing better build performance."]}),"\n",(0,i.jsx)(n.p,{children:"Compared to webpack, Rspack has significantly improved build performance, thanks not only to the language advantages brought by Rust, but also to its parallel architecture and incremental compilation features. Benchmarking has shown that Rspack can provide 5-10 times better compilation performance."})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fshared%2Frspack.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},106:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({p:"p",a:"a",code:"code"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://SWC.rs/",target:"_blank",rel:"noopener noreferrer",children:"SWC"})," (Speedy Web Compiler) is a transformer and minimizer for JavaScript and TypeScript based on ",(0,i.jsx)(n.code,{children:"Rust"}),". SWC can provide the same abilities with Babel, and it's more than 10x faster than Babel."]}),"\n",(0,i.jsx)(n.p,{children:"Modern.js Builder has a out-of-box plugin for SWC, power your Web application with Polyfill and minification, we also port some common used Babel plugins to SWC."})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fen%2Fshared%2Fswc.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},97366:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",code:"code",h3:"h3",pre:"pre",ul:"ul",li:"li",strong:"strong",blockquote:"blockquote"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"builder-core",children:["Builder Core",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builder-core",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"本章节描述了 Builder 提供的一些核心方法。"}),"\n",(0,i.jsxs)(n.h2,{id:"createbuilder",children:["createBuilder",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#createbuilder",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"创建一个 Builder 实例对象。"}),"\n",(0,i.jsxs)(n.p,{children:["使用该方法时，需要搭配 ",(0,i.jsx)(n.code,{children:"@modern-js/builder-webpack-provider"})," 或 ",(0,i.jsx)(n.code,{children:"@modern-js/builder-rspack-provider"})," 使用，Provider 基于特定 bundler 实现了对应的构建能力。"]}),"\n",(0,i.jsxs)(n.h3,{id:"builderwebpackprovider",children:["builderWebpackProvider",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderwebpackprovider",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当传入 ",(0,i.jsx)(n.code,{children:"builderWebpackProvider"})," 时，Builder 会使用 webpack 作为 bundler 进行构建。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { createBuilder } from '@modern-js/builder';\nimport { builderWebpackProvider } from '@modern-js/builder-webpack-provider';\n\nconst provider = builderWebpackProvider({\n  builderConfig: {\n    // some configs\n  },\n});\n\nconst builder = await createBuilder(provider, {\n  // some options\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"builderrspackprovider",children:["builderRspackProvider",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderrspackprovider",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当传入 ",(0,i.jsx)(n.code,{children:"builderRspackProvider"})," 时，Builder 会使用 Rspack 作为 bundler 进行构建。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { createBuilder } from '@modern-js/builder';\nimport { builderRspackProvider } from '@modern-js/builder-rspack-provider';\n\nconst provider = builderRspackProvider({\n  builderConfig: {\n    // some configs\n  },\n});\n\nconst builder = await createBuilder(provider, {\n  // some options\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"options",children:["options",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#options",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"createBuilder"})," 的第二个参数是一个配置对象，你可以传入以下选项："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type BuilderEntry = Record<string, string | string[]>;\n\ntype BuilderTarget = 'web' | 'node' | 'modern-web' | 'web-worker';\n\ntype CreateBuilderOptions = {\n  cwd?: string;\n  entry?: BuilderEntry;\n  target?: BuilderTarget | BuilderTarget[];\n  framework?: string;\n  configPath?: string | null;\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"各个选项的作用："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"cwd"}),": 当前执行构建的根路径，默认值为 ",(0,i.jsx)(n.code,{children:"process.cwd()"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"entry"}),": 构建入口对象"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"target"}),": 构建产物类型，默认值为 ",(0,i.jsx)(n.code,{children:"['web']"}),"，详见 ",(0,i.jsx)(n.a,{href:"/guide/basic/build-target",children:"构建产物类型"})," 章节。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"framework"}),": 框架的英文名称，唯一标识符，默认值为 ",(0,i.jsx)(n.code,{children:"'modern.js'"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"configPath"}),": 框架配置文件的路径（绝对路径），该参数影响构建缓存更新"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"mergebuilderconfig",children:["mergeBuilderConfig",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#mergebuilderconfig",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"合并多份 Builder 配置对象，并返回一个合并后的新对象。"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"function mergeBuilderConfig(...configs: BuilderConfig[]): BuilderConfig;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { mergeBuilderConfig } from '@modern-js/builder';\n\nconst config1 = {\n  dev: {\n    https: false,\n  },\n};\nconst config2 = {\n  dev: {\n    https: true,\n  },\n};\n\nconst mergedConfig = mergeBuilderConfig(config1, config2);\n\nconsole.log(mergedConfig); // { dev: { https: true } }\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"该方法不会修改传入的 config 对象。"}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"webpack",children:["webpack",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#webpack",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"webpack 对象，用于消费 webpack 内置插件或类型定义。"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import webpack from '@modern-js/builder-webpack-provider/webpack';\n\nnew webpack.DefinePlugin();\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:'大部分场景下，推荐从 Builder 中引用 webpack 对象，而不是手动安装一份 "webpack" 依赖，这样可以避免出现多实例问题。'}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"htmlwebpackplugin",children:["HtmlWebpackPlugin",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmlwebpackplugin",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"HtmlWebpackPlugin 对象，通常用于实现 HtmlWebpackPlugin 的自定义插件。"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import HtmlWebpackPlugin from '@modern-js/builder-webpack-provider/html-webpack-plugin';\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:'大部分场景下，推荐从 Builder 中引用 HtmlWebpackPlugin 对象，而不是手动安装一份 "html-webpack-plugin" 依赖，这样可以避免出现多实例问题。'}),"\n"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fapi%2Fbuilder-core.mdx"]={toc:[{text:"createBuilder",id:"createbuilder",depth:2},{text:"builderWebpackProvider",id:"builderwebpackprovider",depth:3},{text:"builderRspackProvider",id:"builderrspackprovider",depth:3},{text:"options",id:"options",depth:3},{text:"mergeBuilderConfig",id:"mergebuilderconfig",depth:2},{text:"webpack",id:"webpack",depth:2},{text:"HtmlWebpackPlugin",id:"htmlwebpackplugin",depth:2}],title:"Builder Core",frontmatter:{extractApiHeaders:[2]}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},23688:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return b}});var t,i=r("9880"),s=r("23169"),l=r.ir(r("54424")),o=r.ir(r("34342")),a=r.ir(r("46001")),d=r.ir(r("16578")),c=r.ir(r("96132")),h=r.ir(r("36075")),u=r.ir(r("44368")),p=r.ir(r("75736")),x=r.ir(r("52876")),m=r.ir(r("16592")),f=r.ir(r("87607")),j=r.ir(r("80392"));function g(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",code:"code",h3:"h3",ul:"ul",li:"li",strong:"strong",pre:"pre",blockquote:"blockquote",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"builder-instance",children:["Builder Instance",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builder-instance",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"本章节描述了 Builder 实例对象上所有的属性和方法。"}),"\n",(0,i.jsxs)(n.h2,{id:"buildercontext",children:["builder.context",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#buildercontext",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"builder.context"})," 是一个只读对象，提供一些上下文信息。"]}),"\n",(0,i.jsxs)(n.h3,{id:"buildercontextentry",children:["builder.context.entry",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#buildercontextentry",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["构建入口对象，对应调用 ",(0,i.jsx)(n.code,{children:"createBuilder"})," 时传入的 ",(0,i.jsx)(n.code,{children:"entry"})," 选项。"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type BuilderEntry = Record<string, string | string[]>;\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"buildercontexttarget",children:["builder.context.target",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#buildercontexttarget",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["构建产物类型，对应调用 ",(0,i.jsx)(n.code,{children:"createBuilder"})," 时传入的 ",(0,i.jsx)(n.code,{children:"target"})," 选项。"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type BuilderTarget = 'web' | 'node' | 'modern-web' | 'web-worker';\n\ntype Context = {\n  target: BuilderTarget | BuilderTarget[];\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"buildercontextrootpath",children:["builder.context.rootPath",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#buildercontextrootpath",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当前执行构建的根路径，对应调用 ",(0,i.jsx)(n.code,{children:"createBuilder"})," 时传入的 ",(0,i.jsx)(n.code,{children:"cwd"})," 选项。"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type RootPath = string;\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"buildercontextsrcpath",children:["builder.context.srcPath",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#buildercontextsrcpath",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"src 目录的绝对路径。"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type SrcPath = string;\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"buildercontextdistpath",children:["builder.context.distPath",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#buildercontextdistpath",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["构建产物输出目录的绝对路径，对应 ",(0,i.jsx)(n.code,{children:"BuilderConfig"})," 中的 ",(0,i.jsx)(n.code,{children:"output.distPath.root"})," 配置项。"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type DistPath = string;\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"buildercontextcachepath",children:["builder.context.cachePath",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#buildercontextcachepath",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"构建过程中生成的缓存文件所在的绝对路径。"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type CachePath = string;\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"buildercontextconfigpath",children:["builder.context.configPath",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#buildercontextconfigpath",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["框架配置文件的绝对路径，对应调用 ",(0,i.jsx)(n.code,{children:"createBuilder"})," 时传入的 ",(0,i.jsx)(n.code,{children:"configPath"})," 选项。"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type ConfigPath = string | undefined;\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"buildercontexttsconfigpath",children:["builder.context.tsconfigPath",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#buildercontexttsconfigpath",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["tsconfig.json 文件的绝对路径，若项目中不存在 tsconfig.json 文件，则为 ",(0,i.jsx)(n.code,{children:"undefined"}),"。"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type TsconfigPath = string | undefined;\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"buildercontextframework",children:["builder.context.framework",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#buildercontextframework",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["框架的英文名称，唯一标识符，默认值为 ",(0,i.jsx)(n.code,{children:"'modern.js'"}),"。"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type Framework = string | undefined;\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"buildercontextdevserver",children:["builder.context.devServer",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#buildercontextdevserver",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Dev Server 相关信息，包含了当前 Dev Server 的 hostname 和端口号。"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type DevServer = {\n  hostname: string;\n  port: number;\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"buildercontextbundlertype",children:["builder.context.bundlerType",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#buildercontextbundlertype",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"当前执行构建的构建工具类型。"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type bundlerType = 'webpack' | 'rspack';\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"builderbuild",children:["builder.build",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderbuild",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"调用 build 方法时，会执行一次生产环境构建。"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type BuildOptions = {\n  mode?: 'development' | 'production';\n  watch?: boolean;\n  // 自定义 Compiler 对象\n  compiler?: Compiler | MultiCompiler;\n};\n\nfunction Build(options?: BuildOptions): Promise<void>;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"await builder.build();\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"开发环境构建",children:["开发环境构建",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#开发环境构建",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["如果需要执行一次开发环境构建，可以将 ",(0,i.jsx)(n.code,{children:"mode"})," 参数设置为 ",(0,i.jsx)(n.code,{children:"'development'"}),"。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"await builder.build({\n  mode: 'development',\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"监听文件变化",children:["监听文件变化",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#监听文件变化",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["如果需要自动监听文件变化并重新执行构建，可以将 ",(0,i.jsx)(n.code,{children:"watch"})," 参数设置为 ",(0,i.jsx)(n.code,{children:"true"}),"。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"await builder.build({\n  watch: true,\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"自定义-compiler",children:["自定义 Compiler",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#自定义-compiler",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"个别情况下，你可能希望使用自定义的 compiler："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const compiler = webpack({\n  // ...\n});\nawait builder.build({\n  compiler,\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"builderstartdevserver",children:["builder.startDevServer",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderstartdevserver",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"启动本地 Dev Server，基于 Modern.js Dev Server 实现。"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type StartDevServerOptions = {\n  // 是否输出 URL 信息，默认为 true\n  printURLs?: boolean | Function;\n  // 是否在端口被占用时抛出异常，默认为 false\n  strictPort?: boolean;\n  // 自定义 Compiler 对象\n  compiler?: Compiler | MultiCompiler;\n  // 透传与构建无关的 dev server 配置\n  serverOptions?: Partial<ModernDevServerOptions>;\n};\n\ntype StartServerResult = {\n  urls: string[];\n  port: number;\n  server: Server;\n};\n\nfunction StartDevServer(\n  options?: StartDevServerOptions,\n): Promise<StartServerResult>;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"启动 Dev Server："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"await builder.startDevServer();\n"})}),"\n",(0,i.jsx)(n.p,{children:"成功启动 Dev Server 后，可以看到以下日志信息："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"info    Starting dev server...\ninfo    Dev server running at:\n\n  > Local:    http://localhost:8080\n  > Network:  http://192.168.0.1:8080\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"startDevServer"})," 会返回以下参数："]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"urls"}),"：访问 Dev Server 的 URLs"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"port"})," 实际监听的端口号"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"server"}),"：Server 实例对象"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const { urls, port, server } = await builder.startDevServer();\nconsole.log(urls); // ['http://localhost:8080', 'http://192.168.0.1:8080']\nconsole.log(port); // 8080\n\n// 关闭 Dev Server\nawait server.close();\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"自定义-url-输出",children:["自定义 URL 输出",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#自定义-url-输出",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["将 ",(0,i.jsx)(n.code,{children:"printURLs"})," 设置为 ",(0,i.jsx)(n.code,{children:"false"})," 可以禁用默认的 URL 输出，此时你可以输出自定义的日志内容。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"await builder.startDevServer({\n  printURLs: false,\n});\n"})}),"\n",(0,i.jsxs)(n.p,{children:["你也可以直接将 ",(0,i.jsx)(n.code,{children:"printURLs"})," 配置为一个函数来修改 URL，比如给每个 URL 增加一个子路径："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"await builder.startDevServer({\n  printURLs: urls => {\n    return urls.map(({ label, url }) => ({\n      label,\n      url: `${url}/path`,\n    }));\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"严格限制端口",children:["严格限制端口",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#严格限制端口",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"当端口被占用时，Builder 会自动递增端口号，直至找到一个可用端口。"}),"\n",(0,i.jsxs)(n.p,{children:["如果你希望在端口被占用时抛出异常，可以将 ",(0,i.jsx)(n.code,{children:"strictPort"})," 设置为 ",(0,i.jsx)(n.code,{children:"true"}),"。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"await builder.startDevServer({\n  strictPort: true,\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"自定义-compiler-1",children:["自定义 Compiler",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#自定义-compiler-1",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"个别情况下，你可能希望使用自定义的 compiler："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const compiler = webpack({\n  // ...\n});\nawait builder.startDevServer({\n  compiler,\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"builderserve",children:["builder.serve",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderserve",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["在本地启动 Server 来预览生产环境构建的产物，需要在 ",(0,i.jsx)(n.code,{children:"builder.build"})," 方法之后执行。"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type StartServerResult = {\n  urls: string[];\n  port: number;\n  server: Server;\n};\n\nfunction server(): Promise<StartServerResult>;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"启动 Server："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"await builder.serve();\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"serve"})," 会返回以下参数："]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"urls"}),"：访问 Server 的 URLs"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"port"})," 实际监听的端口号"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"server"}),"：Server 实例对象"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const { urls, port, server } = await builder.serve();\nconsole.log(urls); // ['http://localhost:8080', 'http://192.168.0.1:8080']\nconsole.log(port); // 8080\n\n// 关闭 Server\nawait server.close();\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"buildercreatecompiler",children:["builder.createCompiler",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#buildercreatecompiler",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"创建一个 compiler 对象。"}),"\n",(0,i.jsxs)(n.p,{children:["当 ",(0,i.jsx)(n.code,{children:"createBuilder"})," 的 ",(0,i.jsx)(n.code,{children:"target"})," 选项包含一个值时，返回值为 ",(0,i.jsx)(n.code,{children:"Compiler"}),"；当 ",(0,i.jsx)(n.code,{children:"target"})," 包含多个值时，返回值为 ",(0,i.jsx)(n.code,{children:"MultiCompiler"}),"。"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"function CreateCompiler(): Promise<Compiler | MultiCompiler>;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const compiler = await builder.createCompiler();\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"大部分场景下，不需要使用该 API，除非需要进行自定义 Dev Server 等高级操作。"}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"builderaddplugins",children:["builder.addPlugins",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderaddplugins",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"注册一个或多个 builder 插件，可以被多次调用。"}),"\n",(0,i.jsx)(n.p,{children:"该方法需要在开始编译前调用，如果在开始编译之后调用，则不会影响编译结果。"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type AddPluginsOptions = { before?: string } | { after?: string };\n\nfunction AddPlugins(\n  plugins: BuilderPlugins[],\n  options?: AddPluginsOptions,\n): Promise<void>;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builder.addPlugins([builderPluginFoo(), builderPluginBar()]);\n\n// 在 bar 插件之前插入\nbuilder.addPlugins([builderPluginFoo()], { before: 'bar' });\n\n// 在 bar 插件之后插入\nbuilder.addPlugins([builderPluginFoo()], { after: 'bar' });\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"builderremoveplugins",children:["builder.removePlugins",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderremoveplugins",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"移除一个或多个 builder 插件，可以被多次调用。"}),"\n",(0,i.jsx)(n.p,{children:"该方法需要在开始编译前调用，如果在开始编译之后调用，则不会影响编译结果。"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"function RemovePlugins(pluginNames: string[]): void;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// 添加插件\nconst pluginFoo = builderPluginFoo();\nbuilder.addPlugins(pluginFoo);\n\n// 移除插件\nbuilder.removePlugins([pluginFoo.name]);\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"builderispluginexists",children:["builder.isPluginExists",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderispluginexists",children:"#"})]}),"\n","\n",(0,i.jsx)(l.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builder.addPlugins([builderPluginFoo()]);\n\nbuilder.isPluginExists(builderPluginFoo().name); // true\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"builderinspectconfig",children:["builder.inspectConfig",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderinspectconfig",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"查看 Builder 内部最终生成的 builder 配置和 bundler 配置。"}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsxs)(n.div,{className:"modern-directive-content",children:[(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"inspectConfig"})," 方法不支持与 ",(0,i.jsx)(n.code,{children:"startDevServer"})," / ",(0,i.jsx)(n.code,{children:"build"})," 方法同时使用。"]}),"\n",(0,i.jsxs)(n.p,{children:["当你需要在构建过程中查看完整的 builder 和 bundler 配置时，可以使用 ",(0,i.jsx)(n.a,{href:"/guide/debug/debug-mode",children:"调试模式"}),"。\n"]})]})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'type InspectConfigOptions = {\n  // 查看指定环境下的配置，默认为 "development"，可以设置为 "production"\n  env?: BuilderMode;\n  // 是否开启冗余模式，展示配置中函数的完整内容，默认为 `false`\n  verbose?: boolean;\n  // 指定输出路径，默认为 `output.distPath.root` 配置的值\n  outputPath?: string;\n  // 是否将结果写入到磁盘中，默认为 `false`\n  writeToDisk?: boolean;\n};\n\nasync function InspectConfig(options?: InspectConfigOptions): Promise<{\n  builderConfig: string;\n  bundlerConfigs: string[];\n  origin: {\n    builderConfig: BuilderConfig;\n    bundlerConfigs: BundlerConfigs[];\n  };\n}>;\n'})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"拿到字符串格式的 Config 内容："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const { builderConfig, bundlerConfigs } = await builder.inspectConfig();\n\nconsole.log(builderConfig, bundlerConfigs);\n"})}),"\n",(0,i.jsx)(n.p,{children:"直接将配置内容写入到磁盘上："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"await builder.inspectConfig({\n  writeToDisk: true,\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"builderonbeforecreatecompiler",children:["builder.onBeforeCreateCompiler",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderonbeforecreatecompiler",children:"#"})]}),"\n","\n",(0,i.jsx)(o.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builder.onBeforeCreateCompiler(({ bundlerConfigs }) => {\n  console.log('the bundler config is ', bundlerConfigs);\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"builderonaftercreatecompiler",children:["builder.onAfterCreateCompiler",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderonaftercreatecompiler",children:"#"})]}),"\n","\n",(0,i.jsx)(a.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builder.onAfterCreateCompiler(({ compiler }) => {\n  console.log('the compiler is ', compiler);\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"builderonbeforebuild",children:["builder.onBeforeBuild",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderonbeforebuild",children:"#"})]}),"\n","\n",(0,i.jsx)(d.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builder.onBeforeBuild(({ bundlerConfigs }) => {\n  console.log('the bundler config is ', bundlerConfigs);\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"builderonafterbuild",children:["builder.onAfterBuild",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderonafterbuild",children:"#"})]}),"\n","\n",(0,i.jsx)(c.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builder.onAfterBuild(({ stats }) => {\n  console.log(stats?.toJson());\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"builderonbeforestartdevserver",children:["builder.onBeforeStartDevServer",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderonbeforestartdevserver",children:"#"})]}),"\n","\n",(0,i.jsx)(h.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builder.onBeforeStartDevServer(() => {\n  console.log('before start!');\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"builderonafterstartdevserver",children:["builder.onAfterStartDevServer",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderonafterstartdevserver",children:"#"})]}),"\n","\n",(0,i.jsx)(u.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builder.onAfterStartDevServer(({ port }) => {\n  console.log('this port is: ', port);\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"builderondevcompiledone",children:["builder.onDevCompileDone",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderondevcompiledone",children:"#"})]}),"\n","\n",(0,i.jsx)(p.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builder.onDevCompileDone(({ isFirstCompile }) => {\n  if (isFirstCompile) {\n    console.log('first compile!');\n  } else {\n    console.log('re-compile!');\n  }\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"builderonexit",children:["builder.onExit",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderonexit",children:"#"})]}),"\n","\n",(0,i.jsx)(x.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builder.onExit(() => {\n  console.log('exit!');\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"buildergetbuilderconfig",children:["builder.getBuilderConfig",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#buildergetbuilderconfig",children:"#"})]}),"\n","\n",(0,i.jsx)(m.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builder.onBeforeBuild(() => {\n  const config = api.getBuilderConfig();\n  console.log(config.html?.title);\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"buildergetnormalizedconfig",children:["builder.getNormalizedConfig",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#buildergetnormalizedconfig",children:"#"})]}),"\n","\n",(0,i.jsx)(f.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builder.onBeforeBuild(() => {\n  const config = api.getNormalizedConfig();\n  console.log(config.html.title);\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"buildergethtmlpaths",children:["builder.getHTMLPaths",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#buildergethtmlpaths",children:"#"})]}),"\n","\n",(0,i.jsx)(j.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builder.onBeforeBuild(() => {\n  const htmlPaths = api.getHTMLPaths();\n  console.log(htmlPaths); // { main: 'html/main/index.html' };\n});\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fapi%2Fbuilder-instance.mdx"]={toc:[{text:"builder.context",id:"buildercontext",depth:2},{text:"builder.context.entry",id:"buildercontextentry",depth:3},{text:"builder.context.target",id:"buildercontexttarget",depth:3},{text:"builder.context.rootPath",id:"buildercontextrootpath",depth:3},{text:"builder.context.srcPath",id:"buildercontextsrcpath",depth:3},{text:"builder.context.distPath",id:"buildercontextdistpath",depth:3},{text:"builder.context.cachePath",id:"buildercontextcachepath",depth:3},{text:"builder.context.configPath",id:"buildercontextconfigpath",depth:3},{text:"builder.context.tsconfigPath",id:"buildercontexttsconfigpath",depth:3},{text:"builder.context.framework",id:"buildercontextframework",depth:3},{text:"builder.context.devServer",id:"buildercontextdevserver",depth:3},{text:"builder.context.bundlerType",id:"buildercontextbundlertype",depth:3},{text:"builder.build",id:"builderbuild",depth:2},{text:"开发环境构建",id:"开发环境构建",depth:3},{text:"监听文件变化",id:"监听文件变化",depth:3},{text:"自定义 Compiler",id:"自定义-compiler",depth:3},{text:"builder.startDevServer",id:"builderstartdevserver",depth:2},{text:"自定义 URL 输出",id:"自定义-url-输出",depth:3},{text:"严格限制端口",id:"严格限制端口",depth:3},{text:"自定义 Compiler",id:"自定义-compiler-1",depth:3},{text:"builder.serve",id:"builderserve",depth:2},{text:"builder.createCompiler",id:"buildercreatecompiler",depth:2},{text:"builder.addPlugins",id:"builderaddplugins",depth:2},{text:"builder.removePlugins",id:"builderremoveplugins",depth:2},{text:"builder.isPluginExists",id:"builderispluginexists",depth:2},{text:"builder.inspectConfig",id:"builderinspectconfig",depth:2},{text:"builder.onBeforeCreateCompiler",id:"builderonbeforecreatecompiler",depth:2},{text:"builder.onAfterCreateCompiler",id:"builderonaftercreatecompiler",depth:2},{text:"builder.onBeforeBuild",id:"builderonbeforebuild",depth:2},{text:"builder.onAfterBuild",id:"builderonafterbuild",depth:2},{text:"builder.onBeforeStartDevServer",id:"builderonbeforestartdevserver",depth:2},{text:"builder.onAfterStartDevServer",id:"builderonafterstartdevserver",depth:2},{text:"builder.onDevCompileDone",id:"builderondevcompiledone",depth:2},{text:"builder.onExit",id:"builderonexit",depth:2},{text:"builder.getBuilderConfig",id:"buildergetbuilderconfig",depth:2},{text:"builder.getNormalizedConfig",id:"buildergetnormalizedconfig",depth:2},{text:"builder.getHTMLPaths",id:"buildergethtmlpaths",depth:2}],title:"Builder Instance",frontmatter:{extractApiHeaders:[2]}};var b=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(g,{...e})}):g(e)}},25231:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",pre:"pre",code:"code"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"builder-types",children:["Builder Types",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builder-types",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"本章节描述了 Builder 提供的一些类型定义。"}),"\n",(0,i.jsxs)(n.h2,{id:"builderinstance",children:["BuilderInstance",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderinstance",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder 实例的类型。"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import type { BuilderInstance } from '@modern-js/builder';\n\nlet builder: BuilderInstance;\n"})}),"\n",(0,i.jsx)(n.p,{children:"你可以通过泛型来传入 Provider 的类型，使 Builder 实例获得更准确的类型定义："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import type { createBuilder, type BuilderInstance } from '@modern-js/builder';\nimport type { BuilderWebpackProvider } from '@modern-js/builder-webpack-provider';\n\nlet builder: BuilderInstance<BuilderWebpackProvider>;\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"buildercontext",children:["BuilderContext",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#buildercontext",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder 实例中 context 属性的类型定义。"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import type { BuilderContext } from '@modern-js/builder';\n\nconst context: BuilderContext = builder.context;\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"builderplugin",children:["BuilderPlugin",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderplugin",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder 插件的类型，需要配合 provider 中提供的 ",(0,i.jsx)(n.code,{children:"BuilderPluginAPI"})," 类型来使用。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import type { BuilderPlugin } from '@modern-js/builder';\nimport type { BuilderPluginAPI } from '@modern-js/builder-webpack-provider';\n\nconst myPlugin: BuilderPlugin<BuilderPluginAPI> = {\n  name: 'my-plugin',\n  setup() {},\n};\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"buildertarget",children:["BuilderTarget",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#buildertarget",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder 构建产物的类型。"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import type { BuilderTarget } from '@modern-js/builder';\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"builderentry",children:["BuilderEntry",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderentry",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["对应 ",(0,i.jsx)(n.code,{children:"createBuilder"})," 方法的 ",(0,i.jsx)(n.code,{children:"entry"})," 选项的类型。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import type { BuilderEntry } from '@modern-js/builder';\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"createbuilderoptions",children:["CreateBuilderOptions",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#createbuilderoptions",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["对应 ",(0,i.jsx)(n.code,{children:"createBuilder"})," 方法的入参类型。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import type { CreateBuilderOptions } from '@modern-js/builder';\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fapi%2Fbuilder-types.mdx"]={toc:[{text:"BuilderInstance",id:"builderinstance",depth:2},{text:"BuilderContext",id:"buildercontext",depth:2},{text:"BuilderPlugin",id:"builderplugin",depth:2},{text:"BuilderTarget",id:"buildertarget",depth:2},{text:"BuilderEntry",id:"builderentry",depth:2},{text:"CreateBuilderOptions",id:"createbuilderoptions",depth:2}],title:"Builder Types",frontmatter:{extractApiHeaders:[2]}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},20221:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return m}});var t,i=r("9880"),s=r("23169"),l=r.ir(r("14842")),o=r.ir(r("63725")),a=r.ir(r("48367")),d=r.ir(r("37852")),c=r.ir(r("44941")),h=r.ir(r("99167")),u=r.ir(r("23150")),p=r.ir(r("12725"));function x(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"dev-config",children:["Dev Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#dev-config",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"本章节描述了 Builder 中与本地开发有关的配置。"}),"\n",(0,i.jsxs)(n.h2,{id:"devassetprefix",children:["dev.assetPrefix",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#devassetprefix",children:"#"})]}),"\n","\n",(0,i.jsx)(l.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"devbeforestarturl",children:["dev.beforeStartUrl",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#devbeforestarturl",children:"#"})]}),"\n","\n",(0,i.jsx)(o.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"devhmr",children:["dev.hmr",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#devhmr",children:"#"})]}),"\n","\n",(0,i.jsx)(a.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"devhost",children:["dev.host",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#devhost",children:"#"})]}),"\n","\n",(0,i.jsx)(d.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"devhttps",children:["dev.https",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#devhttps",children:"#"})]}),"\n","\n",(0,i.jsx)(c.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"devport",children:["dev.port",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#devport",children:"#"})]}),"\n","\n",(0,i.jsx)(h.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"devprogressbar",children:["dev.progressBar",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#devprogressbar",children:"#"})]}),"\n","\n",(0,i.jsx)(u.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"devstarturl",children:["dev.startUrl",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#devstarturl",children:"#"})]}),"\n","\n",(0,i.jsx)(p.default,{})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fapi%2Fconfig-dev.mdx"]={toc:[{text:"dev.assetPrefix",id:"devassetprefix",depth:2},{text:"dev.beforeStartUrl",id:"devbeforestarturl",depth:2},{text:"dev.hmr",id:"devhmr",depth:2},{text:"dev.host",id:"devhost",depth:2},{text:"dev.https",id:"devhttps",depth:2},{text:"dev.port",id:"devport",depth:2},{text:"dev.progressBar",id:"devprogressbar",depth:2},{text:"dev.startUrl",id:"devstarturl",depth:2}],title:"Dev Config",frontmatter:{extractApiHeaders:[2]}};var m=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(x,{...e})}):x(e)}},32252:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var t,i=r("9880"),s=r("23169"),l=r.ir(r("92563"));function o(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"experiments-config",children:["Experiments Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#experiments-config",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"本章节描述了 Builder 中的一些实验性配置，实验性配置可以开启 Builder 中尚未稳定的功能。"}),"\n",(0,i.jsxs)(n.p,{children:["如果你在使用实验性功能时遇到问题，请先关闭对应的配置，并通过 ",(0,i.jsx)(n.a,{href:"https://github.com/web-infra-dev/modern.js/issues",target:"_blank",rel:"noopener noreferrer",children:"GitHub Issues"})," 进行反馈。"]}),"\n",(0,i.jsxs)(n.h2,{id:"experimentslazycompilation",children:["experiments.lazyCompilation",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#experimentslazycompilation",children:"#"})]}),"\n","\n",(0,i.jsx)(l.default,{})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fapi%2Fconfig-experiments.mdx"]={toc:[{text:"experiments.lazyCompilation",id:"experimentslazycompilation",depth:2}],title:"Experiments Config",frontmatter:{extractApiHeaders:[2]}};var a=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},54404:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return P}});var t,i=r("9880"),s=r("23169"),l=r.ir(r("86563")),o=r.ir(r("40799")),a=r.ir(r("36090")),d=r.ir(r("57361")),c=r.ir(r("42560")),h=r.ir(r("26324")),u=r.ir(r("78418")),p=r.ir(r("3433")),x=r.ir(r("77140")),m=r.ir(r("72589")),f=r.ir(r("8276")),j=r.ir(r("96312")),g=r.ir(r("94683")),b=r.ir(r("9846")),v=r.ir(r("48458")),y=r.ir(r("47450")),w=r.ir(r("25900")),S=r.ir(r("22722")),k=r.ir(r("57147"));function _(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"html-config",children:["Html Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#html-config",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"本章节描述了 Builder 中与 HTML 有关的配置。"}),"\n",(0,i.jsxs)(n.h2,{id:"htmlappicon",children:["html.appIcon",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmlappicon",children:"#"})]}),"\n","\n",(0,i.jsx)(l.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"htmlcrossorigin",children:["html.crossorigin",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmlcrossorigin",children:"#"})]}),"\n","\n",(0,i.jsx)(o.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"htmldisablehtmlfolder",children:["html.disableHtmlFolder",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmldisablehtmlfolder",children:"#"})]}),"\n","\n",(0,i.jsx)(a.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"htmlfavicon",children:["html.favicon",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmlfavicon",children:"#"})]}),"\n","\n",(0,i.jsx)(d.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"htmlfaviconbyentries",children:["html.faviconByEntries",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmlfaviconbyentries",children:"#"})]}),"\n","\n",(0,i.jsx)(c.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"htmlinject",children:["html.inject",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmlinject",children:"#"})]}),"\n","\n",(0,i.jsx)(h.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"htmlinjectbyentries",children:["html.injectByEntries",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmlinjectbyentries",children:"#"})]}),"\n","\n",(0,i.jsx)(u.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"htmlmeta",children:["html.meta",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmlmeta",children:"#"})]}),"\n","\n",(0,i.jsx)(p.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"htmlmetabyentries",children:["html.metaByEntries",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmlmetabyentries",children:"#"})]}),"\n","\n",(0,i.jsx)(x.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"htmlmountid",children:["html.mountId",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmlmountid",children:"#"})]}),"\n","\n",(0,i.jsx)(m.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"htmlscriptloading",children:["html.scriptLoading",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmlscriptloading",children:"#"})]}),"\n","\n",(0,i.jsx)(f.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"htmltags",children:["html.tags",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmltags",children:"#"})]}),"\n","\n",(0,i.jsx)(j.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"htmltagsbyentries",children:["html.tagsByEntries",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmltagsbyentries",children:"#"})]}),"\n","\n",(0,i.jsx)(g.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"htmltemplate",children:["html.template",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmltemplate",children:"#"})]}),"\n","\n",(0,i.jsx)(b.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"htmltemplatebyentries",children:["html.templateByEntries",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmltemplatebyentries",children:"#"})]}),"\n","\n",(0,i.jsx)(v.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"htmltemplateparameters",children:["html.templateParameters",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmltemplateparameters",children:"#"})]}),"\n","\n",(0,i.jsx)(y.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"htmltemplateparametersbyentries",children:["html.templateParametersByEntries",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmltemplateparametersbyentries",children:"#"})]}),"\n","\n",(0,i.jsx)(w.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"htmltitle",children:["html.title",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmltitle",children:"#"})]}),"\n","\n",(0,i.jsx)(S.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"htmltitlebyentries",children:["html.titleByEntries",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmltitlebyentries",children:"#"})]}),"\n","\n",(0,i.jsx)(k.default,{})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fapi%2Fconfig-html.mdx"]={toc:[{text:"html.appIcon",id:"htmlappicon",depth:2},{text:"html.crossorigin",id:"htmlcrossorigin",depth:2},{text:"html.disableHtmlFolder",id:"htmldisablehtmlfolder",depth:2},{text:"html.favicon",id:"htmlfavicon",depth:2},{text:"html.faviconByEntries",id:"htmlfaviconbyentries",depth:2},{text:"html.inject",id:"htmlinject",depth:2},{text:"html.injectByEntries",id:"htmlinjectbyentries",depth:2},{text:"html.meta",id:"htmlmeta",depth:2},{text:"html.metaByEntries",id:"htmlmetabyentries",depth:2},{text:"html.mountId",id:"htmlmountid",depth:2},{text:"html.scriptLoading",id:"htmlscriptloading",depth:2},{text:"html.tags",id:"htmltags",depth:2},{text:"html.tagsByEntries",id:"htmltagsbyentries",depth:2},{text:"html.template",id:"htmltemplate",depth:2},{text:"html.templateByEntries",id:"htmltemplatebyentries",depth:2},{text:"html.templateParameters",id:"htmltemplateparameters",depth:2},{text:"html.templateParametersByEntries",id:"htmltemplateparametersbyentries",depth:2},{text:"html.title",id:"htmltitle",depth:2},{text:"html.titleByEntries",id:"htmltitlebyentries",depth:2}],title:"Html Config",frontmatter:{extractApiHeaders:[2]}};var P=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(_,{...e})}):_(e)}},6618:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return D}});var t,i=r("9880"),s=r("23169"),l=r.ir(r("86548")),o=r.ir(r("55545")),a=r.ir(r("78449")),d=r.ir(r("87095")),c=r.ir(r("9918")),h=r.ir(r("3118")),u=r.ir(r("69504")),p=r.ir(r("20017")),x=r.ir(r("54978")),m=r.ir(r("29159")),f=r.ir(r("66042")),j=r.ir(r("11443")),g=r.ir(r("96112")),b=r.ir(r("30585")),v=r.ir(r("94637")),y=r.ir(r("81780")),w=r.ir(r("41926")),S=r.ir(r("92458")),k=r.ir(r("71871")),_=r.ir(r("67367")),P=r.ir(r("88435")),E=r.ir(r("74415")),F=r.ir(r("34551")),N=r.ir(r("47202")),T=r.ir(r("48354")),R=r.ir(r("88698")),C=r.ir(r("34584")),M=r.ir(r("67373")),O=r.ir(r("16664")),I=r.ir(r("36083"));function A(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"output-config",children:["Output Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#output-config",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"本章节描述了 Builder 中与构建产物有关的配置。"}),"\n",(0,i.jsxs)(n.h2,{id:"outputassetprefix",children:["output.assetPrefix",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputassetprefix",children:"#"})]}),"\n","\n",(0,i.jsx)(l.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputassetsretry",children:["output.assetsRetry",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputassetsretry",children:"#"})]}),"\n","\n",(0,i.jsx)(o.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputcharset",children:["output.charset",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputcharset",children:"#"})]}),"\n","\n",(0,i.jsx)(a.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputcleandistpath",children:["output.cleanDistPath",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputcleandistpath",children:"#"})]}),"\n","\n",(0,i.jsx)(d.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputconverttorem",children:["output.convertToRem",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputconverttorem",children:"#"})]}),"\n","\n",(0,i.jsx)(c.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputcopy",children:["output.copy",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputcopy",children:"#"})]}),"\n","\n",(0,i.jsx)(h.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputcssmodules",children:["output.cssModules",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputcssmodules",children:"#"})]}),"\n","\n",(0,i.jsx)(u.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputcssmodulelocalidentname",children:["output.cssModuleLocalIdentName",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputcssmodulelocalidentname",children:"#"})]}),"\n","\n",(0,i.jsx)(p.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputdataurilimit",children:["output.dataUriLimit",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputdataurilimit",children:"#"})]}),"\n","\n",(0,i.jsx)(x.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputdisablecssextract",children:["output.disableCssExtract",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputdisablecssextract",children:"#"})]}),"\n","\n",(0,i.jsx)(m.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputdisablecssmoduleextension",children:["output.disableCssModuleExtension",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputdisablecssmoduleextension",children:"#"})]}),"\n","\n",(0,i.jsx)(f.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputdistpath",children:["output.distPath",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputdistpath",children:"#"})]}),"\n","\n",(0,i.jsx)(j.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputdisableminimize",children:["output.disableMinimize",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputdisableminimize",children:"#"})]}),"\n","\n",(0,i.jsx)(g.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputdisablesourcemap",children:["output.disableSourceMap",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputdisablesourcemap",children:"#"})]}),"\n","\n",(0,i.jsx)(b.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputdisablesvgr",children:["output.disableSvgr",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputdisablesvgr",children:"#"})]}),"\n","\n",(0,i.jsx)(v.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputdisabletschecker",children:["output.disableTsChecker",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputdisabletschecker",children:"#"})]}),"\n","\n",(0,i.jsx)(y.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputdisablefilenamehash",children:["output.disableFilenameHash",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputdisablefilenamehash",children:"#"})]}),"\n","\n",(0,i.jsx)(w.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputdisableinlineruntimechunk",children:["output.disableInlineRuntimeChunk",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputdisableinlineruntimechunk",children:"#"})]}),"\n","\n",(0,i.jsx)(S.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputenableassetmanifest",children:["output.enableAssetManifest",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputenableassetmanifest",children:"#"})]}),"\n","\n",(0,i.jsx)(k.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputenableassetfallback",children:["output.enableAssetFallback",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputenableassetfallback",children:"#"})]}),"\n","\n",(0,i.jsx)(_.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputenablelatestdecorators",children:["output.enableLatestDecorators",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputenablelatestdecorators",children:"#"})]}),"\n","\n",(0,i.jsx)(P.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputenablecssmoduletsdeclaration",children:["output.enableCssModuleTSDeclaration",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputenablecssmoduletsdeclaration",children:"#"})]}),"\n","\n",(0,i.jsx)(E.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputenableinlinescripts",children:["output.enableInlineScripts",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputenableinlinescripts",children:"#"})]}),"\n","\n",(0,i.jsx)(F.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputenableinlinestyles",children:["output.enableInlineStyles",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputenableinlinestyles",children:"#"})]}),"\n","\n",(0,i.jsx)(N.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputexternals",children:["output.externals",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputexternals",children:"#"})]}),"\n","\n",(0,i.jsx)(T.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputfilename",children:["output.filename",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputfilename",children:"#"})]}),"\n","\n",(0,i.jsx)(R.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputlegalcomments",children:["output.legalComments",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputlegalcomments",children:"#"})]}),"\n","\n",(0,i.jsx)(C.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputoverridebrowserslist",children:["output.overrideBrowserslist",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputoverridebrowserslist",children:"#"})]}),"\n","\n",(0,i.jsx)(M.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputpolyfill",children:["output.polyfill",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputpolyfill",children:"#"})]}),"\n","\n",(0,i.jsx)(O.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"outputsvgdefaultexport",children:["output.svgDefaultExport",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#outputsvgdefaultexport",children:"#"})]}),"\n","\n",(0,i.jsx)(I.default,{})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fapi%2Fconfig-output.mdx"]={toc:[{text:"output.assetPrefix",id:"outputassetprefix",depth:2},{text:"output.assetsRetry",id:"outputassetsretry",depth:2},{text:"output.charset",id:"outputcharset",depth:2},{text:"output.cleanDistPath",id:"outputcleandistpath",depth:2},{text:"output.convertToRem",id:"outputconverttorem",depth:2},{text:"output.copy",id:"outputcopy",depth:2},{text:"output.cssModules",id:"outputcssmodules",depth:2},{text:"output.cssModuleLocalIdentName",id:"outputcssmodulelocalidentname",depth:2},{text:"output.dataUriLimit",id:"outputdataurilimit",depth:2},{text:"output.disableCssExtract",id:"outputdisablecssextract",depth:2},{text:"output.disableCssModuleExtension",id:"outputdisablecssmoduleextension",depth:2},{text:"output.distPath",id:"outputdistpath",depth:2},{text:"output.disableMinimize",id:"outputdisableminimize",depth:2},{text:"output.disableSourceMap",id:"outputdisablesourcemap",depth:2},{text:"output.disableSvgr",id:"outputdisablesvgr",depth:2},{text:"output.disableTsChecker",id:"outputdisabletschecker",depth:2},{text:"output.disableFilenameHash",id:"outputdisablefilenamehash",depth:2},{text:"output.disableInlineRuntimeChunk",id:"outputdisableinlineruntimechunk",depth:2},{text:"output.enableAssetManifest",id:"outputenableassetmanifest",depth:2},{text:"output.enableAssetFallback",id:"outputenableassetfallback",depth:2},{text:"output.enableLatestDecorators",id:"outputenablelatestdecorators",depth:2},{text:"output.enableCssModuleTSDeclaration",id:"outputenablecssmoduletsdeclaration",depth:2},{text:"output.enableInlineScripts",id:"outputenableinlinescripts",depth:2},{text:"output.enableInlineStyles",id:"outputenableinlinestyles",depth:2},{text:"output.externals",id:"outputexternals",depth:2},{text:"output.filename",id:"outputfilename",depth:2},{text:"output.legalComments",id:"outputlegalcomments",depth:2},{text:"output.overrideBrowserslist",id:"outputoverridebrowserslist",depth:2},{text:"output.polyfill",id:"outputpolyfill",depth:2},{text:"output.svgDefaultExport",id:"outputsvgdefaultexport",depth:2}],title:"Output Config",frontmatter:{extractApiHeaders:[2]}};var D=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(A,{...e})}):A(e)}},63207:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return x}});var t,i=r("9880"),s=r("23169"),l=r.ir(r("619")),o=r.ir(r("26646")),a=r.ir(r("18653")),d=r.ir(r("90082")),c=r.ir(r("96296")),h=r.ir(r("5927")),u=r.ir(r("34432"));function p(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"performance-config",children:["Performance Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#performance-config",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"本章节描述了 Builder 中与性能有关的配置。"}),"\n",(0,i.jsxs)(n.h2,{id:"performancebuildcache",children:["performance.buildCache",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#performancebuildcache",children:"#"})]}),"\n","\n",(0,i.jsx)(l.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"performancebundleanalyze",children:["performance.bundleAnalyze",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#performancebundleanalyze",children:"#"})]}),"\n","\n",(0,i.jsx)(o.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"performancechunksplit",children:["performance.chunkSplit",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#performancechunksplit",children:"#"})]}),"\n","\n",(0,i.jsx)(a.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"performanceprintfilesize",children:["performance.printFileSize",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#performanceprintfilesize",children:"#"})]}),"\n","\n",(0,i.jsx)(d.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"performanceprofile",children:["performance.profile",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#performanceprofile",children:"#"})]}),"\n","\n",(0,i.jsx)(c.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"performanceremoveconsole",children:["performance.removeConsole",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#performanceremoveconsole",children:"#"})]}),"\n","\n",(0,i.jsx)(h.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"performanceremovemomentlocale",children:["performance.removeMomentLocale",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#performanceremovemomentlocale",children:"#"})]}),"\n","\n",(0,i.jsx)(u.default,{})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fapi%2Fconfig-performance.mdx"]={toc:[{text:"performance.buildCache",id:"performancebuildcache",depth:2},{text:"performance.bundleAnalyze",id:"performancebundleanalyze",depth:2},{text:"performance.chunkSplit",id:"performancechunksplit",depth:2},{text:"performance.printFileSize",id:"performanceprintfilesize",depth:2},{text:"performance.profile",id:"performanceprofile",depth:2},{text:"performance.removeConsole",id:"performanceremoveconsole",depth:2},{text:"performance.removeMomentLocale",id:"performanceremovemomentlocale",depth:2}],title:"Performance Config",frontmatter:{extractApiHeaders:[2]}};var x=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(p,{...e})}):p(e)}},13635:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return d}});var t,i=r("9880"),s=r("23169"),l=r.ir(r("55768")),o=r.ir(r("78082"));function a(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"security-config",children:["Security Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#security-config",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"本章节描述了 Builder 中与安全有关的配置。"}),"\n",(0,i.jsxs)(n.h2,{id:"securitysri",children:["security.sri",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#securitysri",children:"#"})]}),"\n","\n",(0,i.jsx)(l.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"securitychecksyntax",children:["security.checkSyntax",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#securitychecksyntax",children:"#"})]}),"\n","\n",(0,i.jsx)(o.default,{})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fapi%2Fconfig-security.mdx"]={toc:[{text:"security.sri",id:"securitysri",depth:2},{text:"security.checkSyntax",id:"securitychecksyntax",depth:2}],title:"Security Config",frontmatter:{extractApiHeaders:[2]}};var d=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},88737:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return g}});var t,i=r("9880"),s=r("23169"),l=r.ir(r("26810")),o=r.ir(r("18265")),a=r.ir(r("72847")),d=r.ir(r("44422")),c=r.ir(r("50720")),h=r.ir(r("42955")),u=r.ir(r("56644")),p=r.ir(r("79264")),x=r.ir(r("43897")),m=r.ir(r("69737")),f=r.ir(r("65176"));function j(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"source-config",children:["Source Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#source-config",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"本章节描述了 Builder 中与源代码解析、编译方式相关的配置。"}),"\n",(0,i.jsxs)(n.h2,{id:"sourcealias",children:["source.alias",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#sourcealias",children:"#"})]}),"\n","\n",(0,i.jsx)(l.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"sourceinclude",children:["source.include",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#sourceinclude",children:"#"})]}),"\n","\n",(0,i.jsx)(o.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"sourceexclude",children:["source.exclude",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#sourceexclude",children:"#"})]}),"\n","\n",(0,i.jsx)(a.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"sourcecompilejsdatauri",children:["source.compileJsDataURI",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#sourcecompilejsdatauri",children:"#"})]}),"\n","\n",(0,i.jsx)(d.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"sourcedefine",children:["source.define",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#sourcedefine",children:"#"})]}),"\n","\n",(0,i.jsx)(c.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"sourceglobalvars",children:["source.globalVars",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#sourceglobalvars",children:"#"})]}),"\n","\n",(0,i.jsx)(h.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"sourcemodulescopes",children:["source.moduleScopes",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#sourcemodulescopes",children:"#"})]}),"\n","\n",(0,i.jsx)(u.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"sourcetransformimport",children:["source.transformImport",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#sourcetransformimport",children:"#"})]}),"\n","\n",(0,i.jsx)(p.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"sourcepreentry",children:["source.preEntry",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#sourcepreentry",children:"#"})]}),"\n","\n",(0,i.jsx)(x.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"sourceresolveextensionprefix",children:["source.resolveExtensionPrefix",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#sourceresolveextensionprefix",children:"#"})]}),"\n","\n",(0,i.jsx)(m.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"sourceresolvemainfields",children:["source.resolveMainFields",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#sourceresolvemainfields",children:"#"})]}),"\n","\n",(0,i.jsx)(f.default,{})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fapi%2Fconfig-source.mdx"]={toc:[{text:"source.alias",id:"sourcealias",depth:2},{text:"source.include",id:"sourceinclude",depth:2},{text:"source.exclude",id:"sourceexclude",depth:2},{text:"source.compileJsDataURI",id:"sourcecompilejsdatauri",depth:2},{text:"source.define",id:"sourcedefine",depth:2},{text:"source.globalVars",id:"sourceglobalvars",depth:2},{text:"source.moduleScopes",id:"sourcemodulescopes",depth:2},{text:"source.transformImport",id:"sourcetransformimport",depth:2},{text:"source.preEntry",id:"sourcepreentry",depth:2},{text:"source.resolveExtensionPrefix",id:"sourceresolveextensionprefix",depth:2},{text:"source.resolveMainFields",id:"sourceresolvemainfields",depth:2}],title:"Source Config",frontmatter:{extractApiHeaders:[2]}};var g=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(j,{...e})}):j(e)}},32709:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return F}});var t,i=r("9880"),s=r("23169"),l=r.ir(r("85548")),o=r.ir(r("5155")),a=r.ir(r("69030")),d=r.ir(r("94333")),c=r.ir(r("41417")),h=r.ir(r("23345")),u=r.ir(r("77991")),p=r.ir(r("11857")),x=r.ir(r("71164")),m=r.ir(r("3869")),f=r.ir(r("68863")),j=r.ir(r("95994")),g=r.ir(r("31069")),b=r.ir(r("65297")),v=r.ir(r("34054")),y=r.ir(r("15391")),w=r.ir(r("76890")),S=r.ir(r("24438")),k=r.ir(r("95661")),_=r.ir(r("59618")),P=r.ir(r("5288"));function E(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"tools-config",children:["Tools Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#tools-config",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"本章节描述了 Builder 中与底层工具有关的配置。"}),"\n",(0,i.jsxs)(n.h2,{id:"toolsautoprefixer",children:["tools.autoprefixer",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolsautoprefixer",children:"#"})]}),"\n","\n",(0,i.jsx)(l.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"toolsbabel",children:["tools.babel",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolsbabel",children:"#"})]}),"\n","\n",(0,i.jsx)(o.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"toolsbundlerchain",children:["tools.bundlerChain",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolsbundlerchain",children:"#"})]}),"\n","\n",(0,i.jsx)(a.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"toolscssextract",children:["tools.cssExtract",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolscssextract",children:"#"})]}),"\n","\n",(0,i.jsx)(d.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"toolscssloader",children:["tools.cssLoader",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolscssloader",children:"#"})]}),"\n","\n",(0,i.jsx)(c.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"toolsdevserver",children:["tools.devServer",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolsdevserver",children:"#"})]}),"\n","\n",(0,i.jsx)(h.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"toolshtmlplugin",children:["tools.htmlPlugin",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolshtmlplugin",children:"#"})]}),"\n","\n",(0,i.jsx)(u.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"toolsinspector",children:["tools.inspector",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolsinspector",children:"#"})]}),"\n","\n",(0,i.jsx)(p.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"toolsless",children:["tools.less",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolsless",children:"#"})]}),"\n","\n",(0,i.jsx)(x.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"toolsminifycss",children:["tools.minifyCss",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolsminifycss",children:"#"})]}),"\n","\n",(0,i.jsx)(m.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"toolspostcss",children:["tools.postcss",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolspostcss",children:"#"})]}),"\n","\n",(0,i.jsx)(f.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"toolspug",children:["tools.pug",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolspug",children:"#"})]}),"\n","\n",(0,i.jsx)(j.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"toolssass",children:["tools.sass",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolssass",children:"#"})]}),"\n","\n",(0,i.jsx)(g.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"toolsstyleloader",children:["tools.styleLoader",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolsstyleloader",children:"#"})]}),"\n","\n",(0,i.jsx)(b.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"toolsstyledcomponents",children:["tools.styledComponents",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolsstyledcomponents",children:"#"})]}),"\n","\n",(0,i.jsx)(v.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"toolsterser",children:["tools.terser",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolsterser",children:"#"})]}),"\n","\n",(0,i.jsx)(y.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"toolstsloader",children:["tools.tsLoader",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolstsloader",children:"#"})]}),"\n","\n",(0,i.jsx)(w.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"toolstschecker",children:["tools.tsChecker",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolstschecker",children:"#"})]}),"\n","\n",(0,i.jsx)(S.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"toolswebpack",children:["tools.webpack",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolswebpack",children:"#"})]}),"\n","\n",(0,i.jsx)(k.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"toolswebpackchain",children:["tools.webpackChain",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolswebpackchain",children:"#"})]}),"\n","\n",(0,i.jsx)(_.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"toolsrspack",children:["tools.rspack",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolsrspack",children:"#"})]}),"\n","\n",(0,i.jsx)(P.default,{})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fapi%2Fconfig-tools.mdx"]={toc:[{text:"tools.autoprefixer",id:"toolsautoprefixer",depth:2},{text:"tools.babel",id:"toolsbabel",depth:2},{text:"tools.bundlerChain",id:"toolsbundlerchain",depth:2},{text:"tools.cssExtract",id:"toolscssextract",depth:2},{text:"tools.cssLoader",id:"toolscssloader",depth:2},{text:"tools.devServer",id:"toolsdevserver",depth:2},{text:"tools.htmlPlugin",id:"toolshtmlplugin",depth:2},{text:"tools.inspector",id:"toolsinspector",depth:2},{text:"tools.less",id:"toolsless",depth:2},{text:"tools.minifyCss",id:"toolsminifycss",depth:2},{text:"tools.postcss",id:"toolspostcss",depth:2},{text:"tools.pug",id:"toolspug",depth:2},{text:"tools.sass",id:"toolssass",depth:2},{text:"tools.styleLoader",id:"toolsstyleloader",depth:2},{text:"tools.styledComponents",id:"toolsstyledcomponents",depth:2},{text:"tools.terser",id:"toolsterser",depth:2},{text:"tools.tsLoader",id:"toolstsloader",depth:2},{text:"tools.tsChecker",id:"toolstschecker",depth:2},{text:"tools.webpack",id:"toolswebpack",depth:2},{text:"tools.webpackChain",id:"toolswebpackchain",depth:2},{text:"tools.rspack",id:"toolsrspack",depth:2}],title:"Tools Config",frontmatter:{extractApiHeaders:[2]}};var F=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(E,{...e})}):E(e)}},15654:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(n.h1,{id:"api",children:["API",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#api",children:"#"})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fapi%2Findex.mdx"]={toc:[],title:"API",frontmatter:{overview:!0}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},76837:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return h}});var t,i=r("9880"),s=r("23169"),l=r.ir(r("16592")),o=r.ir(r("87607")),a=r.ir(r("54424")),d=r.ir(r("80392"));function c(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",ul:"ul",li:"li",code:"code",pre:"pre",h3:"h3",strong:"strong"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"plugin-core",children:["Plugin Core",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#plugin-core",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"本章节描述了 Builder 插件核心的类型定义和 API。"}),"\n",(0,i.jsxs)(n.h2,{id:"builderplugin",children:["BuilderPlugin",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderplugin",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"插件对象的类型，插件对象包含以下属性："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"name"}),"：插件的名称，唯一标识符。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"setup"}),"：插件逻辑的主入口函数，可以是一个异步函数。该函数仅会在初始化插件时执行一次。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"pre"}),"：指定当前插件的前置插件有哪些，可以传入前置插件 name 的数组，当前插件会被调整到这些插件之后执行。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"post"}),"：指定当前插件的后置插件有哪些，可以传入后置插件 name 的数组，当前插件会被调整到这些插件之前执行。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"remove"}),"：指定需要移除的插件，可以传入插件 name 的数组。"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type BuilderPlugin<API = BuilderPluginAPI> = {\n  name: string;\n  pre?: string[];\n  post?: string[];\n  remove?: string[];\n  setup: (api: API) => Promise<void> | void;\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["你可以从 ",(0,i.jsx)(n.code,{children:"@modern-js/builder"})," 中导入该类型："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import type { BuilderPlugin } from '@modern-js/builder';\n\nexport default (): BuilderPlugin => ({\n  name: 'builder-plugin-foo',\n\n  pre: ['builder-plugin-bar'],\n\n  setup: api => {\n    api.onAfterBuild(() => {\n      console.log('after build!');\n    });\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"前置插件",children:["前置插件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#前置插件",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["默认情况下，插件会按照添加顺序依次执行，通过 ",(0,i.jsx)(n.code,{children:"pre"})," 字段可以声明前置执行的插件。"]}),"\n",(0,i.jsx)(n.p,{children:"比如有下面两个插件："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const builderPluginFoo = {\n  name: 'builder-plugin-foo',\n};\n\nconst builderPluginBar = {\n  name: 'builder-plugin-bar',\n  pre: ['builder-plugin-foo'],\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Bar 插件在 ",(0,i.jsx)(n.code,{children:"pre"})," 字段中配置了 Foo 插件，因此 Foo 插件一定会在 Bar 插件之前执行。"]}),"\n",(0,i.jsxs)(n.h3,{id:"后置插件",children:["后置插件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#后置插件",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["同样的，通过 ",(0,i.jsx)(n.code,{children:"post"})," 字段可以声明后置执行的插件。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const builderPluginFoo = {\n  name: 'builder-plugin-foo',\n};\n\nconst builderPluginBar = {\n  name: 'builder-plugin-bar',\n  post: ['builder-plugin-foo'],\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Bar 插件在 ",(0,i.jsx)(n.code,{children:"post"})," 字段中配置了 Foo 插件，因此 Foo 插件一定会在 Bar 插件之后执行。"]}),"\n",(0,i.jsxs)(n.h3,{id:"移除插件",children:["移除插件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#移除插件",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["通过 ",(0,i.jsx)(n.code,{children:"remove"})," 字段可以在一个插件中移除其他插件。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const builderPluginFoo = {\n  name: 'builder-plugin-foo',\n};\n\nconst builderPluginBar = {\n  name: 'builder-plugin-bar',\n  remove: ['builder-plugin-foo'],\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"比如同时注册上述的 Foo 和 Bar 插件，由于 Bar 插件声明 remove 了 Foo 插件，因此 Foo 插件不会生效。"}),"\n",(0,i.jsxs)(n.h2,{id:"builderpluginapi",children:["BuilderPluginAPI",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builderpluginapi",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"插件 API 对象的类型。插件 API 对象上挂载了提供给插件使用的上下文数据、工具函数和注册生命周期钩子的函数。"}),"\n",(0,i.jsxs)(n.p,{children:["关于生命周期钩子的完整介绍，请阅读 ",(0,i.jsx)(n.a,{href:"/api/plugin-hooks",children:"Plugin Hooks"})," 章节。"]}),"\n",(0,i.jsxs)(n.p,{children:["在使用 webpack-provider 或 rspack-provider 时，",(0,i.jsx)(n.code,{children:"BuilderPluginAPI"})," 的类型定义有一定不同，你可以根据插件的使用场景来引入对应的类型。"]}),"\n",(0,i.jsxs)(n.h3,{id:"适用于-webpack-provider-的插件",children:["适用于 webpack-provider 的插件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#适用于-webpack-provider-的插件",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["开发适用于 webpack-provider 的插件时，请从 ",(0,i.jsx)(n.code,{children:"@modern-js/builder-webpack-provider"})," 中引入 ",(0,i.jsx)(n.code,{children:"BuilderPluginAPI"}),"。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import type { BuilderPlugin } from '@modern-js/builder';\nimport type { BuilderPluginAPI } from '@modern-js/builder-webpack-provider';\n\nexport default (): BuilderPlugin<BuilderPluginAPI> => ({\n  name: 'builder-plugin-foo',\n\n  setup: api => {\n    api.modifyWebpackConfig(config => {\n      config.devtool = false;\n    });\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"适用于-rspack-provider-的插件",children:["适用于 rspack-provider 的插件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#适用于-rspack-provider-的插件",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["开发适用于 rspack-provider 的插件时，请从 ",(0,i.jsx)(n.code,{children:"@modern-js/builder-rspack-provider"})," 中引入 ",(0,i.jsx)(n.code,{children:"BuilderPluginAPI"}),"。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import type { BuilderPlugin } from '@modern-js/builder';\nimport type { BuilderPluginAPI } from '@modern-js/builder-rspack-provider';\n\nexport default (): BuilderPlugin<BuilderPluginAPI> => ({\n  name: 'builder-plugin-foo',\n\n  setup: api => {\n    api.modifyRspackConfig(config => {\n      config.devtool = false;\n    });\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"同时适用于-webpack-provider-和-rspack-provider-的插件",children:["同时适用于 webpack-provider 和 rspack-provider 的插件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#同时适用于-webpack-provider-和-rspack-provider-的插件",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["想要开发同时适用于 webpack-provider 和 rspack-provider 的插件时，请从 ",(0,i.jsx)(n.code,{children:"@modern-js/builder-shared"})," 中引入 ",(0,i.jsx)(n.code,{children:"DefaultBuilderPlugin"}),"。"]}),"\n",(0,i.jsxs)(n.p,{children:["需要注意的是，开发 webpack 和 Rspack 同时支持的插件，意味着不能使用任何带有 webpack 或 Rspack 标识的 api，如 ",(0,i.jsx)(n.code,{children:"modifyWebpackConfig"})," 或 ",(0,i.jsx)(n.code,{children:"modifyRspackConfig"}),"。"]}),"\n",(0,i.jsxs)(n.p,{children:["可通过 ",(0,i.jsx)(n.a,{href:"/api/plugin-hooks#modifybundlerchain-experimental",children:"modifyBundlerChain"})," 修改同时适用于 webpack 和 Rspack 的配置。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import type { BuilderPlugin } from '@modern-js/builder';\nimport type { DefaultBuilderPlugin } from '@modern-js/builder-shared';\n\nexport default (): BuilderPlugin<DefaultBuilderPlugin> => ({\n  name: 'builder-plugin-foo',\n\n  setup: api => {\n    api.modifyBundlerChain(chain => {\n      chain.devtool(false);\n    });\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"apicontext",children:["api.context",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#apicontext",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"api.context"})," 是一个只读对象，提供一些上下文信息。"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"api.context"})," 的内容与 ",(0,i.jsx)(n.code,{children:"builder.context"})," 完全一致，请参考 ",(0,i.jsx)(n.a,{href:"/api/builder-instance#builder-context",children:"builder.context"}),"。"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const builderPluginFoo = () => ({\n  setup(api) {\n    console.log(api.context.distPath);\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"apigetbuilderconfig",children:["api.getBuilderConfig",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#apigetbuilderconfig",children:"#"})]}),"\n","\n",(0,i.jsx)(l.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const builderPluginFoo = () => ({\n  setup(api) {\n    const config = api.getBuilderConfig();\n    console.log(config.html?.title);\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"apigetnormalizedconfig",children:["api.getNormalizedConfig",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#apigetnormalizedconfig",children:"#"})]}),"\n","\n",(0,i.jsx)(o.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const builderPluginFoo = () => ({\n  setup(api) {\n    const config = api.getNormalizedConfig();\n    console.log(config.html.title);\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"apiispluginexists",children:["api.isPluginExists",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#apiispluginexists",children:"#"})]}),"\n","\n",(0,i.jsx)(a.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default () => ({\n  setup: api => {\n    console.log(api.isPluginExists('builder-plugin-foo'));\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"apigethtmlpaths",children:["api.getHTMLPaths",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#apigethtmlpaths",children:"#"})]}),"\n","\n",(0,i.jsx)(d.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const builderPluginFoo = () => ({\n  setup(api) {\n    api.modifyWebpackChain(() => {\n      const htmlPaths = api.getHTMLPaths();\n      console.log(htmlPaths); // { main: 'html/main/index.html' };\n    });\n  },\n});\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fapi%2Fplugin-core.mdx"]={toc:[{text:"BuilderPlugin",id:"builderplugin",depth:2},{text:"前置插件",id:"前置插件",depth:3},{text:"后置插件",id:"后置插件",depth:3},{text:"移除插件",id:"移除插件",depth:3},{text:"BuilderPluginAPI",id:"builderpluginapi",depth:2},{text:"适用于 webpack-provider 的插件",id:"适用于-webpack-provider-的插件",depth:3},{text:"适用于 rspack-provider 的插件",id:"适用于-rspack-provider-的插件",depth:3},{text:"同时适用于 webpack-provider 和 rspack-provider 的插件",id:"同时适用于-webpack-provider-和-rspack-provider-的插件",depth:3},{text:"api.context",id:"apicontext",depth:2},{text:"api.getBuilderConfig",id:"apigetbuilderconfig",depth:2},{text:"api.getNormalizedConfig",id:"apigetnormalizedconfig",depth:2},{text:"api.isPluginExists",id:"apiispluginexists",depth:2},{text:"api.getHTMLPaths",id:"apigethtmlpaths",depth:2}],title:"Plugin Core",frontmatter:{extractApiHeaders:[2]}};var h=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},59639:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return f}});var t,i=r("9880"),s=r("23169"),l=r.ir(r("26744")),o=r.ir(r("34342")),a=r.ir(r("46001")),d=r.ir(r("16578")),c=r.ir(r("96132")),h=r.ir(r("36075")),u=r.ir(r("44368")),p=r.ir(r("75736")),x=r.ir(r("52876"));function m(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",strong:"strong",ul:"ul",li:"li",code:"code",h3:"h3",pre:"pre",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"plugin-hooks",children:["Plugin Hooks",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#plugin-hooks",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"本章节描述了 Builder 插件提供的生命周期钩子。"}),"\n",(0,i.jsxs)(n.h2,{id:"概览",children:["概览",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#概览",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"通用钩子"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"modifyBuilderConfig"}),"：修改传递给 Builder 的配置项。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"modifyBundlerChain"})," (实验性)：通过 chain api 修改 webpack / Rspack 配置。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"modifyWebpackChain"}),"：修改 webpack chain 配置。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"modifyWebpackConfig"}),"：修改最终的 webpack 配置对象。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"modifyRspackConfig"}),"：修改最终的 Rspack 配置对象。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"onBeforeCreateCompiler"}),"：在创建 compiler 实例前调用。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"onAfterCreateCompiler"}),"：在创建 compiler 实例后、执行构建前调用。"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"构建钩子"}),"：仅在执行 build 方法构建生产环境产物时调用。"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"onBeforeBuild"}),"：在执行生产环境构建前调用。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"onAfterBuild"}),"：在执行生产环境构建后调用，可以获取到构建结果信息。"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"开发服务钩子"}),"：仅在执行 startDevServer 方法运行开发服务器时调用。"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"onBeforeStartDevServer"}),"：在启动开发服务器前调用。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"onAfterStartDevServer"}),"：在启动开发服务器后调用。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"onDevCompileDone"}),"：在每次开发环境构建结束后调用。"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"其他钩子"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"onExit"}),"：在进程即将退出时调用。"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"通用钩子",children:["通用钩子",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#通用钩子",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"modifybuilderconfig",children:["modifyBuilderConfig",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#modifybuilderconfig",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"修改传递给 Builder 的配置项，你可以直接修改传入的 config 对象，也可以返回一个新的对象来替换传入的对象。"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type ModifyWebpackChainUtils = {\n  mergeBuilderConfig: typeof mergeBuilderConfig;\n};\n\nfunction ModifyBuilderConfig(\n  callback: (\n    config: BuilderConfig,\n    utils: ModifyWebpackChainUtils,\n  ) => PromiseOrNot<BuilderConfig | void>,\n): void;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default () => ({\n  setup: api => {\n    api.modifyBuilderConfig((config, { mergeBuilderConfig }) => {\n      config.html = config.html || {};\n      config.html.title = 'Hello World!';\n      return mergeBuilderConfig(config, {\n        source: { preEntry: 'foo.js' },\n      });\n    });\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"modifybundlerchain-实验性",children:["modifyBundlerChain ",(0,i.jsx)(n.code,{children:"实验性"}),(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#modifybundlerchain-实验性",children:"#"})]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"什么是 BundlerChain"}),(0,i.jsxs)(n.div,{className:"modern-directive-content",children:["\n","\n",(0,i.jsx)(l.default,{}),"\n"]})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"modifyBundlerChain"})," 用于调用 bundler chain 来修改 webpack / Rspack 的配置。你在使用 webpack-provider 或 rspack-provider 时都可以使用该 hook。"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type ModifyBunlderChainUtils = {\n  env: NodeEnv;\n  isProd: boolean;\n  target: BuilderTarget;\n  isServer: boolean;\n  isWebWorker: boolean;\n  CHAIN_ID: ChainIdentifier;\n  HtmlPlugin: typeof import('html-webpack-plugin');\n};\n\nfunction ModifyBundlerChain(\n  callback: (\n    chain: BundlerChain,\n    utils: ModifyBunlderChainUtils,\n  ) => Promise<void> | void,\n): void;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { BundleAnalyzerPlugin } from 'webpack-bundle-analyzer';\n\nexport default () => ({\n  setup: api => {\n    api.modifyBundlerChain((chain, utils) => {\n      if (utils.env === 'development') {\n        chain.devtool('eval');\n      }\n\n      chain.plugin('bundle-analyze').use(BundleAnalyzerPlugin);\n    });\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"modifywebpackchain",children:["modifyWebpackChain",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#modifywebpackchain",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"通过 webpack chain 来修改 webpack 配置。该方法仅在使用 webpack-provider 时调用。"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type ModifyWebpackChainUtils = {\n  env: NodeEnv;\n  isProd: boolean;\n  target: BuilderTarget;\n  webpack: typeof import('webpack');\n  isServer: boolean;\n  isWebWorker: boolean;\n  CHAIN_ID: ChainIdentifier;\n  getCompiledPath: (name: string) => string;\n  HtmlWebpackPlugin: typeof import('html-webpack-plugin');\n};\n\nfunction ModifyWebpackChain(\n  callback: (\n    chain: WebpackChain,\n    utils: ModifyWebpackChainUtils,\n  ) => Promise<void> | void,\n): void;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default () => ({\n  setup: api => {\n    api.modifyWebpackChain((chain, utils) => {\n      if (utils.env === 'development') {\n        chain.devtool('eval');\n      }\n    });\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"modifywebpackconfig",children:["modifyWebpackConfig",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#modifywebpackconfig",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"修改最终的 webpack 配置对象，你可以直接修改传入的 config 对象，也可以返回一个新的对象来替换传入的对象。该方法仅在使用 webpack-provider 时调用。"}),"\n",(0,i.jsxs)(n.p,{children:["该方法的调用时机晚于 ",(0,i.jsx)(n.code,{children:"modifyWebpackChain"})," 钩子。"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type ModifyWebpackConfigUtils = {\n  env: NodeEnv;\n  isProd: boolean;\n  target: BuilderTarget;\n  webpack: typeof import('webpack');\n  isServer: boolean;\n  isWebWorker: boolean;\n  CHAIN_ID: ChainIdentifier;\n  getCompiledPath: (name: string) => string;\n  HtmlWebpackPlugin: typeof import('html-webpack-plugin');\n  addRules: (rules: RuleSetRule | RuleSetRule[]) => void;\n  prependPlugins: (\n    plugins: WebpackPluginInstance | WebpackPluginInstance[],\n  ) => void;\n  appendPlugins: (\n    plugins: WebpackPluginInstance | WebpackPluginInstance[],\n  ) => void;\n  removePlugin: (pluginName: string) => void;\n};\n\nfunction ModifyWebpackConfig(\n  callback: (\n    config: WebpackConfig,\n    utils: ModifyWebpackConfigUtils,\n  ) => Promise<WebpackConfig | void> | WebpackConfig | void,\n): void;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default () => ({\n  setup: api => {\n    api.modifyWebpackConfig((config, utils) => {\n      if (utils.env === 'development') {\n        config.devtool = 'eval';\n      }\n    });\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"modifyrspackconfig",children:["modifyRspackConfig",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#modifyrspackconfig",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"修改最终的 Rspack 配置对象，你可以直接修改传入的 config 对象，也可以返回一个新的对象来替换传入的对象。该方法仅在使用 rspack-provider 时调用。"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type ModifyRspackConfigUtils = {\n  env: NodeEnv;\n  isProd: boolean;\n  target: BuilderTarget;\n  isServer: boolean;\n  isWebWorker: boolean;\n  getCompiledPath: (name: string) => string;\n};\n\nfunction ModifyRspackConfig(\n  callback: (\n    config: RspackConfig,\n    utils: ModifyRspackConfigUtils,\n  ) => Promise<RspackConfig | void> | RspackConfig | void,\n): void;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default () => ({\n  setup: api => {\n    api.modifyRspackConfig((config, utils) => {\n      if (utils.env === 'development') {\n        config.devtool = 'eval';\n      }\n    });\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"onbeforecreatecompiler",children:["onBeforeCreateCompiler",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#onbeforecreatecompiler",children:"#"})]}),"\n","\n",(0,i.jsx)(o.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default () => ({\n  setup: api => {\n    api.onBeforeCreateCompiler(({ bundlerConfigs }) => {\n      console.log('the bundler config is ', bundlerConfigs);\n    });\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"onaftercreatecompiler",children:["onAfterCreateCompiler",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#onaftercreatecompiler",children:"#"})]}),"\n","\n",(0,i.jsx)(a.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default () => ({\n  setup: api => {\n    api.onAfterCreateCompiler(({ compiler }) => {\n      console.log('the compiler is ', compiler);\n    });\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"构建钩子",children:["构建钩子",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#构建钩子",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"onbeforebuild",children:["onBeforeBuild",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#onbeforebuild",children:"#"})]}),"\n","\n",(0,i.jsx)(d.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default () => ({\n  setup: api => {\n    api.onBeforeBuild(({ bundlerConfigs }) => {\n      console.log('the bundler config is ', bundlerConfigs);\n    });\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"onafterbuild",children:["onAfterBuild",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#onafterbuild",children:"#"})]}),"\n","\n",(0,i.jsx)(c.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default () => ({\n  setup: api => {\n    api.onAfterBuild(({ stats }) => {\n      console.log(stats?.toJson());\n    });\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"开发服务钩子",children:["开发服务钩子",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#开发服务钩子",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"onbeforestartdevserver",children:["onBeforeStartDevServer",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#onbeforestartdevserver",children:"#"})]}),"\n","\n",(0,i.jsx)(h.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default () => ({\n  setup: api => {\n    api.onBeforeStartDevServer(() => {\n      console.log('before start!');\n    });\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"onafterstartdevserver",children:["onAfterStartDevServer",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#onafterstartdevserver",children:"#"})]}),"\n","\n",(0,i.jsx)(u.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default () => ({\n  setup: api => {\n    api.onAfterStartDevServer(({ port }) => {\n      console.log('this port is: ', port);\n    });\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"ondevcompiledone",children:["onDevCompileDone",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#ondevcompiledone",children:"#"})]}),"\n","\n",(0,i.jsx)(p.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default () => ({\n  setup: api => {\n    api.onDevCompileDone(({ isFirstCompile }) => {\n      if (isFirstCompile) {\n        console.log('first compile!');\n      } else {\n        console.log('re-compile!');\n      }\n    });\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"其他钩子",children:["其他钩子",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#其他钩子",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"onexit",children:["onExit",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#onexit",children:"#"})]}),"\n","\n",(0,i.jsx)(x.default,{}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"Example"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default () => ({\n  setup: api => {\n    api.onExit(() => {\n      console.log('exit!');\n    });\n  },\n});\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fapi%2Fplugin-hooks.mdx"]={toc:[{text:"概览",id:"概览",depth:2},{text:"通用钩子",id:"通用钩子",depth:2},{text:"modifyBuilderConfig",id:"modifybuilderconfig",depth:3},{text:"modifyBundlerChain 实验性",id:"modifybundlerchain-实验性",depth:3},{text:"modifyWebpackChain",id:"modifywebpackchain",depth:3},{text:"modifyWebpackConfig",id:"modifywebpackconfig",depth:3},{text:"modifyRspackConfig",id:"modifyrspackconfig",depth:3},{text:"onBeforeCreateCompiler",id:"onbeforecreatecompiler",depth:3},{text:"onAfterCreateCompiler",id:"onaftercreatecompiler",depth:3},{text:"构建钩子",id:"构建钩子",depth:2},{text:"onBeforeBuild",id:"onbeforebuild",depth:3},{text:"onAfterBuild",id:"onafterbuild",depth:3},{text:"开发服务钩子",id:"开发服务钩子",depth:2},{text:"onBeforeStartDevServer",id:"onbeforestartdevserver",depth:3},{text:"onAfterStartDevServer",id:"onafterstartdevserver",depth:3},{text:"onDevCompileDone",id:"ondevcompiledone",depth:3},{text:"其他钩子",id:"其他钩子",depth:2},{text:"onExit",id:"onexit",depth:3}],title:"Plugin Hooks",frontmatter:{extractApiHeaders:[2]}};var f=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(m,{...e})}):m(e)}},14842:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",h3:"h3",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean | string"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"'/'"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["设置开发环境下的静态资源 URL 前缀，对应 webpack 的 ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/guides/public-path/",target:"_blank",rel:"noopener noreferrer",children:"output.publicPath"})," 配置。"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"assetPrefix"})," 会影响构建产物中绝大部分静态资源的 URL，包括 JavaScript 文件、CSS 文件、图片、视频等。如果指定了一个错误的值，则在加载这些资源时可能会出现 404 错误。"]}),"\n",(0,i.jsxs)(n.p,{children:["该配置项仅用于开发环境。在生产环境下，请使用 ",(0,i.jsx)(n.code,{children:"output.assetPrefix"})," 配置项进行设置。"]}),"\n",(0,i.jsxs)(n.h3,{id:"boolean-类型",children:["Boolean 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#boolean-类型",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["如果设置 ",(0,i.jsx)(n.code,{children:"assetPrefix"})," 为 ",(0,i.jsx)(n.code,{children:"true"}),"，Builder 会使用 ",(0,i.jsx)(n.code,{children:"http://localhost:port/"})," 作为 URL 前缀："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  dev: {\n    assetPrefix: true,\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"对应 JS 文件在浏览器中加载的地址如下："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'<script defer src="http://localhost:8080/static/js/main.js"></script>\n'})}),"\n",(0,i.jsxs)(n.p,{children:["如果设置 ",(0,i.jsx)(n.code,{children:"assetPrefix"})," 为 ",(0,i.jsx)(n.code,{children:"false"})," 或不设置，则默认使用 ",(0,i.jsx)(n.code,{children:"/"})," 作为访问前缀。"]}),"\n",(0,i.jsxs)(n.h3,{id:"string-类型",children:["String 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#string-类型",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当 ",(0,i.jsx)(n.code,{children:"assetPrefix"})," 的值为 ",(0,i.jsx)(n.code,{children:"string"})," 类型时，字符串会作为前缀，自动拼接到静态资源访问 URL 上："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  dev: {\n    assetPrefix: 'http://example.com/assets/',\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"对应 JS 文件在浏览器中加载的地址如下："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'<script defer src="http://example.com/assets/static/js/main.js"></script>\n'})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fdev%2FassetPrefix.md"]={toc:[{text:"Boolean 类型",id:"boolean-类型",depth:3},{text:"String 类型",id:"string-类型",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},63725:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"() => Promise<void> | void"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"dev.beforeStartUrl"})," 用于在打开 ",(0,i.jsx)(n.code,{children:"startUrl"})," 前执行一段回调函数，该配置项需要与 ",(0,i.jsx)(n.code,{children:"dev.startUrl"})," 一同使用。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  dev: {\n    startUrl: true,\n    beforeStartUrl: async () => {\n      await doSomeThing();\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fdev%2FbeforeStartUrl.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},48367:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"是否开启 Hot Module Replacement 热更新能力。"}),"\n",(0,i.jsxs)(n.p,{children:["当 ",(0,i.jsx)(n.code,{children:"hmr"})," 设置为 ",(0,i.jsx)(n.code,{children:"false"})," 时，将不再提供热更新和 react-refresh 功能。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  dev: {\n    hmr: false,\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fdev%2Fhmr.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},37852:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"string"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"0.0.0.0"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"指定 dev server 启动时监听的 host。"}),"\n",(0,i.jsxs)(n.p,{children:["默认情况下，dev server 会监听 ",(0,i.jsx)(n.code,{children:"0.0.0.0"}),"，这代表监听所有的网络接口，包括 ",(0,i.jsx)(n.code,{children:"localhost"})," 和公网地址。"]}),"\n",(0,i.jsxs)(n.p,{children:["如果你希望 dev server 只监听 ",(0,i.jsx)(n.code,{children:"localhost"}),"，可以设置为："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  dev: {\n    host: 'localhost',\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fdev%2Fhost.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},44941:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",pre:"pre",h4:"h4",a:"a",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean | { key: string; cert: string }"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"配置该选项后，可以开启 Dev Server 对 HTTPS 的支持，同时会禁用 HTTP 服务器。"}),"\n",(0,i.jsx)(n.p,{children:"开启前："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"  > Local:    http://localhost:8080/\n  > Network:  http://192.168.0.1:8080/\n"})}),"\n",(0,i.jsx)(n.p,{children:"开启后："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"  > Local:    https://localhost:8080/\n  > Network:  https://192.168.0.1:8080/\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"自动生成证书",children:["自动生成证书",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#自动生成证书",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["你可以直接将 ",(0,i.jsx)(n.code,{children:"https"})," 设置为 ",(0,i.jsx)(n.code,{children:"true"}),"，Builder 会基于 ",(0,i.jsx)(n.a,{href:"https://github.com/davewasmer/devcert",target:"_blank",rel:"noopener noreferrer",children:"devcert"})," 来自动生成 Dev Server 所需的 HTTPS 证书。"]}),"\n",(0,i.jsxs)(n.p,{children:["使用这种方式时，你需要在当前项目中手动安装 ",(0,i.jsx)(n.a,{href:"https://github.com/davewasmer/devcert",target:"_blank",rel:"noopener noreferrer",children:"devcert"})," 依赖："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# npm\nnpm install devcert@1.2.2 -D\n\n# yarn\nyarn add devcert@1.2.2 -D\n\n# pnpm\npnpm add devcert@1.2.2 -D\n"})}),"\n",(0,i.jsxs)(n.p,{children:["然后配置 ",(0,i.jsx)(n.code,{children:"dev.https"})," 为 ",(0,i.jsx)(n.code,{children:"true"})," 即可："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  dev: {\n    https: true,\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"该方式有一定局限性，由于 devcert 目前不支持 IP addresses，因此访问 Network 域名时，会遇到「您的连接不是私密连接」的问题。"}),"\n",(0,i.jsx)(n.p,{children:"此问题的解决方法为：点击 Chrome 浏览器问题页面的「高级」->「继续前往 192.168.0.1（不安全）」。"}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["https 代理自动安装证书需要获取 root 权限, 请根据提示输入密码即可。 ",(0,i.jsx)(n.strong,{children:"密码仅在信任证书时使用，不会泄漏或者用于其他环节"}),"。\n"]})})]}),"\n",(0,i.jsxs)(n.h4,{id:"手动设置证书",children:["手动设置证书",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#手动设置证书",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["你也可以在 ",(0,i.jsx)(n.code,{children:"dev.https"})," 选项中手动传入 HTTPS 服务器所需要的证书和对应的私钥，这个参数将直接传递给 Node.js 中 https 模块的 createServer。"]}),"\n",(0,i.jsxs)(n.p,{children:["具体可以参考 ",(0,i.jsx)(n.a,{href:"https://nodejs.org/api/https.html#https_https_createserver_options_requestlistener",target:"_blank",rel:"noopener noreferrer",children:"https.createServer"}),"。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import fs from 'fs';\n\nexport default {\n  dev: {\n    https: {\n      key: fs.readFileSync('certificates/private.pem'),\n      cert: fs.readFileSync('certificates/public.pem'),\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fdev%2Fhttps.md"]={toc:[{text:"自动生成证书",id:"自动生成证书",depth:4},{text:"手动设置证书",id:"手动设置证书",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},99167:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"number"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"8080"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"设置 Dev Server 监听的端口号。"}),"\n",(0,i.jsx)(n.p,{children:"默认情况下，Dev Server 会监听 8080 端口，并在端口被占用时自动递增端口号。"}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["将端口设置为 ",(0,i.jsx)(n.code,{children:"3000"}),"："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  dev: {\n    port: 3000,\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fdev%2Fport.md"]={toc:[{text:"示例",id:"示例",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},23150:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code",p:"p"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type ProgressBar =\n  | boolean\n  | {\n      id?: string;\n    };\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"是否在编译过程中展示进度条。"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  dev: {\n    progressBar: false,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["如果需要修改进度条左侧显示的文本内容，可以设置 ",(0,i.jsx)(n.code,{children:"id"})," 选项："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  dev: {\n    progressBar: {\n      id: 'Some Text',\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fdev%2FprogressBar.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},12725:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",pre:"pre",h3:"h3",a:"a"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean | string | string[] | undefined"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"dev.startUrl"})," 用于设置 Dev Server 启动时自动在浏览器中打开的页面 URL。"]}),"\n",(0,i.jsx)(n.p,{children:"默认情况下，Dev Server 启动时不会打开任何页面。"}),"\n",(0,i.jsx)(n.p,{children:"你可以设置为如下的值："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  dev: {\n    // 打开项目的默认页面，等价于 `http://localhost:<port>`\n    startUrl: true,\n    // 打开指定的页面\n    startUrl: 'http://localhost:8080',\n    // 打开多个页面\n    startUrl: ['http://localhost:8080', 'http://localhost:8080/about'],\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"端口号占位符",children:["端口号占位符",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#端口号占位符",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["由于端口号可能会发生变动，你可以使用 ",(0,i.jsx)(n.code,{children:"<port>"})," 占位符来指代当前端口号，Builder 会自动将占位符替换为实际监听的端口号。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  dev: {\n    startUrl: 'http://localhost:<port>/home',\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fdev%2FstartUrl.md"]={toc:[{text:"端口号占位符",id:"端口号占位符",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},92563:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code",p:"p",h3:"h3",a:"a",h4:"h4"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type LazyCompilationOptions =\n  | boolean\n  | {\n      // 是否为异步模块开启延迟编译\n      imports?: boolean;\n      // 是否为入口模块开启延迟编译\n      entries?: boolean;\n    };\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"打包工具："})," ",(0,i.jsx)(n.code,{children:"仅支持 webpack"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"用于开启延迟编译（即按需编译）的能力。当开启此配置项时，Builder 会进行延迟编译，提升项目的编译启动速度。"}),"\n",(0,i.jsx)(n.p,{children:"延迟编译只在开发环境下生效。"}),"\n",(0,i.jsxs)(n.h3,{id:"延迟编译异步模块",children:["延迟编译异步模块",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#延迟编译异步模块",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["延迟编译 ",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/import",target:"_blank",rel:"noopener noreferrer",children:"Dynamic Import"})," 引入的异步模块："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  experiments: {\n    lazyCompilation: {\n      imports: true,\n      entries: false,\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["开启 ",(0,i.jsx)(n.code,{children:"imports"})," 选项后，所有的异步模块只有在被请求时才触发编译。如果你的项目是一个单页应用（SPA），并通过 Dynamic Import 进行了路由拆分，那么会有明显的编译提速效果。"]}),"\n",(0,i.jsxs)(n.h3,{id:"延迟编译入口模块",children:["延迟编译入口模块",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#延迟编译入口模块",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"除了延迟编译异步模块，你也可以选择同时延迟编译入口模块和异步模块。"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  experiments: {\n    lazyCompilation: {\n      imports: true,\n      entries: true,\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"以上配置也可以简化为："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  experiments: {\n    lazyCompilation: true,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["开启 ",(0,i.jsx)(n.code,{children:"entries"})," 选项后，当启动编译时，不会编译所有的页面，而是仅在路由跳转到对应的页面时，才对该页面进行编译。"]}),"\n",(0,i.jsx)(n.p,{children:"使用延迟编译入口模块时，有以下注意事项："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"只适用于多页应用（MPA），对单页应用（SPA）没有优化效果。"}),"\n",(0,i.jsx)(n.li,{children:"当你访问一个页面时，由于要等待页面编译完成，会有一段时间的白屏。"}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"局限性",children:["局限性",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#局限性",children:"#"})]}),"\n",(0,i.jsxs)(n.h4,{id:"禁用拆包规则",children:["禁用拆包规则",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#禁用拆包规则",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"当你开启延迟编译时，为了保证编译结果正常，Builder 会在开发环境下禁用拆包规则。这不会影响生产环境的打包产物，但会导致开发环境和生产环境的打包产物有一定差异。"}),"\n",(0,i.jsxs)(n.h4,{id:"使用代理",children:["使用代理",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#使用代理",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Lazy Compilation 依赖 webpack 在本地启动的开发服务器，当你将某个域名代理到 localhost 进行开发时，Lazy Compilation 将无法正常工作。因此，如果你需要使用代理时，请禁用 Lazy Compilation。"})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fexperiments%2FlazyCompilation.md"]={toc:[{text:"延迟编译异步模块",id:"延迟编译异步模块",depth:3},{text:"延迟编译入口模块",id:"延迟编译入口模块",depth:3},{text:"局限性",id:"局限性",depth:3},{text:"禁用拆包规则",id:"禁用拆包规则",depth:4},{text:"使用代理",id:"使用代理",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},86563:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"string"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"设置 iOS 系统下的 apple-touch-icon 图标的文件路径，可以设置为相对于项目根目录的相对路径，也可以设置为文件的绝对路径。暂不支持设置为 CDN URL。"}),"\n",(0,i.jsxs)(n.p,{children:["配置该选项后，在编译过程中会自动将图标拷贝至 dist 目录下，并在 HTML 中添加相应的 ",(0,i.jsx)(n.code,{children:"link"})," 标签。"]}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"设置为相对路径："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    appIcon: './src/assets/icon.png',\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"设置为绝对路径："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import path from 'path';\n\nexport default {\n  html: {\n    appIcon: path.resolve(__dirname, './src/assets/icon.png'),\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"重新编译后，HTML 中自动生成了以下标签："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<link rel="apple-touch-icon" sizes="180*180" href="/static/image/icon.png" />\n'})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fhtml%2FappIcon.md"]={toc:[{text:"示例",id:"示例",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},40799:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",h3:"h3",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean | 'anonymous' | 'use-credentials'"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["用于设置 ",(0,i.jsx)(n.code,{children:"<script>"})," 和 ",(0,i.jsx)(n.code,{children:"<style>"})," 标签的 ",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/crossorigin",target:"_blank",rel:"noopener noreferrer",children:"crossorigin"})," 属性。"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["当传入 ",(0,i.jsx)(n.code,{children:"true"})," 时，它会被自动设置为 ",(0,i.jsx)(n.code,{children:'crossorigin="anonymous"'}),"。"]}),"\n",(0,i.jsxs)(n.li,{children:["当传入 ",(0,i.jsx)(n.code,{children:"false"})," 时，它不会设置 ",(0,i.jsx)(n.code,{children:"crossorigin"})," 属性。"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    crossorigin: 'anonymous',\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["编译后，HTML 中的 ",(0,i.jsx)(n.code,{children:"<script>"})," 标签变为："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<script defer src="/static/js/main.js" crossorigin="anonymous"></script>\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"<style>"})," 标签变为："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<link href="/static/css/main.css" rel="stylesheet" crossorigin="anonymous" />\n'})}),"\n",(0,i.jsxs)(n.h3,{id:"可选值",children:["可选值",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#可选值",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"crossorigin"})," 可以被设置为以下几个值："]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"anonymous"}),'：请求使用 CORS 头，并将证书标志设置为 "same-origin"。除非目标是相同的 origin，否则不会通过 cookie、客户端 SSL 证书或 HTTP 身份验证交换用户凭据。']}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"use-credentials"}),'：请求使用 CORS 头，证书标志设置为 "include"，并始终包含用户凭据。']}),"\n"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fhtml%2Fcrossorigin.md"]={toc:[{text:"示例",id:"示例",depth:3},{text:"可选值",id:"可选值",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},36090:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",pre:"pre",blockquote:"blockquote"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["移除 HTML 产物对应的文件夹。开启该选项后，生成的 HTML 文件目录会从 ",(0,i.jsx)(n.code,{children:"[name]/index.html"})," 变为 ",(0,i.jsx)(n.code,{children:"[name].html"}),"。"]}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["默认情况下，HTML 产物在 ",(0,i.jsx)(n.code,{children:"dist"})," 目录下的结构为："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"/dist\n└── html\n    └── main\n        └── index.html\n"})}),"\n",(0,i.jsxs)(n.p,{children:["开启 ",(0,i.jsx)(n.code,{children:"html.disableHtmlFolder"})," 配置:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    disableHtmlFolder: true,\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"重新编译后，HTML 产物在 dist 中的目录结构如下："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"/dist\n└── html\n    └── main.html\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["如果需要设置 HTML 文件在 dist 目录中的路径，请使用 ",(0,i.jsx)(n.code,{children:"output.distPath.html"})," 配置。"]}),"\n"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fhtml%2FdisableHtmlFolder.md"]={toc:[{text:"示例",id:"示例",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},57361:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"string"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"设置页面的 favicon 图标，可以设置为："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"URL 地址。"}),"\n",(0,i.jsx)(n.li,{children:"文件的绝对路径。"}),"\n",(0,i.jsx)(n.li,{children:"相对于项目根目录的相对路径。"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["配置该选项后，在编译过程中会自动将图标拷贝至 dist 目录下，并在 HTML 中添加相应的 ",(0,i.jsx)(n.code,{children:"link"})," 标签。"]}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"设置为相对路径："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    favicon: './src/assets/icon.png',\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"设置为绝对路径："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import path from 'path';\n\nexport default {\n  html: {\n    favicon: path.resolve(__dirname, './src/assets/icon.png'),\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"设置为 URL："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import path from 'path';\n\nexport default {\n  html: {\n    favicon: 'https://foo.com/favicon.ico',\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"重新编译后，HTML 中自动生成了以下标签："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<link rel="icon" href="/favicon.ico" />\n'})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fhtml%2Ffavicon.md"]={toc:[{text:"示例",id:"示例",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},42560:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"Record<string, string>"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"用于在多页面的场景下，为不同的页面设置不同的 favicon。"}),"\n",(0,i.jsxs)(n.p,{children:["整体用法与 ",(0,i.jsx)(n.code,{children:"favicon"})," 一致，并且可以使用「入口名称」作为 key ，对各个页面进行单独设置。"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"faviconByEntries"})," 的优先级高于 ",(0,i.jsx)(n.code,{children:"favicon"}),"，因此会覆盖 ",(0,i.jsx)(n.code,{children:"favicon"})," 中设置的值。"]}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    favicon: './src/assets/default.png',\n    faviconByEntries: {\n      foo: './src/assets/foo.png',\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"重新编译后，可以看到:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["页面 ",(0,i.jsx)(n.code,{children:"foo"})," 的 favicon 为 ",(0,i.jsx)(n.code,{children:"./src/assets/foo.png"}),"。"]}),"\n",(0,i.jsxs)(n.li,{children:["其他页面的 favicon 为 ",(0,i.jsx)(n.code,{children:"./src/assets/default.png"}),"。"]}),"\n"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fhtml%2FfaviconByEntries.md"]={toc:[{text:"示例",id:"示例",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},26324:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h4:"h4",a:"a",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"'head' | 'body'| 'true' | false"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"'head'"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["修改构建产物中 ",(0,i.jsx)(n.code,{children:"<script>"})," 标签在 HTML 中的插入位置。"]}),"\n",(0,i.jsx)(n.p,{children:"可以设置为以下值："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"'head'"}),": script 标签会插入在 HTML 的 head 标签内。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"'body'"}),": script 标签会插入在 HTML 的 body 标签尾部。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"true"}),": 最终表现取决于 ",(0,i.jsx)(n.code,{children:"html-webpack-plugin"})," 的 scriptLoading 配置项。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"false"}),": script 标签不插入 HTML 中。"]}),"\n"]}),"\n",(0,i.jsxs)(n.h4,{id:"默认插入位置",children:["默认插入位置",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#默认插入位置",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"script 标签默认在 head 标签内："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<html>\n  <head>\n    <title></title>\n    <script defer src="/static/js/runtime-main.js"></script>\n    <script defer src="/static/js/main.js"></script>\n    <link href="/static/css/main.css" rel="stylesheet" />\n  </head>\n  <body>\n    <div id="root"></div>\n  </body>\n</html>\n'})}),"\n",(0,i.jsxs)(n.h4,{id:"插入至-body-标签",children:["插入至 body 标签",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#插入至-body-标签",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"添加如下配置，可以将 script 插入至 body 标签："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    inject: 'body',\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"可以看到 script 标签生成在 body 标签尾部："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<html>\n  <head>\n    <title></title>\n    <link href="/static/css/main.css" rel="stylesheet" />\n  </head>\n  <body>\n    <div id="root"></div>\n    <script defer src="/static/js/runtime-main.js"></script>\n    <script defer src="/static/js/main.js"></script>\n  </body>\n</html>\n'})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fhtml%2Finject.md"]={toc:[{text:"默认插入位置",id:"默认插入位置",depth:4},{text:"插入至 body 标签",id:"插入至-body-标签",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},78418:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"Record<string, boolean | string>"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"用于在多页面的场景下，为不同的页面设置不同的 script 标签插入位置。"}),"\n",(0,i.jsxs)(n.p,{children:["整体用法与 ",(0,i.jsx)(n.code,{children:"inject"})," 一致，并且可以使用「入口名称」作为 key ，对各个页面进行单独设置。"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"injectByEntries"})," 的优先级高于 ",(0,i.jsx)(n.code,{children:"inject"}),"，因此会覆盖 ",(0,i.jsx)(n.code,{children:"inject"})," 中设置的值。"]}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    inject: 'head',\n    injectByEntries: {\n      foo: 'body',\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"重新编译后，可以看到:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["页面 ",(0,i.jsx)(n.code,{children:"foo"})," 的 script 标签会插入到 ",(0,i.jsx)(n.code,{children:"body"})," 标签内。"]}),"\n",(0,i.jsxs)(n.li,{children:["其他页面的 script 标签会插入到 ",(0,i.jsx)(n.code,{children:"head"})," 标签内。"]}),"\n"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fhtml%2FinjectByEntries.md"]={toc:[{text:"示例",id:"示例",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},3433:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"Record<string, false | string | Record<string, string | boolean>>"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["配置 HTML 页面的 ",(0,i.jsx)(n.code,{children:"<meta>"})," 标签。"]}),"\n",(0,i.jsxs)(n.h3,{id:"string-类型",children:["String 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#string-类型",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当 ",(0,i.jsx)(n.code,{children:"meta"})," 对象的 ",(0,i.jsx)(n.code,{children:"value"})," 为字符串时，会自动将对象的 ",(0,i.jsx)(n.code,{children:"key"})," 映射为 ",(0,i.jsx)(n.code,{children:"name"}),"，",(0,i.jsx)(n.code,{children:"value"})," 映射为 ",(0,i.jsx)(n.code,{children:"content"}),"。"]}),"\n",(0,i.jsxs)(n.p,{children:["比如设置 ",(0,i.jsx)(n.code,{children:"description"}),"："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    meta: {\n      description: 'a description of the page',\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["最终在 HTML 中生成的 ",(0,i.jsx)(n.code,{children:"meta"})," 标签为："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<meta name="description" content="a description of the page" />\n'})}),"\n",(0,i.jsxs)(n.h3,{id:"object-类型",children:["Object 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-类型",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当 ",(0,i.jsx)(n.code,{children:"meta"})," 对象的 ",(0,i.jsx)(n.code,{children:"value"})," 为对象时，会将该对象的 ",(0,i.jsx)(n.code,{children:"key: value"})," 映射为 ",(0,i.jsx)(n.code,{children:"meta"})," 标签的属性。"]}),"\n",(0,i.jsxs)(n.p,{children:["这种情况下默认不会设置 ",(0,i.jsx)(n.code,{children:"name"})," 和 ",(0,i.jsx)(n.code,{children:"content"})," 属性。"]}),"\n",(0,i.jsxs)(n.p,{children:["比如设置 ",(0,i.jsx)(n.code,{children:"http-equiv"}),"："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    meta: {\n      'http-equiv': {\n        'http-equiv': 'x-ua-compatible',\n        content: 'ie=edge',\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["最终在 HTML 中生成的 ",(0,i.jsx)(n.code,{children:"meta"})," 标签为："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<meta http-equiv="x-ua-compatible" content="ie=edge" />\n'})}),"\n",(0,i.jsxs)(n.h3,{id:"移除默认值",children:["移除默认值",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#移除默认值",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["将 ",(0,i.jsx)(n.code,{children:"meta"})," 对象的 ",(0,i.jsx)(n.code,{children:"value"})," 设置为 ",(0,i.jsx)(n.code,{children:"false"}),"，则表示不生成对应的 meta 标签。"]}),"\n",(0,i.jsxs)(n.p,{children:["比如移除框架预设的 ",(0,i.jsx)(n.code,{children:"imagemode"}),"："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  html: {\n    meta: {\n      imagemode: false,\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fhtml%2Fmeta.md"]={toc:[{text:"String 类型",id:"string-类型",depth:3},{text:"Object 类型",id:"object-类型",depth:3},{text:"移除默认值",id:"移除默认值",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},77140:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"Record<string, Meta>"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"用于在多页面的场景下，为不同的页面设置不同的 meta 标签。"}),"\n",(0,i.jsxs)(n.p,{children:["整体用法与 ",(0,i.jsx)(n.code,{children:"meta"})," 一致，并且可以使用「入口名称」作为 key ，对各个页面进行单独设置。"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"metaByEntries"})," 的优先级高于 ",(0,i.jsx)(n.code,{children:"meta"}),"，因此会覆盖 ",(0,i.jsx)(n.code,{children:"meta"})," 中设置的值。"]}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    meta: {\n      description: 'ByteDance',\n    },\n    metaByEntries: {\n      foo: {\n        description: 'TikTok',\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["编译后，可以看到页面 ",(0,i.jsx)(n.code,{children:"foo"})," 的 meta 为："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<meta name="description" content="TikTok" />\n'})}),"\n",(0,i.jsx)(n.p,{children:"其他页面的 meta 为："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<meta name="description" content="ByteDance" />\n'})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fhtml%2FmetaByEntries.md"]={toc:[{text:"示例",id:"示例",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},72589:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",pre:"pre",h3:"h3",a:"a",h4:"h4"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"string"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"'root'"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["默认情况下，HTML 模板中包含了 ",(0,i.jsx)(n.code,{children:"root"})," 节点用于组件挂载，通过 ",(0,i.jsx)(n.code,{children:"mountId"})," 可以修改该节点的 id。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<body>\n  <div id="root"></div>\n</body>\n'})}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["修改 DOM 挂载节点 ",(0,i.jsx)(n.code,{children:"id"})," 为 ",(0,i.jsx)(n.code,{children:"app"}),"："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    mountId: 'app',\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"编译后："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<body>\n  <div id="app"></div>\n</body>\n'})}),"\n",(0,i.jsxs)(n.h3,{id:"注意事项",children:["注意事项",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#注意事项",children:"#"})]}),"\n",(0,i.jsxs)(n.h4,{id:"更新相关代码",children:["更新相关代码",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#更新相关代码",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["在修改 ",(0,i.jsx)(n.code,{children:"mountId"})," 后，如果你的代码中有获取 ",(0,i.jsx)(n.code,{children:"root"})," 根节点的逻辑，请更新对应的值："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-diff",children:"- const domNode = document.getElementById('root');\n+ const domNode = document.getElementById('app');\n\nReactDOM.createRoot(domNode).render(<App />);\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"自定义模板",children:["自定义模板",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#自定义模板",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["如果你自定义了 HTML 模板，请确保模板中包含 ",(0,i.jsx)(n.code,{children:'<div id="<%= mountId %>"></div>'}),"，否则 ",(0,i.jsx)(n.code,{children:"mountId"})," 配置项无法生效。"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fhtml%2FmountId.md"]={toc:[{text:"示例",id:"示例",depth:3},{text:"注意事项",id:"注意事项",depth:3},{text:"更新相关代码",id:"更新相关代码",depth:4},{text:"自定义模板",id:"自定义模板",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8276:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",pre:"pre",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"'defer' | 'blocking' | 'module'"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"'defer'"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["用于设置 ",(0,i.jsx)(n.code,{children:"<script>"})," 标签的加载方式。"]}),"\n",(0,i.jsxs)(n.h3,{id:"defer",children:["defer",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#defer",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["默认情况下，Builder 生成的 ",(0,i.jsx)(n.code,{children:"<script>"})," 标签会自动设置 ",(0,i.jsx)(n.code,{children:"defer"})," 属性，以避免阻塞页面的解析和渲染。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<head>\n  <script defer src="/static/js/main.js"></script>\n</head>\n<body></body>\n'})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["当浏览器遇到带有 defer 属性的 ",(0,i.jsx)(n.code,{children:"<script>"})," 标签时，它会异步地下载脚本文件，不会阻塞页面的解析和渲染。在页面解析和渲染完成后，浏览器会按照 ",(0,i.jsx)(n.code,{children:"<script>"})," 标签在文档中出现的顺序依次执行它们。\n"]})})]}),"\n",(0,i.jsxs)(n.h3,{id:"blocking",children:["blocking",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#blocking",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["将 ",(0,i.jsx)(n.code,{children:"scriptLoading"})," 设置为 ",(0,i.jsx)(n.code,{children:"blocking"})," 可以移除 ",(0,i.jsx)(n.code,{children:"defer"})," 属性，此时脚本是同步执行的，这意味着它会阻塞浏览器的解析和渲染过程，直到脚本文件被下载并执行完毕。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    inject: 'body',\n    scriptLoading: 'blocking',\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["当你需要设置 ",(0,i.jsx)(n.code,{children:"blocking"})," 时，建议把 ",(0,i.jsx)(n.code,{children:"html.inject"})," 设置为 ",(0,i.jsx)(n.code,{children:"body"}),"，避免页面渲染被阻塞。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<head></head>\n<body>\n  <script src="/static/js/main.js"></script>\n</body>\n'})}),"\n",(0,i.jsxs)(n.h3,{id:"module",children:["module",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#module",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["将 ",(0,i.jsx)(n.code,{children:"scriptLoading"})," 设置为 ",(0,i.jsx)(n.code,{children:"module"})," 时，可以让脚本支持 ESModule 语法，同时浏览器也会自动默认延迟执行这些脚本，效果与 ",(0,i.jsx)(n.code,{children:"defer"})," 类似。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    scriptLoading: 'module',\n  },\n};\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<head>\n  <script type="module" src="/static/js/main.js"></script>\n</head>\n<body></body>\n'})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fhtml%2FscriptLoading.md"]={toc:[{text:"defer",id:"defer",depth:3},{text:"blocking",id:"blocking",depth:3},{text:"module",id:"module",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},96312:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h4:"h4",a:"a",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"ArrayOrNot<HtmlInjectTag | HtmlInjectTagHandler>"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"添加和修改最终注入到 HTML 页面的标签。"}),"\n",(0,i.jsxs)(n.h4,{id:"对象形式",children:["对象形式",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#对象形式",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export interface HtmlInjectTag {\n  tag: string;\n  attrs?: Record<string, string | boolean | null | undefined>;\n  children?: string;\n  /** @default false */\n  hash?: boolean | string | ((url: string, hash: string) => string);\n  /** @default true */\n  publicPath?: boolean | string | ((url: string, publicPath: string) => string);\n  /** @default false */\n  append?: boolean;\n  /**\n   * 仅对于允许包含在 head 中的元素会默认启用\n   * @see {@link https://developer.mozilla.org/en-US/docs/Web/HTML/Element/head#see_also}\n   */\n  head?: boolean;\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"对象形式的配置项可以用于描述需要注入的标签，并可以通过参数控制注入的位置："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    assetPrefix: '//example.com/',\n  },\n  html: {\n    tags: [\n      {\n        tag: 'script',\n        attrs: { src: 'a.js' },\n        head: true,\n        append: true,\n        publicPath: true,\n        hash: true,\n      },\n    ],\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["这样的配置将会在 HTML 的 ",(0,i.jsx)(n.code,{children:"head"})," 最后添加一个 ",(0,i.jsx)(n.code,{children:"script"})," 标签："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<html>\n  <head>\n    <!-- some other headTags... -->\n    <script src="//example.com/a.js?8327ec63"></script>\n  </head>\n  <body>\n    <!-- some other bodyTags... -->\n  </body>\n</html>\n'})}),"\n",(0,i.jsxs)(n.p,{children:["标签最终的插入位置由 ",(0,i.jsx)(n.code,{children:"head"})," 和 ",(0,i.jsx)(n.code,{children:"append"})," 选项决定，两个配置相同的元素将被插入到相同区域，并且维持彼此之间的相对位置。"]}),"\n",(0,i.jsxs)(n.p,{children:["标签中表示外部资源文件路径的字段会受到 ",(0,i.jsx)(n.code,{children:"publicPath"})," 和 ",(0,i.jsx)(n.code,{children:"hash"})," 选项的影响，\n这些字段包括 ",(0,i.jsx)(n.code,{children:"script"})," 标签的 ",(0,i.jsx)(n.code,{children:"src"})," 和 ",(0,i.jsx)(n.code,{children:"link"})," 标签的 ",(0,i.jsx)(n.code,{children:"href"}),"。"]}),"\n",(0,i.jsxs)(n.p,{children:["启用 ",(0,i.jsx)(n.code,{children:"publicPath"})," 会让标签中表示路径的属性被拼接上 ",(0,i.jsx)(n.code,{children:"output.assetPrefix"})," 字段。\n而 ",(0,i.jsx)(n.code,{children:"hash"})," 字段会让文件名后多出一个哈希查询用于控制浏览器缓存，哈希字符串与 HTML 文件产物的哈希值相同。"]}),"\n",(0,i.jsx)(n.p,{children:"用户也可以向这两个配置传入函数，以自行控制路径拼接的逻辑。"}),"\n",(0,i.jsxs)(n.h4,{id:"函数形式",children:["函数形式",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#函数形式",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export type HtmlInjectTagUtils = {\n  outputName: string;\n  publicPath: string;\n  hash: string;\n};\n\nexport type HtmlInjectTagHandler = (\n  tags: HtmlInjectTag[],\n  utils: HtmlInjectTagUtils,\n) => HtmlInjectTag[] | void;\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"html.tags"})," 也支持传入回调函数，通过在回调中编写逻辑可以任意修改标签列表，常用于修改标签列表或是在插入标签的同时确保其相对位置。"]}),"\n",(0,i.jsx)(n.p,{children:"回调函数接受 tags 列表作为参数，并需要修改或直接返回新的 tags 数组："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  html: {\n    tags: [\n      tags => {\n        tags.splice(0, 1);\n      },\n      /* ^?\n       *   { tag: 'script', attrs: { src: 'b.js' } },\n       *   ... some other headTags\n       *   { tag: 'script', attrs: { src: 'c.js' } },\n       *   ... some other bodyTags\n       *   { tag: 'script', attrs: { src: 'a.js' }, head: false },\n       */\n      { tag: 'script', attrs: { src: 'a.js' }, head: false },\n      { tag: 'script', attrs: { src: 'b.js' }, append: false },\n      { tag: 'script', attrs: { src: 'c.js' } },\n      tags => [...tags, { tag: 'script', attrs: { src: 'd.js' } }],\n      /* ^?\n       *   ... some other headTags\n       *   { tag: 'script', attrs: { src: 'c.js' } },\n       *   ... some other bodyTags\n       *   { tag: 'script', attrs: { src: 'a.js' }, head: false },\n       */\n    ],\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["函数将在 HTML 处理流程的最后被执行，即如下的例子中不管回调函数在配置项中的位置如何，\n参数 ",(0,i.jsx)(n.code,{children:"tags"})," 都会包含配置项中所有的对象形式配置。"]}),"\n",(0,i.jsxs)(n.p,{children:["也因此在回调中修改 ",(0,i.jsx)(n.code,{children:"append"})," ",(0,i.jsx)(n.code,{children:"publicPath"})," ",(0,i.jsx)(n.code,{children:"hash"})," 等属性都不会生效，因为这些属性都已经分别应用到了标签的位置和路径属性。"]}),"\n",(0,i.jsx)(n.p,{children:"于是最终产物将会类似："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<html>\n  <head>\n    <!-- tags with `{ head: true, append: false }` here. -->\n    <!-- some other headTags... -->\n    <!-- tags with `{ head: true, append: true }` here. -->\n    <script src="//example.com/c.js"></script>\n    <script src="//example.com/d.js"></script>\n  </head>\n  <body>\n    <!-- tags with `{ head: false, append: false }` here. -->\n    <!-- some other bodyTags... -->\n    <!-- tags with `{ head: false, append: true }` here. -->\n    <script src="//example.com/a.js"></script>\n  </body>\n</html>\n'})}),"\n",(0,i.jsxs)(n.h4,{id:"限制",children:["限制",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#限制",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["这个配置用于在 Builder 构建完成后修改 HTML 产物的内容，并不会引入和解析新的模块。因此，它无法用于引入未编译的源码文件，也无法代替 ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/builder/api/config-source.html#source.preentry",target:"_blank",rel:"noopener noreferrer",children:"source.preEntry"})," 等配置。"]}),"\n",(0,i.jsx)(n.p,{children:"例如对于以下项目："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-plain",children:"web-app\n├── src\n│   ├── index.tsx\n│   └── polyfill.ts\n└── modern.config.ts\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="modern.config.ts"',children:"export default {\n  output: {\n    assetPrefix: '//example.com/',\n  },\n  html: {\n    tags: [\n      { tag: 'script', attrs: { src: './src/polyfill.ts' } },\n    ],\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["这里的 tag 对象将会在简单处理后直接添加到 HTML 产物中，但对应的 ",(0,i.jsx)(n.code,{children:"polyfill.ts"})," 将不会被转译、打包，也因此应用会在处理这行脚本时出现 404 错误。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<body>\n  <script src="//example.com/src/polyfill.ts"></script>\n</body>\n'})}),"\n",(0,i.jsx)(n.p,{children:"合理的使用场景包括："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["注入 CDN 上 ",(0,i.jsx)(n.strong,{children:"路径确定"})," 的静态资源"]}),"\n",(0,i.jsx)(n.li,{children:"注入需要首屏加载的内联脚本"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"例如以下示例的使用方式："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-plain",children:"web-app\n├── src\n│   └── index.tsx\n├── public\n│   └── service-worker.js\n└── modern.config.ts\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="modern.config.ts"',children:"function report() {\n  fetch('https://www.example.com/report')\n}\n\nexport default {\n  html: {\n    output: {\n      assetPrefix: '//example.com/',\n    },\n    tags: [\n      // Inject asset from the `public` directory.\n      { tag: 'script', attrs: { src: 'service-worker.js' } },\n      // Inject asset from other CDN url.\n      {\n        tag: 'script',\n        publicPath: false,\n        attrs: { src: 'https://cdn.example.com/foo.js' },\n      },\n      // Inject inline script.\n      {\n        tag: 'script',\n        children: report.toString() + '\\nreport()',\n      }\n    ],\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"得到的产物将会类似："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<body>\n  <script src="//example.com/service-worker.js"></script>\n  <script src="https://cdn.example.com/foo.js"></script>\n  <script>\n    function report() {\n      fetch(\'https://www.example.com/report\')\n    }\n    report()\n  </script>\n</body>\n'})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fhtml%2Ftags.md"]={toc:[{text:"对象形式",id:"对象形式",depth:4},{text:"函数形式",id:"函数形式",depth:4},{text:"限制",id:"限制",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},94683:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"Record<string, ArrayOrNot<HtmlInjectTag | HtmlInjectTagHandler>>"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"用于在多页面的场景下，为不同的页面注入不同的标签。"}),"\n",(0,i.jsxs)(n.p,{children:["整体用法与 ",(0,i.jsx)(n.code,{children:"tags"})," 一致，并且可以使用「入口名称」作为 key ，对各个页面进行单独设置。"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"tagsByEntries"})," 的优先级高于 ",(0,i.jsx)(n.code,{children:"tags"}),"，因此会覆盖 ",(0,i.jsx)(n.code,{children:"tags"})," 中设置的值。"]}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    tags: [{ tag: 'script', attrs: { src: 'a.js' } }],\n    tagsByEntries: {\n      foo: [{ tag: 'script', attrs: { src: 'b.js' } }],\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["编译后，可以看到页面 ",(0,i.jsx)(n.code,{children:"foo"})," 注入标签："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<script src="b.js"></script>\n'})}),"\n",(0,i.jsx)(n.p,{children:"其他页面则注入了："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<script src="a.js"></script>\n'})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fhtml%2FtagsByEntries.md"]={toc:[{text:"示例",id:"示例",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},9846:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",h3:"h3",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"string"})]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"默认值："})}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["定义 HTML 模板的文件路径，对应 ",(0,i.jsx)(n.a,{href:"https://github.com/jantimon/html-webpack-plugin",target:"_blank",rel:"noopener noreferrer",children:"html-webpack-plugin"})," 的 ",(0,i.jsx)(n.code,{children:"template"})," 配置项。"]}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"使用自定义的 HTML 模板文件替代默认模板，可以添加如下设置："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    template: './static/index.html',\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fhtml%2Ftemplate.md"]={toc:[{text:"示例",id:"示例",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},48458:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"Object"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"用于在多页面的场景下，为不同的页面设置不同的 HTML 模板。"}),"\n",(0,i.jsxs)(n.p,{children:["整体用法与 ",(0,i.jsx)(n.code,{children:"template"})," 一致，并且可以使用「入口名称」作为 key ，对各个页面进行单独设置。"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"templateByEntries"})," 的优先级高于 ",(0,i.jsx)(n.code,{children:"template"}),"，因此会覆盖 ",(0,i.jsx)(n.code,{children:"template"})," 设置的值。"]}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    template: './static/index.html',\n    templateByEntries: {\n      foo: './src/pages/foo/index.html',\n      bar: './src/pages/bar/index.html',\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fhtml%2FtemplateByEntries.md"]={toc:[{text:"示例",id:"示例",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},47450:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",pre:"pre",p:"p",a:"a",h3:"h3"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"Object | Function"})]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"默认值："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type DefaultParameters = {\n  meta: string; // 对应 html.meta 配置\n  title: string; // 对应 html.title 配置\n  mountId: string; // 对应 html.mountId 配置\n  entryName: string; // 入口名称\n  assetPrefix: string; // 对应 output.assetPrefix 配置\n  compilation: webpack.Compilation; // 对应 webpack 的 compilation 对象\n  webpackConfig: Configuration; // webpack 配置\n  // htmlWebpackPlugin 内置的参数\n  // 详见 https://github.com/jantimon/html-webpack-plugin\n  htmlWebpackPlugin: {\n    tags: object;\n    files: object;\n    options: object;\n  };\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["定义 HTML 模板中的参数，对应 ",(0,i.jsx)(n.a,{href:"https://github.com/jantimon/html-webpack-plugin",target:"_blank",rel:"noopener noreferrer",children:"html-webpack-plugin"})," 的 ",(0,i.jsx)(n.code,{children:"templateParameters"})," 配置项。你可以使用配置为对象或者函数。"]}),"\n",(0,i.jsx)(n.p,{children:"如果是对象，会和默认参数合并。比如："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  html: {\n    templateParameters: {\n      title: 'My App',\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"如果是函数，会传入默认参数，你可以返回一个对象，用于覆盖默认参数。比如："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  html: {\n    templateParameters: defaultParameters => {\n      console.log(defaultParameters.compilation);\n      console.log(defaultParameters.title);\n      return {\n        title: 'My App',\n      };\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["如果需要在 HTML 模板中使用 ",(0,i.jsx)(n.code,{children:"foo"})," 参数，可以添加如下设置："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    templateParameters: {\n      foo: 'bar',\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"或者使用函数配置："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    templateParameters: defaultParameters => {\n      return {\n        foo: 'bar',\n      };\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["接下来，你可以在 HTML 模板中，通过 ",(0,i.jsx)(n.code,{children:"<%= foo %>"})," 来读取参数："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"<script>window.foo = '<%= foo %>'</script>\n"})}),"\n",(0,i.jsx)(n.p,{children:"经过编译后的最终 HTML 代码如下："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"<script>window.foo = 'bar'</script>\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fhtml%2FtemplateParameters.md"]={toc:[{text:"示例",id:"示例",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},25900:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"Object"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"用于在多页面的场景下，为不同的页面设置不同的模板参数。"}),"\n",(0,i.jsxs)(n.p,{children:["整体用法与 ",(0,i.jsx)(n.code,{children:"templateParameters"})," 一致，并且可以使用「入口名称」作为 key ，对各个页面进行单独设置。"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"templateParametersByEntries"})," 的优先级高于 ",(0,i.jsx)(n.code,{children:"templateParameters"}),"，因此会覆盖 ",(0,i.jsx)(n.code,{children:"templateParameters"})," 中设置的值。"]}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    templateParametersByEntries: {\n      foo: {\n        type: 'a',\n      },\n      bar: {\n        type: 'b',\n      },\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fhtml%2FtemplateParametersByEntries.md"]={toc:[{text:"示例",id:"示例",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},22722:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"string"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"配置 HTML 页面的 title 标签，例如："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    title: 'example',\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fhtml%2Ftitle.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},57147:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"Record<string, string>"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["用于在多页面的场景下，为不同的页面设置不同的 ",(0,i.jsx)(n.code,{children:"title"}),"。"]}),"\n",(0,i.jsxs)(n.p,{children:["整体用法与 ",(0,i.jsx)(n.code,{children:"title"})," 一致，并且可以使用「入口名称」作为 key ，对各个页面进行单独设置。"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"titleByEntries"})," 的优先级高于 ",(0,i.jsx)(n.code,{children:"title"}),"，因此会覆盖 ",(0,i.jsx)(n.code,{children:"title"})," 中设置的值。"]}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  html: {\n    title: 'ByteDance',\n    titleByEntries: {\n      foo: 'TikTok',\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"重新编译后，可以看到:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["页面 ",(0,i.jsx)(n.code,{children:"foo"})," 的 title 为 ",(0,i.jsx)(n.code,{children:"TikTok"}),"。"]}),"\n",(0,i.jsxs)(n.li,{children:["其他页面的 title 为 ",(0,i.jsx)(n.code,{children:"ByteDance"}),"。"]}),"\n"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fhtml%2FtitleByEntries.md"]={toc:[{text:"示例",id:"示例",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},86548:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",h3:"h3",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean | string"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"'/'"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["在生产环境使用 CDN 部署时，可使用该选项设置静态资源的 URL 前缀，对应 webpack 的 ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/guides/public-path/",target:"_blank",rel:"noopener noreferrer",children:"output.publicPath"})," 配置。"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"assetPrefix"})," 会影响构建产物中绝大部分静态资源的 URL，包括 JavaScript 文件、CSS 文件、图片、视频等。如果指定了一个错误的值，则在加载这些资源时可能会出现 404 错误。"]}),"\n",(0,i.jsxs)(n.p,{children:["该配置项仅用于生产环境。在开发环境下，请使用 ",(0,i.jsx)(n.code,{children:"dev.assetPrefix"})," 配置项进行设置。"]}),"\n",(0,i.jsxs)(n.p,{children:["设置后，项目的 JavaScript、CSS、图片等静态资源的 URL 都会加上 ",(0,i.jsx)(n.code,{children:"output.assetPrefix"})," 作为前缀："]}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    assetPrefix: 'https://cdn.example.com/assets/',\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"构建之后，可以看到 JS 文件从以下地址加载："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<script\n  defer\n  src="https://cdn.example.com/assets/static/js/main.ebc4ff4f.js"\n></script>\n'})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Foutput%2FassetPrefix.md"]={toc:[{text:"示例",id:"示例",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},55545:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",pre:"pre",h3:"h3",a:"a"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"Object"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"output.assetsRetry"})," 用于配置资源加载失败时的重试逻辑。配置类型如下:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export type AssetsRetryHookContext = {\n  times: number;\n  domain: string;\n  url: string;\n  tagName: string;\n};\n\nexport type AssetsRetryOptions = {\n  type?: string[];\n  domain?: string[];\n  max?: number;\n  test?: string | ((url: string) => boolean);\n  crossOrigin?: boolean | 'anonymous' | 'use-credentials';\n  inlineScript?: boolean;\n  onRetry?: (options: AssetsRetryHookContext) => void;\n  onSuccess?: (options: AssetsRetryHookContext) => void;\n  onFail?: (options: AssetsRetryHookContext) => void;\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"由于该能力会往 HTML 中注入额外的一些运行时代码，因此我们默认关闭了该能力，如果需要开启该能力，你可以添加以下配置："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    assetsRetry: {},\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["当你开启该能力后，",(0,i.jsx)(n.code,{children:"assetsRetry"})," 的默认配置如下："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export const defaultAssetsRetryOptions: AssetsRetryOptions = {\n  type: ['script', 'link', 'img'],\n  domain: [],\n  max: 3,\n  test: '',\n  crossOrigin: false,\n  onRetry: () => {},\n  onSuccess: () => {},\n  onFail: () => {},\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"同时你也可以使用以下的配置项，来定制你的重试逻辑。"}),"\n",(0,i.jsxs)(n.h3,{id:"assetsretrydomain",children:["assetsRetry.domain",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#assetsretrydomain",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"string[]"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"[]"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["指定资源加载失败时的重试域名列表。在 ",(0,i.jsx)(n.code,{children:"domain"})," 数组中，第一项是当前使用的域名，后面几项为备用域名。当某个域名的资源请求失败时，Builder 会在数组中找到该域名，并替换为数组的下一个域名。"]}),"\n",(0,i.jsx)(n.p,{children:"比如："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    assetsRetry: {\n      domain: ['https://cdn1.com', 'https://cdn2.com', 'https://cdn3.com'],\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["添加以上配置后，当 ",(0,i.jsx)(n.code,{children:"cdn1.com"})," 域名的资源加载失败时，请求域名会自动降级到 ",(0,i.jsx)(n.code,{children:"cdn2.com"}),"。"]}),"\n",(0,i.jsxs)(n.p,{children:["如果 ",(0,i.jsx)(n.code,{children:"cdn2.com"})," 的资源也请求失败，则会继续请求 ",(0,i.jsx)(n.code,{children:"cdn3.com"}),"。"]}),"\n",(0,i.jsxs)(n.h3,{id:"assetsretrytype",children:["assetsRetry.type",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#assetsretrytype",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"string[]"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"['script', 'link', 'img']"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"用于指定需要进行重试的 HTML 标签类型。默认会处理 script 标签、link 标签和 img 标签，对应 JS 代码、CSS 代码和图片。"}),"\n",(0,i.jsx)(n.p,{children:"比如只对 script 标签和 link 标签进行处理："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    assetsRetry: {\n      type: ['script', 'link'],\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"assetsretrymax",children:["assetsRetry.max",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#assetsretrymax",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"number"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"3"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"单个资源的最大重试次数。比如："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    assetsRetry: {\n      max: 5,\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"assetsretrytest",children:["assetsRetry.test",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#assetsretrytest",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"string | ((url: string) => boolean) | undefined"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"匹配资源 URL 的正则表达式或函数，默认匹配所有资源。比如："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    assetsRetry: {\n      test: /cdn\\.example\\.com/,\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"assetsretrycrossorigin",children:["assetsRetry.crossOrigin",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#assetsretrycrossorigin",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"undefined | boolean | 'anonymous' | 'use-credentials'"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"与 html.crossorigin 一致"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["在发起资源重新请求时，Builder 会重新创建 ",(0,i.jsx)(n.code,{children:"<script>"})," 标签，此选项可以设置这些标签的 ",(0,i.jsx)(n.code,{children:"crossorigin"})," 属性。"]}),"\n",(0,i.jsxs)(n.p,{children:["默认情况下，",(0,i.jsx)(n.code,{children:"assetsRetry.crossOrigin"})," 的值会与 ",(0,i.jsx)(n.code,{children:"html.crossorigin"})," 配置项保持一致，无须额外配置。如果你需要对重新创建的标签进行单独配置，可以使用该选项，比如："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    assetsRetry: {\n      crossOrigin: true,\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"assetsretryonretry",children:["assetsRetry.onRetry",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#assetsretryonretry",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"undefined | (options: AssetsRetryHookContext) => void"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"资源重试时的回调函数。比如："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    assetsRetry: {\n      onRetry: ({ times, domain, url, tagName }) => {\n        console.log(\n          `Retry ${times} times, domain: ${domain}, url: ${url}, tagName: ${tagName}`,\n        );\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"assetsretryonsuccess",children:["assetsRetry.onSuccess",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#assetsretryonsuccess",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"undefined | (options: AssetsRetryHookContext) => void"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"资源重试成功时的回调函数。比如："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    assetsRetry: {\n      onSuccess: ({ times, domain, url, tagName }) => {\n        console.log(\n          `Retry ${times} times, domain: ${domain}, url: ${url}, tagName: ${tagName}`,\n        );\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"assetsretryonfail",children:["assetsRetry.onFail",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#assetsretryonfail",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"undefined | (options: AssetsRetryHookContext) => void"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"资源重试超过最大重试次数时的回调函数。比如："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    assetsRetry: {\n      onFail: ({ times, domain, url, tagName }) => {\n        console.log(\n          `Retry ${times} times, domain: ${domain}, url: ${url}, tagName: ${tagName}`,\n        );\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"assetsretryinlinescript",children:["assetsRetry.inlineScript",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#assetsretryinlinescript",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["是否将 ",(0,i.jsx)(n.code,{children:"assetsRetry"})," 的运行时 JavaScript 代码内联到 HTML 文件中。"]}),"\n",(0,i.jsxs)(n.p,{children:["如果你不希望在 HTML 文件中插入相关代码，可以将 ",(0,i.jsx)(n.code,{children:"assetsRetry.inlineScript"})," 设置为 ",(0,i.jsx)(n.code,{children:"false"}),"："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    assetsRetry: {\n      inlineScript: false,\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["添加以上配置后，",(0,i.jsx)(n.code,{children:"assetsRetry"})," 的运行时代码会被抽取为一个独立的 ",(0,i.jsx)(n.code,{children:"assets-retry.[version].js"})," 文件，并输出到产物目录下。"]}),"\n",(0,i.jsxs)(n.p,{children:["这种方式的弊端在于，",(0,i.jsx)(n.code,{children:"assets-retry.[version].js"})," 自身有加载失败的可能性。如果出现这种情况，静态资源重试的逻辑就无法生效。因此，我们更推荐将运行时代码内联到 HTML 文件中。"]}),"\n",(0,i.jsxs)(n.h3,{id:"注意事项",children:["注意事项",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#注意事项",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当你使用 ",(0,i.jsx)(n.code,{children:"assetsRetry"})," 时，Builder 会向 HTML 中注入一段运行时代码，并将 ",(0,i.jsx)(n.code,{children:"assetsRetry"})," 配置的内容序列化，插入到这段代码中，因此你需要注意："]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["避免在 ",(0,i.jsx)(n.code,{children:"assetsRetry"})," 中配置敏感信息，比如内部使用的 token。"]}),"\n",(0,i.jsxs)(n.li,{children:["避免在 ",(0,i.jsx)(n.code,{children:"onRetry"}),"，",(0,i.jsx)(n.code,{children:"onSuccess"}),"，",(0,i.jsx)(n.code,{children:"onFail"})," 中引用函数外部的变量或方法。"]}),"\n",(0,i.jsxs)(n.li,{children:["避免在 ",(0,i.jsx)(n.code,{children:"onRetry"}),"，",(0,i.jsx)(n.code,{children:"onSuccess"}),"，",(0,i.jsx)(n.code,{children:"onFail"})," 中使用有兼容性问题的语法，因为这些函数会被直接内联到 HTML 中。"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"以下是一个错误示例："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import { someMethod } from 'utils';\n\nexport default {\n  output: {\n    assetsRetry: {\n      onRetry() {\n        // 错误用法，包含了敏感信息\n        const privateToken = 'a-private-token';\n\n        // 错误用法，使用了外部的方法\n        someMethod(privateToken);\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["此外，如果你的工程是微前端应用（比如 Garfish 子应用），那么 ",(0,i.jsx)(n.code,{children:"assetsRetry"})," 可能无法生效，因为微前端子应用通常不是基于 ",(0,i.jsx)(n.code,{children:"<script>"})," 标签直接加载的。"]}),"\n",(0,i.jsx)(n.p,{children:"如果你需要对微前端场景的资源加载进行重试，请联系微前端框架的开发者，以寻找相应的解决方案。"})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Foutput%2FassetsRetry.md"]={toc:[{text:"assetsRetry.domain",id:"assetsretrydomain",depth:3},{text:"assetsRetry.type",id:"assetsretrytype",depth:3},{text:"assetsRetry.max",id:"assetsretrymax",depth:3},{text:"assetsRetry.test",id:"assetsretrytest",depth:3},{text:"assetsRetry.crossOrigin",id:"assetsretrycrossorigin",depth:3},{text:"assetsRetry.onRetry",id:"assetsretryonretry",depth:3},{text:"assetsRetry.onSuccess",id:"assetsretryonsuccess",depth:3},{text:"assetsRetry.onFail",id:"assetsretryonfail",depth:3},{text:"assetsRetry.inlineScript",id:"assetsretryinlinescript",depth:3},{text:"注意事项",id:"注意事项",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},78449:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"'ascii' | 'utf8'"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"'ascii'"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"默认情况下，Builder 的产物内容是纯 ASCII 的，并且会转义所有非 ASCII 字符。"}),"\n",(0,i.jsxs)(n.p,{children:["如果不希望进行转义，而是输出所有原始字符，可以将 ",(0,i.jsx)(n.code,{children:"output.charset"})," 设置为 ",(0,i.jsx)(n.code,{children:"utf8"}),"。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    charset: 'utf8',\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["当 ",(0,i.jsx)(n.code,{children:"output.charset"})," 为 ",(0,i.jsx)(n.code,{children:"utf8"})," 时，Builder 会自动将 ",(0,i.jsx)(n.code,{children:'<meta charset="utf-8">'})," 添加到生成的 HTML 文件中。"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Foutput%2Fcharset.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},87095:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"是否在构建开始前清理 dist 目录下的所有文件。"}),"\n",(0,i.jsxs)(n.p,{children:["默认情况下，Builder 会自动清理 dist 目录下的文件，你可以把 ",(0,i.jsx)(n.code,{children:"cleanDistPath"})," 设置为 ",(0,i.jsx)(n.code,{children:"false"})," 来禁用该行为。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    cleanDistPath: false,\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Foutput%2FcleanDistPath.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},9918:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",pre:"pre",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean | object"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["通过设置 ",(0,i.jsx)(n.code,{children:"output.convertToRem"}),"，Builder 可进行如下处理："]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"将 CSS 中的 px 转成 rem"}),"\n",(0,i.jsx)(n.li,{children:"在 HTML 模版中插入运行时代码，对根元素 fontSize 进行设置"}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"boolean-类型",children:["Boolean 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#boolean-类型",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当设置 ",(0,i.jsx)(n.code,{children:"output.convertToRem"})," 为 ",(0,i.jsx)(n.code,{children:"true"}),"，将开启 rem 处理能力。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    convertToRem: true,\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"此时，rem 配置默认如下："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  enableRuntime: true,\n  rootFontSize: 50,\n  screenWidth: 375,\n  rootFontSize: 50,\n  maxRootFontSize: 64,\n  widthQueryKey: '',\n  excludeEntries: [],\n  supportLandscape: false,\n  useRootFontSizeBeyondMax: false,\n  pxtorem: {\n    rootValue: 50,\n    unitPrecision: 5,\n    propList: ['*'],\n  }\n}\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"object-类型",children:["Object 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-类型",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当 ",(0,i.jsx)(n.code,{children:"output.convertToRem"})," 的值为 ",(0,i.jsx)(n.code,{children:"object"})," 类型时，Builder 会根据当前配置进行 rem 处理。"]}),"\n",(0,i.jsx)(n.p,{children:"选项："}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"名称"}),"\n",(0,i.jsx)(n.th,{children:"类型"}),"\n",(0,i.jsx)(n.th,{children:"默认值"}),"\n",(0,i.jsx)(n.th,{children:"描述"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"enableRuntime"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"true"})}),"\n",(0,i.jsx)(n.td,{children:"是否自动生成 runtime 代码来动态计算根元素字体大小"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"inlineRuntime"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"true"})}),"\n",(0,i.jsxs)(n.td,{children:["是否将 runtime 代码内联到 HTML 文件中。如果设置为 ",(0,i.jsx)(n.code,{children:"false"}),"，运行时代码会被抽取为一个独立的 ",(0,i.jsx)(n.code,{children:"convert-rem.[version].js"})," 文件，并输出到产物目录下"]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"rootFontSize"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"number"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"50"})}),"\n",(0,i.jsx)(n.td,{children:"根元素字体值"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"maxRootFontSize"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"number"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"64"})}),"\n",(0,i.jsx)(n.td,{children:"最大根元素字体值"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"widthQueryKey"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"'' "})}),"\n",(0,i.jsx)(n.td,{children:"根据 widthQueryKey 的值去 url query 中取 client width"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"screenWidth"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"number"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"375"})}),"\n",(0,i.jsx)(n.td,{children:"UI 设计图宽度"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"excludeEntries"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string[]"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"[]"})}),"\n",(0,i.jsx)(n.td,{children:"不进行调整的页面入口"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"supportLandscape"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"false"})}),"\n",(0,i.jsx)(n.td,{children:"横屏时使用 height 计算 rem"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"useRootFontSizeBeyondMax"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"false"})}),"\n",(0,i.jsx)(n.td,{children:"超过 maxRootFontSize 时，是否使用 rootFontSize"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"pxtorem"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"object"})}),"\n",(0,i.jsxs)(n.td,{children:["rootValue。默认与 rootFontSize 相同 ","unitPrecision: 5。精确位数 ","propList: ['*']。支持转换的 CSS 属性"]}),"\n",(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.a,{href:"https://github.com/cuth/postcss-pxtorem#options",target:"_blank",rel:"noopener noreferrer",children:"postcss-pxtorem"})," 插件属性"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    convertToRem: {\n      rootFontSize: 30,\n      excludeEntries: ['404', 'page2'],\n      pxtorem: {\n        propList: ['font-size'],\n      },\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Foutput%2FconvertToRem.md"]={toc:[{text:"Boolean 类型",id:"boolean-类型",depth:3},{text:"Object 类型",id:"object-类型",depth:3},{text:"示例",id:"示例",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},3118:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",pre:"pre",a:"a"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"CopyPluginOptions | CopyPluginOptions['patterns']"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"将指定的文件或目录拷贝到构建输出目录中。"}),"\n",(0,i.jsxs)(n.p,{children:["例如，将 ",(0,i.jsx)(n.code,{children:"src/assets"})," 下的文件直接拷贝到 dist 目录："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    copy: [{ from: './src/assets', to: '' }],\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["更详细的配置项请参考：",(0,i.jsx)(n.a,{href:"https://github.com/webpack-contrib/copy-webpack-plugin",target:"_blank",rel:"noopener noreferrer",children:"copy-webpack-plugin"})," 文档。"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Foutput%2Fcopy.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},20017:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",pre:"pre",p:"p",h3:"h3",a:"a",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"string"})]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"默认值："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// isProd 表示生产环境构建\nconst localIdentName = isProd\n  ? '[hash:base64:5]'\n  : '[path][name]__[local]--[hash:base64:5]';\n"})}),"\n",(0,i.jsx)(n.p,{children:"设置 CSS Modules 编译后生成的 className 格式。"}),"\n",(0,i.jsxs)(n.h3,{id:"默认值",children:["默认值",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#默认值",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"cssModuleLocalIdentName"})," 在开发环境和生产环境有不同的默认值。"]}),"\n",(0,i.jsx)(n.p,{children:"在生产环境，Builder 会生成更简短的类名，从而减少构建产物的体积。"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import styles from './index.module.scss';\n\n// 在开发环境下，值为 `.src-index-module__header--xxxxx`\n// 在生产环境下，值为 `.xxxxx`\nconsole.log(styles.header);\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"模板字符串",children:["模板字符串",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#模板字符串",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["在 ",(0,i.jsx)(n.code,{children:"cssModuleLocalIdentName"})," 中，你可以使用以下模板字符串："]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"[name]"})," - 源文件名称。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"[local]"})," - 原始类名。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"[hash]"})," - 字符串的哈希值。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"[folder]"})," - 文件夹的相对路径。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"[path]"})," - 源文件的相对路径。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"[file]"})," - 文件名和路径。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"[ext]"})," - 文件后缀名，包含点号。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"[hash:<hashDigest>:<hashDigestLength>]"})," - 带有哈希设置的哈希。"]}),"\n"]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["在使用 Rspack 作为打包工具时, 暂不支持配置 ",(0,i.jsx)(n.code,{children:"<hashDigest>"}),"。\n"]})})]}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["将 ",(0,i.jsx)(n.code,{children:"cssModuleLocalIdentName"})," 设置为其他值："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    cssModuleLocalIdentName: '[hash:base64:4]',\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Foutput%2FcssModuleLocalIdentName.md"]={toc:[{text:"默认值",id:"默认值",depth:3},{text:"模板字符串",id:"模板字符串",depth:3},{text:"示例",id:"示例",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},69504:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code",p:"p",h5:"h5",a:"a"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type CssModules = {\n  auto?: boolean | RegExp | ((resourcePath: string) => boolean);\n};\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"自定义 CSS 模块配置。"}),"\n",(0,i.jsxs)(n.h5,{id:"cssmodulesauto",children:["cssModules.auto",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#cssmodulesauto",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"auto 配置项允许基于文件名自动启用 CSS 模块。"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean | RegExp | ((resourcePath: string) => boolean)"}),";"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"类型说明："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"undefined"}),": 根据 ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/builder/api/config-output.html#outputdisablecssmoduleextension",target:"_blank",rel:"noopener noreferrer",children:"output.disableCssModuleExtension"})," 配置项决定为哪些样式文件启用 CSS 模块。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"true"}),": 为所有匹配 ",(0,i.jsx)(n.code,{children:"/\\.module\\.\\w+$/i.test(filename)"})," 正则表达式的文件启用 CSS 模块。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"false"}),": 禁用 CSS 模块。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"RegExp"}),": 为所有匹配 ",(0,i.jsx)(n.code,{children:"/RegExp/i.test(filename)"})," 正则表达式的文件禁用 CSS 模块。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"function"}),": 为所有通过基于文件名的过滤函数校验的文件启用 CSS 模块。"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    cssModules: {\n      auto: resource => {\n        return resource.includes('.module.') || resource.includes('shared/');\n      },\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Foutput%2FcssModules.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},54978:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code",p:"p",h3:"h3",a:"a"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type DataUriLimitConfig = {\n  svg?: number;\n  font?: number;\n  image?: number;\n  media?: number;\n};\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"默认值："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const defaultDatUriLimit = {\n  svg: 10000,\n  font: 10000,\n  image: 10000,\n  media: 10000,\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"设置图片、字体、媒体等静态资源被自动内联为 base64 的体积阈值。"}),"\n",(0,i.jsx)(n.p,{children:"默认情况下，体积小于 10KB 的图片、字体、媒体等文件，会自动经过 Base64 编码，内联到页面中，不再会发送独立的 HTTP 请求。"}),"\n",(0,i.jsxs)(n.p,{children:["你可以通过修改 ",(0,i.jsx)(n.code,{children:"dataUriLimit"})," 参数来调整这个阈值。"]}),"\n",(0,i.jsx)(n.p,{children:"其中："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"svg"}),"：表示 SVG 图片的体积阈值。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"font"}),"：表示字体文件的体积阈值。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"image"}),"：表示非 SVG 图片的体积阈值。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"media"}),"：表示视频等媒体资源的体积阈值。"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"修改图片资源的阈值为 5000 Bytes，设置视频资源不内联："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    dataUriLimit: {\n      image: 5000,\n      media: 0,\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Foutput%2FdataUriLimit.md"]={toc:[{text:"示例",id:"示例",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},29159:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"是否禁用 CSS 提取逻辑，并将 CSS 文件内联到 JS 文件中。"}),"\n",(0,i.jsxs)(n.p,{children:["默认情况下，Builder 会把 CSS 提取为独立的 ",(0,i.jsx)(n.code,{children:".css"})," 文件，并输出到构建产物目录。设置该选项为 ",(0,i.jsx)(n.code,{children:"true"})," 后，CSS 文件会被内联到 JS 文件中，并在运行时通过 ",(0,i.jsx)(n.code,{children:"<style>"})," 标签插入到页面上。"]}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    disableCssExtract: true,\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Foutput%2FdisableCssExtract.md"]={toc:[{text:"示例",id:"示例",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},66042:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",div:"div",h3:"h3",a:"a",pre:"pre",h4:"h4"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"是否将源码目录下的所有样式文件当做 CSS Modules 模块进行处理。"}),"\n",(0,i.jsxs)(n.p,{children:["在默认情况下，只有 ",(0,i.jsx)(n.code,{children:"*.module.css"})," 结尾的文件才被视为 CSS Modules 模块。开启该配置项之后，会将源码目录下的所有 ",(0,i.jsx)(n.code,{children:"*.css"})," 样式文件当做 CSS Modules 模块。"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:".sass"}),"、",(0,i.jsx)(n.code,{children:".scss"})," 和 ",(0,i.jsx)(n.code,{children:".less"})," 文件的处理规则与 ",(0,i.jsx)(n.code,{children:".css"})," 文件一致，也会受到 ",(0,i.jsx)(n.code,{children:"disableCssModuleExtension"})," 的影响。"]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["我们不推荐开启此配置项，因为开启 ",(0,i.jsx)(n.code,{children:"disableCssModuleExtension"})," 后，CSS Modules 文件和普通 CSS 文件无法得到明确的区分，不利于长期维护。\n"]})})]}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    disableCssModuleExtension: true,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"规则",children:["规则",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#规则",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"以下是对 CSS Modules 判断规则的详细解释："}),"\n",(0,i.jsxs)(n.h4,{id:"未开启-disablecssmoduleextension（默认）",children:["未开启 disableCssModuleExtension（默认）",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#未开启-disablecssmoduleextension（默认）",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"以下文件会视为 CSS Modules："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["所有 ",(0,i.jsx)(n.code,{children:"*.module.css"})," 文件"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"以下文件会视为普通 CSS："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["所有 ",(0,i.jsx)(n.code,{children:"*.css"})," 文件（不含 ",(0,i.jsx)(n.code,{children:".module"}),"）"]}),"\n",(0,i.jsxs)(n.li,{children:["所有 ",(0,i.jsx)(n.code,{children:"*.global.css"})," 文件"]}),"\n"]}),"\n",(0,i.jsxs)(n.h4,{id:"开启-disablecssmoduleextension",children:["开启 disableCssModuleExtension",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#开启-disablecssmoduleextension",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"以下文件会视为 CSS Modules："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["源码目录下的 ",(0,i.jsx)(n.code,{children:"*.css"})," 和 ",(0,i.jsx)(n.code,{children:"*.module.css"})," 文件"]}),"\n",(0,i.jsxs)(n.li,{children:["node_modules 下的 ",(0,i.jsx)(n.code,{children:"*.module.css"})," 文件"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"以下文件会视为普通 CSS："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["所有 ",(0,i.jsx)(n.code,{children:"*.global.css"})," 文件"]}),"\n",(0,i.jsxs)(n.li,{children:["node_modules 下的 ",(0,i.jsx)(n.code,{children:"*.css"})," 文件（不含 ",(0,i.jsx)(n.code,{children:".module"}),"）"]}),"\n"]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["对于 node_modules 中的 CSS Modules 文件，请始终使用 ",(0,i.jsx)(n.code,{children:"*.module.css"})," 后缀。\n"]})})]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Foutput%2FdisableCssModuleExtension.md"]={toc:[{text:"示例",id:"示例",depth:3},{text:"规则",id:"规则",depth:3},{text:"未开启 disableCssModuleExtension（默认）",id:"未开启-disablecssmoduleextension（默认）",depth:4},{text:"开启 disableCssModuleExtension",id:"开启-disablecssmoduleextension",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},41926:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"移除生产环境的构建产物名称中的 hash 值。"}),"\n",(0,i.jsxs)(n.p,{children:["在生产环境构建后，会自动在文件名中间添加 hash 值，如果不需要添加，可以通过 ",(0,i.jsx)(n.code,{children:"output.disableFilenameHash"})," 配置来禁用该行为。"]}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"默认情况下，构建后的产物名称为："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"File                                     Size         Gzipped\ndist/static/css/187.7879e19d.css         126.99 KB    9.17 KB\ndist/static/js/main.18a568e5.js          2.24 KB      922 B\n"})}),"\n",(0,i.jsxs)(n.p,{children:["添加 ",(0,i.jsx)(n.code,{children:"output.disableFilenameHash"})," 配置："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    disableFilenameHash: true,\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"重新构建，产物的名称变为："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"File                            Size         Gzipped\ndist/static/css/187.css         126.99 KB    9.17 KB\ndist/static/js/main.js          2.24 KB      922 B\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Foutput%2FdisableFilenameHash.md"]={toc:[{text:"示例",id:"示例",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},92458:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",div:"div",a:"a",h3:"h3",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"用于控制是否将打包工具的 runtime 代码内联到 HTML 中。"}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"什么是 runtimeChunk"}),(0,i.jsxs)(n.div,{className:"modern-directive-content",children:[(0,i.jsxs)(n.p,{children:["当 Builder 构建完成后，会在 dist 目录生成 ",(0,i.jsx)(n.code,{children:"builder-runtime.js"})," 文件，该文件为 webpack 或 Rspack 的 runtime 代码，即 runtimeChunk。"]}),"\n",(0,i.jsxs)(n.p,{children:["runtimeChunk 是一段运行时代码，它由 webpack 或 Rspack 提供，包含必要的模块处理逻辑，比如模块加载、模块解析等，具体可参考 ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/concepts/manifest/#runtime",target:"_blank",rel:"noopener noreferrer",children:"Runtime"}),"。"]}),"\n"]})]}),"\n",(0,i.jsx)(n.p,{children:"在生产环境下，Builder 默认会将 runtimeChunk 文件内联到 HTML 文件中，而不是写到产物目录中，这样做是为了减少文件请求的数量。"}),"\n",(0,i.jsxs)(n.h3,{id:"禁用内联",children:["禁用内联",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#禁用内联",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["如果你不希望 runtimeChunk 文件被内联到 HTML 文件里，可以把 ",(0,i.jsx)(n.code,{children:"disableInlineRuntimeChunk"})," 设置为 ",(0,i.jsx)(n.code,{children:"true"}),"，此时会生成一个独立的 ",(0,i.jsx)(n.code,{children:"builder-runtime.js"})," 文件。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    disableInlineRuntimeChunk: true,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"合并到页面文件中",children:["合并到页面文件中",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#合并到页面文件中",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"如果你不希望生成独立的 runtimeChunk 文件，而是想让 runtimeChunk 代码被打包到页面的 JS 文件里，可以这样设置："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpack: {\n      optimization: {\n        runtimeChunk: false,\n      },\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Foutput%2FdisableInlineRuntimeChunk.md"]={toc:[{text:"禁用内联",id:"禁用内联",depth:3},{text:"合并到页面文件中",id:"合并到页面文件中",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},96112:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",pre:"pre",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"是否禁用生产环境下的代码压缩。"}),"\n",(0,i.jsxs)(n.p,{children:["默认情况下，JS 代码和 CSS 代码会在生产环境构建时被自动压缩，从而提升页面性能。如果你不希望执行代码压缩，可以将 ",(0,i.jsx)(n.code,{children:"disableMinimize"})," 设置为 ",(0,i.jsx)(n.code,{children:"true"}),"。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    disableMinimize: true,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"该配置项通常用于代码调试和问题排查，不建议在生产环境禁用代码压缩，否则会导致页面性能显著下降。"})})]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Foutput%2FdisableMinimize.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},30585:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code",p:"p",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type DisableSourceMap =\n  | boolean\n  | {\n      js?: boolean;\n      css?: boolean;\n    };\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"默认值："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const defaultDisableSourceMap = {\n  js: false,\n  css: process.env.NODE_ENV === 'production',\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"是否禁用 Source Map 生成。"}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"什么是 Source Map"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"Source Map 是保存源代码映射关系的信息文件，它记录了编译后的代码的每一个位置，以及所对应的编译前的位置。通过 Source Map，可以在调试编译后的代码时，直接查看对应的源代码。"})})]}),"\n",(0,i.jsx)(n.p,{children:"默认情况下，Builder 的 Source Map 生成规则如下："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"在开发环境构建时，会生成 JS 文件和 CSS 文件的 SourceMap，便于进行开发调试。"}),"\n",(0,i.jsx)(n.li,{children:"在生产环境构建时，会生成 JS 文件的 Source Map，用于调试和排查线上问题；不会生成 CSS 文件的 Source Map。"}),"\n"]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"在使用 Rspack 作为打包工具时，暂不支持单独禁用 css sourcemap。"})})]}),"\n",(0,i.jsx)(n.p,{children:"如果项目不需要 Source Map，可以关闭该功能，从而提升构建的速度。"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    disableSourceMap: true,\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"如果需要开启开发环境的 Source Map，并在生产环境禁用，可以设置为："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    disableSourceMap: process.env.NODE_ENV === 'production',\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"如果需要单独控制 JS 文件或 CSS 文件的 Source Map，可以参考下方设置："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    disableSourceMap: {\n      js: false,\n      css: true,\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Foutput%2FdisableSourceMap.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},94637:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"是否调用 SVGR 将 SVG 转化为 React 组件。如果设置为 true，将把所有的.svg 文件视为资源处理。"}),"\n",(0,i.jsxs)(n.p,{children:["默认情况下，在 JS 文件中引用 SVG 资源时，Builder 会调用 SVGR，将 SVG 图片转换为一个 React 组件。\n如果你确定项目内的所有 SVG 资源都没有当成 React 组件使用时，可以通过将 ",(0,i.jsx)(n.code,{children:"disableSvgr"})," 设置为 true 来关闭此项转换，以提升构建性能。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    disableSvgr: true,\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Foutput%2FdisableSvgr.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},81780:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",pre:"pre",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"是否禁用编译过程中的 TypeScript 类型检查。"}),"\n",(0,i.jsxs)(n.p,{children:["默认情况下，Builder 执行构建的过程中，会在一个独立的进程里运行 TypeScript 类型检查工具，它的检查逻辑与 TypeScript 原生的 ",(0,i.jsx)(n.code,{children:"tsc"})," 命令一致，你可以通过 ",(0,i.jsx)(n.code,{children:"tsconfig.json"})," 或是 Builder 的 ",(0,i.jsx)(n.code,{children:"tools.tsChecker"})," 配置项来自定义检查行为。"]}),"\n",(0,i.jsxs)(n.h3,{id:"阻塞编译",children:["阻塞编译",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#阻塞编译",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"在开发环境构建时，类型错误不会阻塞编译流程。"}),"\n",(0,i.jsx)(n.li,{children:"在生产环境构建时，类型错误会导致构建失败，以保证生产环境代码的稳定性。"}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"禁用 TypeScript 类型检查："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    disableTsChecker: true,\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"禁用开发环境构建时的类型检查："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    disableTsChecker: process.env.NODE_ENV === 'development',\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"禁用生产环境构建时的类型检查："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    disableTsChecker: process.env.NODE_ENV === 'production',\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"不建议在生产环境构建时禁用类型检查，这会导致线上代码的稳定性下降，请谨慎使用。"})})]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Foutput%2FdisableTsChecker.md"]={toc:[{text:"阻塞编译",id:"阻塞编译",depth:3},{text:"示例",id:"示例",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},11443:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code",p:"p",h3:"h3",a:"a"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type DistPathConfig = {\n  root?: string;\n  html?: string;\n  js?: string;\n  css?: string;\n  svg?: string;\n  font?: string;\n  wasm?: string;\n  image?: string;\n  media?: string;\n  server?: string;\n  worker?: string;\n};\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"默认值："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const defaultDistPath = {\n  root: 'dist',\n  html: 'html',\n  js: 'static/js',\n  css: 'static/css',\n  svg: 'static/svg',\n  font: 'static/font',\n  wasm: 'static/wasm',\n  image: 'static/image',\n  media: 'static/media',\n  server: 'bundles',\n  worker: 'worker',\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"设置构建产物的输出目录，Builder 会根据产物的类型输出到对应的子目录下。"}),"\n",(0,i.jsx)(n.p,{children:"其中："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"root"}),": 表示所有构建产物输出的根目录。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"html"}),"：表示 HTML 文件的输出目录。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"js"}),"：表示 JavaScript 文件的输出目录。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"css"}),"：表示 CSS 样式文件的输出目录。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"svg"}),"：表示 SVG 图片的输出目录。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"font"}),"：表示字体文件的输出目录。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"wasm"}),"：表示 WebAssembly 文件的输出目录。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"image"}),"：表示非 SVG 图片的输出目录。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"media"}),"：表示视频等媒体资源的输出目录。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"server"}),": 表示服务端产物的输出目录，仅在 target 为 ",(0,i.jsx)(n.code,{children:"node"})," 时有效。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"worker"}),": 表示 worker 产物的输出目录，仅在 target 为 ",(0,i.jsx)(n.code,{children:"service-worker"})," 时有效。"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["以 JavaScript 文件为例，会输出到 ",(0,i.jsx)(n.code,{children:"distPath.root"})," + ",(0,i.jsx)(n.code,{children:"distPath.js"})," 目录，即为 ",(0,i.jsx)(n.code,{children:"dist/static/js"}),"。"]}),"\n",(0,i.jsxs)(n.p,{children:["如果需要将 JavaScript 文件输出到 ",(0,i.jsx)(n.code,{children:"build/resource/js"})," 目录，可以这样设置："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    distPath: {\n      root: 'build',\n      js: 'resource/js',\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Foutput%2FdistPath.md"]={toc:[{text:"示例",id:"示例",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},67367:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",pre:"pre",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"开启该选项后，当编译过程中遇到无法识别的文件类型时，会直接将该文件直接输出到产物目录；否则会抛出一个异常。"}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"开启配置项："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    enableAssetFallback: true,\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"在代码中引用一个未知类型的模块："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import './foo.xxx';\n"})}),"\n",(0,i.jsxs)(n.p,{children:["编译后，",(0,i.jsx)(n.code,{children:"foo.xxx"})," 会被自动输出到 ",(0,i.jsx)(n.code,{children:"dist/static/media"})," 目录下。"]}),"\n",(0,i.jsxs)(n.p,{children:["你可以通过 ",(0,i.jsx)(n.code,{children:"output.distPath.media"})," 和 ",(0,i.jsx)(n.code,{children:"output.filename.media"})," 配置项来控制 fallback 后的输出路径和文件名称。"]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["开启该配置会导致 webpack 配置中的 rules 结构变化，增加一层额外的 ",(0,i.jsx)(n.code,{children:"oneOf"})," 嵌套结构。大多数情况下，我们不推荐你使用此配置。\n"]})})]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Foutput%2FenableAssetFallback.md"]={toc:[{text:"示例",id:"示例",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},71871:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"是否生成 manifest 文件，该文件包含所有构建产物的信息。"}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"添加以下配置来开启："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    enableAssetManifest: true,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["开启后，当编译完成时，会自动生成 ",(0,i.jsx)(n.code,{children:"dist/manifest.json"})," 文件："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "files": {\n    "main.css": "/static/css/main.45b01211.css",\n    "main.js": "/static/js/main.52fd298f.js",\n    "html/main/index.html": "/html/main/index.html"\n  },\n  "entrypoints": ["static/css/main.45b01211.css", "static/js/main.52fd298f.js"]\n}\n'})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Foutput%2FenableAssetManifest.md"]={toc:[{text:"示例",id:"示例",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},74415:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",div:"div",a:"a",h3:"h3",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"是否生成 CSS Modules 的 TypeScript 声明文件。"}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["在使用 Rspack 作为打包工具时，仅支持在 ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/builder/api/config-output.html#outputdisablecssextract",target:"_blank",rel:"noopener noreferrer",children:"disableCssExtract"})," 时使用该配置。\n"]})})]}),"\n",(0,i.jsxs)(n.h3,{id:"example",children:["Example",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"启用 CSS Module TypeScript 声明，比如："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    enableCssModuleTSDeclaration: true,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["项目构建完成后，每个 CSS Module 文件都会生成一个 ",(0,i.jsx)(n.code,{children:".d.ts"})," 文件。例如："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"interface CssExports {\n  title: string;\n}\nexport const cssExports: CssExports;\nexport default cssExports;\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Foutput%2FenableCssModuleTSDeclaration.md"]={toc:[{text:"Example",id:"example",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},34551:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",div:"div",a:"a",h3:"h3",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean | RegExp"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"打包工具："})," ",(0,i.jsx)(n.code,{children:"仅支持 webpack"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["用来控制生产环境中是否用 ",(0,i.jsx)(n.code,{children:"<script>"})," 标签将产物中的 script 文件（.js 文件）inline 到 HTML 中。"]}),"\n",(0,i.jsx)(n.p,{children:"注意，如果开启了这个选项，那么 script 文件将不会被写入产物目录中，而只会以 inline 脚本的形式存在于 HTML 文件中。"}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["当使用约定式路由时，如果开启了这个选项，需要将 ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/configure/app/output/splitRouteChunks.html",target:"_blank",rel:"noopener noreferrer",children:(0,i.jsx)(n.code,{children:"output.splitRouteChunks"})})," 设置为 false。\n"]})})]}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"默认情况下，我们有这样的产物文件："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"dist/html/main/index.html\ndist/static/css/style.css\ndist/static/js/main.js\n"})}),"\n",(0,i.jsxs)(n.p,{children:["开启 ",(0,i.jsx)(n.code,{children:"output.enableInlineScripts"})," 选项后："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    enableInlineScripts: true,\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"产物文件将变成："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"dist/html/main/index.html\ndist/static/css/style.css\n"})}),"\n",(0,i.jsxs)(n.p,{children:["同时，",(0,i.jsx)(n.code,{children:"dist/static/js/main.js"})," 文件将被 inline 到 ",(0,i.jsx)(n.code,{children:"index.html"})," 中："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:"<html>\n  <body>\n    <script>\n      // content of dist/static/js/main.js\n    </script>\n  </body>\n</html>\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"通过正则匹配",children:["通过正则匹配",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#通过正则匹配",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当你需要内联产物中的一部分 JS 文件时，你可以将 ",(0,i.jsx)(n.code,{children:"enableInlineScripts"})," 设置为一个正则表达式，匹配需要内联的 JS 文件的 URL。"]}),"\n",(0,i.jsxs)(n.p,{children:["比如，将产物中的 ",(0,i.jsx)(n.code,{children:"main.js"})," 内联到 HTML 中，你可以添加如下配置："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    enableInlineScripts: /\\/main\\.\\w+\\.js$/,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["生产环境的文件名中默认包含了一个 hash 值，比如 ",(0,i.jsx)(n.code,{children:"/main.18a568e5.js"}),"。\n"]})})]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Foutput%2FenableInlineScripts.md"]={toc:[{text:"示例",id:"示例",depth:3},{text:"通过正则匹配",id:"通过正则匹配",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},47202:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",div:"div",a:"a",h3:"h3",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean | RegExp"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["用来控制生产环境中是否用 ",(0,i.jsx)(n.code,{children:"<style>"})," 标签将产物中的 style 文件（.css 文件）inline 到 HTML 中。"]}),"\n",(0,i.jsx)(n.p,{children:"注意，如果开启了这个选项，那么 style 文件将不会被写入产物目录中，而只会以 inline 样式的形式存在于 HTML 文件中。"}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["当使用约定式路由时，如果开启了这个选项，需要将 ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/configure/app/output/splitRouteChunks.html",target:"_blank",rel:"noopener noreferrer",children:(0,i.jsx)(n.code,{children:"output.splitRouteChunks"})})," 设置为 false。\n"]})})]}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"默认情况下，我们有这样的产物文件："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"dist/html/main/index.html\ndist/static/css/style.css\ndist/static/js/main.js\n"})}),"\n",(0,i.jsxs)(n.p,{children:["开启 ",(0,i.jsx)(n.code,{children:"output.enableInlineStyles"})," 选项后："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    enableInlineStyles: true,\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"产物文件将变成："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"dist/html/main/index.html\ndist/static/js/main.js\n"})}),"\n",(0,i.jsxs)(n.p,{children:["同时，",(0,i.jsx)(n.code,{children:"dist/static/css/style.css"})," 文件将被 inline 到 ",(0,i.jsx)(n.code,{children:"index.html"})," 中："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:"<html>\n  <head>\n    <style>\n      /* content of dist/static/css/style.css */\n    </style>\n  </head>\n  <body></body>\n</html>\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"通过正则匹配",children:["通过正则匹配",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#通过正则匹配",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当你需要内联产物中的一部分 CSS 文件时，你可以将 ",(0,i.jsx)(n.code,{children:"enableInlineStyles"})," 设置为一个正则表达式，匹配需要内联的 CSS 文件的 URL。"]}),"\n",(0,i.jsxs)(n.p,{children:["比如，将产物中的 ",(0,i.jsx)(n.code,{children:"main.css"})," 内联到 HTML 中，你可以添加如下配置："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    enableInlineStyles: /\\/main\\.\\w+\\.css$/,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["生产环境的文件名中默认包含了一个 hash 值，比如 ",(0,i.jsx)(n.code,{children:"/main.18a568e5.css"}),"。\n"]})})]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Foutput%2FenableInlineStyles.md"]={toc:[{text:"示例",id:"示例",depth:3},{text:"通过正则匹配",id:"通过正则匹配",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},88435:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["是否要使用 ",(0,i.jsx)(n.a,{href:"https://github.com/tc39/proposal-decorators/tree/7fa580b40f2c19c561511ea2c978e307ae689a1b",target:"_blank",rel:"noopener noreferrer",children:"新版 decorator 提案"})," 进行编译。"]}),"\n",(0,i.jsxs)(n.p,{children:["默认情况下，Builder 在编译装饰器时采用 ",(0,i.jsx)(n.a,{href:"https://github.com/wycats/javascript-decorators/blob/e1bf8d41bfa2591d949dd3bbf013514c8904b913/README.md",target:"_blank",rel:"noopener noreferrer",children:"旧版 decorator 提案"}),"。"]}),"\n",(0,i.jsxs)(n.p,{children:["将 ",(0,i.jsx)(n.code,{children:"output.enableLatestDecorators"})," 设置为 ",(0,i.jsx)(n.code,{children:"true"})," 时，Builder 会采用新版 decorator 提案 (2018-09 版本) 进行编译。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    enableLatestDecorators: true,\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Foutput%2FenableLatestDecorators.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},48354:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",h3:"h3",pre:"pre",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"string | object | function | RegExp"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["在构建时，防止将代码中某些 ",(0,i.jsx)(n.code,{children:"import"})," 的依赖包打包到 bundle 中，而是在运行时再去从外部获取这些依赖。"]}),"\n",(0,i.jsxs)(n.p,{children:["详情请见: ",(0,i.jsx)(n.a,{href:"https://webpack.docschina.org/configuration/externals/",target:"_blank",rel:"noopener noreferrer",children:"webpack 外部扩展 (Externals)"})]}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["将 ",(0,i.jsx)(n.code,{children:"react-dom"})," 依赖从构建产物中剔除。为了在运行时获取这个模块, ",(0,i.jsx)(n.code,{children:"react-dom"})," 的值将全局检索 ",(0,i.jsx)(n.code,{children:"ReactDOM"})," 变量。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    externals: {\n      'react-dom': 'ReactDOM',\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"当构建 Web Worker 产物时，externals 将不会生效。这是因为 Worker 环境不支持通过访问全局变量。"})})]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Foutput%2Fexternals.md"]={toc:[{text:"示例",id:"示例",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},88698:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code",p:"p",h3:"h3",a:"a",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type FilenameConfig = {\n  js?: string;\n  css?: string;\n  svg?: string;\n  font?: string;\n  image?: string;\n  media?: string;\n};\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"默认值："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"// 开发环境\nconst devDefaultFilename = {\n  js: '[name].js',\n  css: '[name].css',\n  svg: '[name].[contenthash:8].svg',\n  font: '[name].[contenthash:8][ext]',\n  image: '[name].[contenthash:8][ext]',\n  media: '[name].[contenthash:8][ext]',\n};\n\n// 生产环境\nconst prodDefaultFilename = {\n  js: '[name].[contenthash:8].js',\n  css: '[name].[contenthash:8].css',\n  svg: '[name].[contenthash:8].svg',\n  font: '[name].[contenthash:8][ext]',\n  image: '[name].[contenthash:8][ext]',\n  media: '[name].[contenthash:8][ext]',\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"设置构建产物的名称。"}),"\n",(0,i.jsxs)(n.p,{children:["在生产环境构建后，会自动在文件名中间添加 hash 值，如果不需要添加，可以通过 ",(0,i.jsx)(n.code,{children:"output.disableFilenameHash"})," 配置来禁用该行为。"]}),"\n",(0,i.jsx)(n.p,{children:"下面是各个文件类型的说明："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"js"}),"：表示 JavaScript 文件的名称。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"css"}),"：表示 CSS 样式文件的名称。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"svg"}),"：表示 SVG 图片的名称。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"font"}),"：表示字体文件的名称。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"image"}),"：表示非 SVG 图片的名称。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"media"}),"：表示视频等媒体资源的名称。"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["修改 JavaScript 文件的名称为 ",(0,i.jsx)(n.code,{children:"[name]_script.js"}),"："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    filename: {\n      js:\n        process.env.NODE_ENV === 'production'\n          ? '[name]_script.[contenthash:8].js'\n          : '[name]_script.js',\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"文件名中的 hash 值"}),(0,i.jsxs)(n.div,{className:"modern-directive-content",children:[(0,i.jsxs)(n.p,{children:["通常来说，我们只会在生产环境下设置文件名的 hash 值（即 ",(0,i.jsx)(n.code,{children:"process.env.NODE_ENV === 'production'"})," 时）。"]}),"\n",(0,i.jsxs)(n.p,{children:["如果你在开发环境下设置了文件名的 hash，那么可能会导致热更新不生效（尤其是 CSS 文件）。这是因为每次文件内容变化时，都会引起 hash 变化，导致 ",(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/mini-css-extract-plugin",target:"_blank",rel:"noopener noreferrer",children:"mini-css-extract-plugin"})," 等工具无法读取到最新的文件内容。\n"]})]})]}),"\n",(0,i.jsxs)(n.h3,{id:"异步模块的文件名",children:["异步模块的文件名",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#异步模块的文件名",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"当你在代码中通过 dynamic import 的方式引入模块时，该模块会被单独打包成一个文件，它默认的命名规则如下："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["在开发环境下会基于模块路径生成名称，比如 ",(0,i.jsx)(n.code,{children:"dist/static/js/async/src_add_ts.js"}),"。"]}),"\n",(0,i.jsxs)(n.li,{children:["在生产环境下会是一个随机的数字 id，比如 ",(0,i.jsx)(n.code,{children:"dist/static/js/async/798.27e3083e.js"}),"，这是为了避免在生产环境中泄露源代码的路径，同时字符数也更少。"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",meta:'title="src/index.ts"',children:"const { add } = await import('./add.ts');\n"})}),"\n",(0,i.jsxs)(n.p,{children:["如果你希望为异步模块指定一个固定的名称，可以通过打包工具提供的 ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/api/module-methods/#magic-comments",target:"_blank",rel:"noopener noreferrer",children:"magic comments"})," 来实现，通过 ",(0,i.jsx)(n.code,{children:"webpackChunkName"})," 指定模块名称："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",meta:'title="src/index.ts"',children:"const { add } = await import(\n  /* webpackChunkName: \"my-chunk-name\" */ './add.ts'\n);\n"})}),"\n",(0,i.jsxs)(n.p,{children:["通过以上写法指定模块名称后，生成的文件会是 ",(0,i.jsx)(n.code,{children:"dist/static/js/async/my-chunk-name.js"}),"。"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Foutput%2Ffilename.md"]={toc:[{text:"示例",id:"示例",depth:3},{text:"异步模块的文件名",id:"异步模块的文件名",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},34584:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",div:"div",h3:"h3",a:"a",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"'linked' | 'inline' | 'none'"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"'linked'"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"配置 legal comment 的处理方式。"}),"\n",(0,i.jsxs)(n.p,{children:["legal comment 是 JS 或 CSS 文件中的一些特殊注释，这些注释包含 ",(0,i.jsx)(n.code,{children:"@license"})," 或 ",(0,i.jsx)(n.code,{children:"@preserve"}),"，或是以 ",(0,i.jsx)(n.code,{children:"//!"})," 开头。默认情况下，这些注释保留在输出文件中，因为这遵循了代码原作者的意图。"]}),"\n",(0,i.jsxs)(n.p,{children:["你可以通过 ",(0,i.jsx)(n.code,{children:"legalComments"})," 来配置相关行为："]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"linked"}),"：将所有 legal comments 移至 .LEGAL.txt 文件并通过注释链接到它们。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"inline"}),"：保留所有 legal comments。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"none"}),"：移除所有 legal comments。"]}),"\n"]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["在使用 Rspack 作为打包工具时，暂不支持 ",(0,i.jsx)(n.code,{children:"inline"})," 配置项。\n"]})})]}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"移除所有 legal comments。"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    legalComments: 'none',\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Foutput%2FlegalComments.md"]={toc:[{text:"示例",id:"示例",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},67373:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",h4:"h4",pre:"pre",h3:"h3"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"string[] | Record<BuilderTarget, string[]>"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["指定项目兼容的目标浏览器范围。该值会被 ",(0,i.jsx)(n.a,{href:"https://babeljs.io/docs/en/babel-preset-env",target:"_blank",rel:"noopener noreferrer",children:"@babel/preset-env"})," 和 ",(0,i.jsx)(n.a,{href:"https://github.com/postcss/autoprefixer",target:"_blank",rel:"noopener noreferrer",children:"autoprefixer"})," 用来确定需要转换的 JavaScript 语法特性和需要添加的 CSS 浏览器前缀。"]}),"\n",(0,i.jsxs)(n.h4,{id:"优先级",children:["优先级",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#优先级",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"overrideBrowserslist"})," 配置的优先级高于项目中的 ",(0,i.jsx)(n.code,{children:".browserslistrc"})," 配置文件和 package.json 中的 ",(0,i.jsx)(n.code,{children:"browserslist"})," 字段。"]}),"\n",(0,i.jsxs)(n.p,{children:["大多数场景下，推荐优先使用 ",(0,i.jsx)(n.code,{children:".browserslistrc"})," 文件，而不是使用 ",(0,i.jsx)(n.code,{children:"overrideBrowserslist"})," 配置。因为 ",(0,i.jsx)(n.code,{children:".browserslistrc"})," 文件是官方定义的配置文件，通用性更强，可以被社区中的其他库识别。"]}),"\n",(0,i.jsxs)(n.h4,{id:"默认值",children:["默认值",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#默认值",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["如果项目中没有定义任何 ",(0,i.jsx)(n.code,{children:"browserslist"})," 相关的配置，也没有定义 ",(0,i.jsx)(n.code,{children:"overrideBrowserslist"}),"，那么 Builder 会设置默认值为："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"['> 0.01%', 'not dead', 'not op_mini all'];\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"下面是兼容移动端 H5 场景的示例："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    overrideBrowserslist: [\n      'iOS >= 9',\n      'Android >= 4.4',\n      'last 2 versions',\n      '> 0.2%',\n      'not dead',\n    ],\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["可以查看 ",(0,i.jsx)(n.a,{href:"https://github.com/browserslist/browserslist",target:"_blank",rel:"noopener noreferrer",children:"browserslist 文档"})," 来了解如何自定义浏览器范围。"]}),"\n",(0,i.jsxs)(n.h4,{id:"根据产物类型设置",children:["根据产物类型设置",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#根据产物类型设置",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当你同时构建多种类型的产物时，你可以为不同的产物类型设置不同的目标浏览器范围。此时，你需要把 ",(0,i.jsx)(n.code,{children:"overrideBrowserslist"})," 设置为一个对象，对象的 key 为对应的产物类型。"]}),"\n",(0,i.jsxs)(n.p,{children:["比如为 ",(0,i.jsx)(n.code,{children:"web"})," 和 ",(0,i.jsx)(n.code,{children:"node"})," 设置不同的范围："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    overrideBrowserslist: {\n      web: [\n        'iOS >= 9',\n        'Android >= 4.4',\n        'last 2 versions',\n        '> 0.2%',\n        'not dead',\n      ],\n      node: ['node >= 14'],\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Foutput%2FoverrideBrowserslist.md"]={toc:[{text:"优先级",id:"优先级",depth:4},{text:"默认值",id:"默认值",depth:4},{text:"示例",id:"示例",depth:3},{text:"根据产物类型设置",id:"根据产物类型设置",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},16664:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",h4:"h4",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"'entry' | 'usage' | 'ua' | 'off'"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"'entry'"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["通过 ",(0,i.jsx)(n.code,{children:"output.polyfill"})," 你可以配置 Polyfill 的注入方式。"]}),"\n",(0,i.jsxs)(n.h3,{id:"配置项",children:["配置项",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#配置项",children:"#"})]}),"\n",(0,i.jsxs)(n.h4,{id:"entry",children:["entry",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#entry",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当 ",(0,i.jsx)(n.code,{children:"output.polyfill"})," 配置为 ",(0,i.jsx)(n.code,{children:"'entry'"})," 时，会在每个入口文件中注入 Polyfill。"]}),"\n",(0,i.jsxs)(n.p,{children:["等价于 ",(0,i.jsx)(n.code,{children:"@babel/preset-env"})," 的 ",(0,i.jsx)(n.code,{children:"useBuiltIns: 'entry'"})," 配置。"]}),"\n",(0,i.jsxs)(n.h4,{id:"usage",children:["usage",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#usage",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当 ",(0,i.jsx)(n.code,{children:"output.polyfill"})," 配置为 ",(0,i.jsx)(n.code,{children:"'usage'"})," 时，会在每个文件中根据代码中使用的 API 注入 Polyfill。"]}),"\n",(0,i.jsxs)(n.p,{children:["等价于 ",(0,i.jsx)(n.code,{children:"@babel/preset-env"})," 的 ",(0,i.jsx)(n.code,{children:"useBuiltIns: 'usage'"})," 配置。"]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["在使用 Rspack 作为打包工具时，暂不支持 ",(0,i.jsx)(n.code,{children:"usage"})," 配置项。\n"]})})]}),"\n",(0,i.jsxs)(n.h4,{id:"ua",children:["ua",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#ua",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"根据当前请求的 UA 信息，动态下发 Polyfill 代码。"}),"\n",(0,i.jsxs)(n.p,{children:["动态下发能力需要与上层框架结合使用，详情可参考 ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/guides/advanced-features/compatibility.html#%E8%BF%90%E8%A1%8C%E6%97%B6%E6%8C%89%E9%9C%80-polyfill",target:"_blank",rel:"noopener noreferrer",children:"Modern.js - 运行时按需 Polyfill"}),"。"]}),"\n",(0,i.jsxs)(n.h4,{id:"off",children:["off",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#off",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"不注入 Polyfill。使用此选项时，需要自行保证代码的兼容性。"})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Foutput%2Fpolyfill.md"]={toc:[{text:"配置项",id:"配置项",depth:3},{text:"entry",id:"entry",depth:4},{text:"usage",id:"usage",depth:4},{text:"ua",id:"ua",depth:4},{text:"off",id:"off",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},36083:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"'url' | 'component'"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"'url'"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"output.svgDefaultExport"})," 可以用来配置 SVG 文件的默认导出。"]}),"\n",(0,i.jsxs)(n.p,{children:["当 ",(0,i.jsx)(n.code,{children:"output.svgDefaultExport"})," 配置为 ",(0,i.jsx)(n.code,{children:"url"})," 时，SVG 文件的默认导出是文件的 URL。例如："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import logo from './logo.svg';\n\nconsole.log(logo); // => 资源 url\n"})}),"\n",(0,i.jsxs)(n.p,{children:["当 ",(0,i.jsx)(n.code,{children:"output.svgDefaultExport"})," 配置为 ",(0,i.jsx)(n.code,{children:"component"})," 时，SVG 文件的默认导出是文件的 React 组件。例如："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import Logo from './logo.svg';\n\nconsole.log(Logo); // => React 组件\n"})}),"\n",(0,i.jsxs)(n.p,{children:["此时，你也可以通过指定 ",(0,i.jsx)(n.code,{children:"?url"})," 的 query 来导入 url，比如："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import logo from './logo.svg?url';\n\nconsole.log(logo); // => 资源 url\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Foutput%2FsvgDefaultExport.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},619:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code",p:"p"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type BuildCacheConfig =\n  | {\n      /**\n       * webpack 文件缓存系统的缓存目录\n       */\n      cacheDirectory?: string;\n    }\n  | boolean;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"默认值："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const defaultBuildCacheConfig = {\n  cacheDirectory: './node_modules/.cache/webpack',\n};\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"打包工具："})," ",(0,i.jsx)(n.code,{children:"仅支持 webpack"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"控制 Builder 在构建过程中的缓存行为。"}),"\n",(0,i.jsxs)(n.p,{children:["Builder 默认会开启构建缓存来提升二次构建的速度，并默认把生成的缓存文件写到 ",(0,i.jsx)(n.code,{children:"./node_modules/.cache/webpack"})," 目录下。"]}),"\n",(0,i.jsxs)(n.p,{children:["你可以通过 ",(0,i.jsx)(n.code,{children:"buildCache"})," 配置缓存路径，比如："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  performance: {\n    buildCache: {\n      cacheDirectory: './node_modules/.custom_cache/webpack',\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["如果不希望缓存，你也可以将 ",(0,i.jsx)(n.code,{children:"buildCache"})," 置为 ",(0,i.jsx)(n.code,{children:"false"})," 将其禁用掉："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  performance: {\n    buildCache: false,\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fperformance%2FbuildCache.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},26646:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",pre:"pre",h3:"h3",img:"img",ol:"ol"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"Object | undefined"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["用于开启 ",(0,i.jsx)(n.a,{href:"https://github.com/webpack-contrib/webpack-bundle-analyzer",target:"_blank",rel:"noopener noreferrer",children:"webpack-bundle-analyzer"})," 插件来分析产物体积。"]}),"\n",(0,i.jsxs)(n.p,{children:["默认情况下，Builder 不会开启 ",(0,i.jsx)(n.code,{children:"webpack-bundle-analyzer"}),"。当开启该功能后，内部的默认配置如下:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const defaultConfig = {\n  analyzerMode: 'static',\n  openAnalyzer: false,\n  // target 为编译目标，如 `web`、`node` 等\n  reportFilename: `report-${target}.html`,\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"启用-bundle-analyze",children:["启用 Bundle Analyze",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#启用-bundle-analyze",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["你有两种方式开启 ",(0,i.jsx)(n.code,{children:"webpack-bundle-analyzer"})," 来分析构建产物的体积:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["添加环境变量 ",(0,i.jsx)(n.code,{children:"BUNDLE_ANALYZE=true"}),"，比如："]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"BUNDLE_ANALYZE=true pnpm build\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["配置 ",(0,i.jsx)(n.code,{children:"performance.bundleAnalyze"})," 来固定开启："]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  performance: {\n    bundleAnalyze: {},\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"在启用后，Builder 会生成一个分析构建产物体积的 HTML 文件，并在 Terminal 中打印以下日志："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"Webpack Bundle Analyzer saved report to /Project/my-project/dist/report-web.html\n"})}),"\n",(0,i.jsx)(n.p,{children:"手动在浏览器中打开该文件，可以看到打包产物的瓦片图；区块的面积越大，说明该模块的体积越大。"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://lf3-static.bytednsdoc.com/obj/eden-cn/aphqeh7uhohpquloj/modern-js/mwa-build-analyze-8784f762c1ab0cb20935829d5f912c4c.png",alt:""})}),"\n",(0,i.jsxs)(n.h3,{id:"覆盖默认配置",children:["覆盖默认配置",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#覆盖默认配置",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["你可以通过 ",(0,i.jsx)(n.code,{children:"performance.bundleAnalyze"})," 来覆盖默认配置，比如开启 ",(0,i.jsx)(n.code,{children:"server"})," 模式："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  performance: {\n    bundleAnalyze: process.env.BUNDLE_ANALYZE\n      ? {\n          analyzerMode: 'server',\n          openAnalyzer: true,\n        }\n      : {},\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"size-类型",children:["Size 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#size-类型",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["在 ",(0,i.jsx)(n.code,{children:"webpack-bundle-analyzer"})," 的面板中，你可以在左上角控制 Size 类型（默认为 ",(0,i.jsx)(n.code,{children:"Parsed"}),"）："]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Stat"}),"：从打包工具的 ",(0,i.jsx)(n.code,{children:"stats"})," 对象中获取的体积，它反映了代码在压缩之前的体积。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Parsed"}),"：磁盘上的文件体积，它反映了代码在压缩之后的体积。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Gzipped"}),"：浏览器里请求的文件体积，它反映了代码在压缩和 gzip 后的体积。"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"生成-statsjson",children:["生成 stats.json",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#生成-statsjson",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"generateStatsFile"})," 设置为 true 时，将会生成 stats JSON 文件。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  performance: {\n    bundleAnalyze: {\n      generateStatsFile: true,\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"注意事项",children:["注意事项",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#注意事项",children:"#"})]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["开启 Server 模式会导致 ",(0,i.jsx)(n.code,{children:"build"})," 进程不能正常退出。"]}),"\n",(0,i.jsxs)(n.li,{children:["开启 bundleAnalyzer 会降低构建性能。因此，在日常开发过程中不应该开启此配置项，建议通过 ",(0,i.jsx)(n.code,{children:"BUNDLE_ANALYZE"})," 环境变量来按需开启。"]}),"\n",(0,i.jsxs)(n.li,{children:["由于 ",(0,i.jsx)(n.code,{children:"dev"})," 阶段不会进行代码压缩等优化，无法反映真实的产物体积，因此建议在 ",(0,i.jsx)(n.code,{children:"build"})," 阶段分析产物体积。"]}),"\n"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fperformance%2FbundleAnalyze.md"]={toc:[{text:"启用 Bundle Analyze",id:"启用-bundle-analyze",depth:3},{text:"覆盖默认配置",id:"覆盖默认配置",depth:3},{text:"Size 类型",id:"size-类型",depth:3},{text:"生成 stats.json",id:"生成-statsjson",depth:3},{text:"注意事项",id:"注意事项",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},18653:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",pre:"pre",h3:"h3",a:"a",div:"div",blockquote:"blockquote"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"Object"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"{ strategy: 'split-by-experience' }"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"performance.chunkSplit"})," 用于配置 Builder 的拆包策略。配置项的类型 ",(0,i.jsx)(n.code,{children:"ChunkSplit"})," 如下:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type ForceSplitting = RegExp[] | Record<string, RegExp>;\n\ninterface BaseChunkSplit {\n  strategy?:\n    | 'split-by-module'\n    | 'split-by-experience'\n    | 'all-in-one'\n    | 'single-vendor';\n  override?: SplitChunks;\n  forceSplitting?: ForceSplitting;\n}\n\ninterface SplitBySize {\n  strategy?: 'split-by-size';\n  minSize?: number;\n  maxSize?: number;\n  override?: SplitChunks;\n  forceSplitting?: ForceSplitting;\n}\n\ninterface SplitCustom {\n  strategy?: 'custom';\n  splitChunks?: SplitChunks;\n  forceSplitting?: ForceSplitting;\n}\n\nexport type ChunkSplit = BaseChunkSplit | SplitBySize | SplitCustom;\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"chunksplitstrategy",children:["chunkSplit.strategy",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chunksplitstrategy",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder 支持设置以下几种拆包策略："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"split-by-experience"}),": 根据经验制定的拆分策略，自动将一些常用的 npm 包拆分为体积适中的 chunk。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"split-by-module"}),": 按 NPM 包的粒度拆分，每个 NPM 包对应一个 chunk。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"split-by-size"}),"：根据模块大小自动进行拆分。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"all-in-one"}),": 将所有代码全部打包到一个 chunk 中。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"single-vendor"}),": 将所有 NPM 包的代码打包到一个单独的 chunk 中。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"custom"}),": 自定义拆包配置。"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"默认拆包策略",children:["默认拆包策略",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#默认拆包策略",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder 默认采用 ",(0,i.jsx)(n.code,{children:"split-by-experience"})," 策略，这是我们根据经验制定的策略。具体来说，当你的项目中引用了以下 npm 包时，它们会自动被拆分为单独的 chunk："]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"lib-polyfill.js"}),"：包含 ",(0,i.jsx)(n.code,{children:"core-js"}),"，",(0,i.jsx)(n.code,{children:"@babel/runtime"}),"，",(0,i.jsx)(n.code,{children:"@swc/helpers"}),"。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"lib-react.js"}),"：包含 ",(0,i.jsx)(n.code,{children:"react"}),"，",(0,i.jsx)(n.code,{children:"react-dom"}),"。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"lib-router.js"}),"：包含 ",(0,i.jsx)(n.code,{children:"react-router"}),"，",(0,i.jsx)(n.code,{children:"react-router-dom"}),"，",(0,i.jsx)(n.code,{children:"history"}),"，",(0,i.jsx)(n.code,{children:"@remix-run/router"}),"。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"lib-lodash.js"}),"：包含 ",(0,i.jsx)(n.code,{children:"lodash"}),"，",(0,i.jsx)(n.code,{children:"lodash-es"}),"。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"lib-antd.js"}),"：包含 ",(0,i.jsx)(n.code,{children:"antd"}),"。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"lib-arco.js"}),"：包含 ",(0,i.jsx)(n.code,{children:"@arco-design/web-react"}),"。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"lib-semi.js"}),"：包含 ",(0,i.jsx)(n.code,{children:"@douyinfe/semi-ui"}),"。"]}),"\n"]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"如果项目中没有安装或引用以上 npm 包，则不会生成相应的 chunk。"})})]}),"\n",(0,i.jsxs)(n.p,{children:["如果你想使用其他拆包策略，可以通过 ",(0,i.jsx)(n.code,{children:"performance.chunkSplit.strategy"})," 配置项来指定。"]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["在使用 Rspack 作为打包工具时，暂时不支持采用 ",(0,i.jsx)(n.code,{children:"split-by-module"})," 策略。\n"]})})]}),"\n",(0,i.jsxs)(n.h3,{id:"chunksplitminsize",children:["chunkSplit.minSize",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chunksplitminsize",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"number"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"10000"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["当 ",(0,i.jsx)(n.code,{children:"performance.chunkSplit.strategy"})," 为 ",(0,i.jsx)(n.code,{children:"split-by-size"})," 时，可以通过 ",(0,i.jsx)(n.code,{children:"performance.chunkSplit.minSize"})," 配置项来指定 chunk 的最小大小，单位为字节。默认值为 10000。比如:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  performance: {\n    chunkSplit: {\n      strategy: 'split-by-size',\n      minSize: 20000,\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"chunksplitmaxsize",children:["chunkSplit.maxSize",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chunksplitmaxsize",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"number"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"Infinity"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["当 ",(0,i.jsx)(n.code,{children:"performance.chunkSplit.strategy"})," 为 ",(0,i.jsx)(n.code,{children:"split-by-size"})," 时，可以通过 ",(0,i.jsx)(n.code,{children:"performance.chunkSplit.maxSize"})," 配置项来指定 chunk 的最大大小，单位为字节。默认值为 ",(0,i.jsx)(n.code,{children:"Infinity"}),"。比如:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  performance: {\n    chunkSplit: {\n      strategy: 'split-by-size',\n      maxSize: 50000,\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"chunksplitforcesplitting",children:["chunkSplit.forceSplitting",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chunksplitforcesplitting",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"RegExp[] | Record<string, RegExp>"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"[]"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["通过 ",(0,i.jsx)(n.code,{children:"performance.chunkSplit.forceSplitting"})," 配置项可以将指定的模块强制拆分为一个独立的 chunk。"]}),"\n",(0,i.jsxs)(n.p,{children:["比如将 node_modules 下的 ",(0,i.jsx)(n.code,{children:"axios"})," 库拆分到 ",(0,i.jsx)(n.code,{children:"axios.js"})," 中："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  performance: {\n    chunkSplit: {\n      strategy: 'split-by-experience',\n      forceSplitting: {\n        axios: /node_modules\\/axios/,\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"相比直接配置 webpack 的 splitChunks，这是一个更加简便的方式。"}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["注意，通过 ",(0,i.jsx)(n.code,{children:"forceSplitting"})," 配置拆分的 chunk 会通过 ",(0,i.jsx)(n.code,{children:"<script>"})," 标签插入到 HTML 文件中，作为首屏请求的资源。因此，请根据实际场景来进行适当地拆分，避免首屏资源体积过大。\n"]})})]}),"\n",(0,i.jsxs)(n.h3,{id:"chunksplitsplitchunks",children:["chunkSplit.splitChunks",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chunksplitsplitchunks",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当 ",(0,i.jsx)(n.code,{children:"performance.chunkSplit.strategy"})," 为 ",(0,i.jsx)(n.code,{children:"custom"})," 时，可以通过 ",(0,i.jsx)(n.code,{children:"performance.chunkSplit.splitChunks"})," 配置项来指定自定义的 webpack 拆包配置。此配置会和 webpack 的 splitChunks 配置进行合并（cacheGroups 配置也会合并）。比如:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  performance: {\n    chunkSplit: {\n      strategy: 'custom',\n      splitChunks: {\n        cacheGroups: {\n          react: {\n            test: /[\\\\/]node_modules[\\\\/](react|react-dom)[\\\\/]/,\n            name: 'react',\n            chunks: 'all',\n          },\n        },\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"chunksplitoverride",children:["chunkSplit.override",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chunksplitoverride",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当 ",(0,i.jsx)(n.code,{children:"performance.chunkSplit.strategy"})," 为 ",(0,i.jsx)(n.code,{children:"split-by-experience"}),"、",(0,i.jsx)(n.code,{children:"split-by-module"}),"、",(0,i.jsx)(n.code,{children:"split-by-size"})," 或 ",(0,i.jsx)(n.code,{children:"single-vendor"})," 时，可以通过 ",(0,i.jsx)(n.code,{children:"performance.chunkSplit.override"})," 配置项来自定义 webpack 拆包配置，此配置会和 webpack 的 splitChunks 配置进行合并（cacheGroups 配置也会合并）。比如:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  performance: {\n    chunkSplit: {\n      strategy: 'split-by-experience',\n      override: {\n        cacheGroups: {\n          react: {\n            test: /[\\\\/]node_modules[\\\\/](react|react-dom)[\\\\/]/,\n            name: 'react',\n            chunks: 'all',\n          },\n        },\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:'当 Builder 构建 "node" 类型的产物时，由于 Node Bundles 不需要通过拆包来优化加载性能，因此 chunkSplit 规则不会生效。'}),"\n"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fperformance%2FchunkSplit.md"]={toc:[{text:"chunkSplit.strategy",id:"chunksplitstrategy",depth:3},{text:"默认拆包策略",id:"默认拆包策略",depth:3},{text:"chunkSplit.minSize",id:"chunksplitminsize",depth:3},{text:"chunkSplit.maxSize",id:"chunksplitmaxsize",depth:3},{text:"chunkSplit.forceSplitting",id:"chunksplitforcesplitting",depth:3},{text:"chunkSplit.splitChunks",id:"chunksplitsplitchunks",depth:3},{text:"chunkSplit.override",id:"chunksplitoverride",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},90082:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",pre:"pre",h3:"h3",a:"a"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"是否在生产环境构建后输出所有静态资源文件的体积。"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"info    File sizes after production build:\n\n  File                                     Size         Gzipped\n  dist/static/js/lib-corejs.1c836fe7.js    212.89 kB    66.57 kB\n  dist/static/js/lib-react.fcafbc5c.js     134.65 kB    43.45 kB\n  dist/static/js/main.6ff06f70.js          8.93 kB      3.73 kB\n  dist/static/css/main.9f48031b.css        2.64 kB      927 B\n  dist/html/main/index.html                1.64 kB      874 B\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"禁用相关日志："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  performance: {\n    printFileSize: false,\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fperformance%2FprintFileSize.md"]={toc:[{text:"示例",id:"示例",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},96296:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",h3:"h3",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"打包工具："})," ",(0,i.jsx)(n.code,{children:"仅支持 webpack"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["是否捕获每个模块的耗时信息，对应 webpack 的 ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/configuration/other-options/#profile",target:"_blank",rel:"noopener noreferrer",children:"profile"})," 配置。"]}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  performance: {\n    profile: true,\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"开启后，Webpack 生成一些有关模块的统计数据的 JSON 文件会将模块构建的耗时信息也包含进去。"})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fperformance%2Fprofile.md"]={toc:[{text:"示例",id:"示例",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},5927:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h4:"h4",a:"a",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean | ConsoleType[]"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["在生产环境构建时，是否自动移除代码中的 ",(0,i.jsx)(n.code,{children:"console.xx"}),"。"]}),"\n",(0,i.jsxs)(n.h4,{id:"移除所有-console",children:["移除所有 console",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#移除所有-console",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当 ",(0,i.jsx)(n.code,{children:"removeConsole"})," 被设置为 ",(0,i.jsx)(n.code,{children:"true"})," 时，会移除所有类型的 ",(0,i.jsx)(n.code,{children:"console.xx"}),"："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  performance: {\n    removeConsole: true,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"移除特定的-console",children:["移除特定的 console",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#移除特定的-console",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["你也可以指定仅移除特定类型的 ",(0,i.jsx)(n.code,{children:"console.xx"}),"，比如移除 ",(0,i.jsx)(n.code,{children:"console.log"})," 和 ",(0,i.jsx)(n.code,{children:"console.warn"}),"："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  performance: {\n    removeConsole: ['log', 'warn'],\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"目前支持配置以下类型的 console："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type ConsoleType = 'log' | 'info' | 'warn' | 'error' | 'table' | 'group';\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fperformance%2FremoveConsole.md"]={toc:[{text:"移除所有 console",id:"移除所有-console",depth:4},{text:"移除特定的 console",id:"移除特定的-console",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},34432:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["是否移除 ",(0,i.jsx)(n.a,{href:"https://momentjs.com/",target:"_blank",rel:"noopener noreferrer",children:"moment.js"})," 的语言包文件。"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"moment.js"})," 默认包含了大量的语言包文件，会导致打包后的包体积增大。"]}),"\n",(0,i.jsxs)(n.p,{children:["当项目中使用了 ",(0,i.jsx)(n.code,{children:"moment.js"})," 时，推荐开启此选项，自动排除所有的语言包文件："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  performance: {\n    removeMomentLocale: true,\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"开启后，可以通过以下方式来加载语言包文件："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import moment from 'moment';\nimport 'moment/locale/zh-cn';\n\nmoment.locale('zh-cn');\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fperformance%2FremoveMomentLocale.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},78082:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code",p:"p",h3:"h3",a:"a"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type CheckSyntax =\n  | boolean\n  | {\n      targets: string[];\n      exclude?: RegExp | Array<RegExp>;\n    };\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"分析构建产物中是否存在当前浏览器范围下不兼容的高级语法。如果存在，会将详细信息打印在终端。"}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  security: {\n    checkSyntax: true,\n    exclude: /node_modules\\/foo/,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["如果将 ",(0,i.jsx)(n.code,{children:"security.checkSyntax"})," 指定为 ",(0,i.jsx)(n.code,{children:"true"})," 的话，则 targets 会被认定为项目设定的 browserslist，详情请参考 ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/builder/guide/advanced/browser-compatibility.html",target:"_blank",rel:"noopener noreferrer",children:"设置浏览器范围"}),"。"]}),"\n",(0,i.jsx)(n.p,{children:"开启后将在生产环境下进行检测，当检测到不兼容的高级语法后，会将错误日志打印在终端，并退出当前构建流程。"}),"\n",(0,i.jsxs)(n.h3,{id:"错误日志",children:["错误日志",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#错误日志",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"错误日志的格式如下所示，包含代码来源文件、产物位置、错误原因、源代码等信息："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"error   [Syntax Checker] Find some syntax errors after production build:\n\n  ERROR#1:\n  source - /node_modules/foo/index.js:1:0\n  output - /Project/dist/static/js/main.3f7a4d7e.js:2:39400\n  reason - The keyword 'const' is reserved (2:39400)\n  code   - const foo = 'bar';\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"解决方法",children:["解决方法",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#解决方法",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"当检测到语法错误后，你可以通过以下方式来处理："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["如果你希望降级该语法，以保证代码具备良好的兼容性，可以通过 ",(0,i.jsx)(n.code,{children:"source.include"})," 配置来编译相应的模块。"]}),"\n",(0,i.jsx)(n.li,{children:"如果你不希望降级该语法，可以调整项目的 browserslist 范围，调整至与该语法相匹配的范围。"}),"\n",(0,i.jsxs)(n.li,{children:["如果你不希望对某些产物进行语法检查，可用 ",(0,i.jsx)(n.code,{children:"checkSyntax.exclude"})," 配置排除要检查的文件。"]}),"\n"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fsecurity%2FcheckSyntax.md"]={toc:[{text:"示例",id:"示例",depth:3},{text:"错误日志",id:"错误日志",depth:3},{text:"解决方法",id:"解决方法",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},55768:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code",p:"p",a:"a",h4:"h4",h3:"h3"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type SRIOptions =\n  | {\n      hashFuncNames?: string[];\n      enabled?: 'auto' | boolean;\n      hashLoading?: 'eager' | 'lazy';\n    }\n  | boolean;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"打包工具："})," ",(0,i.jsx)(n.code,{children:"仅支持 webpack"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["为 HTML 所引入的子资源添加完整性属性 —— ",(0,i.jsx)(n.code,{children:"integrity"}),"，使浏览器能够验证引入资源的完整性，以此防止下载的资源被篡改。"]}),"\n",(0,i.jsxs)(n.p,{children:["启动该选项后会将 webpack 的 ",(0,i.jsx)(n.a,{href:"https://webpack.docschina.org/configuration/output/#outputcrossoriginloading",target:"_blank",rel:"noopener noreferrer",children:"output.crossOriginLoading"})," 配置项设置为 ",(0,i.jsx)(n.code,{children:"anonymous"}),"。"]}),"\n",(0,i.jsxs)(n.h4,{id:"sri-介绍",children:["SRI 介绍",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#sri-介绍",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"子资源完整性 Subresource Integrity（SRI）是专门用来校验资源的一种方案，它读取资源标签中的 integrity 属性，将其中的信息摘要值，和资源实际的信息摘要值进行对比，如果发现无法匹配，那么浏览器就会拒绝执行资源。"}),"\n",(0,i.jsx)(n.p,{children:"对于 script 标签来说，结果为拒绝执行其中的代码；对于 CSS link 来说，结果为不加载其中的样式。"}),"\n",(0,i.jsxs)(n.p,{children:["关于 SRI 的更多内容，可以查看 ",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/zh-CN/docs/Web/Security/Subresource_Integrity",target:"_blank",rel:"noopener noreferrer",children:"Subresource Integrity - MDN"}),"。"]}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["默认情况下，不会开启 ",(0,i.jsx)(n.code,{children:"SRI"}),"，当开启之后它的默认配置如下："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:'{\n  hashFuncNames: [\'sha384\'];\n  enabled: "auto",\n  hashLoading: "eager",\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"你可以按照你自己的需求自定义配置项:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  security: {\n    sri: {\n      hashFuncNames: ['sha-256'],\n      enabled: true,\n      hashLoading: 'lazy',\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fsecurity%2Fsri.md"]={toc:[{text:"SRI 介绍",id:"sri-介绍",depth:4},{text:"示例",id:"示例",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},26810:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",div:"div",h3:"h3",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"Record<string, string | string[]> | Function"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["设置文件引用的别名，对应 webpack 的 ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/configuration/resolve/#resolvealias",target:"_blank",rel:"noopener noreferrer",children:"resolve.alias"})," 配置。"]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["对于 TypeScript 项目，只需要在 ",(0,i.jsx)(n.code,{children:"tsconfig.json"})," 中配置 ",(0,i.jsx)(n.a,{href:"https://www.typescriptlang.org/tsconfig#paths",target:"_blank",rel:"noopener noreferrer",children:"compilerOptions.paths"})," 即可，Builder 会自动识别 ",(0,i.jsx)(n.code,{children:"tsconfig.json"})," 里的别名，因此不需要额外配置 ",(0,i.jsx)(n.code,{children:"alias"})," 字段。\n"]})})]}),"\n",(0,i.jsxs)(n.h3,{id:"object-类型",children:["Object 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-类型",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"alias"})," 的值可以定义为 Object 类型，其中的相对路径会自动被 Builder 转换为绝对路径。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    alias: {\n      '@common': './src/common',\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["以上配置完成后，如果在代码中引用 ",(0,i.jsx)(n.code,{children:"@common/Foo.tsx"}),", 则会映射到 ",(0,i.jsx)(n.code,{children:"<root>/src/common/Foo.tsx"})," 路径上。"]}),"\n",(0,i.jsxs)(n.h3,{id:"function-类型",children:["Function 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-类型",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"alias"})," 的值定义为函数时，可以接受预设的 alias 对象，并对其进行修改。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    alias: alias => {\n      alias['@common'] = './src/common';\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"也可以在函数中返回一个新对象作为最终结果，新对象会覆盖预设的 alias 对象。"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    alias: alias => {\n      return {\n        '@common': './src/common',\n      };\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"精确匹配",children:["精确匹配",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#精确匹配",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["默认情况，",(0,i.jsx)(n.code,{children:"source.alias"})," 会自动匹配子路径，比如以下配置："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import path from 'path';\n\nexport default {\n  source: {\n    alias: {\n      '@common': './src/common',\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"它的匹配结果如下："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import a from '@common'; // 解析为 `./src/common`\nimport b from '@common/util'; // 解析为 `./src/common/util`\n"})}),"\n",(0,i.jsxs)(n.p,{children:["你可以添加 ",(0,i.jsx)(n.code,{children:"$"})," 符号来开启精确匹配，开启后将不会自动匹配子路径。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import path from 'path';\n\nexport default {\n  source: {\n    alias: {\n      '@common$': './src/common',\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"它的匹配结果如下："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import a from '@common'; // 解析为 `./src/common`\nimport b from '@common/util'; // 保持 `@common/util` 不变\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"处理-npm-包",children:["处理 npm 包",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#处理-npm-包",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["你可以使用 ",(0,i.jsx)(n.code,{children:"alias"})," 将某个 npm 包指向统一的目录。"]}),"\n",(0,i.jsxs)(n.p,{children:["比如项目中安装了多份 ",(0,i.jsx)(n.code,{children:"react"}),"，你可以将 ",(0,i.jsx)(n.code,{children:"react"})," 统一指向根目录的 ",(0,i.jsx)(n.code,{children:"node_modules"})," 中安装的版本，避免出现打包多份 React 代码的问题。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import path from 'path';\n\nexport default {\n  source: {\n    alias: {\n      react: path.resolve(__dirname, './node_modules/react'),\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"当你在使用 alias 处理 npm 包时，请留意项目中是否使用了这个包不同的 major 版本。"}),"\n",(0,i.jsx)(n.p,{children:"比如你的项目中某个模块或 npm 依赖使用了 React 18 的 API，如果你将 React alias 到 17 版本，就会导致该模块无法引用到 React 18 的 API，导致代码异常。"})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fsource%2Falias.md"]={toc:[{text:"Object 类型",id:"object-类型",depth:3},{text:"Function 类型",id:"function-类型",depth:3},{text:"精确匹配",id:"精确匹配",depth:3},{text:"处理 npm 包",id:"处理-npm-包",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},44422:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",pre:"pre",h3:"h3",a:"a"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"该选项用于控制是否编译 data URI 中的 JavaScript 代码。"}),"\n",(0,i.jsx)(n.p,{children:"默认情况下，Builder 会使用 Babel 或 SWC 对 data URI 中的代码进行编译。比如以下代码："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import x from 'data:text/javascript,export default 1;';\n\nimport 'data:text/javascript;charset=utf-8;base64,Y29uc29sZS5sb2coJ2lubGluZSAxJyk7';\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"添加以下配置来关闭："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    compileJsDataURI: false,\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fsource%2FcompileJsDataURI.md"]={toc:[{text:"示例",id:"示例",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},50720:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",div:"div",h3:"h3",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"Record<string, unknown>"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"{}"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"构建时将代码中的变量替换成其它值或者表达式，可以用于在代码逻辑中区分开发环境与生产环境等场景。"}),"\n",(0,i.jsxs)(n.p,{children:["传入的配置对象的键名是需要替换变量的名称，或者是用 ",(0,i.jsx)(n.code,{children:"."})," 连接的多个标识符，配置项的值则根据类型进行不同的处理："]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"字符串会被当作代码片段。"}),"\n",(0,i.jsx)(n.li,{children:"包括函数在内的其他类型会被转换成字符串。"}),"\n",(0,i.jsxs)(n.li,{children:["嵌套对象的父子键名之间会用 ",(0,i.jsx)(n.code,{children:"."})," 连接作为需要替换的变量名。"]}),"\n",(0,i.jsx)(n.li,{children:"以 typeof 开头的键名会用来替换 typeof 调用。"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["更多细节参考 ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/plugins/define-plugin/",target:"_blank",rel:"noopener noreferrer",children:(0,i.jsx)(n.a,{href:"https://webpack.js.org/plugins/define-plugin/",target:"_blank",rel:"noopener noreferrer",children:"https://webpack.js.org/plugins/define-plugin/"})}),"。"]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["在使用 Rspack 作为打包工具时，支持的类型可参考 ",(0,i.jsx)(n.a,{href:"https://www.rspack.dev/zh/config/builtins.html#builtinsdefine",target:"_blank",rel:"noopener noreferrer",children:"Rspack.builtins.define"}),"\n"]})})]}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    define: {\n      PRODUCTION: JSON.stringify(true),\n      VERSION: JSON.stringify('5fa3b9'),\n      BROWSER_SUPPORTS_HTML5: true,\n      TWO: '1 + 1',\n      'typeof window': JSON.stringify('object'),\n      'process.env.NODE_ENV': JSON.stringify(process.env.NODE_ENV),\n      'import.meta': { test: undefined },\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"表达式会被替换为对应的代码段："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const foo = TWO;\n\n// ⬇️ Turn into being...\nconst foo = 1 + 1;\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fsource%2Fdefine.md"]={toc:[{text:"示例",id:"示例",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},72847:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",div:"div",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"Array<string | RegExp>"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"[]"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"打包工具："})," ",(0,i.jsx)(n.code,{children:"仅支持 webpack"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["指定不需要编译的 JavaScript/TypeScript 文件。用法与 webpack 中的 ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/configuration/module/#ruleexclude",target:"_blank",rel:"noopener noreferrer",children:"Rule.exclude"})," 一致，支持传入字符串或正则表达式来匹配模块的路径。"]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["在使用 Rspack 作为打包工具时，默认",(0,i.jsx)(n.strong,{children:"所有文件"}),"都会经过编译，同时，不支持通过 ",(0,i.jsx)(n.code,{children:"source.exclude"})," 排除。\n"]})})]}),"\n",(0,i.jsx)(n.p,{children:"比如:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import path from 'path';\n\nexport default {\n  source: {\n    exclude: [path.resolve(__dirname, 'src/module-a'), /src\\/module-b/],\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fsource%2Fexclude.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},42955:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",pre:"pre",p:"p",h3:"h3",a:"a"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"Record<string, JSONValue> | Function"})]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"默认值："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// Builder 默认会添加环境变量 `process.env.NODE_ENV`，因此你不需要手动添加它。\nconst defaultGlobalVars = {\n  'process.env.NODE_ENV': process.env.NODE_ENV,\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["用于在构建时将类似 ",(0,i.jsx)(n.code,{children:"process.env.FOO"})," 的全局变量表达式替换为指定的值，比如："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"console.log(process.env.NODE_ENV);\n\n// ⬇️ Turn into being...\nconsole.log('development');\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["在下方示例中，会在代码中注入 ",(0,i.jsx)(n.code,{children:"ENABLE_VCONSOLE"})," 和 ",(0,i.jsx)(n.code,{children:"APP_CONTEXT"})," 两个环境变量："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    globalVars: {\n      ENABLE_VCONSOLE: true,\n      APP_CONTEXT: { answer: 42 },\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"你可以在代码中直接使用它们："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"if (ENABLE_VCONSOLE) {\n  // do something\n}\n\nconsole.log(APP_CONTEXT);\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"函数用法",children:["函数用法",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#函数用法",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type GlobalVarsFn = (\n  obj: Record<string, JSONValue>,\n  utils: { env: NodeEnv; target: BuilderTarget },\n) => Record<string, JSONValue> | void;\n"})}),"\n",(0,i.jsxs)(n.p,{children:["你可以将 ",(0,i.jsx)(n.code,{children:"source.globalVars"})," 设置为一个函数，从而动态设置一些环境变量的值。"]}),"\n",(0,i.jsx)(n.p,{children:"比如，根据当前的构建产物类型进行动态设置："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    globalVars(obj, { target }) {\n      obj['MY_TARGET'] = target === 'node' ? 'server' : 'client';\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"与-define-的区别",children:["与 define 的区别",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#与-define-的区别",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"source.globalVars"})," 是 ",(0,i.jsx)(n.code,{children:"source.define"})," 的一个语法糖，它们之间唯一的区别是，",(0,i.jsx)(n.code,{children:"source.globalVars"})," 会自动将传入的值进行 JSON 序列化处理，这使得设置全局变量的值更加方便。注意 ",(0,i.jsx)(n.code,{children:"globalVars"})," 的每个值都需要是可以被 JSON 序列化的值。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    globalVars: {\n      'process.env.BUILD_VERSION': '0.0.1',\n      'import.meta.foo': { bar: 42 },\n      'import.meta.baz': false,\n    },\n    define: {\n      'process.env.BUILD_VERSION': JSON.stringify('0.0.1'),\n      'import.meta': {\n        foo: JSON.stringify({ bar: 42 }),\n        baz: JSON.stringify(false),\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"注意事项",children:["注意事项",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#注意事项",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"source.globalVars"})," 是通过字符串替换的形式来注入环境变量的，因此它无法对「解构赋值」等动态写法生效。"]}),"\n",(0,i.jsxs)(n.p,{children:["在使用解构赋值时，Builder 将无法判断变量 ",(0,i.jsx)(n.code,{children:"NODE_ENV"})," 是否与要替换的表达式 ",(0,i.jsx)(n.code,{children:"process.env.NODE_ENV"})," 存在关联，因此以下使用方式是无效的："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const { NODE_ENV } = process.env;\nconsole.log(NODE_ENV);\n// ❌ Won't get a string.\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fsource%2FglobalVars.md"]={toc:[{text:"示例",id:"示例",depth:3},{text:"函数用法",id:"函数用法",depth:3},{text:"与 define 的区别",id:"与-define-的区别",depth:3},{text:"注意事项",id:"注意事项",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},18265:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",pre:"pre",div:"div",h3:"h3"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"Array<string | RegExp>"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"[]"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"打包工具："})," ",(0,i.jsx)(n.code,{children:"仅支持 webpack"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"出于编译性能的考虑，默认情况下，Builder 不会编译 node_modules 下的 JavaScript/TypeScript 文件，也不会编译当前工程目录外部的 JavaScript/TypeScript 文件。"}),"\n",(0,i.jsxs)(n.p,{children:["通过 ",(0,i.jsx)(n.code,{children:"source.include"})," 配置项，可以指定需要 Builder 额外进行编译的目录或模块。",(0,i.jsx)(n.code,{children:"source.include"})," 的用法与 webpack 中的 ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/configuration/module/#ruleinclude",target:"_blank",rel:"noopener noreferrer",children:"Rule.include"})," 一致，支持传入字符串或正则表达式来匹配模块的路径。"]}),"\n",(0,i.jsx)(n.p,{children:"比如:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import path from 'path';\n\nexport default {\n  source: {\n    include: [path.resolve(__dirname, '../other-dir')],\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["在使用 Rspack 作为打包工具时，默认",(0,i.jsx)(n.strong,{children:"所有文件"}),"都会经过编译，同时，不支持通过 ",(0,i.jsx)(n.code,{children:"source.exclude"})," 排除。\n"]})})]}),"\n",(0,i.jsxs)(n.h3,{id:"编译-npm-包",children:["编译 npm 包",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#编译-npm-包",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"比较典型的使用场景是编译 node_modules 下的 npm 包，因为某些第三方依赖存在 ES6+ 的语法，这可能导致在低版本浏览器上无法运行，你可以通过该选项指定需要编译的依赖，从而解决此类问题。"}),"\n",(0,i.jsxs)(n.p,{children:["以 ",(0,i.jsx)(n.code,{children:"query-string"})," 为例，你可以做如下的配置："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import path from 'path';\n\nexport default {\n  source: {\n    include: [\n      // 方法一:\n      // 先通过 require.resolve 来获取模块的路径\n      // 再通过 path.dirname 来指向对应的目录\n      path.dirname(require.resolve('query-string')),\n      // 方法二:\n      // 通过正则表达式进行匹配\n      // 所有包含 `/query-string/` 的路径都会被匹配到\n      /\\/query-string\\//,\n    ],\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"编译-npm-包的子依赖",children:["编译 npm 包的子依赖",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#编译-npm-包的子依赖",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当你通过 ",(0,i.jsx)(n.code,{children:"source.include"})," 编译一个 npm 包时，Builder 默认只会编译匹配到的模块，不会编译对应模块的",(0,i.jsx)(n.strong,{children:"子依赖"}),"。"]}),"\n",(0,i.jsxs)(n.p,{children:["以 ",(0,i.jsx)(n.code,{children:"query-string"})," 为例，它依赖的 ",(0,i.jsx)(n.code,{children:"decode-uri-component"})," 包中同样存在 ES6+ 代码，因此需要将 ",(0,i.jsx)(n.code,{children:"decode-uri-component"})," 也加入到 ",(0,i.jsx)(n.code,{children:"source.include"})," 中："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  source: {\n    include: [/\\/query-string\\//, /\\/decode-uri-component\\//],\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"编译-monorepo-中的其他库",children:["编译 Monorepo 中的其他库",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#编译-monorepo-中的其他库",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["在 Monorepo 中进行开发时，如果需要引用 Monorepo 中其他库的源代码，也可以直接在 ",(0,i.jsx)(n.code,{children:"source.include"})," 进行配置:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import path from 'path';\n\nexport default {\n  source: {\n    include: [\n      // 方法一:\n      // 编译 Monorepo 的 package 目录下的所有文件\n      path.resolve(__dirname, '../../packages'),\n\n      // 方法二:\n      // 编译 Monorepo 的 package 目录里某个包的源代码\n      // 这种写法匹配的范围更加精准，对整体编译性能的影响更小\n      path.resolve(__dirname, '../../packages/xxx/src'),\n    ],\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"编译-commonjs-模块",children:["编译 CommonJS 模块",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#编译-commonjs-模块",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Babel 默认无法编译 CommonJS 模块，如果你编译了一个 CommonJS 模块，可能会出现 ",(0,i.jsx)(n.code,{children:"exports is not defined"})," 的运行时报错信息。"]}),"\n",(0,i.jsxs)(n.p,{children:["当你需要使用 ",(0,i.jsx)(n.code,{children:"source.include"})," 来编译 CommonJS 模块时，可以将 Babel 的 ",(0,i.jsx)(n.code,{children:"sourceType"})," 配置设置为 ",(0,i.jsx)(n.code,{children:"unambiguous"}),"："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    babel(config) {\n      config.sourceType = 'unambiguous';\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["将 ",(0,i.jsx)(n.code,{children:"sourceType"})," 设置为 ",(0,i.jsx)(n.code,{children:"unambiguous"})," 可能会产生一些其他影响，请参考 ",(0,i.jsx)(n.a,{href:"https://babeljs.io/docs/en/options#sourcetype",target:"_blank",rel:"noopener noreferrer",children:"Babel 官方文档"}),"。"]}),"\n",(0,i.jsxs)(n.h3,{id:"匹配-symlink",children:["匹配 Symlink",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#匹配-symlink",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["如果你匹配的模块是通过 symlink 链接到当前项目中的，那么需要匹配这个模块的",(0,i.jsx)(n.strong,{children:"真实路径"}),"，而不是 symlink 后的路径。"]}),"\n",(0,i.jsxs)(n.p,{children:["比如，你将 Monorepo 中的 ",(0,i.jsx)(n.code,{children:"packages/foo"})," 路径 symlink 到当前项目的 ",(0,i.jsx)(n.code,{children:"node_modules/foo"})," 路径下，则需要去匹配 ",(0,i.jsx)(n.code,{children:"packages/foo"})," 路径，而不是 ",(0,i.jsx)(n.code,{children:"node_modules/foo"})," 路径。"]}),"\n",(0,i.jsxs)(n.p,{children:["该行为可以通过 webpack 的 ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/configuration/resolve/#resolvesymlinks",target:"_blank",rel:"noopener noreferrer",children:"resolve.symlinks"})," 配置项来进行控制。"]}),"\n",(0,i.jsxs)(n.h3,{id:"注意事项",children:["注意事项",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#注意事项",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["注意，",(0,i.jsx)(n.code,{children:"source.include"})," 不应该被用于编译整个 ",(0,i.jsx)(n.code,{children:"node_modules"})," 目录，比如下面的写法是错误的："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  source: {\n    include: [/\\/node_modules\\//],\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["如果你对整个 ",(0,i.jsx)(n.code,{children:"node_modules"})," 进行编译，不仅会使编译时间大幅度增加，并且可能会产生不可预期的错误。因为 ",(0,i.jsx)(n.code,{children:"node_modules"})," 中的大部分 npm 包发布的已经是编译后的产物，通常没必要经过二次编译。此外，",(0,i.jsx)(n.code,{children:"core-js"})," 等 npm 包被编译后可能会出现异常。"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fsource%2Finclude.md"]={toc:[{text:"编译 npm 包",id:"编译-npm-包",depth:3},{text:"编译 npm 包的子依赖",id:"编译-npm-包的子依赖",depth:3},{text:"编译 Monorepo 中的其他库",id:"编译-monorepo-中的其他库",depth:3},{text:"编译 CommonJS 模块",id:"编译-commonjs-模块",depth:3},{text:"匹配 Symlink",id:"匹配-symlink",depth:3},{text:"注意事项",id:"注意事项",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},56644:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",pre:"pre",img:"img"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"Array<string | Regexp> | Function"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"打包工具："})," ",(0,i.jsx)(n.code,{children:"仅支持 webpack"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"限制源代码的引用路径。配置该选项后，所有源文件只能从约定的目录下引用代码，从其他目录引用代码会产生对应的报错提示。"}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["首先我们配置 ",(0,i.jsx)(n.code,{children:"moduleScopes"})," 仅包含 ",(0,i.jsx)(n.code,{children:"src"})," 目录："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    moduleScopes: ['./src'],\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["然后在 ",(0,i.jsx)(n.code,{children:"src/App.tsx"})," 中导入 ",(0,i.jsx)(n.code,{children:"src"})," 目录外部的 ",(0,i.jsx)(n.code,{children:"utils/a"})," 模块:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import a from '../utils/a';\n"})}),"\n",(0,i.jsx)(n.p,{children:"在编译时，会提示引用路径错误:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://lf3-static.bytednsdoc.com/obj/eden-cn/aphqeh7uhohpquloj/modern-js/docs/module-scopes-error.png",alt:"scopes-error"})}),"\n",(0,i.jsxs)(n.p,{children:["通过该选项配置 ",(0,i.jsx)(n.code,{children:"utils"})," 目录，再进行编译，则不会出现错误提示。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    moduleScopes: ['./src', './utils'],\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"array-类型",children:["Array 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#array-类型",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当 ",(0,i.jsx)(n.code,{children:"moduleScopes"})," 的值为 ",(0,i.jsx)(n.code,{children:"Array"})," 类型时，可以直接设置若干个代码路径，比如添加以下配置："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    moduleScopes: ['./src', './shared', './utils'],\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"function-类型",children:["Function 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-类型",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"moduleScopes"})," 也支持通过函数的形式来进行修改，避免覆盖默认值："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    moduleScopes: scopes => {\n      scopes.push('./shared');\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fsource%2FmoduleScopes.md"]={toc:[{text:"示例",id:"示例",depth:3},{text:"Array 类型",id:"array-类型",depth:3},{text:"Function 类型",id:"function-类型",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},43897:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h4:"h4",a:"a",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"string | string[]"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"在每个页面的入口文件前添加一段代码，这段代码会早于页面的代码执行，因此可以用于执行一些全局的代码逻辑，比如注入 polyfill、设置全局样式等。"}),"\n",(0,i.jsxs)(n.h4,{id:"添加单个脚本",children:["添加单个脚本",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#添加单个脚本",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["首先创建一个 ",(0,i.jsx)(n.code,{children:"src/polyfill.ts"})," 文件："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"console.log('I am a polyfill');\n"})}),"\n",(0,i.jsxs)(n.p,{children:["然后将 ",(0,i.jsx)(n.code,{children:"src/polyfill.ts"})," 配置到 ",(0,i.jsx)(n.code,{children:"source.preEntry"})," 上："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    preEntry: './src/polyfill.ts',\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["重新运行编译并访问任意页面，可以看到 ",(0,i.jsx)(n.code,{children:"src/polyfill.ts"})," 中的代码已经执行，并在 console 中输出了对应的内容。"]}),"\n",(0,i.jsxs)(n.h4,{id:"添加全局样式",children:["添加全局样式",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#添加全局样式",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["你也可以通过 ",(0,i.jsx)(n.code,{children:"source.preEntry"})," 来配置全局样式，这段 CSS 代码会早于页面代码加载，比如引入一个 ",(0,i.jsx)(n.code,{children:"normalize.css"})," 文件："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    preEntry: './src/normalize.css',\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"添加多个脚本",children:["添加多个脚本",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#添加多个脚本",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["你可以将 ",(0,i.jsx)(n.code,{children:"preEntry"})," 设置为数组来添加多个脚本，它们会按数组顺序执行："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    preEntry: ['./src/polyfill-a.ts', './src/polyfill-b.ts'],\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fsource%2FpreEntry.md"]={toc:[{text:"添加单个脚本",id:"添加单个脚本",depth:4},{text:"添加全局样式",id:"添加全局样式",depth:4},{text:"添加多个脚本",id:"添加多个脚本",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},69737:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",h3:"h3",pre:"pre",h4:"h4"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"string | Record<BuilderTarget, string>"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["用于为 ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/configuration/resolve/#resolveextensions",target:"_blank",rel:"noopener noreferrer",children:"resolve.extensions"})," 添加统一的前缀。"]}),"\n",(0,i.jsx)(n.p,{children:"如果多个文件拥有相同的名称，但具有不同的文件后缀，Builder 会根据 extensions 数组的顺序进行识别，解析数组中第一个被识别的文件，并跳过其余文件。"}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["下面是配置 ",(0,i.jsx)(n.code,{children:".web"})," 前缀的例子。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    resolveExtensionPrefix: '.web',\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"配置完成后，extensions 数组会发生以下变化："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"// 配置前\nconst extensions = ['.js', '.ts', ...];\n\n// 配置后\nconst extensions = ['.web.js', '.js', '.web.ts' , '.ts', ...];\n"})}),"\n",(0,i.jsxs)(n.p,{children:["在代码中 ",(0,i.jsx)(n.code,{children:"import './foo'"})," 时，会优先识别 ",(0,i.jsx)(n.code,{children:"foo.web.js"})," 文件，再识别 ",(0,i.jsx)(n.code,{children:"foo.js"})," 文件。"]}),"\n",(0,i.jsxs)(n.h4,{id:"根据产物类型设置",children:["根据产物类型设置",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#根据产物类型设置",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当你同时构建多种类型的产物时，你可以为不同的产物类型设置不同的 extension 前缀。此时，你需要把 ",(0,i.jsx)(n.code,{children:"resolveExtensionPrefix"})," 设置为一个对象，对象的 key 为对应的产物类型。"]}),"\n",(0,i.jsxs)(n.p,{children:["比如为 ",(0,i.jsx)(n.code,{children:"web"})," 和 ",(0,i.jsx)(n.code,{children:"node"})," 设置不同的 extension 前缀："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    source: {\n      resolveExtensionPrefix: {\n        web: '.web',\n        node: '.node',\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["在代码中 ",(0,i.jsx)(n.code,{children:"import './foo'"})," 时，对于 node 产物，会优先识别 ",(0,i.jsx)(n.code,{children:"foo.node.js"})," 文件，而对于 web 产物，则会优先识别 ",(0,i.jsx)(n.code,{children:"foo.web.js"})," 文件。"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fsource%2FresolveExtensionPrefix.md"]={toc:[{text:"示例",id:"示例",depth:3},{text:"根据产物类型设置",id:"根据产物类型设置",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},65176:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code",p:"p",a:"a",h3:"h3",h4:"h4"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type Fields = (string | string[])[];\n\ntype ResolveMainFields = Fields | Record<BuilderTarget, Fields>;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["该配置项将决定你使用 ",(0,i.jsx)(n.code,{children:"package.json"})," 哪个字段导入 ",(0,i.jsx)(n.code,{children:"npm"})," 模块。对应 webpack 的 ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/configuration/resolve/#resolvemainfields",target:"_blank",rel:"noopener noreferrer",children:"resolve.mainFields"})," 配置。"]}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    resolveMainFields: ['main', 'browser', 'exports'],\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"根据产物类型设置",children:["根据产物类型设置",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#根据产物类型设置",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当你同时构建多种类型的产物时，你可以为不同的产物类型设置不同的 mainFields。此时，你需要把 ",(0,i.jsx)(n.code,{children:"resolveMainFields"})," 设置为一个对象，对象的 key 为对应的产物类型。"]}),"\n",(0,i.jsxs)(n.p,{children:["比如为 ",(0,i.jsx)(n.code,{children:"web"})," 和 ",(0,i.jsx)(n.code,{children:"node"})," 设置不同的 mainFields："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    source: {\n      resolveMainFields: {\n        web: ['main', 'browser', 'exports'],\n        node: ['main', 'node', 'exports'],\n      },\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fsource%2FresolveMainFields.md"]={toc:[{text:"示例",id:"示例",depth:3},{text:"根据产物类型设置",id:"根据产物类型设置",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},79264:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({p:"p",a:"a",code:"code",ul:"ul",li:"li",strong:"strong",pre:"pre",div:"div",h3:"h3",h4:"h4"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["用于按需引入组件库的代码和样式，能力等价于 ",(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/babel-plugin-import",target:"_blank",rel:"noopener noreferrer",children:"babel-plugin-import"}),"。"]}),"\n",(0,i.jsxs)(n.p,{children:["它与 ",(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/babel-plugin-import",target:"_blank",rel:"noopener noreferrer",children:"babel-plugin-import"})," 的区别在于，",(0,i.jsx)(n.code,{children:"source.transformImport"})," 不与 Babel 耦合。Builder 会自动识别当前使用的编译工具是 Babel、SWC 还是 Rspack，并添加相应的按需引入配置。"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type Config =\n  | false\n  | Array<{\n      libraryName: string;\n      libraryDirectory?: string;\n      style?: string | boolean;\n      styleLibraryDirectory?: string;\n      camelToDashComponentName?: boolean;\n      transformToDefaultImport?: boolean;\n      customName?: ((member: string) => string | undefined) | string;\n      customStyleName?: ((member: string) => string | undefined) | string;\n    }>;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"默认值："})}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["当项目中安装了 ",(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/antd",target:"_blank",rel:"noopener noreferrer",children:"Ant Design 组件库"})," <= 4.x 版本时，Builder 会自动添加以下默认配置："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const defaultAntdConfig = {\n  libraryName: 'antd',\n  libraryDirectory: isServer ? 'lib' : 'es',\n  style: true,\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["当项目中安装了 ",(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/@arco-design/web-react",target:"_blank",rel:"noopener noreferrer",children:"Arco Design 组件库"})," 时，Builder 会自动添加以下默认配置："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const defaultArcoConfig = [\n  {\n    libraryName: '@arco-design/web-react',\n    libraryDirectory: isServer ? 'lib' : 'es',\n    camelToDashComponentName: false,\n    style: true,\n  },\n  {\n    libraryName: '@arco-design/web-react/icon',\n    libraryDirectory: isServer ? 'react-icon-cjs' : 'react-icon',\n    camelToDashComponentName: false,\n  },\n];\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["当你添加了 ",(0,i.jsx)(n.code,{children:"antd"})," 或 ",(0,i.jsx)(n.code,{children:"@arco-design/web-react"})," 相关的配置时，优先级会高于上述默认配置。\n"]})})]}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"当使用上述 antd 默认配置："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    transformImport: [\n      {\n        libraryName: 'antd',\n        libraryDirectory: 'es',\n        style: true,\n      },\n    ],\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"源代码如下："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import { Button } from 'antd';\n"})}),"\n",(0,i.jsx)(n.p,{children:"会被转换成："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import Button from 'antd/es/button';\nimport 'antd/es/button/style';\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"禁用默认配置",children:["禁用默认配置",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#禁用默认配置",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["你可以手动设置 ",(0,i.jsx)(n.code,{children:"transformImport: false"})," 来关掉 transformImport 的默认行为。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    transformImport: false,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["比如，当你使用了 ",(0,i.jsx)(n.code,{children:"externals"})," 来避免打包 antd 时，由于 ",(0,i.jsx)(n.code,{children:"transformImport"})," 默认会转换 antd 的引用路径，导致匹配的路径发生了变化，因此 externals 无法正确生效，此时你可以设置关闭 ",(0,i.jsx)(n.code,{children:"transformImport"})," 来避免该问题。"]}),"\n",(0,i.jsxs)(n.h3,{id:"配置",children:["配置",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#配置",children:"#"})]}),"\n",(0,i.jsxs)(n.h4,{id:"libraryname",children:["libraryName",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#libraryname",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"string"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"用于指定需要按需加载的模块名称。当 Builder 遍历代码时，如果遇到了对应模块的 import 语句，则会对其进行转换。"}),"\n",(0,i.jsxs)(n.h4,{id:"librarydirectory",children:["libraryDirectory",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#librarydirectory",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"string"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"'lib'"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["用于拼接转换后的路径，拼接规则为 ",(0,i.jsx)(n.code,{children:"${libraryName}/${libraryDirectory}/${member}"}),"，其中 member 为引入成员。"]}),"\n",(0,i.jsx)(n.p,{children:"示例："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { Button } from 'foo';\n"})}),"\n",(0,i.jsx)(n.p,{children:"转换结果:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import Button from 'foo/lib/button';\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"style",children:["style",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#style",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["确定是否需要引入相关样式，若为 ",(0,i.jsx)(n.code,{children:"true"}),"，则会引入路径 ",(0,i.jsx)(n.code,{children:"${libraryName}/${libraryDirectory}/${member}/style"}),"。\n若为 ",(0,i.jsx)(n.code,{children:"false"})," 或 ",(0,i.jsx)(n.code,{children:"undefined"})," 则不会引入样式。"]}),"\n",(0,i.jsxs)(n.p,{children:["当配置为 ",(0,i.jsx)(n.code,{children:"true"})," 时："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { Button } from 'foo';\n"})}),"\n",(0,i.jsx)(n.p,{children:"转换结果:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import Button from 'foo/lib/button';\nimport 'foo/lib/button/style';\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"stylelibrarydirectory",children:["styleLibraryDirectory",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#stylelibrarydirectory",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"string"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["该配置用于拼接引入样式时的引入路径，若该配置被指定，则 ",(0,i.jsx)(n.code,{children:"style"})," 配置项会被忽略。拼接引入路径为 ",(0,i.jsx)(n.code,{children:"${libraryName}/${styleLibraryDirectory}/${member}"}),"。"]}),"\n",(0,i.jsxs)(n.p,{children:["当配置为 ",(0,i.jsx)(n.code,{children:"styles"})," 时："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { Button } from 'foo';\n"})}),"\n",(0,i.jsx)(n.p,{children:"转换结果:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import Button from 'foo/lib/button';\nimport 'foo/styles/button';\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"cameltodashcomponentname",children:["camelToDashComponentName",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#cameltodashcomponentname",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"是否需要将 camelCase 的引入转换成 kebab-case。"}),"\n",(0,i.jsx)(n.p,{children:"示例："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { ButtonGroup } from 'foo';\n"})}),"\n",(0,i.jsx)(n.p,{children:"转换结果："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// 设置成 true：\nimport ButtonGroup from 'foo/button-group';\n// 设置成 false：\nimport ButtonGroup from 'foo/ButtonGroup';\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"transformtodefaultimport",children:["transformToDefaultImport",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#transformtodefaultimport",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"是否将导入语句转换成默认导入。"}),"\n",(0,i.jsx)(n.p,{children:"示例："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { Button } from 'foo';\n"})}),"\n",(0,i.jsx)(n.p,{children:"转换结果："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// 设置成 true：\nimport Button from 'foo/button';\n// 设置成 false：\nimport { Button } from 'foo/button';\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"customname",children:["customName",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#customname",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"((member: string) => string | undefined) | string"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"注意"}),(0,i.jsxs)(n.div,{className:"modern-directive-content",children:["\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"函数类型的配置只能在 Webpack 构建中使用。"}),"\n",(0,i.jsx)(n.li,{children:"模版类型的配置只能在 Rspack 构建或者使用了 SWC 的 Webpack 构建中使用。"}),"\n"]}),"\n"]})]}),"\n",(0,i.jsxs)(n.p,{children:["自定义转换后的导入路径，输入是引入的成员，例如配置成 ",(0,i.jsx)(n.code,{children:" (member) => `my-lib/${member}` "}),"，会将 ",(0,i.jsx)(n.code,{children:"import { foo } from 'bar'"})," 转换成 ",(0,i.jsx)(n.code,{children:"import foo from 'my-lib/foo'"}),"。"]}),"\n",(0,i.jsxs)(n.p,{children:["在使用 Rspack 构建时，不能使用函数配置，但可以使用 ",(0,i.jsx)(n.a,{href:"https://handlebarsjs.com/",target:"_blank",rel:"noopener noreferrer",children:"handlebars"})," 模版字符串，对于上面的函数配置，在使用模版字符串时可以用以下模版代替 ",(0,i.jsx)(n.code,{children:"my-lib/{{ member }}"}),"，也可以使用一些内置帮助方法，例如 ",(0,i.jsx)(n.code,{children:"my-lib/{{ kebabCase member }}"})," 来转换成 kebab-case 格式，除了 kebabCase 以外还有 camelCase，snakeCase，upperCase，lowerCase 可以使用。"]}),"\n",(0,i.jsxs)(n.h4,{id:"customstylename",children:["customStyleName",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#customstylename",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"((member: string) => string | undefined) | string"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"注意"}),(0,i.jsxs)(n.div,{className:"modern-directive-content",children:["\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"函数类型的配置只能在 Webpack 构建中使用。"}),"\n",(0,i.jsx)(n.li,{children:"模版类型的配置只能在 Rspack 构建或者使用了 SWC 的 Webpack 构建中使用。"}),"\n"]}),"\n"]})]}),"\n",(0,i.jsxs)(n.p,{children:["自定义转换后的样式导入路径，输入是引入的成员，例如配置成 ",(0,i.jsx)(n.code,{children:" (member) => `my-lib/${member}` "}),"，会将 ",(0,i.jsx)(n.code,{children:"import { foo } from 'bar'"})," 转换成 ",(0,i.jsx)(n.code,{children:"import foo from 'my-lib/foo'"}),"。"]}),"\n",(0,i.jsxs)(n.p,{children:["在使用 Rspack 构建时，不能使用函数配置，但可以使用 ",(0,i.jsx)(n.a,{href:"https://handlebarsjs.com/",target:"_blank",rel:"noopener noreferrer",children:"handlebars"})," 模版字符串，对于上面的函数配置，在使用模版字符串时可以用以下模版代替 ",(0,i.jsx)(n.code,{children:"my-lib/{{ member }}"}),"，也可以使用一些内置帮助方法，例如 ",(0,i.jsx)(n.code,{children:"my-lib/{{ kebabCase member }}"})," 来转换成 kebab-case 格式，除了 kebabCase 以外还有 camelCase，snakeCase，upperCase，lowerCase 可以使用。"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Fsource%2FtransformImport.md"]={toc:[{text:"示例",id:"示例",depth:3},{text:"禁用默认配置",id:"禁用默认配置",depth:3},{text:"配置",id:"配置",depth:3},{text:"libraryName",id:"libraryname",depth:4},{text:"libraryDirectory",id:"librarydirectory",depth:4},{text:"style",id:"style",depth:4},{text:"styleLibraryDirectory",id:"stylelibrarydirectory",depth:4},{text:"camelToDashComponentName",id:"cameltodashcomponentname",depth:4},{text:"transformToDefaultImport",id:"transformtodefaultimport",depth:4},{text:"customName",id:"customname",depth:4},{text:"customStyleName",id:"customstylename",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},85548:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",pre:"pre",p:"p",a:"a",h3:"h3"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"Object | Function"})]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"默认值："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  flexbox: 'no-2009',\n  // browserslist 取决于项目中的 browserslist 配置\n  // 以及 `output.overrideBrowserslist`(优先级更高) 配置\n  overrideBrowserslist: browserslist,\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["通过 ",(0,i.jsx)(n.code,{children:"tools.autoprefixer"})," 可以修改 ",(0,i.jsx)(n.a,{href:"https://github.com/postcss/autoprefixer",target:"_blank",rel:"noopener noreferrer",children:"autoprefixer"})," 的配置。"]}),"\n",(0,i.jsxs)(n.h3,{id:"object-类型",children:["Object 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-类型",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当 ",(0,i.jsx)(n.code,{children:"tools.autoprefixer"})," 的值为 ",(0,i.jsx)(n.code,{children:"Object"})," 类型时，会与默认配置通过 Object.assign 合并。比如："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    autoprefixer: {\n      flexbox: 'no-2009',\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"function-类型",children:["Function 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-类型",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当 ",(0,i.jsx)(n.code,{children:"tools.autoprefixer"})," 为 Function 类型时，默认配置作为第一个参数传入，可以直接修改配置对象，也可以返回一个值作为最终结果。比如："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    autoprefixer(config) {\n      // 修改 flexbox 的配置\n      config.flexbox = 'no-2009';\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Ftools%2Fautoprefixer.md"]={toc:[{text:"Object 类型",id:"object-类型",depth:3},{text:"Function 类型",id:"function-类型",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},5155:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",h3:"h3",pre:"pre",div:"div",h4:"h4"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"Object | Function"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["通过 ",(0,i.jsx)(n.code,{children:"tools.babel"})," 可以修改 ",(0,i.jsx)(n.a,{href:"https://github.com/babel/babel-loader",target:"_blank",rel:"noopener noreferrer",children:"babel-loader"})," 的配置项。"]}),"\n",(0,i.jsxs)(n.h3,{id:"使用场景",children:["使用场景",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#使用场景",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["请留意 ",(0,i.jsx)(n.code,{children:"tools.babel"})," 在以下使用场景中的局限性："]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Rspack 场景：在使用 Rspack 作为打包工具时，使用 ",(0,i.jsx)(n.code,{children:"tools.babel"})," 配置项将会明显拖慢 Rspack 构建速度。因为 Rspack 默认使用的是 SWC 编译，配置 Babel 会导致代码需要被编译两次，产生了额外的编译开销。"]}),"\n",(0,i.jsxs)(n.li,{children:["webpack + SWC 场景：在使用 webpack 作为打包工具时，如果你使用了 Builder 的 SWC 插件进行代码编译，那么 ",(0,i.jsx)(n.code,{children:"tools.babel"})," 选项将不会生效。"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"function-类型",children:["Function 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-类型",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当 ",(0,i.jsx)(n.code,{children:"tools.babel"})," 为 Function 类型时，默认 Babel 配置会作为第一个参数传入，你可以直接修改配置对象，也可以返回一个对象作为最终的 ",(0,i.jsx)(n.code,{children:"babel-loader"})," 配置。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    babel(config) {\n      // 添加一个插件，比如配置某个组件库的按需引入\n      config.plugins.push([\n        'babel-plugin-import',\n        {\n          libraryName: 'xxx-components',\n          libraryDirectory: 'es',\n          style: true,\n        },\n      ]);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"tools.babel"})," 函数的第二个参数提供了一些方便的工具函数，请继续阅读下方文档。"]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["以上示例仅作为参考，通常来说，你不需要手动配置 ",(0,i.jsx)(n.code,{children:"babel-plugin-import"}),"，因为 Builder 已经提供了更通用的 ",(0,i.jsx)(n.code,{children:"source.transformImport"})," 配置。\n"]})})]}),"\n",(0,i.jsxs)(n.h3,{id:"object-类型",children:["Object 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-类型",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当 ",(0,i.jsx)(n.code,{children:"tools.babel"})," 的值为 ",(0,i.jsx)(n.code,{children:"Object"})," 类型时，会与默认配置通过 ",(0,i.jsx)(n.code,{children:"Object.assign"})," 浅合并。"]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive caution",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"CAUTION"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"Object.assign"})," 是浅拷贝，会完全覆盖内置的 ",(0,i.jsx)(n.code,{children:"presets"})," 或 ",(0,i.jsx)(n.code,{children:"plugins"})," 数组，导致内置的 presets 或 plugins 失效，请在明确影响面的情况下再使用这种方式。\n"]})})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    babel: {\n      plugins: [\n        [\n          'babel-plugin-import',\n          {\n            libraryName: 'xxx-components',\n            libraryDirectory: 'es',\n            style: true,\n          },\n        ],\n      ],\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"工具函数",children:["工具函数",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#工具函数",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"tools.babel"})," 为 Function 类型时，第二个参数可用的工具函数如下:"]}),"\n",(0,i.jsxs)(n.h4,{id:"addplugins",children:["addPlugins",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#addplugins",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"(plugins: BabelPlugin[]) => void"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"添加若干个 Babel 插件。"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    babel(config, { addPlugins }) {\n      addPlugins([\n        [\n          'babel-plugin-import',\n          {\n            libraryName: 'xxx-components',\n            libraryDirectory: 'es',\n            style: true,\n          },\n        ],\n      ]);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"addpresets",children:["addPresets",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#addpresets",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"(presets: BabelPlugin[]) => void"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"添加若干个 Babel 预设配置 (大多数情况下不需要增加预设)。"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    babel(config, { addPresets }) {\n      addPresets(['@babel/preset-env']);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"removeplugins",children:["removePlugins",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#removeplugins",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"(plugins: string | string[]) => void"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"移除 Babel 插件，传入需要移除的插件名称即可，你可以传入单个字符串，也可以传入一个字符串数组。"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    babel(config, { removePlugins }) {\n      removePlugins('babel-plugin-import');\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"removepresets",children:["removePresets",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#removepresets",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"(presets: string | string[]) => void"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"移除 Babel 预设配置，传入需要移除的预设名称即可，你可以传入单个字符串，也可以传入一个字符串数组。"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    babel(config, { removePresets }) {\n      removePresets('@babel/preset-env');\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"addincludes",children:["addIncludes",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#addincludes",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"(includes: string | RegExp | (string | RegExp)[]) => void"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["默认情况下 Babel 只会编译 src 目录下的业务代码，使用 ",(0,i.jsx)(n.code,{children:"addIncludes"})," 你可以指定 Babel 编译 node_modules 下的一些文件。比如编译 ",(0,i.jsx)(n.code,{children:"query-string"})," 依赖："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    babel(config, { addIncludes }) {\n      addIncludes(/\\/query-string\\//);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"addIncludes"})," 函数的用法与 ",(0,i.jsx)(n.code,{children:"source.include"})," 配置项基本一致，请查看 ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/builder/api/config-source.html#sourceinclude",target:"_blank",rel:"noopener noreferrer",children:"source.include 文档"})," 来查看更详细的用法说明。也可以直接使用 ",(0,i.jsx)(n.code,{children:"source.include"})," 来代替 ",(0,i.jsx)(n.code,{children:"addIncludes"})," 函数。\n"]})})]}),"\n",(0,i.jsxs)(n.h4,{id:"addexcludes",children:["addExcludes",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#addexcludes",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"(excludes: string | RegExp | (string | RegExp)[]) => void"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"addExcludes"})," 和 ",(0,i.jsx)(n.code,{children:"addIncludes"})," 的用处相反，指定 Babel 编译时排除某些文件。"]}),"\n",(0,i.jsxs)(n.p,{children:["比如不编译 ",(0,i.jsx)(n.code,{children:"src/example"})," 目录下的文件:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    babel(config, { addExcludes }) {\n      addExcludes('src/example');\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"addExcludes"})," 函数的用法与 ",(0,i.jsx)(n.code,{children:"source.exclude"})," 配置项基本一致，请查看 ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/builder/api/config-source.html#sourceexclude",target:"_blank",rel:"noopener noreferrer",children:"source.exclude 文档"})," 来查看更详细的用法说明。也可以直接使用 ",(0,i.jsx)(n.code,{children:"source.exclude"})," 来代替 ",(0,i.jsx)(n.code,{children:"addExcludes"})," 函数。\n"]})})]}),"\n",(0,i.jsxs)(n.h4,{id:"modifypresetenvoptions",children:["modifyPresetEnvOptions",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#modifypresetenvoptions",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"(options: PresetEnvOptions) => void"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["修改 ",(0,i.jsx)(n.a,{href:"https://babeljs.io/docs/en/babel-preset-env",target:"_blank",rel:"noopener noreferrer",children:"@babel/preset-env"})," 的配置项，传入的配置会与默认配置进行浅层合并，比如:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    babel(config, { modifyPresetEnvOptions }) {\n      modifyPresetEnvOptions({\n        targets: {\n          browsers: ['last 2 versions'],\n        },\n      });\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"modifypresetreactoptions",children:["modifyPresetReactOptions",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#modifypresetreactoptions",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"(options: PresetReactOptions) => void"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["修改 ",(0,i.jsx)(n.a,{href:"https://babeljs.io/docs/en/babel-preset-react",target:"_blank",rel:"noopener noreferrer",children:"@babel/preset-react"})," 的配置项，传入的配置会与默认配置进行浅层合并，比如:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    babel(config, { modifyPresetReactOptions }) {\n      modifyPresetReactOptions({\n        pragma: 'React.createElement',\n      });\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"调试-babel-配置",children:["调试 Babel 配置",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#调试-babel-配置",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当你通过 ",(0,i.jsx)(n.code,{children:"tools.babel"})," 修改 ",(0,i.jsx)(n.code,{children:"babel-loader"})," 配置后，可以在 ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/builder/guide/debug/debug-mode.html",target:"_blank",rel:"noopener noreferrer",children:"Builder 调试模式"})," 下查看最终生成的配置。"]}),"\n",(0,i.jsxs)(n.p,{children:["首先通过 ",(0,i.jsx)(n.code,{children:"DEBUG=builder"})," 参数开启调试模式："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# 调试开发环境\nDEBUG=builder pnpm dev\n\n# 调试生产环境\nDEBUG=builder pnpm build\n"})}),"\n",(0,i.jsxs)(n.p,{children:["然后打开生成的 ",(0,i.jsx)(n.code,{children:"(webpack|rspack).config.web.js"}),"，搜索 ",(0,i.jsx)(n.code,{children:"babel-loader"})," 关键词，即可看到完整的 ",(0,i.jsx)(n.code,{children:"babel-loader"})," 配置内容。"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Ftools%2Fbabel.md"]={toc:[{text:"使用场景",id:"使用场景",depth:3},{text:"Function 类型",id:"function-类型",depth:3},{text:"Object 类型",id:"object-类型",depth:3},{text:"工具函数",id:"工具函数",depth:3},{text:"addPlugins",id:"addplugins",depth:4},{text:"addPresets",id:"addpresets",depth:4},{text:"removePlugins",id:"removeplugins",depth:4},{text:"removePresets",id:"removepresets",depth:4},{text:"addIncludes",id:"addincludes",depth:4},{text:"addExcludes",id:"addexcludes",depth:4},{text:"modifyPresetEnvOptions",id:"modifypresetenvoptions",depth:4},{text:"modifyPresetReactOptions",id:"modifypresetreactoptions",depth:4},{text:"调试 Babel 配置",id:"调试-babel-配置",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},69030:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",div:"div",a:"a",blockquote:"blockquote",h3:"h3",h4:"h4",pre:"pre",h5:"h5",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"Function | undefined"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["你可以通过 ",(0,i.jsx)(n.code,{children:"tools.bundlerChain"})," 来修改默认的 webpack 和 Rspack 配置，它的值为 ",(0,i.jsx)(n.code,{children:"Function"})," 类型，接收两个参数："]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["第一个参数为 ",(0,i.jsx)(n.code,{children:"bundler-chain"})," 对象实例，你可以通过这个实例来修改 webpack 和 Rspack 的配置。"]}),"\n",(0,i.jsxs)(n.li,{children:["第二个参数为一个工具集合，包括",(0,i.jsx)(n.code,{children:"env"}),"、",(0,i.jsx)(n.code,{children:"isProd"}),"、",(0,i.jsx)(n.code,{children:"CHAIN_ID"})," 等。"]}),"\n"]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"什么是 BundlerChain"}),(0,i.jsxs)(n.div,{className:"modern-directive-content",children:["\n",(0,i.jsx)(n.p,{children:"Bundler chain 是 webpack chain 的子集，其中包含一部分 webpack chain API，你可以用它来同时修改 webpack 和 Rspack 的配置。"}),"\n",(0,i.jsxs)(n.p,{children:["通过 bundler chain 修改的配置，在 webpack 和 Rspack 构建时均可生效。需要注意的是，bundler chain 只支持修改 webpack 和 Rspack 间无差异部分的配置。如，修改 devtool 配置项(webpack 和 Rspack 的 devtool 属性值类型相同)，或添加一个",(0,i.jsx)(n.a,{href:"https://www.rspack.dev/zh/guide/plugin-compat.html",target:"_blank",rel:"noopener noreferrer",children:"Rspack 兼容"}),"的 webpack 插件。"]}),"\n"]})]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"tools.bundlerChain"})," 的执行时机早于 tools.webpackChain / tools.webpack / tools.rspack，因此会被其他几个配置中的修改所覆盖。"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"工具集合",children:["工具集合",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#工具集合",children:"#"})]}),"\n",(0,i.jsxs)(n.h4,{id:"env",children:["env",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#env",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"'development' | 'production' | 'test'"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"通过 env 参数可以判断当前环境为 development、production 还是 test。比如："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    bundlerChain: (chain, { env }) => {\n      if (env === 'development') {\n        chain.devtool('cheap-module-eval-source-map');\n      }\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"isprod",children:["isProd",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#isprod",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"通过 isProd 参数可以判断当前环境是否为 production。比如："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    bundlerChain: (chain, { isProd }) => {\n      if (isProd) {\n        chain.devtool('source-map');\n      }\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"target",children:["target",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#target",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"'web' | 'node' | 'modern-web' | 'web-worker'"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"通过 target 参数可以判断当前构建的目标运行时环境。比如："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    bundlerChain: (chain, { target }) => {\n      if (target === 'node') {\n        // ...\n      }\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"isserver",children:["isServer",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#isserver",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["判断当前构建的目标运行时环境是否为 ",(0,i.jsx)(n.code,{children:"node"}),"，等价于 ",(0,i.jsx)(n.code,{children:"target === 'node'"}),"。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    bundlerChain: (chain, { isServer }) => {\n      if (isServer) {\n        // ...\n      }\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"iswebworker",children:["isWebWorker",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#iswebworker",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["判断当前构建的目标运行时环境是否为 ",(0,i.jsx)(n.code,{children:"web-worker"}),"，等价于 ",(0,i.jsx)(n.code,{children:"target === 'web-worker'"}),"。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    bundlerChain: (chain, { isWebWorker }) => {\n      if (isWebWorker) {\n        // ...\n      }\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"htmlplugin",children:["HtmlPlugin",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmlplugin",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"typeof import('html-webpack-plugin') | import('@rspack/plugin-html') "})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"通过这个参数你可以拿到 webpack 或 Rspack 中的 HtmlPlugin 实例。"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    bundlerChain: (chain, { HtmlPlugin }) => {\n      console.log(HtmlPlugin);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"chain_id",children:["CHAIN_ID",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chain_id",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder 中预先定义了一些常用的 Chain ID，你可以通过这些 ID 来定位到内置的 Rule 或 Plugin。"}),"\n",(0,i.jsxs)(n.h5,{id:"chain_idrule",children:["CHAIN_ID.RULE",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chain_idrule",children:"#"})]}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"ID"}),"\n",(0,i.jsx)(n.th,{children:"描述"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RULE.MJS"})}),"\n",(0,i.jsxs)(n.td,{children:["处理 ",(0,i.jsx)(n.code,{children:"mjs"})," 的规则"]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RULE.CSS"})}),"\n",(0,i.jsxs)(n.td,{children:["处理 ",(0,i.jsx)(n.code,{children:"css"})," 的规则"]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RULE.LESS"})}),"\n",(0,i.jsxs)(n.td,{children:["处理 ",(0,i.jsx)(n.code,{children:"less"})," 的规则"]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RULE.SASS"})}),"\n",(0,i.jsxs)(n.td,{children:["处理 ",(0,i.jsx)(n.code,{children:"sass"})," 的规则"]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RULE.TOML"})}),"\n",(0,i.jsxs)(n.td,{children:["处理 ",(0,i.jsx)(n.code,{children:"toml"})," 的规则"]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RULE.YAML"})}),"\n",(0,i.jsxs)(n.td,{children:["处理 ",(0,i.jsx)(n.code,{children:"yaml"})," 的规则"]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RULE.WASM"})}),"\n",(0,i.jsxs)(n.td,{children:["处理 ",(0,i.jsx)(n.code,{children:"wasm"})," 的规则"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"chain_idone_of",children:["CHAIN_ID.ONE_OF",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chain_idone_of",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["通过 ",(0,i.jsx)(n.code,{children:"ONE_OF.XXX"})," 可以匹配到规则数组中的某一类规则。"]}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"ID"}),"\n",(0,i.jsx)(n.th,{children:"描述"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ONE_OF.SVG"})}),"\n",(0,i.jsx)(n.td,{children:"处理 SVG 的规则，在 data URI 和单独文件之间自动选择"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ONE_OF.SVG_URL"})}),"\n",(0,i.jsx)(n.td,{children:"处理 SVG 的规则，输出为单独文件"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ONE_OF.SVG_INLINE"})}),"\n",(0,i.jsx)(n.td,{children:"处理 SVG 的规则，作为 data URI 内联到 bundle 中"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ONE_OF.SVG_ASSETS"})}),"\n",(0,i.jsx)(n.td,{children:"处理 SVG 的规则，在 data URI 和单独文件之间自动选择"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"chain_iduse",children:["CHAIN_ID.USE",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chain_iduse",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["通过 ",(0,i.jsx)(n.code,{children:"USE.XXX"})," 可以匹配到对应的 loader。"]}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"ID"}),"\n",(0,i.jsx)(n.th,{children:"描述"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.LESS"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"less-loader"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.SASS"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"sass-loader"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.TOML"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"toml-loader"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.YAML"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"yaml-loader"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.SVGR"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"@svgr/webpack"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.POSTCSS"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"postcss-loader"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"chain_idplugin",children:["CHAIN_ID.PLUGIN",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chain_idplugin",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["通过 ",(0,i.jsx)(n.code,{children:"PLUGIN.XXX"})," 可以匹配到对应的 plugin。"]}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"ID"}),"\n",(0,i.jsx)(n.th,{children:"描述"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.HTML"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"HtmlPlugin"}),"，使用时需要拼接 entry 名称：",(0,i.jsx)(n.code,{children:"${PLUGIN.HTML}-${entryName}"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.APP_ICON"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"AppIconPlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.INLINE_HTML"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"InlineChunkHtmlPlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.BUNDLE_ANALYZER"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"WebpackBundleAnalyzer"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.BOTTOM_TEMPLATE"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"BottomTemplatePlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.ASSETS_RETRY"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 Builder 中的 webpack 静态资源重试插件 ",(0,i.jsx)(n.code,{children:"WebpackAssetsRetryPlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.AUTO_SET_ROOT_SIZE"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 Builder 中的自动设置根字体大小插件 ",(0,i.jsx)(n.code,{children:"AutoSetRootSizePlugin"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"常用-bundlerchain-使用示例",children:["常用 BundlerChain 使用示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#常用-bundlerchain-使用示例",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["BundlerChain 的使用可参考：",(0,i.jsx)(n.a,{href:"https://modernjs.dev/builder/guide/advanced/custom-webpack-config.html#%E4%BD%BF%E7%94%A8-webpack-chain",target:"_blank",rel:"noopener noreferrer",children:"常用 WebpackChain 使用示例"}),"。"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Ftools%2FbundlerChain.mdx"]={toc:[{text:"工具集合",id:"工具集合",depth:3},{text:"env",id:"env",depth:4},{text:"isProd",id:"isprod",depth:4},{text:"target",id:"target",depth:4},{text:"isServer",id:"isserver",depth:4},{text:"isWebWorker",id:"iswebworker",depth:4},{text:"HtmlPlugin",id:"htmlplugin",depth:3},{text:"CHAIN_ID",id:"chain_id",depth:4},{text:"CHAIN_ID.ONE_OF",id:"chain_idone_of",depth:3},{text:"CHAIN_ID.USE",id:"chain_iduse",depth:3},{text:"CHAIN_ID.PLUGIN",id:"chain_idplugin",depth:3},{text:"常用 BundlerChain 使用示例",id:"常用-bundlerchain-使用示例",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},94333:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",pre:"pre",p:"p",a:"a",h3:"h3"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"Object | Function"})]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"默认值："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const defaultOptions = {\n  // Loader 配置\n  loaderOptions: {},\n  // Plugin 配置\n  pluginOptions: {\n    // cssPath 默认为 static/css, cssFilename 默认为 [name].[contenthash:8].css\n    filename: `${cssPath}/${cssFilename}`,\n    chunkFilename: `${cssPath}/async/${cssFilename}`,\n    ignoreOrder: true,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"打包工具："})," ",(0,i.jsx)(n.code,{children:"仅支持 webpack"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["通过 ",(0,i.jsx)(n.code,{children:"tools.cssExtract"})," 可以更改 ",(0,i.jsx)(n.a,{href:"https://github.com/webpack-contrib/mini-css-extract-plugin",target:"_blank",rel:"noopener noreferrer",children:"mini-css-extract-plugin"})," 的配置。"]}),"\n",(0,i.jsxs)(n.h3,{id:"object-类型",children:["Object 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-类型",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"当此值为 Object 类型时，与默认配置通过 Object.assign 合并。比如："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    cssExtract: {\n      pluginOptions: {\n        filename: 'static/css/[name].[contenthash:8].css',\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"function-类型",children:["Function 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-类型",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"当此值为 Function 类型时，默认配置作为第一个参数传入，你可以直接修改配置对象，也可以返回一个对象作为最终配置。比如："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    cssExtract: config => {\n      config.pluginOptions.filename = 'static/css/[name].[contenthash:8].css';\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["更多配置细节可参考 ",(0,i.jsx)(n.a,{href:"https://github.com/webpack-contrib/mini-css-extract-plugin",target:"_blank",rel:"noopener noreferrer",children:"mini-css-extract-plugin"}),"。"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Ftools%2FcssExtract.md"]={toc:[{text:"Object 类型",id:"object-类型",depth:3},{text:"Function 类型",id:"function-类型",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},41417:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",pre:"pre",div:"div",h3:"h3"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"Object | Function"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["通过 ",(0,i.jsx)(n.code,{children:"tools.cssLoader"})," 可以修改 ",(0,i.jsx)(n.a,{href:"https://github.com/webpack-contrib/css-loader",target:"_blank",rel:"noopener noreferrer",children:"css-loader"})," 的配置项。默认配置如下:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  modules: {\n    auto: true,\n    exportLocalsConvention: 'camelCase',\n    localIdentName: config.output.cssModuleLocalIdentName,\n    // isServer 表示 node (SSR) 构建\n    // isWebWorker 表示 web worker 构建\n    exportOnlyLocals: isServer || isWebWorker,\n  },\n  // 默认在开发环境下启用 CSS 的 Source Map\n  sourceMap: isDev,\n  // importLoaders 在编译 css 文件时为 `1`，在编译 sass/less 文件时为 `2`\n  importLoaders: 1 || 2,\n}\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["在使用 Rspack 作为打包工具时，仅支持在 ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/builder/api/config-output.html#outputdisablecssextract",target:"_blank",rel:"noopener noreferrer",children:"disableCssExtract"})," 时使用该配置。\n"]})})]}),"\n",(0,i.jsxs)(n.h3,{id:"object-类型",children:["Object 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-类型",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"当此值为 Object 类型时，会与默认配置进行深层合并 (deep merge)。比如："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    cssLoader: {\n      modules: {\n        exportOnlyLocals: true,\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"function-类型",children:["Function 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-类型",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"当此值为 Function 类型时，默认配置作为第一个参数传入，你可以直接修改配置对象，也可以返回一个对象作为最终配置。比如："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    cssLoader: config => {\n      config.modules.exportOnlyLocals = true;\n      return config;\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Ftools%2FcssLoader.md"]={toc:[{text:"Object 类型",id:"object-类型",depth:3},{text:"Function 类型",id:"function-类型",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},23345:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",h4:"h4",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"Object"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"{}"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["通过 ",(0,i.jsx)(n.code,{children:"tools.devServer"})," 可以修改开发环境服务器的配置。"]}),"\n",(0,i.jsxs)(n.h3,{id:"选项",children:["选项",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#选项",children:"#"})]}),"\n",(0,i.jsxs)(n.h4,{id:"after",children:["after",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#after",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"Array"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"[]"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"添加自定义中间件，在所有开发环境中间件后执行。"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    devServer: {\n      after: [\n        async (req, res, next) => {\n          console.log('after dev middleware');\n          next();\n        },\n      ],\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"webpack-dev-server"})," 使用 Express 作为服务端框架。Modern.js 中没有使用任何框架，上述中间件中 ",(0,i.jsx)(n.code,{children:"req"})," 和 ",(0,i.jsx)(n.code,{children:"res"})," 都是 Node 原生对象，因此 ",(0,i.jsx)(n.code,{children:"webpack-dev-server"})," 的 Express 中间件不一定能直接在 Modern.js 中使用。"]}),"\n",(0,i.jsxs)(n.p,{children:["如果要迁移 ",(0,i.jsx)(n.code,{children:"webpack-dev-server"})," 中使用的 Express 中间件，可以使用以下方式，将 Express app 作为中间件传入："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import expressMiddleware from 'my-express-middleware';\nimport express from 'express';\n\n// 初始化 Express app\nconst app = express();\napp.use(expressMiddleware);\n\nexport default {\n  tools: {\n    devServer: {\n      after: [app],\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"before",children:["before",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#before",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"Array"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"[]"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"添加自定义中间件，在所有开发环境中间件前执行。"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    devServer: {\n      before: [\n        async (req, res, next) => {\n          console.log('before dev middleware');\n          next();\n        },\n      ],\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"client",children:["client",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#client",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"{\n    /** 指定协议名称 */\n    protocol?: string;\n    /** 事件流路径 */\n    path?: string;\n    /** 指定监听请求的端口号 */\n    port?: string;\n    /** 指定要使用的 host */\n    host?: string;\n}\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"默认值："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const defaultConfig = {\n  path: '/webpack-hmr',\n  // By default it is set to the port number of the dev server\n  port: '',\n  // By default it is set to \"location.hostname\"\n  host: '',\n  // By default it is set to \"location.protocol === 'https:' ? 'wss' : 'ws'\"\"\n  protocol: '',\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"对应 HMR 客户端的配置，通常用于设置 HMR 对应的 WebSocket URL。"}),"\n",(0,i.jsxs)(n.h4,{id:"compress",children:["compress",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#compress",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"是否对静态资源启用 gzip 压缩。"}),"\n",(0,i.jsxs)(n.p,{children:["如果你需要禁用 gzip 压缩，可以将 ",(0,i.jsx)(n.code,{children:"compress"})," 设置为 ",(0,i.jsx)(n.code,{children:"false"}),"："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    devServer: {\n      compress: false,\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"devmiddleware",children:["devMiddleware",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#devmiddleware",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  writeToDisk: boolean | ((filename: string) => boolean);\n}\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"默认值："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  writeToDisk: (file: string) => !file.includes('.hot-update.'),\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["devMiddleware 配置项。当前配置是 ",(0,i.jsx)(n.a,{href:"https://github.com/webpack/webpack-dev-middleware",target:"_blank",rel:"noopener noreferrer",children:"webpack-dev-middleware"})," 配置项的子集."]}),"\n",(0,i.jsxs)(n.h4,{id:"headers",children:["headers",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#headers",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"Record<string, string>"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"设置自定义响应头。"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    devServer: {\n      headers: {\n        'X-Custom-Foo': 'bar',\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"historyapifallback",children:["historyApiFallback",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#historyapifallback",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean | ConnectHistoryApiFallbackOptions"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["在需要对一些 404 响应或其他请求提供替代页面的场景，可通过 ",(0,i.jsx)(n.code,{children:"devServer.historyApiFallback"})," 进行设置："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    devServer: {\n      historyApiFallback: true,\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["更多选项和详细信息可参考 ",(0,i.jsx)(n.a,{href:"https://github.com/bripkens/connect-history-api-fallback",target:"_blank",rel:"noopener noreferrer",children:"connect-history-api-fallback"})," 文档。"]}),"\n",(0,i.jsxs)(n.h4,{id:"hot",children:["hot",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#hot",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["是否开启 ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/concepts/hot-module-replacement/",target:"_blank",rel:"noopener noreferrer",children:"Hot Module Replacement"})," 热更新能力。"]}),"\n",(0,i.jsxs)(n.h4,{id:"https",children:["https",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#https",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean | { key: string; cert: string }"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["默认情况下，DevServer 会启用 HTTP 服务器。通过设置 ",(0,i.jsx)(n.code,{children:"devServer.https"})," 为 ",(0,i.jsx)(n.code,{children:"true"})," 将开启对 HTTPS 的支持，同时会禁用 HTTP 服务器。"]}),"\n",(0,i.jsx)(n.p,{children:"你也可以手动传入 HTTPS 服务器所需要的证书和对应的私钥："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    devServer: {\n      https: {\n        key: fs.readFileSync('certificates/private.pem'),\n        cert: fs.readFileSync('certificates/public.pem'),\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"livereload",children:["liveReload",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#livereload",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["默认情况下，当监听到文件变化时，DevServer 将会刷新页面（为使 liveReload 能够生效，",(0,i.jsx)(n.code,{children:"devServer.hot"})," 配置项应当禁用）。通过设置 ",(0,i.jsx)(n.code,{children:"devServer.liveReload"})," 为 ",(0,i.jsx)(n.code,{children:"false"})," 可以关闭该行为。"]}),"\n",(0,i.jsxs)(n.h4,{id:"setupmiddlewares",children:["setupMiddlewares",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#setupmiddlewares",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"Array<\n  (\n    middlewares: {\n      unshift: (...handlers: RequestHandler[]) => void;\n      push: (...handlers: RequestHandler[]) => void;\n    },\n    server: {\n      sockWrite: (\n        type: string,\n        data?: string | boolean | Record<string, any>,\n      ) => void;\n    },\n  ) => void\n>;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"提供执行自定义函数和应用自定义中间件的能力。"}),"\n",(0,i.jsxs)(n.p,{children:["几种不同中间件之间的执行顺序是: ",(0,i.jsx)(n.code,{children:"devServer.before"})," => ",(0,i.jsx)(n.code,{children:"unshift"})," => 内置中间件 => ",(0,i.jsx)(n.code,{children:"push"})," => ",(0,i.jsx)(n.code,{children:"devServer.after"}),"。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    devServer: {\n      setupMiddlewares: [\n        (middlewares, server) => {\n          middlewares.unshift((req, res, next) => {\n            next();\n          });\n\n          middlewares.push((req, res, next) => {\n            next();\n          });\n        },\n      ],\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"一些特殊场景需求可能需要使用服务器 API："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:'sockWrite。允许向 hmr 客户端传递一些消息，hmr 客户端将根据接收到的消息类型进行不同的处理。如果你发送一个 "content-changed " 的消息，页面将会重新加载。'}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    devServer: {\n      setupMiddlewares: [\n        (middlewares, server) => {\n          // 添加自定义 watcher 并在文件更新时触发页面刷新\n          watcher.on('change', changed => {\n            server.sockWrite('content-changed');\n          });\n        },\n      ],\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"proxy",children:["proxy",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#proxy",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"Record<string, string> | Record<string, ProxyDetail>"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"代理请求到指定的服务上。"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    devServer: {\n      proxy: {\n        '/api': 'http://localhost:3000',\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["此时，/api/users 请求将会代理到 ",(0,i.jsx)(n.a,{href:"http://localhost:3000/api/users%E3%80%82",target:"_blank",rel:"noopener noreferrer",children:"http://localhost:3000/api/users。"})]}),"\n",(0,i.jsxs)(n.p,{children:["如果你不想传递 /api，可以通过 ",(0,i.jsx)(n.code,{children:"pathRewrite"})," 重写请求路径："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    devServer: {\n      proxy: {\n        '/api': {\n          target: 'http://localhost:3000',\n          pathRewrite: { '^/api': '' },\n        },\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["DevServer Proxy 基于 ",(0,i.jsx)(n.a,{href:"https://github.com/chimurai/http-proxy-middleware/tree/2.x",target:"_blank",rel:"noopener noreferrer",children:"http-proxy-middleware"})," 实现。你可以使用 http-proxy-middleware 的所有配置项，具体可以查看文档。"]}),"\n",(0,i.jsx)(n.p,{children:"DevServer Proxy 完整类型定义为："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import type { Options as HttpProxyOptions } from 'http-proxy-middleware';\n\ntype ProxyDetail = HttpProxyOptions & {\n  bypass?: (\n    req: IncomingMessage,\n    res: ServerResponse,\n    proxyOptions: ProxyOptions,\n  ) => string | undefined | null | false;\n  context?: string | string[];\n};\n\ntype ProxyOptions =\n  | Record<string, string>\n  | Record<string, ProxyDetail>\n  | ProxyDetail[]\n  | ProxyDetail;\n"})}),"\n",(0,i.jsx)(n.p,{children:"除了 http-proxy-middleware 的选项外，还支持 bypass 和 context 两个配置项："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["bypass：根据函数的返回值绕过代理。","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["返回 ",(0,i.jsx)(n.code,{children:"null"})," 或 ",(0,i.jsx)(n.code,{children:"undefined"})," 会继续用代理处理请求。"]}),"\n",(0,i.jsxs)(n.li,{children:["返回 ",(0,i.jsx)(n.code,{children:"false"})," 会返回 404 错误。"]}),"\n",(0,i.jsx)(n.li,{children:"返回一个具体的服务路径，将会使用此路径替代原请求路径。"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.li,{children:"context：如果你想代理多个特定的路径到同一个目标，你可以使用 context 配置项。"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"// 自定义 bypass 方法\nexport default {\n  tools: {\n    devServer: {\n      proxy: {\n        '/api': {\n          target: 'http://localhost:3000',\n          bypass: function (req, res, proxyOptions) {\n            if (req.headers.accept.indexOf('html') !== -1) {\n              console.log('Skipping proxy for browser request.');\n              return '/index.html';\n            }\n          },\n        },\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"// 代理多个路径到同一个目标\nexport default {\n  tools: {\n    devServer: {\n      proxy: [\n        {\n          context: ['/auth', '/api'],\n          target: 'http://localhost:3000',\n        },\n      ],\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"watch",children:["watch",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#watch",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["是否监听 ",(0,i.jsx)(n.code,{children:"mock/"}),"、",(0,i.jsx)(n.code,{children:"server/"}),"、",(0,i.jsx)(n.code,{children:"api/"})," 等目录的文件变化。"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Ftools%2FdevServer.md"]={toc:[{text:"选项",id:"选项",depth:3},{text:"after",id:"after",depth:4},{text:"before",id:"before",depth:4},{text:"client",id:"client",depth:4},{text:"compress",id:"compress",depth:4},{text:"devMiddleware",id:"devmiddleware",depth:4},{text:"headers",id:"headers",depth:4},{text:"historyApiFallback",id:"historyapifallback",depth:4},{text:"hot",id:"hot",depth:4},{text:"https",id:"https",depth:4},{text:"liveReload",id:"livereload",depth:4},{text:"setupMiddlewares",id:"setupmiddlewares",depth:4},{text:"proxy",id:"proxy",depth:4},{text:"watch",id:"watch",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},77991:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",pre:"pre",p:"p",a:"a",h3:"h3"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"false | Object | Function"})]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"默认值："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const defaultHtmlPluginOptions = {\n  inject, // 对应 html.inject 配置项\n  favicon, // 对应 html.favicon 配置项\n  filename, // 基于 output.distPath 和 entryName 生成\n  template, // 默认为内置的 HTML 模板路径\n  templateParameters, // 对应 html.templateParameters 配置项\n  chunks: [entryName],\n  minify: {\n    removeComments: false,\n    useShortDoctype: true,\n    keepClosingSlash: true,\n    collapseWhitespace: true,\n    removeRedundantAttributes: true,\n    removeScriptTypeAttributes: true,\n    removeStyleLinkTypeAttributes: true,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["通过 ",(0,i.jsx)(n.code,{children:"tools.htmlPlugin"})," 可以修改 ",(0,i.jsx)(n.a,{href:"https://github.com/jantimon/html-webpack-plugin",target:"_blank",rel:"noopener noreferrer",children:"html-webpack-plugin"})," 或 ",(0,i.jsx)(n.a,{href:"https://github.com/web-infra-dev/rspack/tree/main/packages/rspack-plugin-html",target:"_blank",rel:"noopener noreferrer",children:"@rspack/plugin-html"})," 的配置项。"]}),"\n",(0,i.jsxs)(n.h3,{id:"object-类型",children:["Object 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-类型",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当 ",(0,i.jsx)(n.code,{children:"tools.htmlPlugin"})," 的值为 ",(0,i.jsx)(n.code,{children:"Object"})," 类型时，会与默认配置通过 ",(0,i.jsx)(n.code,{children:"Object.assign"})," 合并。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    htmlPlugin: {\n      scriptLoading: 'blocking',\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"function-类型",children:["Function 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-类型",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当 ",(0,i.jsx)(n.code,{children:"tools.htmlPlugin"})," 为 Function 类型时："]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"第一个参数是默认配置的对象，可以直接修改该对象。"}),"\n",(0,i.jsx)(n.li,{children:"第二个参数是也是一个对象，包含了 entry 的名称和 entry 的值。"}),"\n",(0,i.jsx)(n.li,{children:"函数可以 return 一个新的对象作为最终的配置。"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    htmlPlugin(config, { entryName, entryValue }) {\n      if (entryName === 'main') {\n        config.scriptLoading = 'blocking';\n      }\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"boolean-类型",children:["Boolean 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#boolean-类型",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["将 ",(0,i.jsx)(n.code,{children:"tools.htmlPlugin"})," 配置为 ",(0,i.jsx)(n.code,{children:"false"}),"，可以禁用默认的 ",(0,i.jsx)(n.code,{children:"html-webpack-plugin"})," 插件。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    htmlPlugin: false,\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Ftools%2FhtmlPlugin.md"]={toc:[{text:"Object 类型",id:"object-类型",depth:3},{text:"Function 类型",id:"function-类型",depth:3},{text:"Boolean 类型",id:"boolean-类型",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},11857:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",h3:"h3",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"Object | Function | undefined"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"打包工具："})," ",(0,i.jsx)(n.code,{children:"仅支持 webpack"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["你可以通过 ",(0,i.jsx)(n.code,{children:"tools.inspector"})," 开启或者配置 webpack 调试工具 ",(0,i.jsx)(n.a,{href:"https://github.com/web-infra-dev/webpack-inspector",target:"_blank",rel:"noopener noreferrer",children:"webpack inspector"}),"。"]}),"\n",(0,i.jsxs)(n.p,{children:["当配置不为 ",(0,i.jsx)(n.code,{children:"undefined"})," 时，则表示开启了 ",(0,i.jsx)(n.code,{children:"webpack-inspector"}),"，此时 ",(0,i.jsx)(n.code,{children:"tools.inspector"})," 的类型可以为 ",(0,i.jsx)(n.code,{children:"Object"})," 或者 ",(0,i.jsx)(n.code,{children:"Function"}),"。"]}),"\n",(0,i.jsxs)(n.h3,{id:"object-类型",children:["Object 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-类型",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当 ",(0,i.jsx)(n.code,{children:"tools.inspector"})," 的值为 ",(0,i.jsx)(n.code,{children:"Object"})," 类型时，会与默认配置通过 Object.assign 合并。比如："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    inspector: {\n      // 默认端口为 3333\n      port: 3334,\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"function-类型",children:["Function 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-类型",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当 ",(0,i.jsx)(n.code,{children:"tools.inspector"})," 为 Function 类型时，默认配置作为第一个参数传入，可以直接修改配置对象，也可以返回一个值作为最终结果。比如："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    inspector(config) {\n      // 修改端口号\n      config.port = 3333;\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Ftools%2Finspector.md"]={toc:[{text:"Object 类型",id:"object-类型",depth:3},{text:"Function 类型",id:"function-类型",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},71164:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",pre:"pre",p:"p",a:"a",h3:"h3",h4:"h4"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"Object | Function"})]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"默认值："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const defaultOptions = {\n  lessOptions: {\n    javascriptEnabled: true,\n  },\n  // 默认在开发环境下启用 CSS 的 Source Map\n  sourceMap: isDev,\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["你可以通过 ",(0,i.jsx)(n.code,{children:"tools.less"})," 修改 ",(0,i.jsx)(n.a,{href:"https://github.com/webpack-contrib/less-loader",target:"_blank",rel:"noopener noreferrer",children:"less-loader"})," 的配置。"]}),"\n",(0,i.jsxs)(n.h3,{id:"object-类型",children:["Object 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-类型",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当 ",(0,i.jsx)(n.code,{children:"tools.less"})," 的值为 ",(0,i.jsx)(n.code,{children:"Object"})," 类型时，会与默认配置通过 Object.assign 进行浅层合并，值得注意的是，",(0,i.jsx)(n.code,{children:"lessOptions"})," 会通过 deepMerge 进行深层合并。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    less: {\n      lessOptions: {\n        javascriptEnabled: false,\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"function-类型",children:["Function 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-类型",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当 ",(0,i.jsx)(n.code,{children:"tools.less"})," 为 Function 类型时，默认配置作为第一个参数传入，可以直接修改配置对象，也可以返回一个值作为最终结果，第二个参数提供了一些可以直接调用的工具函数："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    less(config) {\n      // 修改 lessOptions 配置\n      config.lessOptions = {\n        javascriptEnabled: false,\n      };\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"工具函数",children:["工具函数",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#工具函数",children:"#"})]}),"\n",(0,i.jsxs)(n.h4,{id:"addexcludes",children:["addExcludes",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#addexcludes",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"(excludes: RegExp | RegExp[]) => void"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["用来指定 ",(0,i.jsx)(n.code,{children:"less-loader"})," 不编译哪些文件，你可以传入一个或多个正则表达式来匹配 less 文件的路径。例如："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    less(config, { addExcludes }) {\n      addExcludes(/node_modules/);\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Ftools%2Fless.md"]={toc:[{text:"Object 类型",id:"object-类型",depth:3},{text:"Function 类型",id:"function-类型",depth:3},{text:"工具函数",id:"工具函数",depth:3},{text:"addExcludes",id:"addexcludes",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},3869:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",pre:"pre",p:"p",a:"a",h3:"h3"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"Object | Function | undefined"})]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"默认值："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const defaultOptions = {\n  minimizerOptions: {\n    preset: [\n      'default',\n      {\n        mergeLonghand: false,\n      },\n    ],\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"打包工具："})," ",(0,i.jsx)(n.code,{children:"仅支持 webpack"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["在生产环境构建时，Builder 会通过 ",(0,i.jsx)(n.a,{href:"https://github.com/webpack-contrib/css-minimizer-webpack-plugin",target:"_blank",rel:"noopener noreferrer",children:"css-minimizer-webpack-plugin"})," 对 CSS 代码进行压缩优化。可以通过 ",(0,i.jsx)(n.code,{children:"tools.minifyCss"})," 修改 ",(0,i.jsx)(n.a,{href:"https://github.com/webpack-contrib/css-minimizer-webpack-plugin",target:"_blank",rel:"noopener noreferrer",children:"css-minimizer-webpack-plugin"})," 的配置。"]}),"\n",(0,i.jsxs)(n.h3,{id:"object-类型",children:["Object 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-类型",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当 ",(0,i.jsx)(n.code,{children:"tools.minifyCss"})," 的值为 ",(0,i.jsx)(n.code,{children:"Object"})," 类型时，会与默认配置通过 ",(0,i.jsx)(n.code,{children:"Object.assign"})," 合并。"]}),"\n",(0,i.jsxs)(n.p,{children:["例如下面修改 ",(0,i.jsx)(n.a,{href:"https://cssnano.co/",target:"_blank",rel:"noopener noreferrer",children:"cssnano"})," 的 ",(0,i.jsx)(n.code,{children:"preset"})," 配置："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    minifyCss: {\n      minimizerOptions: {\n        preset: require.resolve('cssnano-preset-simple'),\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"function-类型",children:["Function 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-类型",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当 ",(0,i.jsx)(n.code,{children:"tools.minifyCss"})," 配置为 ",(0,i.jsx)(n.code,{children:"Function"})," 类型时，默认配置作为第一个参数传入，可以直接修改配置对象，也可以返回一个值作为最终结果。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n   tools: {\n    minifyCss: options => {\n      options.minimizerOptions = {\n        preset: require.resolve('cssnano-preset-simple'),\n      },\n    }\n  }\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Ftools%2FminifyCss.md"]={toc:[{text:"Object 类型",id:"object-类型",depth:3},{text:"Function 类型",id:"function-类型",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},68863:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",pre:"pre",p:"p",a:"a",h3:"h3",h4:"h4",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"Object | Function"})]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"默认值："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const defaultOptions = {\n  postcssOptions: {\n    plugins: [\n      require('postcss-flexbugs-fixes'),\n      require('postcss-custom-properties'),\n      require('postcss-initial'),\n      require('postcss-page-break'),\n      require('postcss-font-variant'),\n      require('postcss-media-minmax'),\n      require('postcss-nesting'),\n      require('autoprefixer')({\n        flexbox: 'no-2009',\n      }),\n    ],\n    // 默认在开发环境下启用 CSS 的 Source Map\n    sourceMap: isDev,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Builder 默认集成 PostCSS，你可以通过 ",(0,i.jsx)(n.code,{children:"tools.postcss"})," 对 ",(0,i.jsx)(n.a,{href:"https://github.com/webpack-contrib/postcss-loader",target:"_blank",rel:"noopener noreferrer",children:"postcss-loader"})," 进行配置。"]}),"\n",(0,i.jsxs)(n.h3,{id:"function-类型",children:["Function 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-类型",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"值为 Function 类型时，内部默认配置作为第一参数传入，可以直接修改配置对象不做返回，也可以返回一个对象作为最终结果；第二个参数为修改 postcss-loader 配置的工具函数集合。"}),"\n",(0,i.jsx)(n.p,{children:"例如，需要在原有插件的基础上新增一个 PostCSS 插件，在 postcssOptions.plugins 数组中 push 一个新的插件即可："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    postcss: opts => {\n      opts.postcssOptions.plugins.push(require('postcss-px-to-viewport'));\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"需要给 PostCSS 插件传递参数时，可以通过函数参数的形式进行传入："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    postcss: opts => {\n      const viewportPlugin = require('postcss-px-to-viewport')({\n        viewportWidth: 375,\n      });\n      opts.postcssOptions.plugins.push(viewportPlugin);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"tools.postcss"})," 可以返回一个配置对象，并完全替换默认配置："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    postcss: () => {\n      return {\n        postcssOptions: {\n          plugins: [require('postcss-px-to-viewport')],\n        },\n      };\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"object-类型",children:["Object 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-类型",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当此值为 Object 类型时，与默认配置通过 ",(0,i.jsx)(n.code,{children:"Object.assign"})," 合并。注意 ",(0,i.jsx)(n.code,{children:"Object.assign"})," 是浅拷贝，会完全覆盖内置的 ",(0,i.jsx)(n.code,{children:"plugins"})," 数组，请谨慎使用。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    postcss: {\n      // 由于使用 `Object.assign` 合并，因此默认的 postcssOptions 会被覆盖。\n      postcssOptions: {\n        plugins: [require('postcss-px-to-viewport')],\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"工具函数",children:["工具函数",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#工具函数",children:"#"})]}),"\n",(0,i.jsxs)(n.h4,{id:"addplugins",children:["addPlugins",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#addplugins",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"(plugins: PostCSSPlugin | PostCSSPlugin[]) => void"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"用于添加额外的 PostCSS 插件，你可以传入单个 PostCSS 插件，也可以传入 PostCSS 插件数组。"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    postcss: (config, { addPlugins }) => {\n      // 添加一个插件\n      addPlugins(require('postcss-preset-env'));\n      // 批量添加插件\n      addPlugins([require('postcss-preset-env'), require('postcss-import')]);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"Builder 中使用的 PostCSS 版本为 v8，当你引入社区中的 PostCSS 插件时，请注意版本是否适配，部分旧版本插件可能无法在 PostCSS v8 下运行。"})})]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Ftools%2Fpostcss.md"]={toc:[{text:"Function 类型",id:"function-类型",depth:3},{text:"Object 类型",id:"object-类型",depth:3},{text:"工具函数",id:"工具函数",depth:3},{text:"addPlugins",id:"addplugins",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},95994:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",h3:"h3",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"true | Object | Function | undefined"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"false"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["配置 ",(0,i.jsx)(n.a,{href:"https://pugjs.org/",target:"_blank",rel:"noopener noreferrer",children:"Pug"})," 模板引擎。"]}),"\n",(0,i.jsxs)(n.h3,{id:"boolean-类型",children:["Boolean 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#boolean-类型",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder 默认不启用 Pug 模板引擎，你可以将 ",(0,i.jsx)(n.code,{children:"tools.pug"})," 设置为 ",(0,i.jsx)(n.code,{children:"true"})," 来启用它。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    pug: true,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["启用后，你可以在 ",(0,i.jsx)(n.code,{children:"html.template"})," 中指定使用 ",(0,i.jsx)(n.code,{children:"index.pug"})," 作为模板文件。"]}),"\n",(0,i.jsxs)(n.h3,{id:"object-类型",children:["Object 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-类型",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当 ",(0,i.jsx)(n.code,{children:"tools.terser"})," 的值为 ",(0,i.jsx)(n.code,{children:"Object"})," 类型时，可以配置 Pug 模板引擎的选项："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    pug: {\n      doctype: 'xml',\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["详细参数请查看 ",(0,i.jsx)(n.a,{href:"https://pugjs.org/api/reference.html#options",target:"_blank",rel:"noopener noreferrer",children:"Pug API Reference"}),"。"]}),"\n",(0,i.jsxs)(n.h3,{id:"function-类型",children:["Function 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-类型",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当 ",(0,i.jsx)(n.code,{children:"tools.pug"})," 配置为 ",(0,i.jsx)(n.code,{children:"Function"})," 类型时，默认配置作为第一个参数传入，可以直接修改配置对象，也可以返回一个值作为最终结果。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    pug(config) {\n      config.doctype = 'xml';\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Ftools%2Fpug.md"]={toc:[{text:"Boolean 类型",id:"boolean-类型",depth:3},{text:"Object 类型",id:"object-类型",depth:3},{text:"Function 类型",id:"function-类型",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},5288:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",h3:"h3",pre:"pre",div:"div",h4:"h4"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"Object | Function | undefined"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"打包工具："})," ",(0,i.jsx)(n.code,{children:"仅支持 Rspack"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"tools.rspack"})," 选项用于配置原生的 ",(0,i.jsx)(n.a,{href:"https://www.rspack.dev/",target:"_blank",rel:"noopener noreferrer",children:"Rspack"}),"。"]}),"\n",(0,i.jsxs)(n.h3,{id:"object-类型",children:["Object 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-类型",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"tools.rspack"})," 可以配置为一个对象，这个对象将会和内置的 Rspack 配置通过 ",(0,i.jsx)(n.a,{href:"https://github.com/survivejs/webpack-merge",target:"_blank",rel:"noopener noreferrer",children:"webpack-merge"})," 进行深层合并。"]}),"\n",(0,i.jsxs)(n.p,{children:["比如添加 ",(0,i.jsx)(n.code,{children:"resolve.alias"})," 配置："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    rspack: {\n      resolve: {\n        alias: {\n          '@util': 'src/util',\n        },\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"function-类型",children:["Function 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-类型",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"tools.rspack"})," 也可以配置为一个函数，这个函数接收一个参数，即内置的 Rspack 配置对象，你可以对这个对象进行修改，然后返回一份新的配置。比如："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    rspack: config => {\n      config.resolve.alias['@util'] = 'src/util';\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"tools.rspack"})," 函数返回的对象会直接作为最终使用的 Rspack 配置，不会再与内置的 Rspack 配置进行合并。\n"]})})]}),"\n",(0,i.jsxs)(n.h3,{id:"工具集合",children:["工具集合",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#工具集合",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"这个函数的第二个参数是一个对象，包含了一些工具函数和属性，详情如下："}),"\n",(0,i.jsxs)(n.h4,{id:"env",children:["env",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#env",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"'development' | 'production' | 'test'"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"通过 env 参数可以判断当前环境为 development、production 还是 test。比如："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    rspack: (config, { env }) => {\n      if (env === 'development') {\n        config.devtool = 'cheap-module-eval-source-map';\n      }\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"isprod",children:["isProd",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#isprod",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"通过 isProd 参数可以判断当前环境是否为 production。比如："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    rspack: (config, { isProd }) => {\n      if (isProd) {\n        config.devtool = 'source-map';\n      }\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"target",children:["target",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#target",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"'web' | 'node' | 'modern-web' | 'web-worker'"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"通过 target 参数可以判断当前构建的目标运行时环境。比如："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    rspack: (config, { target }) => {\n      if (target === 'node') {\n        // ...\n      }\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"isserver",children:["isServer",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#isserver",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["判断当前构建的目标运行时环境是否为 ",(0,i.jsx)(n.code,{children:"node"}),"，等价于 ",(0,i.jsx)(n.code,{children:"target === 'node'"}),"。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    rspack: (config, { isServer }) => {\n      if (isServer) {\n        // ...\n      }\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"iswebworker",children:["isWebWorker",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#iswebworker",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["判断当前构建的目标运行时环境是否为 ",(0,i.jsx)(n.code,{children:"web-worker"}),"，等价于 ",(0,i.jsx)(n.code,{children:"target === 'web-worker'"}),"。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    rspack: (config, { isWebWorker }) => {\n      if (isWebWorker) {\n        // ...\n      }\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"addrules",children:["addRules",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#addrules",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"(rules: RuleSetRule | RuleSetRule[]) => void"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["添加额外的 ",(0,i.jsx)(n.a,{href:"https://www.rspack.dev/config/module.html#modulerules",target:"_blank",rel:"noopener noreferrer",children:"Rspack rules"}),"。"]}),"\n",(0,i.jsx)(n.p,{children:"示例："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    rspack: (config, { addRules }) => {\n      // 添加单条规则\n      addRules({\n        test: /\\.foo/,\n        loader: require.resolve('foo-loader'),\n      });\n\n      // 以数组形式添加多条规则\n      addRules([\n        {\n          test: /\\.foo/,\n          loader: require.resolve('foo-loader'),\n        },\n        {\n          test: /\\.bar/,\n          loader: require.resolve('bar-loader'),\n        },\n      ]);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"prependplugins",children:["prependPlugins",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#prependplugins",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"(plugins: RspackPluginInstance | RspackPluginInstance[]) => void"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"在内部 Rspack 插件数组头部添加额外的插件，数组头部的插件会优先执行。"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    rspack: (config, { prependPlugins }) => {\n      // 添加单个插件\n      prependPlugins(new PluginA());\n\n      // 以数组形式添加多个插件\n      prependPlugins([new PluginA(), new PluginB()]);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"appendplugins",children:["appendPlugins",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#appendplugins",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"(plugins: RspackPluginInstance | RspackPluginInstance[]) => void"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"在内部 Rspack 插件数组尾部添加额外的插件，数组尾部的插件会在最后执行。"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    rspack: (config, { appendPlugins }) => {\n      // 添加单个插件\n      appendPlugins([new PluginA()]);\n\n      // 以数组形式添加多个插件\n      appendPlugins([new PluginA(), new PluginB()]);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"removeplugin",children:["removePlugin",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#removeplugin",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"(name: string) => void"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["删除内部的 Rspack 插件，参数为该插件的 ",(0,i.jsx)(n.code,{children:"constructor.name"}),"。"]}),"\n",(0,i.jsxs)(n.p,{children:["例如，删除内部的 ",(0,i.jsx)(n.a,{href:"https://github.com/webpack-contrib/webpack-bundle-analyzer",target:"_blank",rel:"noopener noreferrer",children:"webpack-bundle-analyzer"}),"："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    rspack: (config, { removePlugin }) => {\n      removePlugin('BundleAnalyzerPlugin');\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"mergeconfig",children:["mergeConfig",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#mergeconfig",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"(...configs: RspackConfig[]) => RspackConfig"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["用于合并多份 Rspack 配置，等价于 ",(0,i.jsx)(n.a,{href:"https://github.com/survivejs/webpack-merge",target:"_blank",rel:"noopener noreferrer",children:"webpack-merge"}),"。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    rspack: (config, { mergeConfig }) => {\n      return mergeConfig(config, {\n        devtool: 'eval',\n      });\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"getcompiledpath",children:["getCompiledPath",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#getcompiledpath",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"(name: string) => string"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"获取 builder 内置依赖的所在路径，例如："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"sass"}),"\n",(0,i.jsx)(n.li,{children:"sass-loader"}),"\n",(0,i.jsx)(n.li,{children:"less"}),"\n",(0,i.jsx)(n.li,{children:"less-loader"}),"\n",(0,i.jsx)(n.li,{children:"babel-loader"}),"\n",(0,i.jsx)(n.li,{children:"url-loader"}),"\n",(0,i.jsx)(n.li,{children:"file-loader"}),"\n",(0,i.jsx)(n.li,{children:"..."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"该方法通常在需要与 builder 复用同一份依赖时会被用到。"}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"Builder 内部依赖会随着版本迭代而发生变化，例如产生大版本变更。在非必要的情况下，请避免使用此 API。"})})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    rspack: (config, { getCompiledPath }) => {\n      const loaderPath = getCompiledPath('less-loader');\n      // ...\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Ftools%2Frspack.md"]={toc:[{text:"Object 类型",id:"object-类型",depth:3},{text:"Function 类型",id:"function-类型",depth:3},{text:"工具集合",id:"工具集合",depth:3},{text:"env",id:"env",depth:4},{text:"isProd",id:"isprod",depth:4},{text:"target",id:"target",depth:4},{text:"isServer",id:"isserver",depth:4},{text:"isWebWorker",id:"iswebworker",depth:4},{text:"addRules",id:"addrules",depth:4},{text:"prependPlugins",id:"prependplugins",depth:4},{text:"appendPlugins",id:"appendplugins",depth:4},{text:"removePlugin",id:"removeplugin",depth:4},{text:"mergeConfig",id:"mergeconfig",depth:4},{text:"getCompiledPath",id:"getcompiledpath",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},31069:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",pre:"pre",p:"p",a:"a",h3:"h3",h4:"h4"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"Object | Function"})]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"默认值："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const defaultOptions = {\n  // 默认在开发环境下启用 CSS 的 Source Map\n  sourceMap: isDev,\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["你可以通过 ",(0,i.jsx)(n.code,{children:"tools.sass"})," 修改 ",(0,i.jsx)(n.a,{href:"https://github.com/webpack-contrib/sass-loader",target:"_blank",rel:"noopener noreferrer",children:"sass-loader"})," 的配置。"]}),"\n",(0,i.jsxs)(n.h3,{id:"object-类型",children:["Object 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-类型",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当 ",(0,i.jsx)(n.code,{children:"tools.sass"})," 的值为 ",(0,i.jsx)(n.code,{children:"Object"})," 类型时，会与默认配置通过 Object.assign 进行浅层合并，值得注意的是，",(0,i.jsx)(n.code,{children:"sassOptions"})," 会通过 deepMerge 进行深层合并。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    sass: {\n      sourceMap: true,\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"function-类型",children:["Function 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-类型",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当 ",(0,i.jsx)(n.code,{children:"tools.sass"})," 为 Function 类型时，默认配置作为第一个参数传入，可以直接修改配置对象，也可以返回一个值作为最终结果，第二个参数提供了一些可以直接调用的工具函数："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    sass(config) {\n      // 修改 sourceMap 配置\n      config.additionalData = async (content, loaderContext) => {\n        // ...\n      };\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"工具函数",children:["工具函数",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#工具函数",children:"#"})]}),"\n",(0,i.jsxs)(n.h4,{id:"addexcludes",children:["addExcludes",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#addexcludes",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"(excludes: RegExp | RegExp[]) => void"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["用来指定 ",(0,i.jsx)(n.code,{children:"sass-loader"})," 不编译哪些文件，你可以传入一个或多个正则表达式来匹配 sass 文件的路径。例如："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    sass(config, { addExcludes }) {\n      addExcludes(/node_modules/);\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Ftools%2Fsass.md"]={toc:[{text:"Object 类型",id:"object-类型",depth:3},{text:"Function 类型",id:"function-类型",depth:3},{text:"工具函数",id:"工具函数",depth:3},{text:"addExcludes",id:"addexcludes",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},65297:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",h3:"h3",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"Object | Function"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"{}"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["通过 ",(0,i.jsx)(n.code,{children:"tools.styleLoader"})," 可以设置 ",(0,i.jsx)(n.a,{href:"https://github.com/webpack-contrib/style-loader",target:"_blank",rel:"noopener noreferrer",children:"style-loader"})," 的配置项。"]}),"\n",(0,i.jsxs)(n.p,{children:["值得注意的是，Builder 默认不会开启 ",(0,i.jsx)(n.code,{children:"style-loader"}),"，你可以通过 ",(0,i.jsx)(n.code,{children:"output.disableCssExtract"})," 配置项来开启它。"]}),"\n",(0,i.jsxs)(n.h3,{id:"object-类型",children:["Object 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-类型",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"当此值为 Object 类型时，与默认配置通过 Object.assign 合并。比如："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    styleLoader: {\n      insert: 'head',\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"function-类型",children:["Function 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-类型",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"当此值为 Function 类型时，默认配置作为第一个参数传入，你可以直接修改配置对象，也可以返回一个对象作为最终配置。比如："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    styleLoader: config => {\n      config.insert = 'head';\n      return config;\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Ftools%2FstyleLoader.md"]={toc:[{text:"Object 类型",id:"object-类型",depth:3},{text:"Function 类型",id:"function-类型",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},34054:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",pre:"pre",p:"p",a:"a"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"Object | Function"})]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"默认值："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"{\n  displayName: true,\n  // 在 SSR 构建中 isSSR 为 true\n  ssr: isSSR,\n  // 在生产环境构建时启用 `pure` 来优化包体积\n  pure: isProd,\n  transpileTemplateLiterals: true,\n}\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"打包工具："})," ",(0,i.jsx)(n.code,{children:"仅支持 webpack"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["对应 ",(0,i.jsx)(n.a,{href:"https://github.com/styled-components/babel-plugin-styled-components",target:"_blank",rel:"noopener noreferrer",children:"babel-plugin-styled-components"})," 的配置。 值为 ",(0,i.jsx)(n.code,{children:"Object"})," 类型时，利用 Object.assign 函数与默认配置合并。比如:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    styledComponents: {\n      pure: false,\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["值为 ",(0,i.jsx)(n.code,{children:"Function"})," 类型时，第一个参数为默认配置，第二个参数提供了一些可以直接调用的工具函数："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    styledComponents(config) {\n      // 修改 pure 配置\n      config.pure = false;\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Ftools%2FstyledComponents.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},15391:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",pre:"pre",p:"p",a:"a",h3:"h3",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"Object | Function | undefined"})]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"默认值："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const defaultTerserOptions = {\n  terserOptions: {\n    mangle: {\n      safari10: true,\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"打包工具："})," ",(0,i.jsx)(n.code,{children:"仅支持 webpack"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["在生产环境构建时，Builder 会通过 ",(0,i.jsx)(n.a,{href:"https://github.com/webpack-contrib/terser-webpack-plugin",target:"_blank",rel:"noopener noreferrer",children:"terser-webpack-plugin"})," 对 JavaScript 代码进行压缩优化。可以通过 ",(0,i.jsx)(n.code,{children:"tools.terser"})," 修改 ",(0,i.jsx)(n.a,{href:"https://github.com/webpack-contrib/terser-webpack-plugin",target:"_blank",rel:"noopener noreferrer",children:"terser-webpack-plugin"})," 的配置。"]}),"\n",(0,i.jsxs)(n.h3,{id:"object-类型",children:["Object 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-类型",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当 ",(0,i.jsx)(n.code,{children:"tools.terser"})," 的值为 ",(0,i.jsx)(n.code,{children:"Object"})," 类型时，会与默认配置通过 ",(0,i.jsx)(n.code,{children:"Object.assign"})," 合并。"]}),"\n",(0,i.jsxs)(n.p,{children:["例如通过 ",(0,i.jsx)(n.code,{children:"exclude"})," 排除部分文件的压缩："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    terser: {\n      exclude: /\\/excludes/,\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"function-类型",children:["Function 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-类型",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当 ",(0,i.jsx)(n.code,{children:"tools.terser"})," 配置为 ",(0,i.jsx)(n.code,{children:"Function"})," 类型时，默认配置作为第一个参数传入，可以直接修改配置对象，也可以返回一个值作为最终结果。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    terser: opts => {\n      opts.exclude = /\\/excludes/;\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"禁用代码压缩"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["如果你需要禁用代码压缩，可以使用 ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/builder/api/config-output.html#outputdisableminimize",target:"_blank",rel:"noopener noreferrer",children:"output.disableMinimize"})," 配置项。\n"]})})]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Ftools%2Fterser.md"]={toc:[{text:"Object 类型",id:"object-类型",depth:3},{text:"Function 类型",id:"function-类型",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},24438:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",pre:"pre",p:"p",a:"a",h3:"h3"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"Object | Function"})]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"默认值："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const defaultOptions = {\n  typescript: {\n    // avoid OOM issue\n    memoryLimit: 8192,\n    // use tsconfig of user project\n    configFile: tsconfigPath,\n    // use typescript of user project\n    typescriptPath: require.resolve('typescript'),\n  },\n  issue: {\n    exclude: [\n      { file: '**/*.(spec|test).ts' },\n      { file: '**/node_modules/**/*' },\n    ],\n  },\n  logger: {\n    log() {\n      // do nothing\n      // we only want to display error messages\n    },\n    error(message: string) {\n      console.error(message.replace(/ERROR/g, 'Type Error'));\n    },\n  },\n},\n"})}),"\n",(0,i.jsxs)(n.p,{children:["默认情况下，Builder 会开启 ",(0,i.jsx)(n.a,{href:"https://github.com/TypeStrong/fork-ts-checker-webpack-plugin",target:"_blank",rel:"noopener noreferrer",children:"fork-ts-checker-webpack-plugin"})," 进行类型检查。你可以通过 ",(0,i.jsx)(n.code,{children:"output.disableTsChecker"})," 配置项来关闭类型检查。"]}),"\n",(0,i.jsxs)(n.h3,{id:"object-类型",children:["Object 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-类型",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"当此值为 Object 类型时，与默认配置通过 Object.assign 合并。"}),"\n",(0,i.jsxs)(n.h3,{id:"function-类型",children:["Function 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-类型",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"当此值为 Function 类型时，默认配置作为第一个参数传入，你可以直接修改配置对象，也可以返回一个对象作为最终配置。"})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Ftools%2FtsChecker.md"]={toc:[{text:"Object 类型",id:"object-类型",depth:3},{text:"Function 类型",id:"function-类型",depth:3}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},76890:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",h3:"h3",a:"a",pre:"pre",h4:"h4"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"Object | Function | undefined"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"打包工具："})," ",(0,i.jsx)(n.code,{children:"仅支持 webpack"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["项目中默认不开启 ts-loader，当 ",(0,i.jsx)(n.code,{children:"tools.tsLoader"})," 不为 undefined 则表示开启 ts-loader，同时禁用 babel-loader 对 TypeScript 的编译。"]}),"\n",(0,i.jsxs)(n.h3,{id:"object-类型",children:["Object 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-类型",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"当此值为 Object 类型时，与默认配置通过 Object.assign 合并。"}),"\n",(0,i.jsx)(n.p,{children:"默认配置如下:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "compilerOptions": {\n    "target": "es5",\n    "module": "ESNext"\n  },\n  "transpileOnly": true,\n  "allowTsInNodeModules": true\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["你可以通过 ",(0,i.jsx)(n.code,{children:"tools.tsLoader"})," 配置项来覆盖默认配置:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    tsLoader: {\n      allowTsInNodeModules: false,\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"function-类型",children:["Function 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-类型",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当此值为 Function 类型时，默认配置作为第一参数传入，可以直接修改配置对象，也可以返回一个对象作为最终配置；第二个参数为修改 ",(0,i.jsx)(n.code,{children:"ts-loader"})," 配置工具函数集合："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    tsLoader: opts => {\n      opts.allowTsInNodeModules = false;\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"工具函数",children:["工具函数",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#工具函数",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"tools.tsLoader"})," 的值为 Function 类型时，第二个参数可用的工具函数如下："]}),"\n",(0,i.jsxs)(n.h4,{id:"addincludes",children:["addIncludes",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#addincludes",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"(includes: string | RegExp | Array<string | RegExp>) => void"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["默认情况下只会编译 src 目录下的业务代码，使用 addIncludes 可以指定 ts-loader 编译 ",(0,i.jsx)(n.code,{children:"node_modules"})," 下的一些文件。比如:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    tsLoader: (config, { addIncludes }) => {\n      addIncludes([/node_modules\\/react/]);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"addexcludes",children:["addExcludes",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#addexcludes",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"(excludes: string | RegExp | Array<string | RegExp>) => void"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["和 ",(0,i.jsx)(n.code,{children:"addIncludes"})," 相反，指定 ",(0,i.jsx)(n.code,{children:"ts-loader"})," 编译时排除某些文件。"]}),"\n",(0,i.jsx)(n.p,{children:"例如不编译 src/example 目录下的文件："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    tsLoader: (config, { addExcludes }) => {\n      addExcludes([/src\\/example\\//]);\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Ftools%2FtsLoader.md"]={toc:[{text:"Object 类型",id:"object-类型",depth:3},{text:"Function 类型",id:"function-类型",depth:3},{text:"工具函数",id:"工具函数",depth:3},{text:"addIncludes",id:"addincludes",depth:4},{text:"addExcludes",id:"addexcludes",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},95661:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",a:"a",blockquote:"blockquote",h3:"h3",pre:"pre",div:"div",h4:"h4"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"Object | Function | undefined"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"打包工具："})," ",(0,i.jsx)(n.code,{children:"仅支持 webpack"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"tools.webpack"})," 选项用于配置原生的 ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/",target:"_blank",rel:"noopener noreferrer",children:"webpack"}),"。"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"tools.webpackChain"})," 同样可以修改 webpack 配置，并且功能更加强大，建议优先使用 ",(0,i.jsx)(n.code,{children:"tools.webpackChain"}),"。"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"object-类型",children:["Object 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#object-类型",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"tools.webpack"})," 可以配置为一个对象，这个对象将会和内置的 webpack 配置通过 ",(0,i.jsx)(n.a,{href:"https://github.com/survivejs/webpack-merge",target:"_blank",rel:"noopener noreferrer",children:"webpack-merge"})," 进行深层合并。"]}),"\n",(0,i.jsxs)(n.p,{children:["比如添加 ",(0,i.jsx)(n.code,{children:"resolve.alias"})," 配置："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpack: {\n      resolve: {\n        alias: {\n          '@util': 'src/util',\n        },\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"function-类型",children:["Function 类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#function-类型",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"tools.webpack"})," 也可以配置为一个函数，这个函数的第一个入参为内置的 webpack 配置对象，你可以对这个对象进行修改，然后返回一份新的配置。比如："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpack: config => {\n      config.resolve.alias['@util'] = 'src/util';\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"tools.webpack"})," 函数返回的对象会直接作为最终使用的 webpack 配置，不会再与内置的 webpack 配置进行合并。\n"]})})]}),"\n",(0,i.jsxs)(n.h3,{id:"工具集合",children:["工具集合",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#工具集合",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"这个函数的第二个参数是一个对象，包含了一些工具函数和属性，详情如下："}),"\n",(0,i.jsxs)(n.h4,{id:"env",children:["env",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#env",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"'development' | 'production' | 'test'"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"通过 env 参数可以判断当前环境为 development、production 还是 test。比如："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpack: (config, { env }) => {\n      if (env === 'development') {\n        config.devtool = 'cheap-module-eval-source-map';\n      }\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"isprod",children:["isProd",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#isprod",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"通过 isProd 参数可以判断当前环境是否为 production。比如："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpack: (config, { isProd }) => {\n      if (isProd) {\n        config.devtool = 'source-map';\n      }\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"target",children:["target",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#target",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"'web' | 'node' | 'modern-web' | 'web-worker'"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"通过 target 参数可以判断当前构建的目标运行时环境。比如："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpack: (config, { target }) => {\n      if (target === 'node') {\n        // ...\n      }\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"isserver",children:["isServer",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#isserver",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["判断当前构建的目标运行时环境是否为 ",(0,i.jsx)(n.code,{children:"node"}),"，等价于 ",(0,i.jsx)(n.code,{children:"target === 'node'"}),"。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpack: (config, { isServer }) => {\n      if (isServer) {\n        // ...\n      }\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"iswebworker",children:["isWebWorker",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#iswebworker",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["判断当前构建的目标运行时环境是否为 ",(0,i.jsx)(n.code,{children:"web-worker"}),"，等价于 ",(0,i.jsx)(n.code,{children:"target === 'web-worker'"}),"。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpack: (config, { isWebWorker }) => {\n      if (isWebWorker) {\n        // ...\n      }\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"webpack",children:["webpack",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#webpack",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"typeof import('webpack')"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"通过这个参数你可以拿到 webpack 实例。比如："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpack: (config, { webpack }) => {\n      config.plugins.push(new webpack.ProgressPlugin());\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"htmlwebpackplugin",children:["HtmlWebpackPlugin",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmlwebpackplugin",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"typeof import('html-webpack-plugin')"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"通过这个参数你可以拿到 HtmlWebpackPlugin 实例。"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpackChain: (chain, { HtmlWebpackPlugin }) => {\n      console.log(HtmlWebpackPlugin);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"addrules",children:["addRules",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#addrules",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"(rules: RuleSetRule | RuleSetRule[]) => void"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["添加额外的 ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/configuration/module/#modulerules",target:"_blank",rel:"noopener noreferrer",children:"webpack rules"}),"。"]}),"\n",(0,i.jsx)(n.p,{children:"示例："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    webpack: (config, { addRules }) => {\n      // 添加单条规则\n      addRules({\n        test: /\\.foo/,\n        loader: require.resolve('foo-loader'),\n      });\n\n      // 以数组形式添加多条规则\n      addRules([\n        {\n          test: /\\.foo/,\n          loader: require.resolve('foo-loader'),\n        },\n        {\n          test: /\\.bar/,\n          loader: require.resolve('bar-loader'),\n        },\n      ]);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"prependplugins",children:["prependPlugins",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#prependplugins",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"(plugins: WebpackPluginInstance | WebpackPluginInstance[]) => void"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"在内部 webpack 插件数组头部添加额外的插件，数组头部的插件会优先执行。"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    webpack: (config, { prependPlugins, webpack }) => {\n      // 添加单个插件\n      prependPlugins(\n        new webpack.BannerPlugin({\n          banner: 'hello world!',\n        }),\n      );\n\n      // 以数组形式添加多个插件\n      prependPlugins([new PluginA(), new PluginB()]);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"appendplugins",children:["appendPlugins",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#appendplugins",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"(plugins: WebpackPluginInstance | WebpackPluginInstance[]) => void"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"在内部 webpack 插件数组尾部添加额外的插件，数组尾部的插件会在最后执行。"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    webpack: (config, { appendPlugins, webpack }) => {\n      // 添加单个插件\n      appendPlugins([\n        new webpack.BannerPlugin({\n          banner: 'hello world!',\n        }),\n      ]);\n\n      // 以数组形式添加多个插件\n      appendPlugins([new PluginA(), new PluginB()]);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"removeplugin",children:["removePlugin",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#removeplugin",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"(name: string) => void"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["删除内部的 webpack 插件，参数为该插件的 ",(0,i.jsx)(n.code,{children:"constructor.name"}),"。"]}),"\n",(0,i.jsxs)(n.p,{children:["例如，删除内部的 ",(0,i.jsx)(n.a,{href:"https://github.com/TypeStrong/fork-ts-checker-webpack-plugin",target:"_blank",rel:"noopener noreferrer",children:"fork-ts-checker-webpack-plugin"}),"："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    webpack: (config, { removePlugin }) => {\n      removePlugin('ForkTsCheckerWebpackPlugin');\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"mergeconfig",children:["mergeConfig",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#mergeconfig",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"(...configs: WebpackConfig[]) => WebpackConfig"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["用于合并多份 webpack 配置，等价于 ",(0,i.jsx)(n.a,{href:"https://github.com/survivejs/webpack-merge",target:"_blank",rel:"noopener noreferrer",children:"webpack-merge"}),"。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    webpack: (config, { mergeConfig }) => {\n      return mergeConfig(config, {\n        devtool: 'eval',\n      });\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"getcompiledpath",children:["getCompiledPath",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#getcompiledpath",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"(name: string) => string"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["获取 builder 内置依赖的所在路径，等价于 ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/builder/api/config-tools.html#toolswebpackchain",target:"_blank",rel:"noopener noreferrer",children:"webpackChain#getCompiledPath"}),"。"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Ftools%2Fwebpack.md"]={toc:[{text:"Object 类型",id:"object-类型",depth:3},{text:"Function 类型",id:"function-类型",depth:3},{text:"工具集合",id:"工具集合",depth:3},{text:"env",id:"env",depth:4},{text:"isProd",id:"isprod",depth:4},{text:"target",id:"target",depth:4},{text:"isServer",id:"isserver",depth:4},{text:"isWebWorker",id:"iswebworker",depth:4},{text:"webpack",id:"webpack",depth:4},{text:"HtmlWebpackPlugin",id:"htmlwebpackplugin",depth:4},{text:"addRules",id:"addrules",depth:4},{text:"prependPlugins",id:"prependplugins",depth:4},{text:"appendPlugins",id:"appendplugins",depth:4},{text:"removePlugin",id:"removeplugin",depth:4},{text:"mergeConfig",id:"mergeconfig",depth:4},{text:"getCompiledPath",id:"getcompiledpath",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},59618:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({ul:"ul",li:"li",strong:"strong",code:"code",p:"p",blockquote:"blockquote",h3:"h3",a:"a",h4:"h4",pre:"pre",div:"div",h5:"h5",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"Function | undefined"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"打包工具："})," ",(0,i.jsx)(n.code,{children:"仅支持 webpack"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["你可以通过 ",(0,i.jsx)(n.code,{children:"tools.webpackChain"})," 来修改默认的 webpack 配置，它的值为 ",(0,i.jsx)(n.code,{children:"Function"})," 类型，接收两个参数："]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["第一个参数为 ",(0,i.jsx)(n.code,{children:"webpack-chain"})," 对象实例，你可以通过这个实例来修改默认的 webpack 配置。"]}),"\n",(0,i.jsxs)(n.li,{children:["第二个参数为一个工具集合，包括",(0,i.jsx)(n.code,{children:"env"}),"、",(0,i.jsx)(n.code,{children:"isProd"}),"、",(0,i.jsx)(n.code,{children:"CHAIN_ID"})," 等。"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["相比于 ",(0,i.jsx)(n.code,{children:"tools.webpack"}),"，",(0,i.jsx)(n.strong,{children:"webpack-chain 不仅支持链式调用，而且能够基于别名来定位到内置的 Rule 或 Plugin，从而实现精准的配置修改"}),"。我们推荐使用 ",(0,i.jsx)(n.code,{children:"tools.webpackChain"})," 来代替 ",(0,i.jsx)(n.code,{children:"tools.webpack"}),"。"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"tools.webpackChain"})," 的执行时机早于 tools.webpack，因此会被 ",(0,i.jsx)(n.code,{children:"tools.webpack"})," 中的修改所覆盖。"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"工具集合",children:["工具集合",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#工具集合",children:"#"})]}),"\n",(0,i.jsxs)(n.h4,{id:"env",children:["env",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#env",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"'development' | 'production' | 'test'"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"通过 env 参数可以判断当前环境为 development、production 还是 test。比如："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpackChain: (chain, { env }) => {\n      if (env === 'development') {\n        chain.devtool('cheap-module-eval-source-map');\n      }\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"isprod",children:["isProd",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#isprod",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"通过 isProd 参数可以判断当前环境是否为 production。比如："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpackChain: (chain, { isProd }) => {\n      if (isProd) {\n        chain.devtool('source-map');\n      }\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"target",children:["target",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#target",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"'web' | 'node' | 'modern-web' | 'web-worker'"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"通过 target 参数可以判断当前构建的目标运行时环境。比如："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpackChain: (chain, { target }) => {\n      if (target === 'node') {\n        // ...\n      }\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"isserver",children:["isServer",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#isserver",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["判断当前构建的目标运行时环境是否为 ",(0,i.jsx)(n.code,{children:"node"}),"，等价于 ",(0,i.jsx)(n.code,{children:"target === 'node'"}),"。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpackChain: (chain, { isServer }) => {\n      if (isServer) {\n        // ...\n      }\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"iswebworker",children:["isWebWorker",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#iswebworker",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["判断当前构建的目标运行时环境是否为 ",(0,i.jsx)(n.code,{children:"web-worker"}),"，等价于 ",(0,i.jsx)(n.code,{children:"target === 'web-worker'"}),"。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpackChain: (chain, { isWebWorker }) => {\n      if (isWebWorker) {\n        // ...\n      }\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"webpack",children:["webpack",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#webpack",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"typeof import('webpack')"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"通过这个参数你可以拿到 webpack 实例。比如："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpackChain: (chain, { webpack }) => {\n      chain.plugin('my-progress').use(webpack.ProgressPlugin);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"htmlwebpackplugin",children:["HtmlWebpackPlugin",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmlwebpackplugin",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"typeof import('html-webpack-plugin')"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"通过这个参数你可以拿到 HtmlWebpackPlugin 实例。"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpackChain: (chain, { HtmlWebpackPlugin }) => {\n      console.log(HtmlWebpackPlugin);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"getcompiledpath",children:["getCompiledPath",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#getcompiledpath",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"(name: string) => string"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"获取 builder 内置依赖的所在路径，例如："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"sass"}),"\n",(0,i.jsx)(n.li,{children:"sass-loader"}),"\n",(0,i.jsx)(n.li,{children:"less"}),"\n",(0,i.jsx)(n.li,{children:"less-loader"}),"\n",(0,i.jsx)(n.li,{children:"css-loader"}),"\n",(0,i.jsx)(n.li,{children:"babel-loader"}),"\n",(0,i.jsx)(n.li,{children:"url-loader"}),"\n",(0,i.jsx)(n.li,{children:"file-loader"}),"\n",(0,i.jsx)(n.li,{children:"..."}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"该方法通常在需要与 builder 复用同一份依赖时会被用到。"}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"Builder 内部依赖会随着版本迭代而发生变化，例如产生大版本变更。在非必要的情况下，请避免使用此 API。"})})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpackChain: (chain, { getCompiledPath }) => {\n      const loaderPath = getCompiledPath('less-loader');\n      // ...\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"chain_id",children:["CHAIN_ID",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chain_id",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder 中预先定义了一些常用的 Chain ID，你可以通过这些 ID 来定位到内置的 Rule 或 Plugin。"}),"\n",(0,i.jsxs)(n.h5,{id:"chain_idrule",children:["CHAIN_ID.RULE",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chain_idrule",children:"#"})]}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"ID"}),"\n",(0,i.jsx)(n.th,{children:"描述"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RULE.MJS"})}),"\n",(0,i.jsxs)(n.td,{children:["处理 ",(0,i.jsx)(n.code,{children:"mjs"})," 的规则"]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RULE.JS"})}),"\n",(0,i.jsxs)(n.td,{children:["处理 ",(0,i.jsx)(n.code,{children:"js"})," 的规则"]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RULE.TS"})}),"\n",(0,i.jsxs)(n.td,{children:["处理 ",(0,i.jsx)(n.code,{children:"ts"})," 的规则"]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RULE.CSS"})}),"\n",(0,i.jsxs)(n.td,{children:["处理 ",(0,i.jsx)(n.code,{children:"css"})," 的规则"]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RULE.LESS"})}),"\n",(0,i.jsxs)(n.td,{children:["处理 ",(0,i.jsx)(n.code,{children:"less"})," 的规则"]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RULE.SASS"})}),"\n",(0,i.jsxs)(n.td,{children:["处理 ",(0,i.jsx)(n.code,{children:"sass"})," 的规则"]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RULE.PUG"})}),"\n",(0,i.jsxs)(n.td,{children:["处理 ",(0,i.jsx)(n.code,{children:"pug"})," 的规则"]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RULE.VUE"})}),"\n",(0,i.jsxs)(n.td,{children:["处理 ",(0,i.jsx)(n.code,{children:"vue"})," 的规则"]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RULE.TOML"})}),"\n",(0,i.jsxs)(n.td,{children:["处理 ",(0,i.jsx)(n.code,{children:"toml"})," 的规则"]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RULE.YAML"})}),"\n",(0,i.jsxs)(n.td,{children:["处理 ",(0,i.jsx)(n.code,{children:"yaml"})," 的规则"]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RULE.WASM"})}),"\n",(0,i.jsxs)(n.td,{children:["处理 ",(0,i.jsx)(n.code,{children:"wasm"})," 的规则"]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RULE.FONT"})}),"\n",(0,i.jsx)(n.td,{children:"处理字体的规则"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RULE.IMAGE"})}),"\n",(0,i.jsx)(n.td,{children:"处理图片的规则"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"RULE.MEDIA"})}),"\n",(0,i.jsx)(n.td,{children:"处理媒体资源的规则"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"chain_idone_of",children:["CHAIN_ID.ONE_OF",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chain_idone_of",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["通过 ",(0,i.jsx)(n.code,{children:"ONE_OF.XXX"})," 可以匹配到规则数组中的某一类规则。"]}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"ID"}),"\n",(0,i.jsx)(n.th,{children:"描述"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ONE_OF.SVG"})}),"\n",(0,i.jsx)(n.td,{children:"处理 SVG 的规则，在 data URI 和单独文件之间自动选择"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ONE_OF.SVG_URL"})}),"\n",(0,i.jsx)(n.td,{children:"处理 SVG 的规则，输出为单独文件"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ONE_OF.SVG_INLINE"})}),"\n",(0,i.jsx)(n.td,{children:"处理 SVG 的规则，作为 data URI 内联到 bundle 中"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"ONE_OF.SVG_ASSETS"})}),"\n",(0,i.jsx)(n.td,{children:"处理 SVG 的规则，在 data URI 和单独文件之间自动选择"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"chain_iduse",children:["CHAIN_ID.USE",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chain_iduse",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["通过 ",(0,i.jsx)(n.code,{children:"USE.XXX"})," 可以匹配到对应的 loader。"]}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"ID"}),"\n",(0,i.jsx)(n.th,{children:"描述"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.TS"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"ts-loader"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.CSS"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"css-loader"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.LESS"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"less-loader"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.SASS"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"sass-loader"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.PUG"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"pug-loader"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.VUE"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"vue-loader"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.TOML"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"toml-loader"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.YAML"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"yaml-loader"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.FILE"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"file-loader"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.URL"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"url-loader"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.SVGR"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"@svgr/webpack"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.BABEL"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"babel-loader"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.STYLE"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"style-loader"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.POSTCSS"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"postcss-loader"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.MARKDOWN"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"markdown-loader"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.CSS_MODULES_TS"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"css-modules-typescript-loader"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"USE.MINI_CSS_EXTRACT"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"mini-css-extract-plugin.loader"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"chain_idplugin",children:["CHAIN_ID.PLUGIN",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chain_idplugin",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["通过 ",(0,i.jsx)(n.code,{children:"PLUGIN.XXX"})," 可以匹配到对应的 plugin。"]}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"ID"}),"\n",(0,i.jsx)(n.th,{children:"描述"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.HMR"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"HotModuleReplacementPlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.COPY"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"CopyWebpackPlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.HTML"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"HtmlWebpackPlugin"}),"，使用时需要拼接 entry 名称：",(0,i.jsx)(n.code,{children:"${PLUGIN.HTML}-${entryName}"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.DEFINE"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"DefinePlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.IGNORE"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"IgnorePlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.BANNER"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"BannerPlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.PROGRESS"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"Webpackbar"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.APP_ICON"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"AppIconPlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.LOADABLE"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"LoadableWebpackPlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.MANIFEST"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"WebpackManifestPlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.TS_CHECKER"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"ForkTsCheckerWebpackPlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.INLINE_HTML"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"InlineChunkHtmlPlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.BUNDLE_ANALYZER"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"WebpackBundleAnalyzer"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.BOTTOM_TEMPLATE"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"BottomTemplatePlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.MINI_CSS_EXTRACT"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"MiniCssExtractPlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.VUE_LOADER_PLUGIN"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"VueLoaderPlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.REACT_FAST_REFRESH"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"ReactFastRefreshPlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.NODE_POLYFILL_PROVIDE"})}),"\n",(0,i.jsxs)(n.td,{children:["对应处理 node polyfill 的 ",(0,i.jsx)(n.code,{children:"ProvidePlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.INSPECTOR"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"@modern-js/inspector-webpack-plugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.SUBRESOURCE_INTEGRITY"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"webpack-subresource-integrity"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.ASSETS_RETRY"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 Builder 中的 webpack 静态资源重试插件 ",(0,i.jsx)(n.code,{children:"WebpackAssetsRetryPlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"PLUGIN.AUTO_SET_ROOT_SIZE"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 Builder 中的自动设置根字体大小插件 ",(0,i.jsx)(n.code,{children:"AutoSetRootSizePlugin"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"chain_idminimizer",children:["CHAIN_ID.MINIMIZER",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chain_idminimizer",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["通过 ",(0,i.jsx)(n.code,{children:"MINIMIZER.XXX"})," 可以匹配到对应的压缩工具。"]}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"ID"}),"\n",(0,i.jsx)(n.th,{children:"描述"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"MINIMIZER.JS"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"TerserWebpackPlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"MINIMIZER.CSS"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"CssMinimizerWebpackPlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"MINIMIZER.ESBUILD"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"ESBuildPlugin"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"MINIMIZER.SWC"})}),"\n",(0,i.jsxs)(n.td,{children:["对应 ",(0,i.jsx)(n.code,{children:"SwcWebpackPlugin"})]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"常用-webpackchain-使用示例",children:["常用 WebpackChain 使用示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#常用-webpackchain-使用示例",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["以下是一些常见的配置示例，完整的 webpack-chain API 请见 ",(0,i.jsx)(n.a,{href:"https://github.com/neutrinojs/webpack-chain",target:"_blank",rel:"noopener noreferrer",children:"webpack-chain 文档"}),"。"]}),"\n",(0,i.jsxs)(n.h4,{id:"新增/修改/删除-loader",children:["新增/修改/删除 loader",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#新增/修改/删除-loader",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpackChain: (chain, { CHAIN_ID }) => {\n      // 新增 loader\n      chain.module\n        .rule('md')\n        .test(/\\.md$/)\n        .use('md-loader')\n        .loader('md-loader');\n\n      // 修改 loader\n      chain.module\n        .rule(CHAIN_ID.RULE.JS)\n        .use(CHAIN_ID.USE.BABEL)\n        .tap(options => {\n          options.plugins.push('babel-plugin-xxx');\n          return options;\n        });\n\n      // 删除 loader\n      chain.module.rule(CHAIN_ID.RULE.JS).uses.delete(CHAIN_ID.USE.BABEL);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"新增/修改/删除-plugin",children:["新增/修改/删除 plugin",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#新增/修改/删除-plugin",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpackChain: (chain, { webpack, CHAIN_ID }) => {\n      // 新增插件\n      chain.plugin('custom-define').use(webpack.DefinePlugin, [\n        {\n          'process.env': {\n            NODE_ENV: JSON.stringify(process.env.NODE_ENV),\n          },\n        },\n      ]);\n\n      // 修改插件\n      chain.plugin(CHAIN_ID.PLUGIN.HMR).tap(options => {\n        options[0].fullBuildTimeout = 200;\n        return options;\n      });\n\n      // 删除插件\n      chain.plugins.delete(CHAIN_ID.PLUGIN.HMR);\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fconfig%2Ftools%2FwebpackChain.md"]={toc:[{text:"工具集合",id:"工具集合",depth:3},{text:"env",id:"env",depth:4},{text:"isProd",id:"isprod",depth:4},{text:"target",id:"target",depth:4},{text:"isServer",id:"isserver",depth:4},{text:"isWebWorker",id:"iswebworker",depth:4},{text:"webpack",id:"webpack",depth:4},{text:"HtmlWebpackPlugin",id:"htmlwebpackplugin",depth:4},{text:"getCompiledPath",id:"getcompiledpath",depth:4},{text:"CHAIN_ID",id:"chain_id",depth:4},{text:"CHAIN_ID.ONE_OF",id:"chain_idone_of",depth:3},{text:"CHAIN_ID.USE",id:"chain_iduse",depth:3},{text:"CHAIN_ID.PLUGIN",id:"chain_idplugin",depth:3},{text:"CHAIN_ID.MINIMIZER",id:"chain_idminimizer",depth:3},{text:"常用 WebpackChain 使用示例",id:"常用-webpackchain-使用示例",depth:3},{text:"新增/修改/删除 loader",id:"新增/修改/删除-loader",depth:4},{text:"新增/修改/删除 plugin",id:"新增/修改/删除-plugin",depth:4}],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},35478:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",code:"code",ul:"ul",li:"li",h2:"h2",pre:"pre",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"路径别名",children:["路径别名",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#路径别名",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"路径别名（alias）允许开发者为模块定义别名，以便于在代码中更方便的引用它们。"}),"\n",(0,i.jsxs)(n.p,{children:["例如，假如你在项目中经常引用 ",(0,i.jsx)(n.code,{children:"src/common/request.ts"})," 模块，你可以为它定义一个别名 ",(0,i.jsx)(n.code,{children:"@request"}),"，然后在代码中通过 ",(0,i.jsx)(n.code,{children:"import request from '@request'"})," 来引用它，而不需要每次都写出完整的相对路径。同时，这也允许你将模块移动到不同的位置，而不需要更新代码中的所有 import 语法。"]}),"\n",(0,i.jsx)(n.p,{children:"在 Builder 中，你有两种方式可以设置路径别名:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["通过 ",(0,i.jsx)(n.a,{href:"/api/config-source#sourcealias",children:"source.alias"})," 配置。"]}),"\n",(0,i.jsxs)(n.li,{children:["通过 ",(0,i.jsx)(n.code,{children:"tsconfig.json"})," 中的 ",(0,i.jsx)(n.code,{children:"paths"})," 配置。"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"通过-sourcealias-配置",children:["通过 ",(0,i.jsx)(n.code,{children:"source.alias"})," 配置",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#通过-sourcealias-配置",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"/api/config-source#sourcealias",children:"source.alias"})," 对应 webpack 原生的 ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/configuration/resolve/#resolvealias",target:"_blank",rel:"noopener noreferrer",children:"resolve.alias"})," 配置，你可以通过对象或者函数的方式进行配置。"]}),"\n",(0,i.jsx)(n.p,{children:"首先你可以通过对象的方式进行配置，比如："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    alias: {\n      '@common': './src/common',\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"其中的相对路径会被 Builder 自动补全为绝对路径。"}),"\n",(0,i.jsxs)(n.p,{children:["你也可以配置为一个函数，拿到预设的 ",(0,i.jsx)(n.code,{children:"alias"})," 对象，对其进行修改，比如："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    alias: alias => {\n      alias['@common'] = './src/common';\n      return alias;\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"通过-tsconfigjson-中的-paths-配置",children:["通过 ",(0,i.jsx)(n.code,{children:"tsconfig.json"})," 中的 ",(0,i.jsx)(n.code,{children:"paths"})," 配置",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#通过-tsconfigjson-中的-paths-配置",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["除了 ",(0,i.jsx)(n.code,{children:"source.alias"}),"，你还可以通过 ",(0,i.jsx)(n.code,{children:"tsconfig.json"})," 中的 ",(0,i.jsx)(n.code,{children:"paths"})," 进行配置，这是我们在 TypeScript 项目中推荐使用的方式，因为可以解决路径别名的类型问题。"]}),"\n",(0,i.jsx)(n.p,{children:"比如："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "compilerOptions": {\n    "paths": {\n      "@common/*": ["./src/common/*"]\n    }\n  }\n}\n'})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"优先级"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"paths"})," 配置的优先级高于 ",(0,i.jsx)(n.code,{children:"source.alias"}),"。\n"]})})]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fguide%2Fadvanced%2Falias.md"]={toc:[{text:"通过 source.alias 配置",id:"通过-sourcealias-配置",depth:2},{text:"通过 tsconfig.json 中的 paths 配置",id:"通过-tsconfigjson-中的-paths-配置",depth:2}],title:"路径别名",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},10248:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",ul:"ul",li:"li",h3:"h3",strong:"strong",blockquote:"blockquote",code:"code",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"浏览器兼容性",children:["浏览器兼容性",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#浏览器兼容性",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"本章节介绍如何使用 Builder 提供的能力来处理浏览器兼容性问题。"}),"\n",(0,i.jsxs)(n.h2,{id:"设置浏览器范围",children:["设置浏览器范围",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#设置浏览器范围",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"在处理兼容性问题之前，首先需要明确你的项目需要支持的浏览器范围，并添加相应的 browserslist 配置。"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsxs)(n.p,{children:["如果你还没有设置浏览器范围，请先阅读 ",(0,i.jsx)(n.a,{href:"/guide/advanced/browserslist",children:"设置浏览器范围"})," 章节。"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:["\n",(0,i.jsx)(n.p,{children:"如果你已经设置了浏览器范围，那么 Builder 会自动根据该范围进行编译，对 JavaScript 语法和 CSS 语法进行降级处理，并注入所需的 polyfill 代码。大部分情况下，你可以放心地使用现代 ECMAScript 特性，无须担心兼容性问题。"}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"在设置浏览器范围之后，如果你依然在开发中遇到了一些兼容性问题，请继续阅读下面的内容来寻找解决方案。"}),"\n",(0,i.jsxs)(n.h2,{id:"背景知识",children:["背景知识",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#背景知识",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"在处理兼容性问题之前，建议你了解以下背景知识，以更好地处理相关问题。"}),"\n",(0,i.jsxs)(n.h3,{id:"语法降级和-api-降级",children:["语法降级和 API 降级",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#语法降级和-api-降级",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"当你在项目中使用高版本语法和 API 时，为了让编译后的代码能稳定运行在低版本浏览器中，需要完成两部分降级：语法降级和 API 降级。"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Builder 通过语法转译来对语法进行降级，通过 polyfill 来对 API 进行进行降级。"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"语法和 API 并不是强绑定的，浏览器厂商在实现引擎的时候，会根据规范或者自身需要提前支持一些语法或者提前实现一些 API。因此，同一时期的不同厂商的浏览器，对语法和 API 的兼容都不一定相同。所以在一般的实践中，语法和 API 是分成两个部分进行处理的。"}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"语法转译",children:["语法转译",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#语法转译",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"语法是编程语言如何组织代码的一系列规则"}),"，不遵守这些规则的代码无法被编程语言的引擎正确识别，因此无法被运行。在 JavaScript 中，以下几个示例都是语法规则："]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["在 ",(0,i.jsx)(n.code,{children:"const foo = 1"})," 中，",(0,i.jsx)(n.code,{children:"const"})," 表示声明一个不可变的常量。"]}),"\n",(0,i.jsxs)(n.li,{children:["在 ",(0,i.jsx)(n.code,{children:"foo?.bar?.baz"})," 中，",(0,i.jsx)(n.code,{children:"?."})," 表示可选链访问属性。"]}),"\n",(0,i.jsxs)(n.li,{children:["在 ",(0,i.jsx)(n.code,{children:"async function () {}"})," 中，",(0,i.jsx)(n.code,{children:"async"})," 表示声明一个异步函数。"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"由于不同浏览器的解析器所能支持的语法不同，尤其是旧版本浏览器引擎所能支持的语法较少，因此一些语法在低版本浏览器引擎中运行时，就会在解析 AST 的阶段报错。"}),"\n",(0,i.jsx)(n.p,{children:"比如下面这段代码在 IE 浏览器或低版本 Node.js 下会报错："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const foo = {};\nfoo?.bar();\n"})}),"\n",(0,i.jsx)(n.p,{children:"我们在低版本 Node.js 中运行这段代码，会出现以下错误信息："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"SyntaxError: Unexpected token .\n  at Object.exports.runInThisContext (vm.js:73:16)\n  at Object.<anonymous> ([eval]-wrapper:6:22)\n  at Module._compile (module.js:460:26)\n  at evalScript (node.js:431:25)\n  at startup (node.js:90:7)\n  at node.js:814:3\n"})}),"\n",(0,i.jsx)(n.p,{children:"从错误信息里可以明显看到，这是一个语法错误（SyntaxError）。这说明这个语法在低版本的引擎中是不受支持的。"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"语法是不能通过 polyfill 或者 shim 进行支持的"}),"。如果想在低版本浏览器中运行一些它原本不支持的语法，那么就需要对代码进行转译，转译成低版本引擎所能支持的语法。"]}),"\n",(0,i.jsx)(n.p,{children:"将上述代码转译为以下代码即可在低版本引擎中运行："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"var foo = {};\nfoo === null || foo === void 0 ? void 0 : foo.bar();\n"})}),"\n",(0,i.jsxs)(n.p,{children:["转译后，代码的语法变了，把一些低版本引擎无法理解的语法用其可理解的语法替代，",(0,i.jsx)(n.strong,{children:"但代码本身的意义没有变"}),"。"]}),"\n",(0,i.jsx)(n.p,{children:"如果引擎在转换为 AST 的时候遇到了无法识别的语法，就会报语法错误，并中止代码执行流程。在这种情况下，如果你的项目没有使用 SSR 或 SSG 等能力的话，页面将会直接白屏，导致页面不可用。"}),"\n",(0,i.jsx)(n.p,{children:"如果代码被转换为 AST 成功，引擎会将 AST 转为可执行代码，并在引擎内部正常执行。"}),"\n",(0,i.jsxs)(n.h3,{id:"api-polyfill",children:["API Polyfill",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#api-polyfill",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"JavaScript 是解释型脚本语言，不同于 Rust 等编译型语言。Rust 会在编译阶段对代码中的调用进行检查，而 JavaScript 在真正运行到某一行代码之前，并不知道这一行代码所调用的函数是否存在，因此一些错误只有在运行时才会出现。"}),"\n",(0,i.jsx)(n.p,{children:"举个例子，下面这段代码："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"var str = 'Hello world!';\nconsole.log(str.notExistedMethod());\n"})}),"\n",(0,i.jsxs)(n.p,{children:["上面这段代码有着正确的语法，在引擎运行时的第一个阶段也能正确转换为 AST，但是在真正运行的时候，由于 ",(0,i.jsx)(n.code,{children:"String.prototype"})," 上不存在 ",(0,i.jsx)(n.code,{children:"notExistedMethod"})," 这个方法，所以在实际运行的时候会报错："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"Uncaught TypeError: str.notExistedMethod is not a function\n  at <anonymous>:2:17\n"})}),"\n",(0,i.jsxs)(n.p,{children:["随着 ECMAScript 的迭代，一些内置对象也会迎来新的方法。比如 ",(0,i.jsx)(n.code,{children:"String.prototype.replaceAll"})," 是在 ES2021 中被引入的，那么在大部分 2021 年前的浏览器的引擎的内置对象 ",(0,i.jsx)(n.code,{children:"String.prototype"})," 中是不存在 ",(0,i.jsx)(n.code,{children:"replaceAll"})," 方法的，因此下面这段代码在最新的 Chrome 里可以运行，但是在较早的版本里无法运行："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"'abc'.replaceAll('abc', 'xyz');\n"})}),"\n",(0,i.jsxs)(n.p,{children:["为了解决在旧版浏览器中的 ",(0,i.jsx)(n.code,{children:"String.prototype"})," 缺少 ",(0,i.jsx)(n.code,{children:"replaceAll"})," 的问题，我们可以在老版本的浏览器里扩展 ",(0,i.jsx)(n.code,{children:"String.prototype"})," 对象，给它加上 ",(0,i.jsx)(n.code,{children:"replaceAll"})," 方法，例如："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"// 该 polyfill 的实现并不一定符合标准，仅作为示例。\nif (!String.prototype.replaceAll) {\n  String.prototype.replaceAll = function (str, newStr) {\n    // If a regex pattern\n    if (\n      Object.prototype.toString.call(str).toLowerCase() === '[object regexp]'\n    ) {\n      return this.replace(str, newStr);\n    }\n    // If a string\n    return this.replace(new RegExp(str, 'g'), newStr);\n  };\n}\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"这种为旧环境提供实现来对齐新 API 的技术被称作 polyfill。"}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"降级方式",children:["降级方式",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#降级方式",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"在 Builder 中，我们将代码分为三类："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"第一类是当前项目中的源代码。"}),"\n",(0,i.jsx)(n.li,{children:"第二类是通过 npm 安装的第三方依赖代码。"}),"\n",(0,i.jsx)(n.li,{children:"第三类是非当前项目的代码，比如 monorepo 中其他目录下的代码。"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"默认情况下，Builder 只会对第一类代码进行编译和降级，而其他类型的代码默认是不进行降级处理的。"}),"\n",(0,i.jsx)(n.p,{children:"之所以这样处理，主要有几个考虑："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["将所有第三方依赖代码都进行降级的话会",(0,i.jsx)(n.strong,{children:"导致构建性能显著下降"}),"。"]}),"\n",(0,i.jsx)(n.li,{children:"大部分第三方依赖在发布前已经进行了降级处理，二次降级可能会引入新问题。"}),"\n",(0,i.jsx)(n.li,{children:"非当前项目的代码可能已经经过了编译处理，或者编译所需的配置与当前项目并不相同。"}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"降级当前项目代码",children:["降级当前项目代码",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#降级当前项目代码",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"当前项目的代码会被默认降级，因此你不需要添加额外的配置，只需要保证正确设置了浏览器范围即可。"}),"\n",(0,i.jsxs)(n.h3,{id:"降级第三方依赖",children:["降级第三方依赖",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#降级第三方依赖",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当你发现某个第三方依赖的代码导致了兼容性问题时，你可以将这个依赖添加到 Builder 的 ",(0,i.jsx)(n.a,{href:"/api/config-source#sourceinclude",children:"source.include"})," 配置中，使 Builder 对该依赖进行额外的编译。"]}),"\n",(0,i.jsxs)(n.p,{children:["以 ",(0,i.jsx)(n.code,{children:"query-string"})," 这个 npm 包为例，你可以做如下的配置："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import path from 'path';\n\nexport default {\n  source: {\n    include: [/\\/query-string\\//],\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["请查看 ",(0,i.jsx)(n.a,{href:"/api/config-source#sourceinclude",children:"source.include"})," 文档来查看更详细的用法说明。"]}),"\n",(0,i.jsxs)(n.h3,{id:"降级非当前项目的代码",children:["降级非当前项目的代码",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#降级非当前项目的代码",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当你引用非当前项目的代码时，如果该代码未经过编译处理，那么你也需要配置 ",(0,i.jsx)(n.a,{href:"/api/config-source#sourceinclude",children:"source.include"})," 来对它进行编译。"]}),"\n",(0,i.jsxs)(n.p,{children:["比如，你需要引用 monorepo 中 ",(0,i.jsx)(n.code,{children:"packages"})," 目录下的某个模块，可以添加如下的配置："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import path from 'path';\n\nexport default {\n  source: {\n    include: [\n      // 方法一:\n      // 编译 Monorepo 的 package 目录下的所有文件\n      path.resolve(__dirname, '../../packages'),\n\n      // 方法二:\n      // 编译 Monorepo 的 package 目录里某个包的源代码\n      // 这种写法匹配的范围更加精准，对整体编译性能的影响更小\n      path.resolve(__dirname, '../../packages/xxx/src'),\n    ],\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"polyfill-方案",children:["Polyfill 方案",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#polyfill-方案",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder 底层通过 Babel 或 SWC 编译 JavaScript 代码，并注入 ",(0,i.jsx)(n.a,{href:"https://github.com/zloirock/core-js",target:"_blank",rel:"noopener noreferrer",children:"core-js"}),"、",(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/@babel/runtime",target:"_blank",rel:"noopener noreferrer",children:"@babel/runtime"}),"、",(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/@swc/helpers",target:"_blank",rel:"noopener noreferrer",children:"@swc/helpers"})," 等 polyfill 库。"]}),"\n",(0,i.jsxs)(n.p,{children:["在不同的使用场景下，你可能会需要不同的 polyfill 方案。Builder 提供了 ",(0,i.jsx)(n.a,{href:"/api/config-output#outputpolyfill",children:"output.polyfill"})," 配置项来切换不同的 polyfill 方案。"]}),"\n",(0,i.jsxs)(n.h3,{id:"entry-方案",children:["entry 方案",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#entry-方案",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"entry 为默认方案，无须手动设置。"}),"\n",(0,i.jsxs)(n.p,{children:["在使用 entry 方案时，Builder 会根据当前项目设置的浏览器范围来计算需要注入哪些 ",(0,i.jsx)(n.code,{children:"core-js"})," 方法，并在每个页面的入口文件中进行注入。这种方式注入的 polyfill 较为全面，不需要再担心项目源码和第三方依赖的 polyfill 问题，但是因为包含了一些没有用到的 polyfill 代码，所以最终的包大小可能会有所增加。"]}),"\n",(0,i.jsx)(n.p,{children:"entry 方案对应的配置为："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    polyfill: 'entry',\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"usage-方案",children:["usage 方案",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#usage-方案",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"usage 方案可以更精确地控制需要注入哪些 core-js polyfill。"}),"\n",(0,i.jsx)(n.p,{children:"当你开启 usage 方案时，Builder 会分析项目中的源代码，并判断需要注入哪些 polyfill。"}),"\n",(0,i.jsxs)(n.p,{children:["比如代码中使用了 ",(0,i.jsx)(n.code,{children:"Map"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"var b = new Map();\n"})}),"\n",(0,i.jsxs)(n.p,{children:["编译后，只会在该文件中注入 ",(0,i.jsx)(n.code,{children:"Map"})," 所需的 polyfill："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import 'core-js/modules/es.map';\nvar b = new Map();\n"})}),"\n",(0,i.jsxs)(n.p,{children:["这种方式的优点是注入的 polyfill 体积更小，适合对包体积有较高要求的项目使用。缺点是 polyfill 可能注入不全，因为第三方依赖默认不会被编译和降级处理，因此第三方依赖所需的 polyfill 不会被分析到，如果需要分析某个第三方依赖，也需要将其加入到 ",(0,i.jsx)(n.a,{href:"/api/config-source#sourceinclude",children:"source.include"})," 配置中。"]}),"\n",(0,i.jsx)(n.p,{children:"usage 方案对应的配置为："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    polyfill: 'usage',\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"不注入-polyfill",children:["不注入 Polyfill",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#不注入-polyfill",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["你可以将 ",(0,i.jsx)(n.code,{children:"output.polyfill"})," 设置为 ",(0,i.jsx)(n.code,{children:"'off'"})," 来禁用 polyfill 注入的行为。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    polyfill: 'off',\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["使用此选项时，你需要自行保证代码的兼容性，比如通过 ",(0,i.jsx)(n.a,{href:"/api/config-source#sourcepreentry",children:"source.preEntry"})," 来手动引用所需的 polyfill 代码。"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fguide%2Fadvanced%2Fbrowser-compatibility.md"]={toc:[{text:"设置浏览器范围",id:"设置浏览器范围",depth:2},{text:"背景知识",id:"背景知识",depth:2},{text:"语法降级和 API 降级",id:"语法降级和-api-降级",depth:3},{text:"语法转译",id:"语法转译",depth:3},{text:"API Polyfill",id:"api-polyfill",depth:3},{text:"降级方式",id:"降级方式",depth:2},{text:"降级当前项目代码",id:"降级当前项目代码",depth:3},{text:"降级第三方依赖",id:"降级第三方依赖",depth:3},{text:"降级非当前项目的代码",id:"降级非当前项目的代码",depth:3},{text:"Polyfill 方案",id:"polyfill-方案",depth:2},{text:"entry 方案",id:"entry-方案",depth:3},{text:"usage 方案",id:"usage-方案",depth:3},{text:"不注入 Polyfill",id:"不注入-polyfill",depth:3}],title:"浏览器兼容性",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},11410:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",strong:"strong",code:"code",div:"div",h3:"h3",pre:"pre",ul:"ul",li:"li",img:"img"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"设置浏览器范围",children:["设置浏览器范围",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#设置浏览器范围",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder 支持通过 ",(0,i.jsx)(n.a,{href:"https://browsersl.ist/",target:"_blank",rel:"noopener noreferrer",children:"Browserslist"})," 来设置 Web 应用需要兼容的浏览器范围。"]}),"\n",(0,i.jsxs)(n.h2,{id:"什么是-browserslist",children:["什么是 Browserslist",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#什么是-browserslist",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"由于各种浏览器对 ECMAScript 和 CSS 的支持程度不同，因此开发者需要根据业务需求，为 Web 应用设置正确的浏览器范围。"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://browsersl.ist/",target:"_blank",rel:"noopener noreferrer",children:"Browserslist"})," 可以指定 Web 应用能够在哪些浏览器中正常运行，它提供了统一的配置格式，并且已经成为了前端社区中的标准。Browserslist 被 Autoprefixer, Babel, ESLint, PostCSS，SWC 和 Webpack 等库所使用。"]}),"\n",(0,i.jsxs)(n.p,{children:["当你通过 Browserslist 指定了一个浏览器范围时，Builder 会将 JavaScript 代码和 CSS 代码编译到指定的语法，并注入相应的 polyfill 代码。",(0,i.jsx)(n.strong,{children:"当你只需要兼容更现代的浏览器时，编译过程会引入更少的兼容代码和 polyfills，页面的性能会更好。"})]}),"\n",(0,i.jsxs)(n.p,{children:["比如，当你需要适配 IE11 浏览器时，Builder 会将代码编译至 ES5，并通过 ",(0,i.jsx)(n.code,{children:"core-js"})," 注入 IE11 所需的 polyfill。"]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"什么是 polyfill"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["polyfill 是一种用于解决浏览器兼容问题的技术。它用于模拟某些浏览器不支持的新特性，使得这些特性能在不支持的浏览器中正常工作。例如，如果某个浏览器不支持 ",(0,i.jsx)(n.code,{children:"Array.prototype.flat()"})," 方法，那么我们可以使用 polyfill 来模拟这个方法，从而让代码在这个浏览器中也能正常工作。\n"]})})]}),"\n",(0,i.jsxs)(n.h2,{id:"设置-browserslist",children:["设置 Browserslist",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#设置-browserslist",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["你可以在当前项目根目录的 ",(0,i.jsx)(n.code,{children:"package.json"})," 或 ",(0,i.jsx)(n.code,{children:".browserslistrc"})," 文件里设置 Browserslist 的值。"]}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["通过 ",(0,i.jsx)(n.code,{children:"package.json"})," 的 ",(0,i.jsx)(n.code,{children:"browserslist"})," 设置："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "browserslist": [\n    "iOS >= 9",\n    "Android >= 4.4",\n    "last 2 versions",\n    "> 0.2%",\n    "not dead"\n  ]\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["通过独立的 ",(0,i.jsx)(n.code,{children:".browserslistrc"})," 文件设置："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"iOS >= 9\nAndroid >= 4.4\nlast 2 versions\n> 0.2%\nnot dead\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"生效范围",children:["生效范围",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#生效范围",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:".browserslistrc"})," 文件默认只对浏览器端的构建产物生效，包括 ",(0,i.jsx)(n.code,{children:"web"})," 和 ",(0,i.jsx)(n.code,{children:"web-worker"})," 这两种产物类型。"]}),"\n",(0,i.jsxs)(n.p,{children:["当你同时构建多种产物，比如 target 包含 ",(0,i.jsx)(n.code,{children:"web"})," 和 ",(0,i.jsx)(n.code,{children:"node"})," 两种产物时，只有 ",(0,i.jsx)(n.code,{children:"web"})," 产物会受到 ",(0,i.jsx)(n.code,{children:".browserslistrc"})," 文件的影响。如果你希望对 ",(0,i.jsx)(n.code,{children:"node"})," 产物进行修改，可以使用下方的 ",(0,i.jsx)(n.code,{children:"output.overrideBrowserslist"})," 配置。"]}),"\n",(0,i.jsxs)(n.h3,{id:"使用-outputoverridebrowserslist-配置",children:["使用 output.overrideBrowserslist 配置",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#使用-outputoverridebrowserslist-配置",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["除了上述的标准用法，Builder 还提供了 ",(0,i.jsx)(n.a,{href:"/api/config-output#outputoverridebrowserslist",children:"output.overrideBrowserslist"})," 配置项，同样可以设置 Browserslist 的值。"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"overrideBrowserslist"})," 可以被设置为一个数组，数组的写法与 ",(0,i.jsx)(n.code,{children:"browserslistrc"})," 配置是一样的，但比 ",(0,i.jsx)(n.code,{children:"browserslistrc"})," 拥有更高的优先级。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    overrideBrowserslist: [\n      'iOS >= 9',\n      'Android >= 4.4',\n      'last 2 versions',\n      '> 0.2%',\n      'not dead',\n    ],\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["当 ",(0,i.jsx)(n.code,{children:".overrideBrowserslist"})," 被设置为数组时，同样只对浏览器端的构建产物生效。"]}),"\n",(0,i.jsxs)(n.p,{children:["当你同时构建多种类型的产物时，你可以为不同的产物类型设置不同的目标浏览器范围。此时，你需要把 ",(0,i.jsx)(n.code,{children:"overrideBrowserslist"})," 设置为一个对象，对象的 key 为对应的产物类型。"]}),"\n",(0,i.jsxs)(n.p,{children:["比如为 ",(0,i.jsx)(n.code,{children:"web"})," 和 ",(0,i.jsx)(n.code,{children:"node"})," 设置不同的范围："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    overrideBrowserslist: {\n      web: [\n        'iOS >= 9',\n        'Android >= 4.4',\n        'last 2 versions',\n        '> 0.2%',\n        'not dead',\n      ],\n      node: ['node >= 14'],\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["大多数场景下，推荐优先使用 ",(0,i.jsx)(n.code,{children:".browserslistrc"})," 文件，而不是使用 ",(0,i.jsx)(n.code,{children:"overrideBrowserslist"})," 配置。因为 ",(0,i.jsx)(n.code,{children:".browserslistrc"})," 文件是官方定义的配置文件，通用性更强，可以被社区中的其他库识别。"]}),"\n",(0,i.jsxs)(n.h2,{id:"常用的浏览器范围",children:["常用的浏览器范围",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#常用的浏览器范围",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"以下是一些常用的浏览器范围，你可以根据自己的项目类型进行选择。"}),"\n",(0,i.jsxs)(n.h3,{id:"桌面端-pc-场景",children:["桌面端 PC 场景",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#桌面端-pc-场景",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"在桌面端 PC 场景下，如果你需要兼容 IE 11 浏览器，则可以将 Browserslist 设置为："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"> 0.5%\nnot dead\nIE 11\n"})}),"\n",(0,i.jsxs)(n.p,{children:["以上浏览器范围会将代码编译至 ES5 规范，具体对应的浏览器列表可以查看 ",(0,i.jsx)(n.a,{href:"https://browserslist.dev/?q=PiAwLjUlLCBub3QgZGVhZCwgSUUgMTE%3D",target:"_blank",rel:"noopener noreferrer",children:"browserslist.dev"}),"。"]}),"\n",(0,i.jsx)(n.p,{children:"如果你不需要兼容 IE 11 浏览器，那么可以调整 Browserslist 来获得更高性能的产物，比如："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"设置为支持原生 ES Modules 的浏览器（推荐）："}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"chrome >= 61\nedge >= 16\nfirefox >= 60\nsafari >= 11\nios_saf >= 11\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"设置为支持 ES6 的浏览器："}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"chrome >= 51\nedge >= 15\nfirefox >= 54\nsafari >= 10\nios_saf >= 10\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"移动端-h5-场景",children:["移动端 H5 场景",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#移动端-h5-场景",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["移动端 H5 场景主要兼容 ",(0,i.jsx)(n.code,{children:"iOS"})," 和 ",(0,i.jsx)(n.code,{children:"Android"})," 系统，通常我们将 Browserslist 设置为："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"iOS >= 9\nAndroid >= 4.4\nlast 2 versions\n> 0.2%\nnot dead\n"})}),"\n",(0,i.jsxs)(n.p,{children:["以上浏览器范围会将代码编译至 ES5 规范，可以兼容市面上绝大多数移动端场景，具体对应的浏览器列表可以查看 ",(0,i.jsx)(n.a,{href:"https://browserslist.dev/?q=aU9TID49IDksIEFuZHJvaWQgPj0gNC40LCBsYXN0IDIgdmVyc2lvbnMsID4gMC4yJSwgbm90IGRlYWQ%3D",target:"_blank",rel:"noopener noreferrer",children:"browserslist.dev"}),"。"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://lf3-static.bytednsdoc.com/obj/eden-cn/zq-uylkvT/ljhwZthlaukjlkulzlp/browserslist-dev-1222.png",alt:""})}),"\n",(0,i.jsx)(n.p,{children:"你也可以选择在 H5 场景使用 ES6 规范，这样会让页面的性能表现更好，对应的 Browserslist 如下："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"iOS >= 10\nChrome >= 51\n> 0.5%\nnot dead\nnot op_mini all\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"browserslist-默认值",children:["Browserslist 默认值",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#browserslist-默认值",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder 会根据",(0,i.jsx)(n.a,{href:"/guide/basic/build-target",children:"构建产物类型"}),"来设置不同的 Browserslist 默认值，但我们推荐你在项目中显式设置 Browserslist，这会让项目的兼容范围更加明确。"]}),"\n",(0,i.jsxs)(n.h3,{id:"web-产物",children:["Web 产物",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#web-产物",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Web 产物的默认值如下所示："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"> 0.01%\nnot dead\nnot op_mini all\n"})}),"\n",(0,i.jsx)(n.p,{children:"在该浏览器范围下，JavaScript 代码被会编译到 ES5 语法。"}),"\n",(0,i.jsxs)(n.h3,{id:"node-产物",children:["Node 产物",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#node-产物",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Node 产物默认最低兼容到 Node.js 14.0 版本。"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"node >= 14\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"web-worker-产物",children:["Web Worker 产物",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#web-worker-产物",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Web Worker 产物默认的浏览器范围与 Web 一致。"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"> 0.01%\nnot dead\nnot op_mini all\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"modern-web-产物",children:["Modern Web 产物",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#modern-web-产物",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Modern Web 产物默认最低兼容到支持",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules",target:"_blank",rel:"noopener noreferrer",children:"原生 ES Modules"})," 的浏览器。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"chrome >= 61\nedge >= 16\nfirefox >= 60\nsafari >= 11\nios_saf >= 11\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"查询浏览器支持情况",children:["查询浏览器支持情况",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#查询浏览器支持情况",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["在开发时，我们需要了解某些特性或 API 的浏览器支持情况，此时我们可以在 ",(0,i.jsx)(n.a,{href:"https://caniuse.com/",target:"_blank",rel:"noopener noreferrer",children:"caniuse"})," 网站上进行查询。"]}),"\n",(0,i.jsxs)(n.p,{children:["比如我们需要知道 ",(0,i.jsx)(n.code,{children:"Promise"})," 的浏览器支持情况，只需要在 ",(0,i.jsx)(n.a,{href:"https://caniuse.com/",target:"_blank",rel:"noopener noreferrer",children:"caniuse"})," 中输入 ",(0,i.jsx)(n.code,{children:"Promise"}),"，就可以看到以下结果："]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://lf3-static.bytednsdoc.com/obj/eden-cn/zq-uylkvT/ljhwZthlaukjlkulzlp/caniuse-demo-1222.png",alt:""})}),"\n",(0,i.jsxs)(n.p,{children:["从上表可以看出，",(0,i.jsx)(n.code,{children:"Promise"})," 在 Chrome 33 和 iOS 8 中得到了原生支持，但是在 IE 11 中不被支持。"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fguide%2Fadvanced%2Fbrowserslist.md"]={toc:[{text:"什么是 Browserslist",id:"什么是-browserslist",depth:2},{text:"设置 Browserslist",id:"设置-browserslist",depth:2},{text:"示例",id:"示例",depth:3},{text:"生效范围",id:"生效范围",depth:3},{text:"使用 output.overrideBrowserslist 配置",id:"使用-outputoverridebrowserslist-配置",depth:3},{text:"常用的浏览器范围",id:"常用的浏览器范围",depth:2},{text:"桌面端 PC 场景",id:"桌面端-pc-场景",depth:3},{text:"移动端 H5 场景",id:"移动端-h5-场景",depth:3},{text:"Browserslist 默认值",id:"browserslist-默认值",depth:2},{text:"Web 产物",id:"web-产物",depth:3},{text:"Node 产物",id:"node-产物",depth:3},{text:"Web Worker 产物",id:"web-worker-产物",depth:3},{text:"Modern Web 产物",id:"modern-web-产物",depth:3},{text:"查询浏览器支持情况",id:"查询浏览器支持情况",depth:2}],title:"设置浏览器范围",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},18875:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",pre:"pre",code:"code",div:"div",h3:"h3",ul:"ul",li:"li",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"修改-webpack-配置",children:["修改 webpack 配置",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#修改-webpack-配置",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder 支持直接修改 webpack 配置对象，也支持通过 webpack-chain 来深度定制 webpack 配置。"}),"\n",(0,i.jsxs)(n.h2,{id:"修改-webpack-配置对象",children:["修改 webpack 配置对象",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#修改-webpack-配置对象",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["你可以使用 ",(0,i.jsx)(n.a,{href:"/api/config-tools#toolswebpack",children:"tools.webpack"})," 来修改 webpack 配置对象。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    webpack: (config, { env }) => {\n      if (env === 'development') {\n        config.devtool = 'cheap-module-eval-source-map';\n      }\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"何时使用"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["当你只需要修改少量 webpack 配置时，可以使用 ",(0,i.jsx)(n.code,{children:"tools.webpack"}),"。但如果你需要修改 Builder 内置的 webpack plugins 或 loaders，请使用 ",(0,i.jsx)(n.code,{children:"tools.webpackChain"})," 进行修改。\n"]})})]}),"\n",(0,i.jsxs)(n.h2,{id:"使用-webpack-chain",children:["使用 webpack-chain",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#使用-webpack-chain",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"webpack-chain 是区别于直接修改 webpack 配置的另一种配置修改方式，相较于直接修改 webpack 配置对象，webpack-chain 不仅支持链式调用，并且能够基于 id 来修改内置的 Rule 或 Plugin."}),"\n",(0,i.jsxs)(n.h3,{id:"toolswebpackchain-配置项",children:["tools.webpackChain 配置项",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toolswebpackchain-配置项",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder 提供了 ",(0,i.jsx)(n.a,{href:"/api/config-tools#toolswebpackchain",children:"tools.webpackChain"})," 配置项来修改 webpack-chain。"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"tools.webpackChain"})," 的值为 ",(0,i.jsx)(n.code,{children:"Function"})," 类型，接收两个参数："]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["第一个参数为 ",(0,i.jsx)(n.code,{children:"webpack-chain"})," 实例对象，你可以通过这个实例来修改默认的 webpack 配置。"]}),"\n",(0,i.jsxs)(n.li,{children:["第二个参数为一个",(0,i.jsx)(n.a,{href:"/api/config-tools#%E5%B7%A5%E5%85%B7%E9%9B%86%E5%90%88-2",children:"工具集合"}),"，包括 ",(0,i.jsx)(n.code,{children:"env"}),"、",(0,i.jsx)(n.code,{children:"isProd"}),"、",(0,i.jsx)(n.code,{children:"CHAIN_ID"})," 等。"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"下面是一个基本示例："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    webpackChain: (chain, { env }) => {\n      if (env === 'development') {\n        chain.devtool('cheap-module-eval-source-map');\n      }\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"webpack-chain-基础知识",children:["webpack-chain 基础知识",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#webpack-chain-基础知识",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"在开始使用 webpack-chain 来修改 webpack 配置之前，建议你先了解一些基础知识。"}),"\n",(0,i.jsxs)(n.h3,{id:"webpack-chain-是如何快速定位的",children:["webpack-chain 是如何快速定位的",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#webpack-chain-是如何快速定位的",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"简单来说，webpack-chain 要求使用者为每个 Rule、Loader、Plugin、Minimizer 都设置一个独一无二的 id，通过这个 id，就可以便捷地从嵌套层级很深的对象中找到所需的对象。"}),"\n",(0,i.jsxs)(n.p,{children:["Builder 将内部定义的全部 id 都通过 ",(0,i.jsx)(n.code,{children:"CHAIN_ID"})," 对象导出，因此你可以通过这些导出的 id，快速定位到你想要修改的 Loader 或 Plugin，而不需要在 webpack 配置对象里通过复杂的遍历寻找。"]}),"\n",(0,i.jsxs)(n.p,{children:["比如通过 ",(0,i.jsx)(n.code,{children:"CHAIN_ID.PLUGIN.HTML"})," 来删除内置的 HTML 插件："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    webpackChain: (chain, { webpack, CHAIN_ID }) => {\n      //\n      chain.plugins.delete(CHAIN_ID.PLUGIN.HTML);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"webpack-chain-id-的类型",children:["webpack-chain id 的类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#webpack-chain-id-的类型",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"CHAIN_ID"})," 对象包含了多种 id，对应的含义如下："]}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"CHAIN_ID 字段"}),"\n",(0,i.jsx)(n.th,{children:"对应的配置"}),"\n",(0,i.jsx)(n.th,{children:"描述"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"CHAIN_ID.PLUGIN"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"plugins[i]"})}),"\n",(0,i.jsx)(n.td,{children:"对应 webpack 配置中的一个插件"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"CHAIN_ID.RULE"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"module.rules[i]"})}),"\n",(0,i.jsx)(n.td,{children:"对应 webpack 配置中的一个 Rule"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"CHAIN_ID.USE"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"module.rules[i].loader"})}),"\n",(0,i.jsx)(n.td,{children:"对应 webpack 配置中的一个 Loader"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"CHAIN_ID.MINIMIZER"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"optimization.minimizer"})}),"\n",(0,i.jsx)(n.td,{children:"对应 webpack 配置中的一个压缩工具"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"CHAIN_ID.RESOLVE_PLUGIN"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"resolve.plugins[i]"})}),"\n",(0,i.jsx)(n.td,{children:"对应 webpack 配置中的中的一个 Resolve 插件"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"webpack-chain-示例",children:["webpack-chain 示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#webpack-chain-示例",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"新增/修改/删除-loader",children:["新增/修改/删除 loader",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#新增/修改/删除-loader",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpackChain: (chain, { CHAIN_ID }) => {\n      // 新增 loader\n      chain.module\n        .rule('md')\n        .test(/\\.md$/)\n        .use('md-loader')\n        .loader('md-loader');\n\n      // 修改 loader\n      chain.module\n        .rule(CHAIN_ID.RULE.JS)\n        .use(CHAIN_ID.USE.BABEL)\n        .tap(options => {\n          options.plugins.push('babel-plugin-xxx');\n          return options;\n        });\n\n      // 删除 loader\n      chain.module.rule(CHAIN_ID.RULE.JS).uses.delete(CHAIN_ID.USE.BABEL);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"新增/修改/删除-plugin",children:["新增/修改/删除 plugin",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#新增/修改/删除-plugin",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpackChain: (chain, { webpack, CHAIN_ID }) => {\n      // 新增插件\n      chain.plugin('custom-define').use(webpack.DefinePlugin, [\n        {\n          'process.env': {\n            NODE_ENV: JSON.stringify(process.env.NODE_ENV),\n          },\n        },\n      ]);\n\n      // 修改插件\n      chain.plugin(CHAIN_ID.PLUGIN.HMR).tap(options => {\n        options[0].fullBuildTimeout = 200;\n        return options;\n      });\n\n      // 删除插件\n      chain.plugins.delete(CHAIN_ID.PLUGIN.HMR);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"根据不同环境修改配置",children:["根据不同环境修改配置",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#根据不同环境修改配置",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"在工具集合中你可以拿到各种环境的标识，如开发/生产/测试环境构建、 SSR 构建、Web Worker 构建，从而实现不同环境下的配置修改。"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpackChain: (chain, { env, isProd, target, isServer, isWebWorker }) => {\n      if (utils.env === 'development' || utils.env === 'test') {\n        // ...\n      }\n      if (utils.isProd) {\n        // ...\n      }\n      if (utils.target === 'node') {\n        // ...\n      }\n      if (utils.isServer) {\n        // ...\n      }\n      if (utils.isWebWorker) {\n        // ...\n      }\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["以上是一些常见的配置示例，完整的 webpack-chain API 请见 ",(0,i.jsx)(n.a,{href:"https://github.com/neutrinojs/webpack-chain",target:"_blank",rel:"noopener noreferrer",children:"webpack-chain 文档"}),"。"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fguide%2Fadvanced%2Fcustom-webpack-config.md"]={toc:[{text:"修改 webpack 配置对象",id:"修改-webpack-配置对象",depth:2},{text:"使用 webpack-chain",id:"使用-webpack-chain",depth:2},{text:"tools.webpackChain 配置项",id:"toolswebpackchain-配置项",depth:3},{text:"webpack-chain 基础知识",id:"webpack-chain-基础知识",depth:2},{text:"webpack-chain 是如何快速定位的",id:"webpack-chain-是如何快速定位的",depth:3},{text:"webpack-chain id 的类型",id:"webpack-chain-id-的类型",depth:3},{text:"webpack-chain 示例",id:"webpack-chain-示例",depth:2},{text:"新增/修改/删除 loader",id:"新增/修改/删除-loader",depth:3},{text:"新增/修改/删除 plugin",id:"新增/修改/删除-plugin",depth:3},{text:"根据不同环境修改配置",id:"根据不同环境修改配置",depth:3}],title:"修改 webpack 配置",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},32393:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",h3:"h3",code:"code",pre:"pre",ul:"ul",li:"li",div:"div",ol:"ol"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"环境变量",children:["环境变量",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#环境变量",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder 支持在编译过程中向代码中注入环境变量或表达式，这对于区分运行环境、注入常量值等场景很有帮助。本章节会介绍环境变量的使用方式。"}),"\n",(0,i.jsxs)(n.h2,{id:"默认环境变量",children:["默认环境变量",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#默认环境变量",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"processenvnode_env",children:["process.env.NODE_ENV",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#processenvnode_env",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["默认情况下，Builder 会自动设置 ",(0,i.jsx)(n.code,{children:"process.env.NODE_ENV"})," 环境变量，在开发模式为 ",(0,i.jsx)(n.code,{children:"'development'"}),"，生产模式为 ",(0,i.jsx)(n.code,{children:"'production'"}),"。"]}),"\n",(0,i.jsxs)(n.p,{children:["你可以在 Node.js 和运行时代码中直接使用 ",(0,i.jsx)(n.code,{children:"process.env.NODE_ENV"}),"。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"if (process.env.NODE_ENV === 'development') {\n  console.log('this is a development log');\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"在开发环境，以上代码会被编译为："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"if (true) {\n  console.log('this is a development log');\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"在生产环境，以上代码会被编译为："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"if (false) {\n  console.log('this is a development log');\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["在代码压缩过程中，",(0,i.jsx)(n.code,{children:"if (false) { ... }"})," 会被识别为无效代码，并被自动移除。"]}),"\n",(0,i.jsxs)(n.h3,{id:"processenvasset_prefix",children:["process.env.ASSET_PREFIX",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#processenvasset_prefix",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["你可以在运行时代码中使用 ",(0,i.jsx)(n.code,{children:"process.env.ASSET_PREFIX"})," 来访问静态资源的前缀。"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["在开发环境下，它等同于 ",(0,i.jsx)(n.a,{href:"/api/config-dev#dev-assetprefix",children:"dev.assetPrefix"})," 设置的值。"]}),"\n",(0,i.jsxs)(n.li,{children:["在生产环境下，它等同于 ",(0,i.jsx)(n.a,{href:"/api/config-output#output-assetprefix",children:"output.assetPrefix"})," 设置的值。"]}),"\n",(0,i.jsxs)(n.li,{children:["Builder 会自动移除 ",(0,i.jsx)(n.code,{children:"assetPrefix"})," 尾部的斜线符号，以便于进行字符串拼接。"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["比如，我们通过 ",(0,i.jsx)(n.a,{href:"/api/config-output#output-copy",children:"output.copy"})," 配置，将 ",(0,i.jsx)(n.code,{children:"static/icon.png"})," 图片拷贝到 ",(0,i.jsx)(n.code,{children:"dist"})," 目录下："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  dev: {\n    assetPrefix: '/',\n  },\n  output: {\n    copy: [{ from: './static', to: 'static' }],\n    assetPrefix: 'https://example.com',\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"此时，我们可以在前端代码中通过以下方式来拼接图片 URL："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"const Image = <img src={`${process.env.ASSET_PREFIX}/static/icon.png`} />;\n"})}),"\n",(0,i.jsx)(n.p,{children:"在开发环境，以上代码会被编译为："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"const Image = <img src={`/static/icon.png`} />;\n"})}),"\n",(0,i.jsx)(n.p,{children:"在生产环境，以上代码会被编译为："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-jsx",children:"const Image = <img src={`https://example.com/static/icon.png`} />;\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"使用-define-配置项",children:["使用 define 配置项",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#使用-define-配置项",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["通过配置 ",(0,i.jsx)(n.a,{href:"/api/config-source#sourcedefine",children:"source.define"})," 选项，你可以在构建时将代码中的变量替换成其它值或者表达式。"]}),"\n",(0,i.jsx)(n.p,{children:"define 类似于其它一些语言提供的宏定义能力，但得益于 JavaScript 强大的运行时表达能力，通常不需要像那些语言一样将其用作复杂代码的生成器。它常用于在构建环境向运行时传递环境变量等简单信息，或是辅助 Builder 进行 Tree Shaking 等操作。"}),"\n",(0,i.jsxs)(n.h3,{id:"替换表达式",children:["替换表达式",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#替换表达式",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"define 最基础的用途是在构建时替换代码中的表达式。"}),"\n",(0,i.jsxs)(n.p,{children:["例如环境变量 ",(0,i.jsx)(n.code,{children:"NODE_ENV"})," 的值会影响许多第三方模块的行为，在构建线上应用的产物时通常需要将它设置为 ",(0,i.jsx)(n.code,{children:'"production"'}),"："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    define: {\n      'process.env.NODE_ENV': JSON.stringify(process.env.NODE_ENV),\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["需要注意的是这里提供的值必须是 JSON 字符串，例如 ",(0,i.jsx)(n.code,{children:"process.env.NODE_ENV"})," 的值为 ",(0,i.jsx)(n.code,{children:'"production"'})," 则传入的值应当是 ",(0,i.jsx)(n.code,{children:'"\\"production\\""'})," 才能够正确被处理。"]}),"\n",(0,i.jsxs)(n.p,{children:["同理 ",(0,i.jsx)(n.code,{children:'{ foo: "bar" }'})," 也应该被转换成 ",(0,i.jsx)(n.code,{children:'"{\\"foo\\":\\"bar\\"}"'}),"，如果直接传入原始对象则意味着把表达式 ",(0,i.jsx)(n.code,{children:"process.env.NODE_ENV.foo"})," 替换为标识符 ",(0,i.jsx)(n.code,{children:"bar"}),"。"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"source.define"})," 的具体行为请参考 ",(0,i.jsx)(n.a,{href:"/api/config-source#sourcedefine",children:"API 文档"}),"。"]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["以上例子中的环境变量 ",(0,i.jsx)(n.code,{children:"NODE_ENV"})," 已经由 Builder 自动注入，通常你不需要手动配置它的值。\n"]})})]}),"\n",(0,i.jsxs)(n.h3,{id:"processenv-注入方式",children:["process.env 注入方式",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#processenv-注入方式",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["在使用 ",(0,i.jsx)(n.code,{children:"source.define"})," 或 ",(0,i.jsx)(n.code,{children:"source.globalVars"})," 时，请避免注入整个 ",(0,i.jsx)(n.code,{children:"process.env"})," 对象，比如下面的用法是不推荐的："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    define: {\n      'process.env': JSON.stringify(process.env),\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"如果你采用了上述用法，将会导致如下问题："}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"额外注入了一些未使用的环境变量，导致开发环境的环境变量被泄露到前端代码中。"}),"\n",(0,i.jsxs)(n.li,{children:["由于每一处 ",(0,i.jsx)(n.code,{children:"process.env"})," 代码都会被替换为完整的环境变量对象，导致前端代码的包体积增加，性能降低。"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["因此，请按照实际需求来注入 ",(0,i.jsx)(n.code,{children:"process.env"})," 上的环境变量，避免全量注入。"]}),"\n",(0,i.jsxs)(n.h2,{id:"设置环境变量",children:["设置环境变量",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#设置环境变量",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["针对设置环境变量的高频场景，Builder 还提供了 ",(0,i.jsx)(n.a,{href:"/api/config-source#sourceglobalvars",children:"source.globalVars"})," 配置用于简化配置，它是 ",(0,i.jsx)(n.code,{children:"source.define"})," 的一个语法糖，唯一的区别是 ",(0,i.jsx)(n.code,{children:"source.globalVars"})," 会自动将传入的值进行 JSON 序列化处理，这使得设置环境变量的值更容易，避免大量书写 ",(0,i.jsx)(n.code,{children:"JSON.stringify(...)"})," 转换语句："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    globalVars: {\n      'process.env.NODE_ENV': 'production',\n      'import.meta.foo': { bar: 42 },\n      'import.meta.baz': false,\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"需要注意的是不论以上哪种方式都只会匹配完整的表达式，对表达式进行解构会让 Builder 无法正确识别："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"console.log(process.env.NODE_ENV);\n// => production\n\nconst { NODE_ENV } = process.env;\nconsole.log(NODE_ENV);\n// => undefined\n\nconst vars = process.env;\nconsole.log(vars.NODE_ENV);\n// => undefined\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"声明环境变量类型",children:["声明环境变量类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#声明环境变量类型",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"当你在 TypeScript 代码中读取环境变量时，TypeScript 可能会提示该变量缺少类型定义，此时你需要添加相应的类型声明。"}),"\n",(0,i.jsxs)(n.p,{children:["比如你引用了一个 ",(0,i.jsx)(n.code,{children:"CUSTOM_VAR"})," 变量，在 TypeScript 文件中会出现如下提示："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"TS2304: Cannot find name 'CUSTOM_VAR'.\n"})}),"\n",(0,i.jsxs)(n.p,{children:["此时，你可以在项目中创建 ",(0,i.jsx)(n.code,{children:"src/env.d.ts"})," 文件，并添加以下内容即可："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="src/env.d.ts"',children:"declare const CUSTOM_VAR: string;\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"tree-shaking",children:["Tree Shaking",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#tree-shaking",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Define 还可以用于标记死代码以协助 Builder 进行 Tree Shaking 优化。"}),"\n",(0,i.jsxs)(n.p,{children:["例如通过将 ",(0,i.jsx)(n.code,{children:"process.env.REGION"})," 替换为具体值来实现针对不同地区的产物进行差异化构建："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  source: {\n    define: {\n      'process.env.REGION': JSON.stringify(process.env.REGION),\n    },\n    // or...\n    globalVars: {\n      'process.env.REGION': process.env.REGION,\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"这样设置后对于存在地区控制的代码："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const App = () => {\n  if (process.env.REGION === 'cn') {\n    return <EntryFoo />;\n  } else if (process.env.REGION === 'sg') {\n    return <EntryBar />;\n  } else {\n    return <EntryBaz />;\n  }\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["指定环境变量 ",(0,i.jsx)(n.code,{children:"REGION=sg"})," 并执行构建得到的产物会被剔除多余的代码："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const App = () => {\n  if (false) {\n  } else if (true) {\n    return <EntryBar />;\n  } else {\n  }\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"未用到的组件不会被打包到产物中，它们的外部依赖也会对应地被优化，最终即可得到体积和性能都更优的产物代码。"}),"\n",(0,i.jsxs)(n.h2,{id:"源码内联测试",children:["源码内联测试",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#源码内联测试",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Vitest 支持将测试写在源码文件内，能够在不导出的情况下测试私有功能的行为，并且通过设置 Define 来在正式构建时剔除测试代码。详细指南请参考 ",(0,i.jsx)(n.a,{href:"https://cn.vitest.dev/guide/in-source.html",target:"_blank",rel:"noopener noreferrer",children:"Vitest 官方文档"}),"。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"// 函数实现\nfunction add(...args) {\n  return args.reduce((a, b) => a + b, 0);\n}\n\n// 源码内的测试套件\nif (import.meta.vitest) {\n  const { it, expect } = import.meta.vitest;\n  it('add', () => {\n    expect(add()).toBe(0);\n    expect(add(1)).toBe(1);\n    expect(add(1, 2, 3)).toBe(6);\n  });\n}\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fguide%2Fadvanced%2Fdefine.md"]={toc:[{text:"默认环境变量",id:"默认环境变量",depth:2},{text:"process.env.NODE_ENV",id:"processenvnode_env",depth:3},{text:"process.env.ASSET_PREFIX",id:"processenvasset_prefix",depth:3},{text:"使用 define 配置项",id:"使用-define-配置项",depth:2},{text:"替换表达式",id:"替换表达式",depth:3},{text:"process.env 注入方式",id:"processenv-注入方式",depth:3},{text:"设置环境变量",id:"设置环境变量",depth:2},{text:"声明环境变量类型",id:"声明环境变量类型",depth:2},{text:"Tree Shaking",id:"tree-shaking",depth:2},{text:"源码内联测试",id:"源码内联测试",depth:2}],title:"环境变量",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},41813:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",ul:"ul",li:"li",h2:"h2",pre:"pre",code:"code",h3:"h3"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"模块热替换",children:["模块热替换",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#模块热替换",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"模块热替换（HMR - hot module replacement）功能会在应用程序运行过程中，替换、添加或删除模块，而无需重新加载整个页面。主要是通过以下几种方式，来显著加快开发速度："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"保留在完全重新加载页面期间丢失的应用程序状态。"}),"\n",(0,i.jsx)(n.li,{children:"只更新变更内容，以节省宝贵的开发时间。"}),"\n",(0,i.jsx)(n.li,{children:"在源代码中 CSS/JS 产生修改时，会立刻在浏览器中进行更新，这几乎相当于在浏览器 devtools 直接更改样式。"}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"启用-hmr",children:["启用 HMR",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#启用-hmr",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder 已内置了对 HMR 的支持，在开发环境下默认启用。"}),"\n",(0,i.jsxs)(n.p,{children:["如果你不需要使用 HMR 能力，可以将 ",(0,i.jsx)(n.a,{href:"/api/config-dev#devhmr",children:"dev.hmr"})," 设置为 false，此时将不再提供热更新和 react-refresh 功能。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  dev: {\n    hmr: false,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"自定义-hmr-url",children:["自定义 HMR URL",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#自定义-hmr-url",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"在默认情况下，Builder 使用当前页面的 host 和端口号来拼接 HMR 对应的 WebSocket URL。"}),"\n",(0,i.jsxs)(n.p,{children:["当出现 HMR 连接失败的情况时，你可以通过自定义 ",(0,i.jsx)(n.code,{children:"devServer.client"})," 配置的方式来指定 WebSocket URL。"]}),"\n",(0,i.jsxs)(n.h3,{id:"默认配置",children:["默认配置",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#默认配置",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"默认配置如下，Builder 会根据当前页面的 location 自动推导 WebSocket 请求的 URL："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    devServer: {\n      client: {\n        path: '/webpack-hmr',\n        // 默认设置为 dev server 的端口号\n        port: '',\n        // 默认设置为 location.hostname\n        host: '',\n        // 默认设置为 location.protocol === 'https:' ? 'wss' : 'ws'\n        protocol: '',\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"线上代理",children:["线上代理",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#线上代理",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["如果你将一个线上页面代理到本地进行开发，WebSocket 请求将会连接失败。此时你可以尝试将 ",(0,i.jsx)(n.code,{children:"devServer.client"})," 配置成如下值，使 HMR 请求能打到本地的 Dev Server。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    devServer: {\n      client: {\n        host: 'localhost',\n        protocol: 'ws',\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"live-reloading-和-hot-reloading-的区别",children:["Live reloading 和 Hot reloading 的区别",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#live-reloading-和-hot-reloading-的区别",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Live reloading: 修改文件之后，webpack 重新编译，并强制刷新浏览器，属于全局（整个应用）刷新，相当于 ",(0,i.jsx)(n.code,{children:"window.location.reload()"}),"；"]}),"\n",(0,i.jsx)(n.li,{children:"Hot reloading: 修改文件之后，webpack 重新编译对应模块，刷新时可以记住应用的状态，从而做到局部刷新，即热更新。"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["DevServer 提供了 ",(0,i.jsx)(n.a,{href:"/api/config-tools#hot",children:"hot"})," 和 ",(0,i.jsx)(n.a,{href:"/api/config-tools#livereload",children:"liveReload"})," 这两个配置项来控制更新方式。当 hot 和 liveReload 同时开启时，DevServer 会优先尝试使用 hot 模式 (HMR)，如果 HMR 更新失败后，会降级到重新加载页面。"]}),"\n",(0,i.jsxs)(n.h2,{id:"常见问题",children:["常见问题",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#常见问题",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["请参考 ",(0,i.jsx)(n.a,{href:"/guide/faq/hmr",children:"热更新问题"}),"。"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fguide%2Fadvanced%2Fhmr.md"]={toc:[{text:"启用 HMR",id:"启用-hmr",depth:2},{text:"自定义 HMR URL",id:"自定义-hmr-url",depth:2},{text:"默认配置",id:"默认配置",depth:3},{text:"线上代理",id:"线上代理",depth:3},{text:"Live reloading 和 Hot reloading 的区别",id:"live-reloading-和-hot-reloading-的区别",depth:2},{text:"常见问题",id:"常见问题",depth:2}],title:"模块热替换",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},77044:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",code:"code",ol:"ol",li:"li",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"开启-rem-适配",children:["开启 REM 适配",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#开启-rem-适配",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder 支持通过 ",(0,i.jsx)(n.a,{href:"/api/config-output#outputconverttorem",children:"output.convertToRem"})," 一键开启 REM 适配能力，能够根据屏幕大小来动态调整字体大小，让网页在不同大小的屏幕上都能够自适应显示。"]}),"\n",(0,i.jsxs)(n.h2,{id:"开启-rem-的适配能力",children:["开启 REM 的适配能力",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#开启-rem-的适配能力",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["开启 ",(0,i.jsx)(n.code,{children:"convertToRem"})," 后，会对页面进行如下两个操作："]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"将 CSS 属性中的 px 转成 rem。"}),"\n",(0,i.jsx)(n.li,{children:"对根元素的字体大小进行动态设置。"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    convertToRem: true,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"css-属性值转换",children:["CSS 属性值转换",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#css-属性值转换",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"由于默认的 rootFontSize 为 50。开启 rem 转换后，会按照 1rem = 50px 的比例，对 CSS 样式做如下转换："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-css",children:"/* input */\nh1 {\n  margin: 0 0 16px;\n  font-size: 32px;\n  line-height: 1.2;\n  letter-spacing: 1px;\n}\n\n/* output */\nh1 {\n  margin: 0 0 0.32rem;\n  font-size: 0.64rem;\n  line-height: 1.2;\n  letter-spacing: 0.02rem;\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"Builder 默认会对所有 CSS 属性进行转换，如果希望仅对 font-size 属性进行转换，可通过设置 pxtorem.propList 实现。"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    convertToRem: {\n      pxtorem: {\n        propList: ['font-size'],\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"根元素字体大小计算",children:["根元素字体大小计算",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#根元素字体大小计算",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"页面根元素的字体大小的计算公式为："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"根元素字体大小 = 当前客户端屏幕宽度  * 根元素字体值 / UI 设计图宽度\n\n(即：pageRootFontSize = clientWidth * rootFontSize / screenWidth)\n"})}),"\n",(0,i.jsx)(n.p,{children:"以屏幕宽度为 390 的手机端浏览器为例，根元素字体值的默认值为 50， UI 设计图宽度为 375。"}),"\n",(0,i.jsxs)(n.p,{children:["此时计算出的页面根元素的字体大小为 52 (",(0,i.jsx)(n.code,{children:"390 * 50 / 375"}),")。\n此时 1 rem 为 52px，CSS 样式中的 32px（0.64 rem），实际页面效果为 33.28 px。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    convertToRem: {\n      rootFontSize: 50,\n      screenWidth: 375,\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"自定义最大根元素字体值",children:["自定义最大根元素字体值",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#自定义最大根元素字体值",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"在桌面浏览器端，根据计算公式得到的页面根元素字体值往往过大，当计算出的结果超出了默认的最大根元素字体值时，则采用当前设置的最大根元素字体值为当前根元素字体值。"}),"\n",(0,i.jsx)(n.p,{children:"以屏幕宽度为 1920 的桌面浏览器为例，此时计算出的根元素的字体大小为 349，超出了最大根元素字体值 64。则采用 64 为当前的根元素字体值。"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    convertToRem: {\n      maxRootFontSize: 64,\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"如何判断-rem-是否生效？",children:["如何判断 REM 是否生效？",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#如何判断-rem-是否生效？",children:"#"})]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["CSS：查看生成的 ",(0,i.jsx)(n.code,{children:".css"})," 文件中对应属性的值是否从 px 转换成 rem。"]}),"\n",(0,i.jsxs)(n.li,{children:["HTML：打开页面控制台查看 ",(0,i.jsx)(n.code,{children:"document.documentElement.style.fontSize"})," 是否存在有效值。"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"如何获取页面实际生效的-rootfontsize-值？",children:["如何获取页面实际生效的 rootFontSize 值？",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#如何获取页面实际生效的-rootfontsize-值？",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["页面实际生效的 rootFontSize 会根据当前页面的情况动态计算。 可通过打印 ",(0,i.jsx)(n.code,{children:"document.documentElement.style.fontSize"})," 查看，也可通过 ",(0,i.jsx)(n.code,{children:"window.ROOT_FONT_SIZE"})," 获取。"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fguide%2Fadvanced%2Frem.md"]={toc:[{text:"开启 REM 的适配能力",id:"开启-rem-的适配能力",depth:2},{text:"CSS 属性值转换",id:"css-属性值转换",depth:2},{text:"根元素字体大小计算",id:"根元素字体大小计算",depth:2},{text:"自定义最大根元素字体值",id:"自定义最大根元素字体值",depth:2},{text:"如何判断 REM 是否生效？",id:"如何判断-rem-是否生效？",depth:2},{text:"如何获取页面实际生效的 rootFontSize 值？",id:"如何获取页面实际生效的-rootfontsize-值？",depth:2}],title:"开启 REM 适配",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},42075:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var t,i=r("9880"),s=r("23169"),l=r.ir(r("57894"));function o(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",h3:"h3",code:"code",pre:"pre",h4:"h4",blockquote:"blockquote",ul:"ul",li:"li",div:"div",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",br:"br",strong:"strong",h5:"h5"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"使用-rspack",children:["使用 Rspack",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#使用-rspack",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"这篇文档会向你介绍如何在 Builder 中开启 Rspack 构建模式。"}),"\n","\n",(0,i.jsx)(l.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"启用-rspack",children:["启用 Rspack",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#启用-rspack",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"在-modernjs-框架中启用",children:["在 Modern.js 框架中启用",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#在-modernjs-框架中启用",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Modern.js 框架默认使用 webpack 作为打包工具。如果希望启用 Rspack 作为打包工具，可参考：",(0,i.jsx)(n.a,{href:"https://modernjs.dev/guides/advanced-features/rspack-start.html",target:"_blank",rel:"noopener noreferrer",children:"使用 Rspack"}),"。"]}),"\n",(0,i.jsxs)(n.h3,{id:"在前端框架中接入",children:["在前端框架中接入",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#在前端框架中接入",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["如果你基于 Builder 开发了一个前端框架，接入 rspack-provider 和 ",(0,i.jsx)(n.a,{href:"/guide/quick-start#%E5%9C%A8%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6%E4%B8%AD%E6%8E%A5%E5%85%A5",children:"接入 webpack-provider"})," 的方式类似，只需要把依赖从 ",(0,i.jsx)(n.code,{children:"@modern-js/builder-webpack-provider"})," 改为 ",(0,i.jsx)(n.code,{children:"@modern-js/builder-rspack-provider"})," 即可。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:"title=modern.config.ts",children:"import { createBuilder } from '@modern-js/builder';\nimport { builderRspackProvider } from '@modern-js/builder-rspack-provider';\n\nconst provider = builderRspackProvider({\n  builderConfig: {\n    // some configs\n  },\n});\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-diff",meta:"title=package.json",children:'{\n  "devDependencies": {\n-    "@modern-js/builder-webpack-provider": "2.8.0",\n+    "@modern-js/builder-rspack-provider": "2.8.0"\n  }\n}\n'})}),"\n",(0,i.jsxs)(n.h2,{id:"从-webpack-迁移到-rspack",children:["从 webpack 迁移到 Rspack",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#从-webpack-迁移到-rspack",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder 旨在消除不同打包工具之间的主要差异，帮助用户以较低成本进行迁移。但由于各个打包工具提供的能力不同，你仍需要了解其中的部分差异。"}),"\n",(0,i.jsxs)(n.p,{children:["本文将从 Builder 的角度介绍 webpack 和 Rspack 之间的区别。如果需要了解更深层次的差异，请参考 ",(0,i.jsx)(n.a,{href:"http://rspack.dev/zh/guide/migrate-from-webpack.html",target:"_blank",rel:"noopener noreferrer",children:"Rspack 文档"}),"。"]}),"\n",(0,i.jsxs)(n.h3,{id:"1-builder-配置差异",children:["1. Builder 配置差异",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#1-builder-配置差异",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"目前，Builder 内大部分的配置项已经适配了 Rspack，但仍有部分配置在支持中。"}),"\n",(0,i.jsxs)(n.h4,{id:"source-config",children:["Source Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#source-config",children:"#"})]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Builder 中与源代码解析、编译方式相关的配置。"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"不支持的配置项及能力包括："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/api/config-source#sourceinclude",children:"source.include"})," (",(0,i.jsx)(n.a,{href:"https://github.com/web-infra-dev/rspack/issues/3067",target:"_blank",rel:"noopener noreferrer",children:"issue 追踪"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/api/config-source#sourceexclude",children:"source.exclude"})," (",(0,i.jsx)(n.a,{href:"https://github.com/web-infra-dev/rspack/issues/3067",target:"_blank",rel:"noopener noreferrer",children:"issue 追踪"}),")"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/api/config-source#sourcemodulescopes",children:"source.moduleScopes"})," (",(0,i.jsx)(n.a,{href:"https://github.com/web-infra-dev/rspack/issues/3548",target:"_blank",rel:"noopener noreferrer",children:"issue 追踪"}),")"]}),"\n"]}),"\n",(0,i.jsxs)(n.h4,{id:"html-config",children:["Html Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#html-config",children:"#"})]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Builder 中与 HTML 有关的配置。"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"所有 html 下的配置项及能力在 Rspack 内均可使用。"}),"\n",(0,i.jsxs)(n.h4,{id:"security-config",children:["Security Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#security-config",children:"#"})]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Builder 中与安全有关的配置。"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"不支持的配置项及能力包括："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/api/config-security#securitysri",children:"security.sri"})," (",(0,i.jsx)(n.a,{href:"https://github.com/web-infra-dev/rspack/issues/2669",target:"_blank",rel:"noopener noreferrer",children:"issue 追踪"}),")"]}),"\n"]}),"\n",(0,i.jsxs)(n.h4,{id:"dev-config",children:["Dev Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#dev-config",children:"#"})]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Builder 中与本地开发有关的配置。"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"所有 dev 下的配置项及能力在 Rspack 内均可使用。"}),"\n",(0,i.jsxs)(n.h4,{id:"output-config",children:["Output Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#output-config",children:"#"})]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Builder 中与构建产物有关的配置。"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"不支持的配置项及能力包括："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/api/config-output#outputdisablesourcemap",children:"output.disableSourcemap.css"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/api/config-output#outputenablecssmoduletsdeclaration",children:"output.enableCssModuleTSDeclaration"})," (仅在 ",(0,i.jsx)(n.a,{href:"/api/config-output#outputdisablecssextract",children:"disableCssExtract"})," 时支持)"]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/api/config-output#outputenableinlinescripts",children:"output.enableInlineScripts"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/api/config-output#outputlegalcomments",children:"output.legalComments.inline"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/api/config-output#usage",children:"output.polyfill.usage"})," (",(0,i.jsx)(n.a,{href:"https://github.com/web-infra-dev/rspack/issues/3067",target:"_blank",rel:"noopener noreferrer",children:"issue 追踪"}),")"]}),"\n"]}),"\n",(0,i.jsxs)(n.h4,{id:"experiments-config",children:["Experiments Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#experiments-config",children:"#"})]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Builder 中的一些实验性配置。"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"不支持的配置项及能力包括："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/api/config-experiments#experimentslazycompilation",children:"experiments.lazyCompilation"})}),"\n"]}),"\n",(0,i.jsxs)(n.h4,{id:"performance-config",children:["Performance Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#performance-config",children:"#"})]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Builder 中与性能有关的配置。"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"不支持的配置项及能力包括："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/api/config-performance#performanceprofile",children:"performance.profile"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/api/config-performance#performancebuildcache",children:"performance.buildCache"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/api/config-performance#performancechunksplit",children:"performance.chunkSplit (split-by-module)"})}),"\n"]}),"\n",(0,i.jsxs)(n.h4,{id:"tools-config",children:["Tools Config",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#tools-config",children:"#"})]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Builder 中与底层工具有关的配置。"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"不支持的配置项包括："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/api/config-tools#toolsterser",children:"tools.terser"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/api/config-tools#toolscssextract",children:"tools.cssExtract"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/api/config-tools#toolscssloader",children:"tools.cssLoader"})," (仅在 ",(0,i.jsx)(n.a,{href:"/api/config-output#outputdisablecssextract",children:"disableCssExtract"})," 时支持)"]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/api/config-tools#toolsinspector",children:"tools.inspector"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/api/config-tools#toolsminifycss",children:"tools.minifyCss"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/api/config-tools#toolsstyledcomponents",children:"tools.styledComponents"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/api/config-tools#toolstsloader",children:"tools.tsLoader"})}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/api/config-tools#toolswebpack",children:"tools.webpack"}),"：使用 ",(0,i.jsx)(n.a,{href:"/api/config-tools#toolsrspack",children:"tools.rspack"})," 代替。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/api/config-tools#toolswebpackchain",children:"tools.webpackChain"}),"：使用 ",(0,i.jsx)(n.a,{href:"/api/config-tools#toolsbundlerchain",children:"tools.bundlerChain"})," 代替。"]}),"\n"]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"除上述配置外，一些已支持的配置可能存在能力差异，请参考各配置 API 获取具体差异信息。"})})]}),"\n",(0,i.jsxs)(n.h3,{id:"2-从-toolswebpackchain-迁移至-toolsbundlerchain",children:["2. 从 tools.webpackChain 迁移至 tools.bundlerChain",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#2-从-toolswebpackchain-迁移至-toolsbundlerchain",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder 支持通过 ",(0,i.jsx)(n.a,{href:"/api/config-tools#toolsbundlerchain",children:"bundlerChain"})," 来修改 Rspack config。通过 bundlerChain 修改的配置，在 webpack 和 Rspack 构建时均可生效。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-diff",children:"export default {\n  tools: {\n-   webpackChain: (chain, { env }) => {\n+   bundlerChain: (chain, { env }) => {\n      if (env === 'development') {\n        chain.devtool('cheap-module-eval-source-map');\n      }\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"bundlerChain 只为 Rspack & webpack 配置提供一致的 api 修改方式，实际 plugin / loader 是否可用，需要看 Rspack / webpack 实际支持情况。"})})]}),"\n",(0,i.jsxs)(n.h4,{id:"chain_id-差异",children:["CHAIN_ID 差异",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#chain_id-差异",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"因为 webpack 和 Rspack 的一些实现差异，所以在规则配置上会有些不同。"}),"\n",(0,i.jsxs)(n.p,{children:["可通过 ",(0,i.jsx)(n.a,{href:"/api/config-tools#chain_id",children:"tools.bundlerChain#CHAIN_ID"})," 查看所有在 Rspack & webpack 中都支持的规则。"]}),"\n",(0,i.jsxs)(n.h3,{id:"3-从-toolswebpack-迁移至-toolsrspack",children:["3. 从 tools.webpack 迁移至 tools.rspack",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#3-从-toolswebpack-迁移至-toolsrspack",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["BundlerChain 只支持修改 Rspack & webpack 交集部分，更多 Rspack 独有功能，需要通过 ",(0,i.jsx)(n.a,{href:"/api/config-tools#toolsrspack",children:"tools.rspack"})," 修改。"]}),"\n",(0,i.jsxs)(n.p,{children:["在修改 Rspack 配置之前，你可能需要了解 ",(0,i.jsx)(n.a,{href:"https://www.rspack.dev/zh/guide/config-diff.html",target:"_blank",rel:"noopener noreferrer",children:"Rspack 和 Webpack 的配置兼容性"}),"。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-diff",children:"export default {\n  tools: {\n-   webppack: (config, { env }) => {\n+   rspack: (config, { env }) => {\n      if (env === 'development') {\n        config.devtool = 'cheap-module-eval-source-map';\n      }\n      return config;\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["关于 Rspack 的详细配置信息，请参考 ",(0,i.jsx)(n.a,{href:"https://rspack.dev/",target:"_blank",rel:"noopener noreferrer",children:"Rspack 官网"}),"。"]}),"\n",(0,i.jsxs)(n.h3,{id:"4-babel-配置迁移",children:["4. Babel 配置迁移",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#4-babel-配置迁移",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Rspack 默认会使用 SWC 进行转译和压缩，因此，在启用 Rspack 构建时，babel-loader 默认不会被启用。"}),"\n",(0,i.jsx)(n.p,{children:"对于大部分常见的 Babel 插件，你可以在 Rspack 中找到对应的替代品，同时 Builder 也提供了一些相应的配置项。"}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"Babel 插件"}),"\n",(0,i.jsx)(n.th,{children:"Rspack 配置项"}),"\n",(0,i.jsx)(n.th,{children:"Builder 配置项"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"@babel/preset-env"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://www.rspack.dev/zh/config/builtins.html#builtinspresetenv",target:"_blank",rel:"noopener noreferrer",children:"builtins.presetEnv"})}),"\n",(0,i.jsxs)(n.td,{children:[(0,i.jsx)(n.a,{href:"/guide/advanced/browserslist",children:"设置浏览器范围"}),"、",(0,i.jsx)("br",{}),(0,i.jsx)(n.a,{href:"/guide/advanced/browser-compatibility",children:"浏览器兼容性"})]}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"@babel/preset-react"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://www.rspack.dev/zh/config/builtins.html#builtinsreact",target:"_blank",rel:"noopener noreferrer",children:"builtins.react"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"/guide/advanced/hmr",children:"模块热替换"})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"@emotion/babel-plugin"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://www.rspack.dev/zh/config/builtins.html#builtinsemotion",target:"_blank",rel:"noopener noreferrer",children:"builtins.emotion"})}),"\n",(0,i.jsx)(n.td,{children:"暂无"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"babel-plugin-import"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://www.rspack.dev/zh/config/builtins.html#builtinspluginimport",target:"_blank",rel:"noopener noreferrer",children:"builtins.pluginImport"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"/api/config-source#sourcetransformimport",children:"source.transformImport"})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"babel-plugin-lodash"}),"\n",(0,i.jsx)(n.td,{children:"暂无"}),"\n",(0,i.jsx)(n.td,{children:"暂无"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"babel-plugin-styled-components"}),"\n",(0,i.jsx)(n.td,{children:"暂无"}),"\n",(0,i.jsx)(n.td,{children:"暂无"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"@babel/plugin-react-transform-remove-prop-types"}),"\n",(0,i.jsx)(n.td,{children:"暂无"}),"\n",(0,i.jsx)(n.td,{children:"暂无"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["在使用 Rspack 构建时，仍然",(0,i.jsxs)(n.strong,{children:["支持通过 ",(0,i.jsx)(n.a,{href:"/api/config-tools#toolsbabel",children:"tools.babel"})," 配置 Babel 插件"]}),"，但会产生额外的编译开销，在一定程度上拖慢 Rspack 构建速度。\n"]})})]}),"\n",(0,i.jsxs)(n.h3,{id:"5-swc-配置支持",children:["5. SWC 配置支持",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#5-swc-配置支持",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Rspack 中已内置了一部分的 swc 配置支持，如 builtins.react 等，可参考 ",(0,i.jsx)(n.a,{href:"https://www.rspack.dev/zh/config/builtins.html",target:"_blank",rel:"noopener noreferrer",children:"Builtins"}),"。"]}),"\n",(0,i.jsxs)(n.p,{children:["暂不支持在 Rspack 中添加 swc 插件和更多自定义配置，相关需求可追踪对应 ",(0,i.jsx)(n.a,{href:"https://github.com/web-infra-dev/rspack/issues/3067",target:"_blank",rel:"noopener noreferrer",children:"issue 进度"}),"。"]}),"\n",(0,i.jsxs)(n.h3,{id:"6-webpack-plugin-插件迁移",children:["6. Webpack Plugin 插件迁移",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#6-webpack-plugin-插件迁移",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"目前 Rspack 中兼容的 webpack 插件有限，当你的项目中有用到以下插件（或间接依赖）时，需要暂时将该插件移除或使用替代方案，否则不支持切换至 Rspack 构建："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["webpack-retry-chunk-load-plugin：使用 ",(0,i.jsx)(n.a,{href:"/api/config-output#outputassetsretry",children:"output.assetsRetry"})," 代替。"]}),"\n",(0,i.jsxs)(n.li,{children:["webpack.ProviderPlugin：使用 ",(0,i.jsx)(n.a,{href:"https://www.rspack.dev/zh/config/builtins.html#builtinsprovide",target:"_blank",rel:"noopener noreferrer",children:"builtins.provide"})," 代替。"]}),"\n",(0,i.jsxs)(n.li,{children:["webpack.DefinePlugin：使用 ",(0,i.jsx)(n.a,{href:"https://www.rspack.dev/zh/config/builtins.html#builtinsdefine",target:"_blank",rel:"noopener noreferrer",children:"builtins.define"})," 代替。"]}),"\n",(0,i.jsx)(n.li,{children:"webpack.ContextReplacementPlugin"}),"\n",(0,i.jsx)(n.li,{children:"..."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["具体插件支持情况可参考：",(0,i.jsx)(n.a,{href:"https://www.rspack.dev/zh/guide/plugin-compat.html",target:"_blank",rel:"noopener noreferrer",children:"Plugin 兼容情况"}),"。"]}),"\n",(0,i.jsxs)(n.p,{children:["未列出的插件可根据 ",(0,i.jsx)(n.a,{href:"https://www.rspack.dev/zh/api/plugin-api.html",target:"_blank",rel:"noopener noreferrer",children:"Rspack Plugin API 支持情况"})," 自行判断。"]}),"\n",(0,i.jsxs)(n.h2,{id:"对比-rspack-cli",children:["对比 Rspack CLI",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#对比-rspack-cli",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder Rspack 构建模式对比 ",(0,i.jsx)(n.a,{href:"https://www.rspack.dev/zh/guide/quick-start.html#%E4%BD%BF%E7%94%A8-rspack-cli",target:"_blank",rel:"noopener noreferrer",children:"Rspack CLI"})," 添加了很多开箱即用的能力，同时，这些能力的封装会带来一定程度上的性能开销:"]}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"功能"}),"\n",(0,i.jsx)(n.th,{children:"描述"}),"\n",(0,i.jsx)(n.th,{children:"相关链接"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"浏览器兼容性"}),"\n",(0,i.jsxs)(n.td,{children:["Builder 会根据",(0,i.jsx)(n.a,{href:"/guide/basic/build-target",children:"构建产物类型"}),"来设置不同的 Browserslist 默认值"]}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/advanced/browserslist.html",children:"浏览器范围"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"SourceMap 生成"}),"\n",(0,i.jsx)(n.td,{children:"Builder 默认根据环境生成不同的 SourceMap"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-output.html#outputdisablesourcemap",children:"output.disableSourceMap"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"SVG 转 React 组件"}),"\n",(0,i.jsx)(n.td,{children:"Builder 默认支持在 React 组件中引用 SVG 作为组件"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/basic/svg-assets.html",children:"引用 SVG 资源"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-output.html#outputdisablesvgr",children:"output.disableSvgr"})})]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"按需引入常用组件库"}),"\n",(0,i.jsxs)(n.td,{children:["当项目中安装了 ",(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/antd",target:"_blank",rel:"noopener noreferrer",children:"Ant Design"})," 或 ",(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/@arco-design/web-react",target:"_blank",rel:"noopener noreferrer",children:"Arco Design"})," 组件库时，Builder 会自动添加对应的按需引入能力"]}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-source#sourcetransformimport",children:"source.transformImport"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"默认开启 TypeScript 类型检查"}),"\n",(0,i.jsx)(n.td,{children:"Builder 会默认通过 TS Checker 检查类型问题"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsxs)("li",{children:[(0,i.jsx)(n.a,{href:"/guide/basic/typescript.html#%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%9F%A5",children:"类型检查"})," "]}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-output#outputdisabletschecker",children:"output.disableTsChecker"})})]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"默认集成 PostCSS"}),"\n",(0,i.jsx)(n.td,{children:"Builder 内默认开启 PostCSS 编译，并内置 autoprefixer 等多个插件"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/basic/css-usage.html#%E4%BD%BF%E7%94%A8-postcss",children:"使用 PostCSS"})})})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"以上能力均提供可调整的配置选项，可以根据项目实际情况按需进行调整。"}),"\n",(0,i.jsxs)(n.p,{children:["更多内置能力，可参考 ",(0,i.jsx)(n.a,{href:"/guide/features",children:"功能导航"}),"。"]}),"\n",(0,i.jsxs)(n.h2,{id:"常见问题",children:["常见问题",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#常见问题",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"启用-rspack-构建后，性能没有预期的快？",children:["启用 Rspack 构建后，性能没有预期的快？",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#启用-rspack-构建后，性能没有预期的快？",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"通常情况下，启用 Rspack 后，相较 Webpack 会有 5 到 10 倍的编译性能提升。"}),"\n",(0,i.jsx)(n.p,{children:"目前已知以下行为会在一定程度上拖慢 Rspack 构建性能："}),"\n",(0,i.jsxs)(n.h5,{id:"使用依赖-babel-实现的配置项或插件",children:["使用依赖 Babel 实现的配置项或插件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#使用依赖-babel-实现的配置项或插件",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["在使用 Rspack 构建时，Builder 默认不会启用 ",(0,i.jsx)(n.code,{children:"babel-loader"}),"。但当项目中使用到依赖 Babel 实现的配置项或插件时，会额外添加 ",(0,i.jsx)(n.code,{children:"babel-loader"})," 进行文件转译："]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["通过 ",(0,i.jsx)(n.a,{href:"/api/config-tools#toolsbabel",children:"tools.babel"})," 添加 Babel plugin"]}),"\n",(0,i.jsxs)(n.li,{children:["使用 ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/guides/advanced-features/ssr.html",target:"_blank",rel:"noopener noreferrer",children:"Modern.js SSR 功能"})]}),"\n",(0,i.jsx)(n.li,{children:"..."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["你可以通过开启",(0,i.jsx)(n.a,{href:"/guide/debug/debug-mode",children:"调试模式"})," 来查看最终生成的 Rspack 配置中是否存在 Babel 插件。"]}),"\n",(0,i.jsxs)(n.h5,{id:"开启-typescript-类型检查",children:["开启 TypeScript 类型检查",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#开启-typescript-类型检查",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder 构建时会默认开启 TypeScript 类型检查。在大型项目中，类型检查的耗时可能远超过 Rspack 本身的构建耗时，因此在生产环境构建时，该行为会在一定程度上拖慢构建速度。"}),"\n",(0,i.jsxs)(n.p,{children:["此时，可通过 ",(0,i.jsx)(n.a,{href:"/api/config-output#outputdisabletschecker",children:"output.disableTsChecker"})," 关闭类型检查，以查看排除类型检查后 Rspack 性能是否符合预期。"]}),"\n",(0,i.jsxs)(n.h5,{id:"大量-less-文件",children:["大量 Less 文件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#大量-less-文件",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["目前 Less 文件使用基于 JavaScript 实现的 ",(0,i.jsx)(n.code,{children:"less-loader"})," 进行处理，未提供 Rust 版本，因此在处理大量 Less 文件时会拖累构建性能。"]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["在使用 ",(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/@arco-design/web-react",target:"_blank",rel:"noopener noreferrer",children:"Arco Design"})," 等组件库时，请尽量避免全量引入 Less 样式。你可以改为按需引入，或直接引入 CSS 样式。\n"]})})]}),"\n",(0,i.jsxs)(n.h5,{id:"大量-svg-文件",children:["大量 SVG 文件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#大量-svg-文件",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder 默认支持将 SVG 资源作为 React 组件使用，这会产生一定的性能开销。如果你不需要此能力，可以将 ",(0,i.jsx)(n.a,{href:"/api/config-output#outputdisablesvgr",children:"output.disableSvgr"})," 设置为 ",(0,i.jsx)(n.code,{children:"true"})," 来关闭此行为，以提升构建性能。"]}),"\n",(0,i.jsxs)(n.h5,{id:"组件库未按需引入",children:["组件库未按需引入",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#组件库未按需引入",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["默认情况下，在使用 ",(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/antd",target:"_blank",rel:"noopener noreferrer",children:"Ant Design"})," 或 ",(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/@arco-design/web-react",target:"_blank",rel:"noopener noreferrer",children:"Arco Design"})," 组件库时，Builder 会自动开启按需引入功能，默认配置可参考 ",(0,i.jsx)(n.a,{href:"/api/config-source#sourcetransformimport",children:"source.transformImport"}),"。"]}),"\n",(0,i.jsxs)(n.p,{children:["在使用其他组件库时，如果该组件库支持按需引入，我们推荐优先通过 ",(0,i.jsx)(n.a,{href:"/api/config-source#sourcetransformimport",children:"source.transformImport"})," 配置按需引入。"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fguide%2Fadvanced%2Frspack-start.mdx"]={toc:[{text:"启用 Rspack",id:"启用-rspack",depth:2},{text:"在 Modern.js 框架中启用",id:"在-modernjs-框架中启用",depth:3},{text:"在前端框架中接入",id:"在前端框架中接入",depth:3},{text:"从 webpack 迁移到 Rspack",id:"从-webpack-迁移到-rspack",depth:2},{text:"1. Builder 配置差异",id:"1-builder-配置差异",depth:3},{text:"Source Config",id:"source-config",depth:4},{text:"Html Config",id:"html-config",depth:4},{text:"Security Config",id:"security-config",depth:4},{text:"Dev Config",id:"dev-config",depth:4},{text:"Output Config",id:"output-config",depth:4},{text:"Experiments Config",id:"experiments-config",depth:4},{text:"Performance Config",id:"performance-config",depth:4},{text:"Tools Config",id:"tools-config",depth:4},{text:"2. 从 tools.webpackChain 迁移至 tools.bundlerChain",id:"2-从-toolswebpackchain-迁移至-toolsbundlerchain",depth:3},{text:"CHAIN_ID 差异",id:"chain_id-差异",depth:4},{text:"3. 从 tools.webpack 迁移至 tools.rspack",id:"3-从-toolswebpack-迁移至-toolsrspack",depth:3},{text:"4. Babel 配置迁移",id:"4-babel-配置迁移",depth:3},{text:"5. SWC 配置支持",id:"5-swc-配置支持",depth:3},{text:"6. Webpack Plugin 插件迁移",id:"6-webpack-plugin-插件迁移",depth:3},{text:"对比 Rspack CLI",id:"对比-rspack-cli",depth:2},{text:"常见问题",id:"常见问题",depth:2},{text:"启用 Rspack 构建后，性能没有预期的快？",id:"启用-rspack-构建后，性能没有预期的快？",depth:3}],title:"使用 Rspack",frontmatter:{}};var a=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},10868:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",code:"code",h2:"h2",strong:"strong",ul:"ul",li:"li",pre:"pre",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"构建产物类型",children:["构建产物类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#构建产物类型",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder 支持多种构建产物类型，分别适用于不同的目标运行环境。在设置正确的产物类型后，Builder 会针对该环境优化打包结果，在构建过程中启用一些对应的插件或者配置。"}),"\n",(0,i.jsxs)(n.p,{children:["你可以通过 ",(0,i.jsx)(n.a,{href:"/api/builder-core#createbuilder",children:"createBuilder"})," 方法的 ",(0,i.jsx)(n.code,{children:"target"})," 参数来设置产物类型。"]}),"\n",(0,i.jsxs)(n.h2,{id:"默认产物",children:["默认产物",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#默认产物",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["默认情况下，",(0,i.jsx)(n.code,{children:"target"})," 会被设置为 ",(0,i.jsx)(n.code,{children:"'web'"}),"，并构建出",(0,i.jsx)(n.strong,{children:"运行在浏览器环境里的产物"}),"。"]}),"\n",(0,i.jsxs)(n.p,{children:["同时，Builder 会读取项目中的 ",(0,i.jsx)(n.a,{href:"https://github.com/browserslist/browserslist",target:"_blank",rel:"noopener noreferrer",children:"Browserslist 配置"}),"，以确定需要兼容的浏览器范围。"]}),"\n",(0,i.jsxs)(n.h2,{id:"可选类型",children:["可选类型",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#可选类型",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["除了 ",(0,i.jsx)(n.code,{children:"'web'"})," 外，你还可以将 ",(0,i.jsx)(n.code,{children:"target"})," 设置为以下值："]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"'node'"}),": 构建出运行在 Node.js 环境的产物，通常用于 SSR 等场景。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"'web-worker'"}),"：构建出运行在 Web Worker 里的产物。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"'modern-web'"}),"：构建出运行在现代浏览器里的产物。"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"比如构建出适用于 Node.js 环境的产物："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const builder = await createBuilder(provider, {\n  target: 'node',\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"并行构建",children:["并行构建",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#并行构建",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"当 target 为包含多个值的数组时，Builder 会并行构建，并生成多份不同的产物。"}),"\n",(0,i.jsx)(n.p,{children:"比如同时构建浏览器产物和 SSR 产物："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const builder = await createBuilder(provider, {\n  target: ['web', 'node'],\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"node-产物",children:["Node 产物",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#node-产物",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"指运行在 Node.js 环境的产物，通常用于 SSR 等场景。"}),"\n",(0,i.jsxs)(n.p,{children:["当 ",(0,i.jsx)(n.code,{children:"target"})," 设置为 ",(0,i.jsx)(n.code,{children:"'node'"})," 时，Builder 会进行以下处理："]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"不会生成 HTML 文件，与 HTML 相关的逻辑也不会执行，因为 Node.js 环境不需要 HTML。"}),"\n",(0,i.jsx)(n.li,{children:"不会打包或抽取 CSS 代码，但产物中会包含 CSS Modules 的 id 信息。"}),"\n",(0,i.jsx)(n.li,{children:"不会开启默认的拆包策略，但 dynamic import 依然可以生效。"}),"\n",(0,i.jsx)(n.li,{children:"不会开启热更新相关的能力。"}),"\n",(0,i.jsxs)(n.li,{children:["将 Browserslist 的默认值调整为 ",(0,i.jsx)(n.code,{children:"['node >= 14']"}),"。"]}),"\n"]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"如果触发了并行构建，比如同时构建 web 产物和 node 产物，那么上述处理不会影响 web 产物，web 产物所需的 HTML、CSS 等文件依然会正确生成。"})})]}),"\n",(0,i.jsxs)(n.h2,{id:"web-worker-产物",children:["Web Worker 产物",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#web-worker-产物",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["指运行在 ",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API",target:"_blank",rel:"noopener noreferrer",children:"Web Worker"})," 环境的产物。"]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"Web Worker"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"Web Workers 是一种 JavaScript API，它允许网页在后台线程中执行脚本，与主线程（网页）分离。这意味着，您可以使用 Web Workers 来执行计算密集型或长时间运行的任务，而无需阻塞主线程，进而影响网页的性能。"})})]}),"\n",(0,i.jsxs)(n.p,{children:["当 ",(0,i.jsx)(n.code,{children:"target"})," 设置为 ",(0,i.jsx)(n.code,{children:"'web-worker'"})," 时，Builder 会进行以下处理："]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"不会生成 HTML 文件，与 HTML 相关的逻辑也不会执行，因为 Web Worker 环境不需要 HTML。"}),"\n",(0,i.jsx)(n.li,{children:"不会打包或抽取 CSS 代码，但产物中会包含 CSS Modules 的 id 信息。"}),"\n",(0,i.jsxs)(n.li,{children:["不会开启默认的拆包策略，",(0,i.jsx)(n.strong,{children:"并且 dynamic import 也不会生效"}),"，因为 Web Worker 仅运行支持单个 JavaScript 文件。"]}),"\n",(0,i.jsx)(n.li,{children:"不会开启热更新相关的能力。"}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"modern-web-产物",children:["Modern Web 产物",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#modern-web-产物",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"指运行在现代浏览器环境的产物。"}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"什么是现代浏览器?"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["现代浏览器是我们的一个约定用语，指支持 ",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Modules",target:"_blank",rel:"noopener noreferrer",children:"原生 ES Modules"})," 的浏览器。\n"]})})]}),"\n",(0,i.jsxs)(n.p,{children:["当 ",(0,i.jsx)(n.code,{children:"target"})," 设置为 ",(0,i.jsx)(n.code,{children:"'modern-web'"})," 时，Builder 会进行以下处理："]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"将 Browserslist 的默认值调整为："}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const browserslist = [\n  'chrome >= 61',\n  'edge >= 16',\n  'firefox >= 60',\n  'safari >= 11',\n  'ios_saf >= 11',\n];\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fguide%2Fbasic%2Fbuild-target.md"]={toc:[{text:"默认产物",id:"默认产物",depth:2},{text:"可选类型",id:"可选类型",depth:2},{text:"并行构建",id:"并行构建",depth:2},{text:"Node 产物",id:"node-产物",depth:2},{text:"Web Worker 产物",id:"web-worker-产物",depth:2},{text:"Modern Web 产物",id:"modern-web-产物",depth:2}],title:"构建产物类型",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},13840:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",ul:"ul",li:"li",h2:"h2",code:"code",pre:"pre",h3:"h3",strong:"strong"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"使用-builder-cli",children:["使用 Builder CLI",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#使用-builder-cli",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Modern.js Builder 提供了一个轻量的 CLI 工具，包含 dev、build 等基础命令，它主要用于构建非 React 项目。"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["对于 React 项目，我们建议直接使用 Modern.js 框架，参考 ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/guides/get-started/quick-start.html",target:"_blank",rel:"noopener noreferrer",children:"Modern.js - 快速上手"}),"。"]}),"\n",(0,i.jsx)(n.li,{children:"对于非 React 项目，比如开发一个 Vue 项目，那么你可以使用 Builder CLI 工具来构建你的项目。"}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"安装",children:["安装",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#安装",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"你需要安装两个包，其中："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"@modern-js/builder-cli"})," 为 Builder 的 CLI 工具，提供基础的 CLI 命令，并会自动加载当前项目中安装的 Provider。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"@modern-js/builder-webpack-provider"})," 或 ",(0,i.jsx)(n.code,{children:"@modern-js/builder-rspack-provider"}),"，它们是 Builder 的 Provider，提供基于 webpack 或 Rspack 的构建能力。"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# 使用 webpack 打包\npnpm add @modern-js/builder-cli @modern-js/builder-webpack-provider -D\n\n# 使用 Rspack 打包\npnpm add @modern-js/builder-cli @modern-js/builder-rspack-provider -D\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"命令",children:["命令",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#命令",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder CLI 提供了以下命令，可以帮助你快速启动开发服务器、构建生产环境代码等。"}),"\n",(0,i.jsxs)(n.h3,{id:"builder-dev",children:["builder dev",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builder-dev",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"builder dev"})," 命令用于启动一个本地开发服务器，对源代码进行开发环境编译。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"Usage: edenx dev [options]\n\nOptions:\n  -h, --help            display help for command\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"builder-build",children:["builder build",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builder-build",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"builder build"})," 命令默认会在 ",(0,i.jsx)(n.code,{children:"dist/"})," 目录下构建出可用于生产环境的产物。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"Usage: builder build [options]\n\nOptions:\n  -h, --help            display help for command\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"builder-serve",children:["builder serve",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builder-serve",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"builder serve"})," 命令用于在本地预览生产环境构建的产物, 注意你需要提前执行 ",(0,i.jsx)(n.code,{children:"builder build"})," 命令构建出对应产物。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"Usage: builder serve [options]\n\nOptions:\n  -h, --help            display help for command\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"配置",children:["配置",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#配置",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder CLI 默认会读取项目根目录下的 ",(0,i.jsx)(n.code,{children:"builder.config.ts"})," 配置文件，你可以在配置文件中使用 Builder 提供的",(0,i.jsx)(n.a,{href:"/api/index",children:"所有配置项"}),"。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="builder.config.ts"',children:"import { defineConfig } from '@modern-js/builder-cli';\n\nexport default defineConfig({\n  output: {\n    disableTsChecker: true,\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.p,{children:["当你使用 Rspack 作为打包工具时，由于 webpack 和 Rspack 的配置类型存在一些差异，需要为 defineConfig 指定 ",(0,i.jsx)(n.code,{children:"<'rspack'>"})," 泛型："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-diff",meta:'title="builder.config.ts"',children:"- export default defineConfig({\n+ export default defineConfig<'rspack'>({\n  // ...\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"构建入口",children:["构建入口",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#构建入口",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder CLI 默认会使用 ",(0,i.jsx)(n.code,{children:"src/index.(js|ts|jsx|tsx)"})," 作为构建入口，你可以使用 ",(0,i.jsx)(n.code,{children:"source.entries"})," 配置项来修改构建入口。"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type Entries = Record<string, string>;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"默认值："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const defaultEntry = {\n  index: 'src/index.(js|ts|jsx|tsx)',\n};\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"示例："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="builder.config.ts"',children:"import { defineConfig } from '@modern-js/builder-cli';\n\nexport default defineConfig({\n  source: {\n    entries: {\n      foo: './src/pages/foo/index.ts',\n      bar: './src/pages/bar/index.ts',\n    },\n  },\n});\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fguide%2Fbasic%2Fbuilder-cli.mdx"]={toc:[{text:"安装",id:"安装",depth:2},{text:"命令",id:"命令",depth:2},{text:"builder dev",id:"builder-dev",depth:3},{text:"builder build",id:"builder-build",depth:3},{text:"builder serve",id:"builder-serve",depth:3},{text:"配置",id:"配置",depth:2},{text:"构建入口",id:"构建入口",depth:2}],title:"使用 Builder CLI",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},29827:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",ul:"ul",li:"li",h3:"h3",pre:"pre",code:"code",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",strong:"strong"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"builder-配置项",children:["Builder 配置项",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builder-配置项",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder 提供了丰富的配置项，以帮助使用者对构建行为进行定制。"}),"\n",(0,i.jsxs)(n.h2,{id:"配置分类",children:["配置分类",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#配置分类",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder 中的配置可以分为以下几类："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/api/config-dev",children:"Dev Config"}),"：与本地开发有关的配置。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/api/config-html",children:"Html Config"}),"：与 HTML 有关的配置。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/api/config-tools",children:"Tools Config"}),"：与底层工具有关的配置。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/api/config-source",children:"Source Config"}),"：与源代码解析、编译方式相关的配置。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/api/config-output",children:"Output Config"}),"：与构建产物有关的配置。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/api/config-security",children:"Security Config"}),"：与安全有关的配置。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/api/config-performance",children:"Performance Config"}),"：与编译性能、产物性能有关的配置。"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["你可以在 ",(0,i.jsx)(n.a,{href:"/api/",children:"API Reference"})," 页面找到所有配置项的详细说明。"]}),"\n",(0,i.jsxs)(n.h2,{id:"配置默认值",children:["配置默认值",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#配置默认值",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder 为每个配置项预设了一个默认值，默认值可以满足大部分使用场景。同时，上层框架也会基于垂直场景的需求，覆盖一部分配置的默认值。"}),"\n",(0,i.jsx)(n.p,{children:"因此，在大多数情况下，你不需要声明任何 Builder 配置，直接开箱使用即可。"}),"\n",(0,i.jsxs)(n.h2,{id:"使用配置",children:["使用配置",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#使用配置",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"在上层框架中使用",children:["在上层框架中使用",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#在上层框架中使用",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"当你使用一个基于 Builder 的上层框架时，你可以直接通过框架的配置文件来定义 Builder 配置，上层框架会自动将相关配置透传给 Builder。"}),"\n",(0,i.jsxs)(n.p,{children:["比如在 Modern.js 框架中，你可以直接在 ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/configure/app/usage.html",target:"_blank",rel:"noopener noreferrer",children:"modern.config.ts"})," 文件里定义 Builder 的 ",(0,i.jsx)(n.a,{href:"/api/config-source#sourcealias",children:"source.alias"})," 配置："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="modern.config.ts"',children:"export default {\n  source: {\n    alias: {\n      '@common': './src/common',\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"常用的框架配置文件包括："}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"框架"}),"\n",(0,i.jsx)(n.th,{children:"配置文件"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Modern.js"}),"\n",(0,i.jsx)(n.td,{children:"modern.config.ts"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"EdenX"}),"\n",(0,i.jsx)(n.td,{children:"edenx.config.ts"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"PIA"}),"\n",(0,i.jsx)(n.td,{children:"pia.config.ts"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"通过-node-api-使用",children:["通过 Node API 使用",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#通过-node-api-使用",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当你通过 Node API 调用 Builder 时，你可以通过 Provider 的 ",(0,i.jsx)(n.code,{children:"builderConfig"})," 配置项来传入 Builder 配置："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { builderWebpackProvider } from '@modern-js/builder-webpack-provider';\n\nconst provider = builderWebpackProvider({\n  builderConfig: {\n    // some configs\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.p,{children:["关于 Node API 的完整用法，请参考 ",(0,i.jsx)(n.a,{href:"/api/builder-core#createbuilder",children:"API - createBuilder"}),"。"]}),"\n",(0,i.jsxs)(n.h2,{id:"与框架配置的关系",children:["与框架配置的关系",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#与框架配置的关系",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"通常来说，Builder 配置是框架配置的子集。"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Builder 配置只处理构建相关行为"}),"，而框架配置涵盖的范围更大，还包括运行时、服务端、部署等方面，因此框架是在 Builder 配置的基础上扩展出来的。"]}),"\n",(0,i.jsxs)(n.h2,{id:"调试配置",children:["调试配置",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#调试配置",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["在执行构建时，你可以添加 ",(0,i.jsx)(n.code,{children:"DEBUG=builder"})," 环境变量来开启 Builder 的调试模式。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"DEBUG=builder pnpm dev\n"})}),"\n",(0,i.jsx)(n.p,{children:"在调试模式下，Builder 会将内部最终生成的 Builder 配置写入到产物目录下，便于开发者查看和调试。"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"Inspect config succeed, open following files to view the content:\n\n  - Builder Config: /Project/demo/dist/builder.config.js\n  - Webpack Config (web): /Project/demo/dist/webpack.config.web.js\n"})}),"\n",(0,i.jsxs)(n.p,{children:["打开生成的 ",(0,i.jsx)(n.code,{children:"/dist/builder.config.js"})," 文件，即可查看 Builder 配置的完整内容。"]}),"\n",(0,i.jsxs)(n.p,{children:["关于调试模式的完整介绍，请查看 ",(0,i.jsx)(n.a,{href:"/guide/debug/debug-mode",children:"开启调试模式"})," 章节。"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fguide%2Fbasic%2Fbuilder-config.mdx"]={toc:[{text:"配置分类",id:"配置分类",depth:2},{text:"配置默认值",id:"配置默认值",depth:2},{text:"使用配置",id:"使用配置",depth:2},{text:"在上层框架中使用",id:"在上层框架中使用",depth:3},{text:"通过 Node API 使用",id:"通过-node-api-使用",depth:3},{text:"与框架配置的关系",id:"与框架配置的关系",depth:2},{text:"调试配置",id:"调试配置",depth:2}],title:"Builder 配置项",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},20099:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",code:"code",ul:"ul",li:"li",h2:"h2",pre:"pre",div:"div",h3:"h3"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"使用-css-modules",children:["使用 CSS Modules",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#使用-css-modules",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://github.com/css-modules/css-modules",target:"_blank",rel:"noopener noreferrer",children:"CSS Modules"})," 让我们能以模块化的方式编写 CSS 代码，并且可以在 JavaScript 文件中导入和使用这些样式。使用 CSS Modules 可以自动生成唯一的类名，隔离不同模块之间的样式，避免类名冲突。"]}),"\n",(0,i.jsxs)(n.p,{children:["Builder 默认支持使用 CSS Modules，无需添加额外的配置。我们约定使用 ",(0,i.jsx)(n.code,{children:"[name].module.css"})," 文件名来启用 CSS Modules。"]}),"\n",(0,i.jsx)(n.p,{children:"以下样式文件会被视为 CSS Modules："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"*.module.scss"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"*.module.less"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"*.module.css"})}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"编写样式："}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-css",children:"/* button.module.css */\n.error {\n  background: red;\n}\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"使用样式："}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"// Button.tsx\nimport React, { Component } from 'react';\n// 引入样式文件\nimport styles from './button.module.css';\n\nexport default () => {\n  return <button className={styles.error}>Error Button</button>;\n};\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"为所有样式文件启用-css-modules",children:["为所有样式文件启用 CSS Modules",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#为所有样式文件启用-css-modules",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["在默认情况下，只有 ",(0,i.jsx)(n.code,{children:"*.module.css"})," 结尾的文件才被视为 CSS Modules 模块。"]}),"\n",(0,i.jsxs)(n.p,{children:["如果你想将源码目录下的所有 CSS 文件当做 CSS Modules 模块进行处理，可以通过开启 ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/builder/api/config-output.html#outputdisablecssmoduleextension",target:"_blank",rel:"noopener noreferrer",children:"output.disableCssModuleExtension"})," 来实现，比如："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    disableCssModuleExtension: true,\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"设置后，以下两个文件都会被视为 CSS Modules："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import styles1 from './foo.module.css';\nimport styles2 from './bar.css';\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["我们不推荐开启此配置项，因为开启 ",(0,i.jsx)(n.code,{children:"disableCssModuleExtension"})," 后，CSS Modules 文件和普通 CSS 文件无法得到明确的区分，不利于长期维护。\n"]})})]}),"\n",(0,i.jsxs)(n.h2,{id:"为指定的样式文件启用-css-modules",children:["为指定的样式文件启用 CSS Modules",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#为指定的样式文件启用-css-modules",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["在默认情况下，只有 ",(0,i.jsx)(n.code,{children:"*.module.css"})," 结尾的文件才被视为 CSS Modules 模块。"]}),"\n",(0,i.jsxs)(n.p,{children:["如果你想只为一些指定的样式文件启用 CSS Modules，可以通过配置 ",(0,i.jsx)(n.a,{href:"/api/config-output#outputcssmodule",children:"output.cssModules"})," 来实现，比如："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    cssModules: {\n      auto: resource => {\n        return resource.includes('.module.') || resource.includes('shared/');\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"自定义类名",children:["自定义类名",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#自定义类名",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["自定义 CSS Modules 生成的类名也是我们比较常用的功能，你可以使用 ",(0,i.jsx)(n.a,{href:"/api/config-output#outputcssmodulelocalidentname",children:"output.cssModuleLocalIdentName"})," 来进行配置。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    cssModuleLocalIdentName: '[hash:base64:4]',\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["如果你需要自定义 CSS Modules 的其他配置，可以通过 ",(0,i.jsx)(n.a,{href:"/api/config-tools#css-loader",children:"tools.cssLoader"})," 进行设置。"]}),"\n",(0,i.jsxs)(n.h2,{id:"添加类型声明",children:["添加类型声明",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#添加类型声明",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"当你在 TypeScript 代码中引用 CSS Modules 时，TypeScript 可能会提示该模块缺少类型定义："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"TS2307: Cannot find module './index.module.css' or its corresponding type declarations.\n"})}),"\n",(0,i.jsxs)(n.p,{children:["此时你需要为 CSS Modules 添加类型声明文件，请在项目中创建 ",(0,i.jsx)(n.code,{children:"src/global.d.ts"})," 文件，并添加相应的类型声明："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="src/global.d.ts"',children:"declare module '*.module.css' {\n  const classes: { readonly [key: string]: string };\n  export default classes;\n}\n\ndeclare module '*.module.scss' {\n  const classes: { readonly [key: string]: string };\n  export default classes;\n}\n\ndeclare module '*.module.sass' {\n  const classes: { readonly [key: string]: string };\n  export default classes;\n}\n\ndeclare module '*.module.less' {\n  const classes: { readonly [key: string]: string };\n  export default classes;\n}\n\ndeclare module '*.module.styl' {\n  const classes: { readonly [key: string]: string };\n  export default classes;\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["如果你开启了 ",(0,i.jsx)(n.code,{children:"disableCssModuleExtension"})," 配置值，还需要添加以下类型："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="src/global.d.ts"',children:"declare module '*.css' {\n  const classes: { readonly [key: string]: string };\n  export default classes;\n}\n\ndeclare module '*.scss' {\n  const classes: { readonly [key: string]: string };\n  export default classes;\n}\n\ndeclare module '*.sass' {\n  const classes: { readonly [key: string]: string };\n  export default classes;\n}\n\ndeclare module '*.less' {\n  const classes: { readonly [key: string]: string };\n  export default classes;\n}\n\ndeclare module '*.styl' {\n  const classes: { readonly [key: string]: string };\n  export default classes;\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["添加类型声明后，如果依然存在上述错误提示，请尝试重启当前 IDE，或者调整 ",(0,i.jsx)(n.code,{children:"global.d.ts"})," 所在的目录，使 TypeScript 能够正确识别类型定义。"]}),"\n",(0,i.jsxs)(n.h2,{id:"生成准确的类型定义",children:["生成准确的类型定义",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#生成准确的类型定义",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"上述方法虽然可以解决 CSS Modules 在 TypeScript 中的类型问题，但是无法准确地提示出某个 CSS 文件导出了哪些类名。"}),"\n",(0,i.jsxs)(n.p,{children:["Builder 支持为 CSS Modules 生成准确的类型声明，你只需要开启 ",(0,i.jsx)(n.a,{href:"/api/config-output#outputenablecssmoduletsdeclaration",children:"output.enableCssModuleTSDeclaration"})," 配置项，再执行构建命令，Builder 就会为项目中所有的 CSS Modules 文件生成相应的类型声明文件。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    enableCssModuleTSDeclaration: true,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"示例-1",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例-1",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["例如某个文件夹下面有 ",(0,i.jsx)(n.code,{children:"src/index.ts"})," 和 ",(0,i.jsx)(n.code,{children:"src/index.module.scss"})," 两个文件："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",meta:'title="src/index.ts"',children:"import styles from './index.module.scss';\n\nexport default () => {\n  <div>\n    <div className={styles.pageHeader}>Page Header</div>\n  </div>;\n};\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-scss",children:"// index.module.scss\n.page-header {\n  color: black;\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["执行构建命令后，会自动生成 ",(0,i.jsx)(n.code,{children:"src/index.module.scss.d.ts"})," 类型声明文件："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="src/index.module.scss.d.ts"',children:"// This file is automatically generated.\n// Please do not change this file!\ninterface CssExports {\n  'page-header': string;\n  pageHeader: string;\n}\nexport const cssExports: CssExports;\nexport default cssExports;\n"})}),"\n",(0,i.jsxs)(n.p,{children:["此时再打开 ",(0,i.jsx)(n.code,{children:"src/index.ts"})," 文件，可以看到 ",(0,i.jsx)(n.code,{children:"styles"})," 对象已经具备了准确的类型。"]}),"\n",(0,i.jsxs)(n.h3,{id:"相关配置",children:["相关配置",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#相关配置",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["在上述例子中，",(0,i.jsx)(n.code,{children:"src/index.module.scss.d.ts"})," 是编译生成的代码，你可以选择将它们提交到 Git 仓库里，也可以选择在 ",(0,i.jsx)(n.code,{children:".gitignore"})," 文件中忽略它们："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Ignore auto generated CSS declarations\n*.module.css.d.ts\n*.module.sass.d.ts\n*.module.scss.d.ts\n*.module.less.d.ts\n*.module.styl.d.ts\n"})}),"\n",(0,i.jsxs)(n.p,{children:["此外，如果生成的代码导致了 ESLint 报错，你也可以将上述配置添加到 ",(0,i.jsx)(n.code,{children:".eslintignore"})," 文件里。"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fguide%2Fbasic%2Fcss-modules.md"]={toc:[{text:"示例",id:"示例",depth:2},{text:"为所有样式文件启用 CSS Modules",id:"为所有样式文件启用-css-modules",depth:2},{text:"为指定的样式文件启用 CSS Modules",id:"为指定的样式文件启用-css-modules",depth:2},{text:"自定义类名",id:"自定义类名",depth:2},{text:"添加类型声明",id:"添加类型声明",depth:2},{text:"生成准确的类型定义",id:"生成准确的类型定义",depth:2},{text:"示例",id:"示例-1",depth:3},{text:"相关配置",id:"相关配置",depth:3}],title:"使用 CSS Modules",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},51319:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",pre:"pre",code:"code",h3:"h3",ul:"ul",li:"li",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"引用样式资源",children:["引用样式资源",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#引用样式资源",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder 内置多种常用的样式资源处理方式，包括 Less / Sass 预处理器、PostCSS、CSS Modules、CSS 内联和 CSS 压缩。"}),"\n",(0,i.jsx)(n.p,{children:"除此之外，Builder 也提供了多个配置项来自定义样式资源的处理规则。"}),"\n",(0,i.jsxs)(n.h2,{id:"使用-less、sass-和-stylus",children:["使用 Less、Sass 和 Stylus",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#使用-less、sass-和-stylus",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder 内置了社区流行的 CSS 预处理器，包括 Less 和 Sass。"}),"\n",(0,i.jsxs)(n.p,{children:["默认情况下，你不需要对 Less 和 Sass 进行任何配置。如果你有自定义 loader 配置的需求，可以通过配置 ",(0,i.jsx)(n.a,{href:"/api/config-tools#toolsless",children:"tools.less"}),"、",(0,i.jsx)(n.a,{href:"/api/config-tools#toolssass",children:"tools.sass"})," 来进行设置。"]}),"\n",(0,i.jsxs)(n.p,{children:["你也可以在 Builder 中使用 Stylus，只需要安装 Builder 提供的 Stylus 插件即可，使用方式请参考 ",(0,i.jsx)(n.a,{href:"/plugins/plugin-stylus",children:"Stylus 插件"}),"。"]}),"\n",(0,i.jsxs)(n.h2,{id:"使用-postcss",children:["使用 PostCSS",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#使用-postcss",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder 内置了 ",(0,i.jsx)(n.a,{href:"https://postcss.org/",target:"_blank",rel:"noopener noreferrer",children:"PostCSS"})," 来转换 CSS 代码。你可以通过 ",(0,i.jsx)(n.a,{href:"/api/config-tools#toolspostcss",children:"tools.postcss"})," 来配置 postcss-loader。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    postcss: opts => {\n      const viewportPlugin = require('postcss-px-to-viewport')({\n        viewportWidth: 375,\n      });\n      opts.postcssOptions.plugins.push(viewportPlugin);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"内置-postcss-插件",children:["内置 PostCSS 插件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#内置-postcss-插件",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder 内置了一些 PostCSS 插件，会对 CSS 进行以下转换："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://github.com/postcss/autoprefixer",target:"_blank",rel:"noopener noreferrer",children:"autoprefixer"}),"：在默认情况下，我们开启了 autoprefixer 来自动补齐 CSS 的浏览器前缀。如果你需要配置目标浏览器，可使用 ",(0,i.jsx)(n.a,{href:"/api/config-output#outputoverridebrowserslist",children:"output.overrideBrowserslist"})," 进行配置。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/postcss-nested",target:"_blank",rel:"noopener noreferrer",children:"postcss-nesting"}),"：提供 ",(0,i.jsx)(n.a,{href:"https://drafts.csswg.org/css-nesting-1/",target:"_blank",rel:"noopener noreferrer",children:"CSS Nesting"})," 支持，可以在 CSS 中使用嵌套写法，如："]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-css",children:".my-table {\n  & td {\n    text-align: center;\n\n    &.c {\n      text-transform: uppercase;\n    }\n  }\n}\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/postcss-flexbugs-fixes",target:"_blank",rel:"noopener noreferrer",children:"postcss-flexbugs-fixes"}),"：用于修复已知的 ",(0,i.jsx)(n.a,{href:"https://github.com/philipwalton/flexbugs",target:"_blank",rel:"noopener noreferrer",children:"Flex Bugs"}),"。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/postcss-initial",target:"_blank",rel:"noopener noreferrer",children:"postcss-initial"}),"：仅在需要兼容低版本浏览器时启用，提供对 ",(0,i.jsxs)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/initial_value",target:"_blank",rel:"noopener noreferrer",children:[(0,i.jsx)(n.code,{children:"initial"})," 属性值"]})," 的兼容。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/postcss-page-break",target:"_blank",rel:"noopener noreferrer",children:"postcss-page-break"}),"：仅在需要兼容低版本浏览器时启用，提供对 ",(0,i.jsxs)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/break-after",target:"_blank",rel:"noopener noreferrer",children:[(0,i.jsx)(n.code,{children:"break-"})," 属性"]})," 的兼容。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/postcss-font-variant",target:"_blank",rel:"noopener noreferrer",children:"postcss-font-variant"}),"：仅在需要兼容低版本浏览器时启用，提供对 ",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/font-variant",target:"_blank",rel:"noopener noreferrer",children:(0,i.jsx)(n.code,{children:"font-variant"})})," 的兼容。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/postcss-media-minmax",target:"_blank",rel:"noopener noreferrer",children:"postcss-media-minmax"}),"：仅在需要兼容低版本浏览器时启用，提供对 ",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/CSS/Media_Queries/Using_media_queries#syntax_improvements_in_level_4",target:"_blank",rel:"noopener noreferrer",children:"Media Query Ranges"})," 的兼容。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/postcss-custom-properties",target:"_blank",rel:"noopener noreferrer",children:"postcss-custom-properties"}),"：仅在需要兼容低版本浏览器时启用，提供对 ",(0,i.jsx)(n.a,{href:"https://www.w3.org/TR/css-variables-1/",target:"_blank",rel:"noopener noreferrer",children:"Custom Properties"})," 的兼容，你可以在 CSS 中定义和使用自定义变量，如："]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-css",children:":root {\n  --main-bg-color: pink;\n}\n\nbody {\n  background-color: var(--main-bg-color);\n}\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"使用-css-modules",children:["使用 CSS Modules",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#使用-css-modules",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["请阅读 ",(0,i.jsx)(n.a,{href:"/guide/basic/css-modules",children:"使用 CSS Modules"})," 章节来了解 CSS Modules 的完整用法。"]}),"\n",(0,i.jsxs)(n.h2,{id:"css-压缩",children:["CSS 压缩",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#css-压缩",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"通常情况下，在生产环境我们会将 CSS、JS 等静态资源进行压缩，以达到更好的传输效率。"}),"\n",(0,i.jsxs)(n.p,{children:["Builder 通过 ",(0,i.jsx)(n.a,{href:"https://github.com/webpack-contrib/css-minimizer-webpack-plugin",target:"_blank",rel:"noopener noreferrer",children:"css-minimizer-webpack-plugin"})," 在生产环境构建时自动压缩 CSS 代码（底层使用的压缩工具为 ",(0,i.jsx)(n.a,{href:"https://cssnano.co/",target:"_blank",rel:"noopener noreferrer",children:"cssnano"}),"）。"]}),"\n",(0,i.jsxs)(n.p,{children:["你可以通过 ",(0,i.jsx)(n.a,{href:"/api/config-tools#toolsminifycss",children:"tools.minifyCss"})," 配置项来修改 ",(0,i.jsx)(n.code,{children:"css-minimizer-webpack-plugin"}),"的配置。"]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"关于 cssnano"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"cssnano 是一个用于优化和压缩 CSS 文件的工具。它通过删除未使用的规则、合并相同的规则、移除注释和空白符以及转换长度单位等方式来减小 CSS 文件的体积，从而提升网站的加载速度。"})})]}),"\n",(0,i.jsxs)(n.h2,{id:"内联-css-文件",children:["内联 CSS 文件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#内联-css-文件",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["默认情况下，Builder 会把 CSS 提取为独立的 ",(0,i.jsx)(n.code,{children:".css"})," 文件，并输出到构建产物目录。"]}),"\n",(0,i.jsxs)(n.p,{children:["如果你希望将样式内联到 JS 文件中，可以将 ",(0,i.jsx)(n.a,{href:"/api/config-output#outputdisablecssextract",children:"output.disableCssExtract"})," 设置为 ",(0,i.jsx)(n.code,{children:"true"})," 来禁用 CSS 提取逻辑。当浏览器请求到 JS 文件后，JS 将动态地向 HTML 插入 ",(0,i.jsx)(n.code,{children:"<style>"})," 标签，以此加载 CSS 样式。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    disableCssExtract: true,\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"这将会增大你的 JS Bundle 体积，因此通常情况下，不太建议禁用 CSS 提取逻辑。"}),"\n",(0,i.jsxs)(n.h2,{id:"引用-node_modules-里的样式",children:["引用 node_modules 里的样式",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#引用-node_modules-里的样式",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"你可以直接引用 node_modules 里的样式文件。"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"在组件中引用："}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="src/App.tsx"',children:"// 引用 Arco Design 样式：\nimport '@arco-design/web-react/dist/css/arco.css';\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"在样式文件中引用："}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-css",meta:'title="src/App.css"',children:"/* 引用 normalize.css */\n/* https://github.com/necolas/normalize.css */\n@import 'normalize.css';\n\nbody {\n  /* */\n}\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fguide%2Fbasic%2Fcss-usage.md"]={toc:[{text:"使用 Less、Sass 和 Stylus",id:"使用-less、sass-和-stylus",depth:2},{text:"使用 PostCSS",id:"使用-postcss",depth:2},{text:"内置 PostCSS 插件",id:"内置-postcss-插件",depth:3},{text:"使用 CSS Modules",id:"使用-css-modules",depth:2},{text:"CSS 压缩",id:"css-压缩",depth:2},{text:"内联 CSS 文件",id:"内联-css-文件",depth:2},{text:"引用 node_modules 里的样式",id:"引用-node_modules-里的样式",depth:2}],title:"引用样式资源",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},77760:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",pre:"pre",code:"code",h3:"h3",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"配置-html-模板",children:["配置 HTML 模板",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#配置-html-模板",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"在构建的过程中，Builder 会基于 HTML 模板文件和模板参数进行编译，生成若干份 HTML 文件。"}),"\n",(0,i.jsx)(n.p,{children:"Builder 提供了一些配置项来对 HTML 模板进行设置。通过本章节你可以了解到这些配置项的基本用法。"}),"\n",(0,i.jsxs)(n.h2,{id:"设置模板文件",children:["设置模板文件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#设置模板文件",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"通常来说，HTML 模板文件是由上层框架预先定义的。"}),"\n",(0,i.jsxs)(n.p,{children:["比如在 Modern.js 框架中，默认会预设一份 HTML 模板，同时也支持用户自定义模板的内容。你可以阅读 ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/guides/basic-features/html.html",target:"_blank",rel:"noopener noreferrer",children:"「Modern.js - HTML 模板」"})," 章节来了解相关内容。"]}),"\n",(0,i.jsxs)(n.p,{children:["在 Builder 中，你可以使用 ",(0,i.jsx)(n.a,{href:"/api/config-html#htmltemplate",children:"html.template"})," 和 ",(0,i.jsx)(n.a,{href:"/api/config-html#htmltemplatebyentries",children:"html.templateByEntries"})," 配置项来设置自定义的 HTML 模板文件。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  html: {\n    template: './static/index.html',\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"设置页面标题",children:["设置页面标题",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#设置页面标题",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["你可以通过 ",(0,i.jsx)(n.a,{href:"/api/config-html#htmltitle",children:"html.title"})," 和 ",(0,i.jsx)(n.a,{href:"/api/config-html#htmltitlebyentries",children:"html.titleByEntries"})," 配置项来设置 HTML 的 ",(0,i.jsx)(n.code,{children:"<title>"})," 标签。"]}),"\n",(0,i.jsxs)(n.p,{children:["当你的项目中只有一个页面时，直接使用 ",(0,i.jsx)(n.code,{children:"html.title"})," 设置即可："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  html: {\n    title: 'example',\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["当你的项目中有多个页面时，请使用 ",(0,i.jsx)(n.code,{children:"html.titleByEntries"})," 来为不同的页面设置对应的标题，",(0,i.jsx)(n.code,{children:"html.titleByEntries"})," 使用页面的「入口名称」作为 key。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  html: {\n    titleByEntries: {\n      foo: 'Foo',\n      bar: 'Bar',\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"设置页面图标",children:["设置页面图标",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#设置页面图标",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder 支持设置 ",(0,i.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Glossary/Favicon",target:"_blank",rel:"noopener noreferrer",children:"favicon"})," 图标 和 iOS 系统下的 ",(0,i.jsx)(n.a,{href:"https://webhint.io/docs/user-guide/hints/hint-apple-touch-icons/",target:"_blank",rel:"noopener noreferrer",children:"apple-touch-icon"})," 图标。"]}),"\n",(0,i.jsxs)(n.p,{children:["你可以通过 ",(0,i.jsx)(n.a,{href:"/api/config-html#htmlfavicon",children:"html.favicon"})," 和 ",(0,i.jsx)(n.a,{href:"/api/config-html#htmlfaviconbyentries",children:"html.faviconByEntries"})," 配置项来设置 favicon 图标。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  html: {\n    favicon: './src/assets/icon.png',\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["也可以通过 ",(0,i.jsx)(n.a,{href:"/api/config-html#htmlappicon",children:"html.appIcon"})," 配置项来设置 iOS 系统下的 apple-touch-icon 图标。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  html: {\n    appIcon: './src/assets/icon.png',\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"设置-meta-标签",children:["设置 meta 标签",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#设置-meta-标签",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["你可以通过 ",(0,i.jsx)(n.a,{href:"/api/config-html#htmlmeta",children:"html.meta"})," 和 ",(0,i.jsx)(n.a,{href:"/api/config-html#htmlmetabyentries",children:"html.metaByEntries"})," 配置项来设置 HTML 的 ",(0,i.jsx)(n.code,{children:"<meta>"})," 标签。"]}),"\n",(0,i.jsx)(n.p,{children:"比如设置 description："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  html: {\n    meta: {\n      description: 'a description of the page',\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"最终在 HTML 中生成的 meta 标签为："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<meta name="description" content="a description of the page" />\n'})}),"\n",(0,i.jsxs)(n.h2,{id:"设置模板参数",children:["设置模板参数",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#设置模板参数",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"在 HTML 模板中，你可以使用丰富的模板参数，Builder 默认注入的模板参数包括："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type DefaultParameters = {\n  meta: string; // 对应 html.meta 配置\n  title: string; // 对应 html.title 配置\n  mountId: string; // 对应 html.mountId 配置\n  entryName: string; // 入口名称\n  assetPrefix: string; // 对应 output.assetPrefix 配置\n  compilation: webpack.Compilation; // 对应 webpack 的 compilation 对象\n  webpackConfig: Configuration; // webpack 配置\n  // htmlWebpackPlugin 内置的参数\n  // 详见 https://github.com/jantimon/html-webpack-plugin\n  htmlWebpackPlugin: {\n    tags: object;\n    files: object;\n    options: object;\n  };\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["你也可以通过 ",(0,i.jsx)(n.a,{href:"/api/config-html#htmltemplateparameters",children:"html.templateParameters"})," 和 ",(0,i.jsx)(n.a,{href:"/api/config-html#htmltemplateparametersbyentries",children:"html.templateParametersByEntries"})," 配置项来传入自定义的模板参数。"]}),"\n",(0,i.jsx)(n.p,{children:"比如："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  html: {\n    templateParameters: {\n      text: 'World',\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["接下来，你可以在 HTML 模板中，通过 ",(0,i.jsx)(n.code,{children:"<%= text %>"})," 来读取参数："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"<div>hello <%= text %>!</div>\n"})}),"\n",(0,i.jsx)(n.p,{children:"经过编译后的最终 HTML 代码如下："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"<div>hello world!</div>\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"模板引擎",children:["模板引擎",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#模板引擎",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder 支持 ",(0,i.jsx)(n.a,{href:"https://www.lodashjs.com/docs/lodash.template",target:"_blank",rel:"noopener noreferrer",children:"Lodash Template"}),"、",(0,i.jsx)(n.a,{href:"https://ejs.co/",target:"_blank",rel:"noopener noreferrer",children:"EJS"}),"、",(0,i.jsx)(n.a,{href:"https://pugjs.org/",target:"_blank",rel:"noopener noreferrer",children:"Pug"})," 等多个模板引擎，默认使用最基础的 Lodash Template 作为模板引擎。"]}),"\n",(0,i.jsxs)(n.h3,{id:"",children:[(0,i.jsx)(n.a,{href:"https://www.lodashjs.com/docs/lodash.template",target:"_blank",rel:"noopener noreferrer",children:"Lodash Template"}),(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当模板文件的后缀为 ",(0,i.jsx)(n.code,{children:".html"})," 时，Builder 会使用 Lodash Template 对模板进行编译。"]}),"\n",(0,i.jsxs)(n.p,{children:["例如，在模板中定义一个 ",(0,i.jsx)(n.code,{children:"text"})," 参数，值为 ",(0,i.jsx)(n.code,{children:"'world'"}),"，在构建时会自动将 ",(0,i.jsx)(n.code,{children:"<%= text %>"})," 替换为对应的值。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:"<!-- 输入  -->\n<div>hello <%= text %>!</div>\n\n<!-- 输出 -->\n<div>hello world!</div>\n"})}),"\n",(0,i.jsxs)(n.p,{children:["请阅读 ",(0,i.jsx)(n.a,{href:"https://www.lodashjs.com/docs/lodash.template",target:"_blank",rel:"noopener noreferrer",children:"Lodash Template"})," 文档来了解完整用法。"]}),"\n",(0,i.jsxs)(n.h3,{id:"-1",children:[(0,i.jsx)(n.a,{href:"https://ejs.co/",target:"_blank",rel:"noopener noreferrer",children:"EJS"}),(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#-1",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当模板文件的后缀为 ",(0,i.jsx)(n.code,{children:".ejs"})," 时，Builder 会使用 EJS 模板引擎对模板进行编译。EJS 是一套简单的模板语言，支持直接在标签内书写简单、直白的 JavaScript 代码，并通过 JavaScript 输出最终所需的 HTML。"]}),"\n",(0,i.jsxs)(n.p,{children:["例如，你可以先通过 ",(0,i.jsx)(n.a,{href:"/api/config-html#htmltemplate",children:"html.template"})," 配置项来引用一个 ",(0,i.jsx)(n.code,{children:".ejs"})," 模板文件："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  html: {\n    template: './static/index.ejs',\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["接着在模板中定义一个 ",(0,i.jsx)(n.code,{children:"user"})," 参数，值为 ",(0,i.jsx)(n.code,{children:"{ name: 'Jack' }"}),"。在构建时，会自动将 ",(0,i.jsx)(n.code,{children:"<%= user.name %>"})," 替换为对应的值。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:"<!-- 输入  -->\n<% if (user) { %>\n<h2><%= user.name %></h2>\n<% } %>\n\n<!-- 输出 -->\n<h2>Jack</h2>\n"})}),"\n",(0,i.jsxs)(n.p,{children:["请阅读 ",(0,i.jsx)(n.a,{href:"https://ejs.co/",target:"_blank",rel:"noopener noreferrer",children:"EJS"})," 文档来了解完整用法。"]}),"\n",(0,i.jsxs)(n.h3,{id:"-2",children:[(0,i.jsx)(n.a,{href:"https://pugjs.org/",target:"_blank",rel:"noopener noreferrer",children:"Pug"}),(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#-2",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当模板文件的后缀为 ",(0,i.jsx)(n.code,{children:".pug"})," 时，Builder 会使用 Pug 模板引擎对模板进行编译。Pug 是一款健壮、灵活、功能丰富的模板引擎，专门为 Node.js 平台开发。"]}),"\n",(0,i.jsxs)(n.p,{children:["使用 Pug 模板前，需要开启 ",(0,i.jsx)(n.a,{href:"/api/config-tools#toolspug",children:"tools.pug"})," 配置项，并通过 ",(0,i.jsx)(n.a,{href:"/api/config-html#htmltemplate",children:"html.template"})," 配置项来引用一个 ",(0,i.jsx)(n.code,{children:".pug"})," 模板文件："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  html: {\n    template: './static/index.pug',\n  },\n  tools: {\n    pug: true,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["开启后，你可以在 ",(0,i.jsx)(n.code,{children:".pug"})," 模板中使用 Pug 语法："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:"<!-- 输入  -->\np Hello #{text}!\n\n<!-- 输出 -->\n<p>Hello World!</p>\n"})}),"\n",(0,i.jsxs)(n.p,{children:["请阅读 ",(0,i.jsx)(n.a,{href:"https://pugjs.org/",target:"_blank",rel:"noopener noreferrer",children:"Pug"})," 文档来了解完整用法。"]}),"\n",(0,i.jsxs)(n.h2,{id:"注入标签",children:["注入标签",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#注入标签",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["通过配置 ",(0,i.jsx)(n.code,{children:"html.tags"})," 选项可以在最终生成的 HTML 产物中插入任意标签。"]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive warning",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"使用场景"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"前端应用的产物最终都会直接或间接地被 HTML 入口引用，但大多数时候直接向 HTML 注入标签都并非首选。"})})]}),"\n",(0,i.jsxs)(n.p,{children:["模版文件中可以通过 ",(0,i.jsx)(n.code,{children:"htmlWebpackPlugin.tags"})," 变量来访问需要最终注入到 HTML 的所有标签："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:"<html>\n  <head>\n    <%= htmlWebpackPlugin.tags.headTags %>\n  </head>\n  <body>\n    <%= htmlWebpackPlugin.tags.bodyTags %>\n  </body>\n</html>\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"html.tags"})," 的作用就是调整这些模板变量进而修改 HTML，配置的具体定义参考 ",(0,i.jsx)(n.a,{href:"/api/config-html#htmltags",children:"API References"}),"。"]}),"\n",(0,i.jsxs)(n.h3,{id:"对象形式",children:["对象形式",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#对象形式",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    assetPrefix: '//example.com/'\n  },\n  html: {\n    tags: [\n      { tag: 'script', attrs: { src: 'a.js' } },\n      { tag: 'script', attrs: { src: 'b.js' }, append: false },\n      { tag: 'link', attrs: { href: 'style.css', rel: 'stylesheet' }, append: true }\n      { tag: 'link', attrs: { href: 'page.css', rel: 'stylesheet' }, publicPath: false }\n      { tag: 'script', attrs: { src: 'c.js' }, head: false },\n      { tag: 'meta', attrs: { name: 'referrer', content: 'origin' } },\n    ],\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["标签最终的插入位置由 ",(0,i.jsx)(n.code,{children:"head"})," 和 ",(0,i.jsx)(n.code,{children:"append"})," 选项决定，两个配置相同的元素将被插入到相同区域，并且维持彼此之间的相对位置。"]}),"\n",(0,i.jsxs)(n.p,{children:["标签默认会启用 ",(0,i.jsx)(n.code,{children:"publicPath"})," 配置，即会将 ",(0,i.jsx)(n.code,{children:"output.assetPrefix"})," 的值拼接到 ",(0,i.jsx)(n.code,{children:"script"})," 标签的 ",(0,i.jsx)(n.code,{children:"src"})," 等表示路径的属性上。"]}),"\n",(0,i.jsx)(n.p,{children:"所以以上配置构建出的 HTML 产物将会类似："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<html>\n  <head>\n    <script src="//example.com/b.js"></script>\n    <link href="//example.com/style.css" rel="stylesheet" />\n    <link href="page.css" rel="stylesheet" />\n    <!-- some other headTags... -->\n    <script src="//example.com/a.js"></script>\n    <meta name="referrer" content="origin" />\n  </head>\n  <body>\n    <!-- some other bodyTags... -->\n    <script src="//example.com/c.js"></script>\n  </body>\n</html>\n'})}),"\n",(0,i.jsxs)(n.h3,{id:"函数形式",children:["函数形式",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#函数形式",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"html.tags"})," 也支持传入回调函数，常用于修改标签列表或是在插入标签的同时确保其相对位置："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  html: {\n    tags: [\n      tags => {\n        tags.splice(0, 1);\n      },\n      { tag: 'script', attrs: { src: 'a.js' }, head: false },\n      { tag: 'script', attrs: { src: 'b.js' }, append: false },\n      { tag: 'script', attrs: { src: 'c.js' } },\n      tags => [...tags, { tag: 'script', attrs: { src: 'd.js' } }],\n    ],\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"最终产物将会类似："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-html",children:'<html>\n  <head>\n    <!-- some other headTags... -->\n    <script src="//example.com/c.js"></script>\n    <script src="//example.com/d.js"></script>\n  </head>\n  <body>\n    <!-- some other bodyTags... -->\n    <script src="//example.com/a.js"></script>\n  </body>\n</html>\n'})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fguide%2Fbasic%2Fhtml-template.md"]={toc:[{text:"设置模板文件",id:"设置模板文件",depth:2},{text:"设置页面标题",id:"设置页面标题",depth:2},{text:"设置页面图标",id:"设置页面图标",depth:2},{text:"设置 meta 标签",id:"设置-meta-标签",depth:2},{text:"设置模板参数",id:"设置模板参数",depth:2},{text:"模板引擎",id:"模板引擎",depth:2},{text:"",id:"",depth:3},{text:"",id:"-1",depth:3},{text:"",id:"-2",depth:3},{text:"注入标签",id:"注入标签",depth:2},{text:"对象形式",id:"对象形式",depth:3},{text:"函数形式",id:"函数形式",depth:3}],title:"配置 HTML 模板",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},29396:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",h3:"h3",pre:"pre",code:"code"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"引用-json-文件",children:["引用 JSON 文件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#引用-json-文件",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder 支持在代码中引用 JSON 文件，也支持引用 ",(0,i.jsx)(n.a,{href:"https://yaml.org/",target:"_blank",rel:"noopener noreferrer",children:"YAML"})," 和 ",(0,i.jsx)(n.a,{href:"https://toml.io/en/",target:"_blank",rel:"noopener noreferrer",children:"TOML"})," 文件并将其转换为 JSON 格式。"]}),"\n",(0,i.jsxs)(n.h2,{id:"json-文件",children:["JSON 文件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#json-文件",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"你可以直接在 JavaScript 文件中引用 JSON 文件。"}),"\n",(0,i.jsxs)(n.h3,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",meta:'title="example.json"',children:'{\n  "name": "foo",\n  "items": [1, 2]\n}\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",meta:'title="index.js"',children:"import example from './example.json';\n\nconsole.log(example.name); // 'foo';\nconsole.log(example.items); // [1, 2];\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"具名引用",children:["具名引用",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#具名引用",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder 暂不支持通过 named import 来引用 JSON 文件："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import { name } from './example.json';\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"yaml-文件",children:["YAML 文件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#yaml-文件",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"YAML 是一种数据序列化语言，通常用于编写配置文件。"}),"\n",(0,i.jsxs)(n.p,{children:["你可以直接在 JavaScript 中引用 ",(0,i.jsx)(n.code,{children:".yaml"})," 或 ",(0,i.jsx)(n.code,{children:".yml"})," 文件，它们会被自动转换为 JSON 格式。"]}),"\n",(0,i.jsxs)(n.h3,{id:"示例-1",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例-1",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",meta:'title="example.yaml"',children:"---\nhello: world\nfoo:\n  bar: baz\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import example from './example.yaml';\n\nconsole.log(example.hello); // 'world';\nconsole.log(example.foo); // { bar: 'baz' };\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"添加类型声明",children:["添加类型声明",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#添加类型声明",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当你在 TypeScript 代码中引用 YAML 文件时，请在项目中创建 ",(0,i.jsx)(n.code,{children:"src/global.d.ts"})," 文件，并添加相应的类型声明："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="src/global.d.ts"',children:"declare module '*.yaml' {\n  const content: Record<string, any>;\n  export default content;\n}\n\ndeclare module '*.yml' {\n  const content: Record<string, any>;\n  export default content;\n}\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"toml-文件",children:["TOML 文件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#toml-文件",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"TOML 是一种语义明显、易于阅读的配置文件格式。"}),"\n",(0,i.jsxs)(n.p,{children:["你可以直接在 JavaScript 中引用 ",(0,i.jsx)(n.code,{children:".toml"})," 文件，它会被自动转换为 JSON 格式。"]}),"\n",(0,i.jsxs)(n.h3,{id:"示例-2",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例-2",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-toml",meta:'title="example.toml"',children:'hello = "world"\n\n[foo]\nbar = "baz"\n'})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import example from './example.toml';\n\nconsole.log(example.hello); // 'world';\nconsole.log(example.foo); // { bar: 'baz' };\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"添加类型声明-1",children:["添加类型声明",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#添加类型声明-1",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当你在 TypeScript 代码中引用 TOML 文件时，请在项目中创建 ",(0,i.jsx)(n.code,{children:"src/global.d.ts"})," 文件，并添加相应的类型声明："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="src/global.d.ts"',children:"declare module '*.toml' {\n  const content: Record<string, any>;\n  export default content;\n}\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fguide%2Fbasic%2Fjson-files.md"]={toc:[{text:"JSON 文件",id:"json-文件",depth:2},{text:"示例",id:"示例",depth:3},{text:"具名引用",id:"具名引用",depth:3},{text:"YAML 文件",id:"yaml-文件",depth:2},{text:"示例",id:"示例-1",depth:3},{text:"添加类型声明",id:"添加类型声明",depth:3},{text:"TOML 文件",id:"toml-文件",depth:2},{text:"示例",id:"示例-2",depth:3},{text:"添加类型声明",id:"添加类型声明-1",depth:3}],title:"引用 JSON 文件",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},83657:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",code:"code",pre:"pre",ul:"ul",li:"li"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"构建产物目录",children:["构建产物目录",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#构建产物目录",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"本章节主要介绍构建产物的目录结构，以及如何控制不同类型产物的输出目录。"}),"\n",(0,i.jsxs)(n.h2,{id:"默认产物目录",children:["默认产物目录",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#默认产物目录",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["下面是最基础的产物目录结构，默认情况下，构建产物会生成在当前项目的 ",(0,i.jsx)(n.code,{children:"dist"})," 目录下。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"dist\n├── static\n│   ├── css\n│   │   ├── [name].[hash].css\n│   │   └── [name].[hash].css.map\n│   │\n│   └── js\n│       ├── [name].[hash].js\n│       ├── [name].[hash].js.LICENSE.txt\n│       └── [name].[hash].js.map\n│\n└── html\n    └── [name]\n        └── index.html\n"})}),"\n",(0,i.jsx)(n.p,{children:"最常见的产物是 HTML 文件、JS 文件和 CSS 文件："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["HTML 文件：默认输出到 ",(0,i.jsx)(n.code,{children:"html"})," 目录。"]}),"\n",(0,i.jsxs)(n.li,{children:["JS 文件：默认输出到 ",(0,i.jsx)(n.code,{children:"static/js"})," 目录，"]}),"\n",(0,i.jsxs)(n.li,{children:["CSS 文件：默认输出到 ",(0,i.jsx)(n.code,{children:"static/css"})," 目录。"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"此外，JS 文件和 CSS 文件有时候会生成一些相关产物："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["License 文件：包含开源许可证信息，默认输出到 JS 文件的同级目录，并添加 ",(0,i.jsx)(n.code,{children:".LICENSE.txt"})," 后缀。"]}),"\n",(0,i.jsxs)(n.li,{children:["Source Map 文件：包含保存源代码映射关系，默认输出到 JS 文件和 CSS 文件的同级目录，并添加 ",(0,i.jsx)(n.code,{children:".map"})," 后缀。"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["在产物的文件名称中，",(0,i.jsx)(n.code,{children:"[name]"})," 表示这个文件对应的入口名称，比如 ",(0,i.jsx)(n.code,{children:"index"}),", ",(0,i.jsx)(n.code,{children:"main"}),"。",(0,i.jsx)(n.code,{children:"[hash]"})," 则是基于该文件的内容生成的哈希值。"]}),"\n",(0,i.jsxs)(n.h2,{id:"修改产物目录",children:["修改产物目录",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#修改产物目录",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder 提供了多个配置项来修改产物目录和产物名称，你可以："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["通过 ",(0,i.jsx)(n.a,{href:"/api/config-output#outputfilename",children:"output.filename"})," 来修改产物的文件名。"]}),"\n",(0,i.jsxs)(n.li,{children:["通过 ",(0,i.jsx)(n.a,{href:"/api/config-output#outputdistpath",children:"output.distPath"})," 来修改产物的输出路径。"]}),"\n",(0,i.jsxs)(n.li,{children:["通过 ",(0,i.jsx)(n.a,{href:"/api/config-output#outputlegalcomments",children:"output.legalComments"})," 来修改 License 文件的生成方式。"]}),"\n",(0,i.jsxs)(n.li,{children:["通过 ",(0,i.jsx)(n.a,{href:"/api/config-output#outputdisablesourcemap",children:"output.disableSourceMap"})," 来移除 Source Map 文件。"]}),"\n",(0,i.jsxs)(n.li,{children:["通过 ",(0,i.jsx)(n.a,{href:"/api/config-html#htmldisablehtmlfolder",children:"html.disableHtmlFolder"})," 移除 HTML 产物对应的文件夹。"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"静态资源",children:["静态资源",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#静态资源",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当你在代码中引用图片、SVG、字体、媒体等类型的静态资源时，它们也会被输出到 ",(0,i.jsx)(n.code,{children:"dist/static"})," 目录下，并根据静态资源类型来自动分配到对应的子目录："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"dist\n└── static\n    ├── image\n    │   └── foo.[hash].png\n    │\n    ├── svg\n    │   └── bar.[hash].svg\n    │\n    ├── font\n    │   └── baz.[hash].woff2\n    │\n    └── media\n        └── qux.[hash].mp4\n"})}),"\n",(0,i.jsxs)(n.p,{children:["你可以通过 ",(0,i.jsx)(n.a,{href:"/api/config-output#outputdistpath",children:"output.distPath"})," 配置项将这些静态资源统一输入到单个目录下，比如输出到 ",(0,i.jsx)(n.code,{children:"assets"})," 目录："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    distPath: {\n      image: 'assets',\n      svg: 'assets',\n      font: 'assets',\n      media: 'assets',\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"上方的配置会生成以下目录结构："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"dist\n└── assets\n    ├── foo.[hash].png\n    ├── bar.[hash].svg\n    ├── baz.[hash].woff2\n    └── qux.[hash].mp4\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"nodejs-产物目录",children:["Node.js 产物目录",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#nodejs-产物目录",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当 Builder 的 ",(0,i.jsx)(n.a,{href:"/guide/basic/build-target",children:"构建产物类型"})," 中包含 ",(0,i.jsx)(n.code,{children:"'node'"}),"，或者你在上层框架中开启了 SSR 等服务端功能时，Builder 会在构建后生成一份 Node.js 产物，并输出到 ",(0,i.jsx)(n.code,{children:"bundles"})," 目录下："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"dist\n├── bundles\n│   └── [name].js\n├── static\n└── html\n"})}),"\n",(0,i.jsx)(n.p,{children:"Node.js 产物通常只包含 JS 文件，不包含 HTML、CSS 等文件。此外，Node 产物的 JS 文件名称也不会自动生成哈希值。"}),"\n",(0,i.jsxs)(n.p,{children:["你可以通过 ",(0,i.jsx)(n.a,{href:"/api/config-output#outputdistpath",children:"output.distPath.server"})," 配置项来修改 Node 产物的输出路径。"]}),"\n",(0,i.jsxs)(n.p,{children:["比如，将 Node.js 产物输出到 ",(0,i.jsx)(n.code,{children:"server"})," 目录："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    distPath: {\n      server: 'server',\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"扁平化产物目录",children:["扁平化产物目录",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#扁平化产物目录",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"有时候你不想产物目录有太多层级，可以将目录设置为空字符串，使生成的产物目录扁平化。"}),"\n",(0,i.jsx)(n.p,{children:"参考下方的例子："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    distPath: {\n      js: '',\n      css: '',\n      html: '',\n    },\n    disableHtmlFolder: true,\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"上方的配置会生成以下目录结构："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"dist\n├── [name].[hash].css\n├── [name].[hash].css.map\n├── [name].[hash].js\n├── [name].[hash].js.map\n└── [name].html\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"产物不写入磁盘",children:["产物不写入磁盘",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#产物不写入磁盘",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"默认情况下，Builder 会将构建产物写入磁盘，以方便开发者查看产物的内容，或是配置静态资源的代理规则。"}),"\n",(0,i.jsx)(n.p,{children:"在开发环境，你可以选择将构建产物保存在 Dev Server 的内存中，从而减少文件操作产生的开销。"}),"\n",(0,i.jsxs)(n.p,{children:["将 ",(0,i.jsx)(n.code,{children:"dev.writeToDisk"})," 配置项设置为 ",(0,i.jsx)(n.code,{children:"false"})," 即可："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  dev: {\n    writeToDisk: false,\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fguide%2Fbasic%2Foutput-files.md"]={toc:[{text:"默认产物目录",id:"默认产物目录",depth:2},{text:"修改产物目录",id:"修改产物目录",depth:2},{text:"静态资源",id:"静态资源",depth:2},{text:"Node.js 产物目录",id:"nodejs-产物目录",depth:2},{text:"扁平化产物目录",id:"扁平化产物目录",depth:2},{text:"产物不写入磁盘",id:"产物不写入磁盘",depth:2}],title:"构建产物目录",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},37941:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",div:"div",h2:"h2",ul:"ul",li:"li",strong:"strong",code:"code",pre:"pre",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"引用静态资源",children:["引用静态资源",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#引用静态资源",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder 支持在代码中引用图片、字体、媒体类型的静态资源。"}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"什么是静态资源"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"静态资源是指 Web 应用中不会发生变化的文件。常见的静态资源包括图片、字体、视频、样式表和 JavaScript 文件。这些资源通常存储在服务器或 CDN 上，当用户访问 Web 应用时会被传送到用户的浏览器。由于它们不会发生变化，静态资源可以被浏览器缓存，从而提高 Web 应用的性能。"})})]}),"\n",(0,i.jsxs)(n.h2,{id:"静态资源格式",children:["静态资源格式",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#静态资源格式",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"以下是 Builder 默认支持的静态资源格式："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"图片"}),"：png、jpg、jpeg、gif、svg、bmp、webp、ico、apng、avif、tiff。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"字体"}),"：woff、woff2、eot、ttf、otf、ttc。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"媒体"}),"：mp4、webm、ogg、mp3、wav、flac、aac、mov。"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["如果你需要引用其他格式的静态资源，请通过 ",(0,i.jsx)(n.a,{href:"https://github.com/web-infra-dev/modern.js/issues",target:"_blank",rel:"noopener noreferrer",children:"GitHub Issues"})," 进行反馈。"]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"SVG 图片"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["SVG 图片是一种特殊情况，Builder 提供了 SVG 转 React 组件的能力，对 SVG 进行单独处理，详见 ",(0,i.jsx)(n.a,{href:"/guide/basic/svg-assets",children:"引用 SVG 资源"}),"。\n"]})})]}),"\n",(0,i.jsxs)(n.h2,{id:"在-js-文件中引用",children:["在 JS 文件中引用",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#在-js-文件中引用",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["在 JS 文件中，可以直接通过 ",(0,i.jsx)(n.code,{children:"import"})," 的方式引用相对路径下的静态资源："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"// 引用 static 目录下的 logo.png 图片\nimport logo from './static/logo.png';\n\nexport default = () => <img src={logo} />;\n"})}),"\n",(0,i.jsxs)(n.p,{children:["也支持使用",(0,i.jsx)(n.a,{href:"/guide/advanced/alias",children:"路径别名"}),"来引用："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"import logo from '@/static/logo.png';\n\nexport default = () => <img src={logo} />;\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"在-css-文件中引用",children:["在 CSS 文件中引用",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#在-css-文件中引用",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"在 CSS 文件中，可以引用相对路径下的静态资源："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-css",children:".logo {\n  background-image: url('../static/logo.png');\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["也支持使用",(0,i.jsx)(n.a,{href:"/guide/advanced/alias",children:"路径别名"}),"来引用："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-css",children:".logo {\n  background-image: url('@/static/logo.png');\n}\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"引用结果",children:["引用结果",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#引用结果",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"引用静态资源的结果取决于文件体积："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"当文件体积大于 10KB 时，会返回一个 URL，同时文件会被输出到构建产物目录下。"}),"\n",(0,i.jsx)(n.li,{children:"当文件体积小于 10KB 时，会自动被内联为 Base64 格式。"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import largeImage from './static/largeImage.png';\nimport smallImage from './static/smallImage.png';\n\nconsole.log(largeImage); // \"/static/largeImage.6c12aba3.png\"\nconsole.log(smallImage); // \"data:image/png;base64,iVBORw0KGgo...\"\n"})}),"\n",(0,i.jsxs)(n.p,{children:["关于资源内联的更详细介绍，请参考 ",(0,i.jsx)(n.a,{href:"/guide/optimization/inline-assets",children:"静态资源内联"})," 章节。"]}),"\n",(0,i.jsxs)(n.h2,{id:"构建产物",children:["构建产物",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#构建产物",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"当静态资源被引用后，会自动被输出到构建产物的目录下，你可以："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["通过 ",(0,i.jsx)(n.a,{href:"/api/config-output#outputfilename",children:"output.filename"})," 来修改产物的文件名。"]}),"\n",(0,i.jsxs)(n.li,{children:["通过 ",(0,i.jsx)(n.a,{href:"/api/config-output#outputdistpath",children:"output.distPath"})," 来修改产物的输出路径。"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["请阅读 ",(0,i.jsx)(n.a,{href:"/guide/basic/output-files",children:"构建产物目录"})," 来了解更多细节。"]}),"\n",(0,i.jsxs)(n.h2,{id:"url-前缀",children:["URL 前缀",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#url-前缀",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"引用静态资源后返回的 URL 中会自动包含路径前缀："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["在开发环境下，通过 ",(0,i.jsx)(n.a,{href:"/api/config-dev#devassetprefix",children:"dev.assetPrefix"})," 设置路径前缀。"]}),"\n",(0,i.jsxs)(n.li,{children:["在生产环境下，通过 ",(0,i.jsx)(n.a,{href:"/api/config-output#outputassetprefix",children:"output.assetPrefix"})," 设置路径前缀。"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["比如将 ",(0,i.jsx)(n.code,{children:"output.assetPrefix"})," 设置为 ",(0,i.jsx)(n.code,{children:"https://modern.com"}),"："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import logo from './static/logo.png';\n\nconsole.log(logo); // \"https://modern.com/static/logo.6c12aba3.png\"\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"添加类型声明",children:["添加类型声明",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#添加类型声明",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"当你在 TypeScript 代码中引用静态资源时，TypeScript 可能会提示该模块缺少类型定义："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"TS2307: Cannot find module './logo.png' or its corresponding type declarations.\n"})}),"\n",(0,i.jsxs)(n.p,{children:["此时你需要为静态资源添加类型声明文件，请在项目中创建 ",(0,i.jsx)(n.code,{children:"src/global.d.ts"})," 文件，并添加相应的类型声明。以 png 图片为例，需要添加以下声明："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="src/global.d.ts"',children:"declare module '*.png' {\n  const content: string;\n  export default content;\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["添加类型声明后，如果依然存在上述错误提示，请尝试重启当前 IDE，或者调整 ",(0,i.jsx)(n.code,{children:"global.d.ts"})," 所在的目录，使 TypeScript 能够正确识别类型定义。"]}),"\n",(0,i.jsxs)(n.h2,{id:"图片格式",children:["图片格式",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#图片格式",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"在使用图片资源时，你可以根据下方表格中图片的优缺点以及适用场景，来选择合适的图片格式。"}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"格式"}),"\n",(0,i.jsx)(n.th,{children:"优点"}),"\n",(0,i.jsx)(n.th,{children:"缺点"}),"\n",(0,i.jsx)(n.th,{children:"适用场景"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"PNG"}),"\n",(0,i.jsx)(n.td,{children:"无损压缩，不会丢失图片细节，不失真，支持半透明"}),"\n",(0,i.jsx)(n.td,{children:"不适合色表复杂的图片"}),"\n",(0,i.jsx)(n.td,{children:"适合颜色数量少，边界层次分明的图片，适合用在 logo、icon、透明图等场景"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"JPG"}),"\n",(0,i.jsx)(n.td,{children:"颜色丰富"}),"\n",(0,i.jsx)(n.td,{children:"有损压缩，会导致图片失真，不支持透明度"}),"\n",(0,i.jsx)(n.td,{children:"适合颜色数量多，颜色带有渐变、过度复杂的图片，适合用在人像照片、风景图等场景"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"WebP"}),"\n",(0,i.jsx)(n.td,{children:"同时支持有损压缩与无损压缩，支持透明度，体积比 PNG 和 JPG 小很多"}),"\n",(0,i.jsx)(n.td,{children:"iOS 兼容性不好"}),"\n",(0,i.jsx)(n.td,{children:"几乎任何场景的像素图片，支持 WebP 的宿主环境，都应该首选 WebP 图片格式"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"SVG"}),"\n",(0,i.jsx)(n.td,{children:"无损格式，不失真,支持透明度"}),"\n",(0,i.jsx)(n.td,{children:"不适合复杂图形"}),"\n",(0,i.jsx)(n.td,{children:"适合矢量图,适合用于 icon"}),"\n"]}),"\n"]}),"\n"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fguide%2Fbasic%2Fstatic-assets.md"]={toc:[{text:"静态资源格式",id:"静态资源格式",depth:2},{text:"在 JS 文件中引用",id:"在-js-文件中引用",depth:2},{text:"在 CSS 文件中引用",id:"在-css-文件中引用",depth:2},{text:"引用结果",id:"引用结果",depth:2},{text:"构建产物",id:"构建产物",depth:2},{text:"URL 前缀",id:"url-前缀",depth:2},{text:"添加类型声明",id:"添加类型声明",depth:2},{text:"图片格式",id:"图片格式",depth:2}],title:"引用静态资源",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},3307:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",div:"div",h2:"h2",code:"code",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"引用-svg-资源",children:["引用 SVG 资源",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#引用-svg-资源",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder 支持在代码中引用 SVG 资源，并将 SVG 图片转换为 React 组件或 URL。"}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"什么是 SVG"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"SVG 是 Scalable Vector Graphics 的缩写，意为可伸缩矢量图形。SVG 是一种用来描述二维矢量图形的 XML-based 格式，可以用来创建可以无限放大或缩小而不失真的图像。因为 SVG 图形是由矢量图形元素组成的，所以可以轻松地在各种尺寸和分辨率下渲染。"})})]}),"\n",(0,i.jsxs)(n.h2,{id:"在-js-文件中引用",children:["在 JS 文件中引用",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#在-js-文件中引用",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["在 JS 文件中引用 SVG 资源时，如果你具名导入 ",(0,i.jsx)(n.code,{children:"ReactComponent"})," 对象，Builder 会调用 ",(0,i.jsx)(n.a,{href:"https://react-svgr.com/",target:"_blank",rel:"noopener noreferrer",children:"SVGR"}),"，将 SVG 图片转换为一个 React 组件。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",meta:'title="src/component/Logo.tsx"',children:"import { ReactComponent as Logo } from './static/logo.svg';\n\nexport default () => <Logo />;\n"})}),"\n",(0,i.jsx)(n.p,{children:"如果你使用默认导入，那么 SVG 会被当做普通的静态资源来处理，你会得到一个 URL 字符串："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",meta:'title="src/component/Logo.tsx"',children:"import logoURL from './static/logo.svg';\n\nconsole.log(logoURL); // => \"/static/logo.6c12aba3.png\"\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"修改默认导出",children:["修改默认导出",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#修改默认导出",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["你可以通过 ",(0,i.jsx)(n.a,{href:"/api/config-output#outputsvgdefaultexport",children:"output.svgDefaultExport"})," 配置项来修改 SVG 文件默认导出的内容，比如把默认导出的内容设置为 React 组件："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    svgDefaultExport: 'component',\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"此时再使用默认导入，你会得到一个 React 组件，而不是 URL："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",meta:'title="src/component/Logo.tsx"',children:"import Logo from './static/logo.svg';\n\nexport default () => <Logo />;\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"在-css-文件中引用",children:["在 CSS 文件中引用",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#在-css-文件中引用",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"在 CSS 文件中引用 SVG 资源时，SVG 会被当做一个普通的静态资源来处理，你会得到一个 URL："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-css",children:".logo {\n  background-image: url('../static/logo.svg');\n}\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"静态资源处理",children:["静态资源处理",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#静态资源处理",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"当 SVG 不是作为 React 组件，而是作为一个普通的静态资源被引用时，它的处理逻辑和其他静态资源完全一致，也会受到静态资源内联、URL 前缀等规则的影响。"}),"\n",(0,i.jsxs)(n.p,{children:["请阅读 ",(0,i.jsx)(n.a,{href:"/guide/basic/static-assets",children:"引用静态资源"})," 章节来了解静态资源的处理规则。"]}),"\n",(0,i.jsxs)(n.h2,{id:"禁用-svgr-处理",children:["禁用 SVGR 处理",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#禁用-svgr-处理",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["默认情况下，在 JS 文件中引用 SVG 资源时，Builder 会调用 SVGR，将 SVG 图片转换为一个 React 组件。\n如果你确定项目内的所有 SVG 资源都没有当成 React 组件使用时，可以通过将 ",(0,i.jsx)(n.a,{href:"/api/config-output#outputdisablesvgr",children:(0,i.jsx)(n.code,{children:"disableSvgr"})})," 设置为 true 来关闭此项转换，以提升构建性能。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    disableSvgr: true,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"添加类型声明",children:["添加类型声明",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#添加类型声明",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"当你在 TypeScript 代码中引用 SVG 资源时，TypeScript 可能会提示该模块缺少类型定义："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"TS2307: Cannot find module './logo.svg' or its corresponding type declarations.\n"})}),"\n",(0,i.jsxs)(n.p,{children:["此时你需要为 SVG 资源添加类型声明文件，请在项目中创建 ",(0,i.jsx)(n.code,{children:"src/global.d.ts"})," 文件，并添加相应的类型声明："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"declare module '*.svg' {\n  export const ReactComponent: React.FunctionComponent<\n    React.SVGProps<SVGSVGElement>\n  >;\n\n  const content: string;\n  export default content;\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["如果你将 ",(0,i.jsx)(n.code,{children:"svgDefaultExport"})," 设置为 ",(0,i.jsx)(n.code,{children:"'component'"}),"，则将类型声明修改为："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"declare module '*.svg' {\n  export const ReactComponent: React.FunctionComponent<\n    React.SVGProps<SVGSVGElement>\n  >;\n\n  export default ReactComponent;\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["添加类型声明后，如果依然存在上述错误提示，请尝试重启当前 IDE，或者调整 ",(0,i.jsx)(n.code,{children:"global.d.ts"})," 所在的目录，使 TypeScript 能够正确识别类型定义。"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fguide%2Fbasic%2Fsvg-assets.md"]={toc:[{text:"在 JS 文件中引用",id:"在-js-文件中引用",depth:2},{text:"修改默认导出",id:"修改默认导出",depth:2},{text:"在 CSS 文件中引用",id:"在-css-文件中引用",depth:2},{text:"静态资源处理",id:"静态资源处理",depth:2},{text:"禁用 SVGR 处理",id:"禁用-svgr-处理",depth:2},{text:"添加类型声明",id:"添加类型声明",depth:2}],title:"引用 SVG 资源",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},13458:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",code:"code",h2:"h2",strong:"strong",pre:"pre",h3:"h3",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"使用-typescript",children:["使用 TypeScript",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#使用-typescript",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder 对 TypeScript 的转译和类型检查做了默认支持，无需任何配置即可在项目中使用 ",(0,i.jsx)(n.code,{children:".ts"})," 和 ",(0,i.jsx)(n.code,{children:".tsx"})," 文件。"]}),"\n",(0,i.jsxs)(n.h2,{id:"typescript-转译",children:["TypeScript 转译",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#typescript-转译",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder 有三种可选方式处理 TypeScript 文件。"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Babel"})}),"\n",(0,i.jsxs)(n.p,{children:["在默认配置下，源码中所有的 TypeScript 文件会经过 Babel 转译。\n可能你在查阅较老旧的资料时会发现，Babel 无法处理 ",(0,i.jsx)(n.code,{children:"const enum"})," 以及 ",(0,i.jsx)(n.code,{children:"namespace alias"})," 语法，但是其实在 ",(0,i.jsx)(n.a,{href:"https://babeljs.io/blog/2021/07/26/7.15.0",target:"_blank",rel:"noopener noreferrer",children:"7.15"})," 版本已经得到了支持。Babel 无需手动开启，直接在项目中使用 TypeScript 文件即可。"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"ts-loader"})}),"\n",(0,i.jsx)(n.p,{children:"ts-loader 使用 TypeScript 官方的 TSC 转译。当开启 ts-loader 后 TypeScript 文件不会再经过 Babel 编译处理，但处理后的 JavaScript 产物仍然会由 Babel 进行语法降级以及 Polyfill 注入。"}),"\n",(0,i.jsx)(n.p,{children:"开启 ts-loader(使用默认配置):"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    tsLoader: {},\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["更详细配置可见 ",(0,i.jsx)(n.a,{href:"/api/config-tools#toolstsloader",children:"tools.tsLoader"}),"。\n如果开启 ts-loader，默认不会启用类型检查，只会进行转译。"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"SWC"})}),"\n",(0,i.jsxs)(n.p,{children:["如果想要更快的项目构建速度，并且项目没有依赖某些自定义的 Babel 插件，那么也可以选择 SWC 来对 JavaScript 和 TypeScript 进行转译和压缩。Builder 的 SWC 插件默认支持 TypeScript, TSX, Decorator，使用方式可见 ",(0,i.jsx)(n.a,{href:"/plugins/plugin-swc",children:"SWC 插件"}),"。"]}),"\n",(0,i.jsxs)(n.h3,{id:"为什么默认使用-babel",children:["为什么默认使用 Babel",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#为什么默认使用-babel",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Babel 除了没有类型检查以外，对 TypeScript 语法支持已经非常完善，而类型检查可以借助另外的工具更好地进行。转译到低版本的 JavaScript 时，某些语法 Babel 会处理得更符合标准，例如 Babel 会将类成员初始化为 undefined，将类方法标记不可枚举等行为。如果启用 ts-loader，为了更精确的语法降级和 Polyfill，最后还是会将处理后的产物再次经过 Babel 处理，产生不必要的性能开销。"}),"\n",(0,i.jsxs)(n.h2,{id:"类型检查",children:["类型检查",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#类型检查",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["目前生产可用的类型检查工具只有官方的 TSC，TSC 类型检查耗时在大项目中往往是很慢的过程，Builder 中默认使用 tsChecker(",(0,i.jsx)(n.a,{href:"https://github.com/TypeStrong/fork-ts-checker-webpack-plugin",target:"_blank",rel:"noopener noreferrer",children:"fork-ts-checker-webpack-plugin"}),") 在构建过程中异步进行类型检查，不阻塞项目的启动。"]}),"\n",(0,i.jsx)(n.p,{children:"配置 tsChecker(使用默认配置):"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    tsChecker: {},\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["更多配置可见 ",(0,i.jsx)(n.a,{href:"/api/config-tools#toolstschecker",children:"tsChecker 配置"}),"。"]}),"\n",(0,i.jsxs)(n.p,{children:["如果开启 ts-loader 并且手动配置了 ",(0,i.jsx)(n.code,{children:"compileOnly: false"}),"，请关闭 tsChecker，避免重复类型检查。"]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"STC"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["SWC 作者新开源的基于 Rust 的类型检查工具 ",(0,i.jsx)(n.a,{href:"https://github.com/dudykr/stc",target:"_blank",rel:"noopener noreferrer",children:"STC"})," 目前还不可用于生产，还在起步阶段，不推荐用于项目中，等待更成熟之后，我们会考虑集成到 Builder 的 SWC 插件中作为实验功能，敬请期待。\n"]})})]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fguide%2Fbasic%2Ftypescript.md"]={toc:[{text:"TypeScript 转译",id:"typescript-转译",depth:2},{text:"为什么默认使用 Babel",id:"为什么默认使用-babel",depth:3},{text:"类型检查",id:"类型检查",depth:2}],title:"使用 TypeScript",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},93351:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",div:"div",h2:"h2",pre:"pre",code:"code"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"引用-wasm-资源",children:["引用 Wasm 资源",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#引用-wasm-资源",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder 支持在代码引用 WebAssembly 资源。"}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"什么是 WebAssembly"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"WebAssembly（缩写为 wasm）是一种可移植、高性能的字节码格式，被设计用来在现代 Web 浏览器中执行 CPU 密集型计算任务，为 Web 平台带来了接近本地编译代码的性能和可靠性。"})})]}),"\n",(0,i.jsxs)(n.h2,{id:"引用方式",children:["引用方式",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#引用方式",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"你可以直接在 JavaScript 文件中引用一个 WebAssembly 模块："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",meta:'title="index.js"',children:"import { add } from './add.wasm';\n\nconsole.log(add); // [native code]\nconsole.log(add(1, 2)); // 3\n"})}),"\n",(0,i.jsx)(n.p,{children:"也可以通过 Dynamic Import 来引用 WebAssembly 模块："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",meta:'title="index.js"',children:"import('./add.wasm').then(({ add }) => {\n  console.log('---- Async Wasm Module');\n  console.log(add); // [native code]\n  console.log(add(1, 2)); // 3\n});\n"})}),"\n",(0,i.jsxs)(n.p,{children:["还可以通过 ",(0,i.jsx)(n.code,{children:"new URL"})," 语法来获取 WebAssembly 模块的路径："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",meta:'title="index.js"',children:"const wasmURL = new URL('./add.wasm', import.meta.url);\n\nconsole.log(wasmURL).pathname; // \"/static/wasm/[hash].module.wasm\"\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"输出目录",children:["输出目录",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#输出目录",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当 ",(0,i.jsx)(n.code,{children:".wasm"})," 资源被引用后，默认会被 Builder 输出到 ",(0,i.jsx)(n.code,{children:"dist/static/wasm"})," 目录下。"]}),"\n",(0,i.jsxs)(n.p,{children:["你可以通过 ",(0,i.jsx)(n.a,{href:"/api/config-output#outputdistpath",children:"output.distPath"})," 配置项来修改 ",(0,i.jsx)(n.code,{children:".wasm"})," 产物的输出目录。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    distPath: {\n      wasm: 'resource/wasm',\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"添加类型声明",children:["添加类型声明",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#添加类型声明",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"当你在 TypeScript 代码中引用 Wasm 文件时，通常需要添加相应的类型声明。"}),"\n",(0,i.jsxs)(n.p,{children:["比如 ",(0,i.jsx)(n.code,{children:"add.wasm"})," 文件导出了 ",(0,i.jsx)(n.code,{children:"add()"})," 方法，那么你可以在同级目录下创建一个 ",(0,i.jsx)(n.code,{children:"add.wasm.d.ts"})," 文件，并添加相应的类型声明："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="add.wasm.d.ts"',children:"export const add = (num1: number, num2: number) => number;\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fguide%2Fbasic%2Fwasm-assets.md"]={toc:[{text:"引用方式",id:"引用方式",depth:2},{text:"输出目录",id:"输出目录",depth:2},{text:"添加类型声明",id:"添加类型声明",depth:2}],title:"引用 Wasm 资源",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},2908:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",code:"code",pre:"pre",h2:"h2"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"开启调试模式",children:["开启调试模式",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#开启调试模式",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["为了便于排查问题，Builder 提供了调试模式，你可以在执行构建时添加 ",(0,i.jsx)(n.code,{children:"DEBUG=builder"})," 环境变量来开启 Builder 的调试模式。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# 调试开发环境\nDEBUG=builder pnpm dev\n\n# 调试生产环境\nDEBUG=builder pnpm build\n"})}),"\n",(0,i.jsx)(n.p,{children:"在调试模式下，Builder 会输出一些额外的日志信息，并将内部最终生成的 Builder 配置和 webpack 配置写入到产物目录下，便于开发者查看和调试。"}),"\n",(0,i.jsxs)(n.h2,{id:"日志信息",children:["日志信息",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#日志信息",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["在调试模式下，你会看到 Shell 中输出了一些额外的信息，其中以 ",(0,i.jsx)(n.code,{children:"debug"})," 开头的是一些流程日志，表明 Builder 内部执行了哪些操作。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"$ DEBUG=builder pnpm dev\n\ndebug   create context [1842.90 ms]\ndebug   add default plugins [1874.45 ms]\ndebug   add default plugins done [1938.57 ms]\ndebug   init plugins [2388.29 ms]\ndebug   init plugins done [2389.48 ms]\n...\n"})}),"\n",(0,i.jsx)(n.p,{children:"此外，Shell 中还会输出以下日志，表示 Builder 将内部生成的构建配置写入到磁盘中，此时你可以打开这些配置文件来查看相应的内容。"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"Inspect config succeed, open following files to view the content:\n\n  - Builder Config: /Project/demo/dist/builder.config.js\n  - Webpack Config (web): /Project/demo/dist/webpack.config.web.js\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"builder-配置文件",children:["Builder 配置文件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builder-配置文件",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["在调试模式下，Builder 会自动生成 ",(0,i.jsx)(n.code,{children:"dist/builder.config.js"})," 文件，这里面包含了最终生成的 Builder 配置。在这个文件里，你可以了解到你传入的 Builder 配置在经过框架层和 Builder 处理后的最终结果。"]}),"\n",(0,i.jsx)(n.p,{children:"该文件的大致结构如下："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  dev: {\n    // some configs...\n  },\n  source: {\n    // some configs...\n  },\n  // other configs...\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["关于 Builder 配置项的完整介绍，请查看 ",(0,i.jsx)(n.a,{href:"/guide/basic/builder-config",children:"Builder 配置项"})," 章节。"]}),"\n",(0,i.jsxs)(n.h2,{id:"webpack-配置文件",children:["webpack 配置文件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#webpack-配置文件",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["如果当前项目是使用 webpack 进行构建的，那么在调试模式下，Builder 还会自动生成 ",(0,i.jsx)(n.code,{children:"dist/webpack.config.web.js"})," 文件，这里面包含了最终生成的 webpack 配置。在这个文件里，你可以了解到 Builder 最终传递给 webpack 的配置里包含了哪些内容。"]}),"\n",(0,i.jsx)(n.p,{children:"该文件的大致结构如下："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  resolve: {\n    // some resolve configs...\n  },\n  module: {\n    // some webpack loaders...\n  },\n  plugins: [\n    // some webpack plugins...\n  ],\n  // other configs...\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["此外，如果项目配置了额外的构建产物类型，比如开启了框架的 SSR 能力（对应额外的 Node.js 构建产物），在 ",(0,i.jsx)(n.code,{children:"dist"})," 目录会另外生成一份 ",(0,i.jsx)(n.code,{children:"webpack.config.node.js"})," 文件，对应 SSR 构建时的 webpack 配置。"]}),"\n",(0,i.jsxs)(n.p,{children:["关于 webpack 配置项的完整介绍，请查看 ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/concepts/configuration/",target:"_blank",rel:"noopener noreferrer",children:"webpack 官方文档"}),"。"]}),"\n",(0,i.jsxs)(n.h2,{id:"rspack-配置文件",children:["Rspack 配置文件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#rspack-配置文件",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["如果当前项目是使用 Rspack 进行构建的，那么在调试模式下，Builder 还会自动生成 ",(0,i.jsx)(n.code,{children:"dist/rspack.config.web.js"})," 文件，这里面包含了最终生成的 Rspack 配置。在这个文件里，你可以了解到 Builder 最终传递给 Rspack 的配置里包含了哪些内容。"]}),"\n",(0,i.jsx)(n.p,{children:"该文件的大致结构如下："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"module.exports = {\n  resolve: {\n    // some resolve configs...\n  },\n  module: {\n    // some Rspack loaders...\n  },\n  plugins: [\n    // some Rspack plugins...\n  ],\n  // other configs...\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["关于 Rspack 配置项的完整介绍，请查看 ",(0,i.jsx)(n.a,{href:"https://www.rspack.dev/zh/config.html",target:"_blank",rel:"noopener noreferrer",children:"Rspack 官方文档"}),"。"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fguide%2Fdebug%2Fdebug-mode.md"]={toc:[{text:"日志信息",id:"日志信息",depth:2},{text:"Builder 配置文件",id:"builder-配置文件",depth:2},{text:"webpack 配置文件",id:"webpack-配置文件",depth:2},{text:"Rspack 配置文件",id:"rspack-配置文件",depth:2}],title:"开启调试模式",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},64100:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",ul:"ul",li:"li",pre:"pre",code:"code",h3:"h3",img:"img",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"使用-webpack-inspector",children:["使用 Webpack Inspector",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#使用-webpack-inspector",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder 内置了 ",(0,i.jsx)(n.a,{href:"https://github.com/web-infra-dev/webpack-inspector",target:"_blank",rel:"noopener noreferrer",children:"webpack inspector"})," 来辅助调试 webpack 构建问题。"]}),"\n",(0,i.jsxs)(n.h2,{id:"介绍",children:["介绍",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#介绍",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"由于 webpack 内部的工作流程比较黑盒，在使用 webpack 时，我们常常会遇到如下的一些问题:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"在使用上层框架时，不知道最终生成的 webpack 配置包含哪些内容。"}),"\n",(0,i.jsx)(n.li,{children:"每个模块会经过不同的 loader 处理，经过各个 loader 的编译结果难以感知。"}),"\n",(0,i.jsx)(n.li,{children:"难以感知 webpack 各个编译环节 (比如 babel-loader、ts-loader) 的耗时情况。"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["为了更方便地进行 webpack 项目的错误排查、性能分析及 loader 开发，我们在 Builder 中内置了 ",(0,i.jsx)(n.a,{href:"https://github.com/web-infra-dev/webpack-inspector",target:"_blank",rel:"noopener noreferrer",children:"webpack inspector"})," 工具。"]}),"\n",(0,i.jsxs)(n.h2,{id:"启用",children:["启用",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#启用",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["你可以通过 ",(0,i.jsx)(n.a,{href:"/api/config-tools#toolsinspector",children:"tools.inspector"})," 配置项来开启 webpack inspector:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    inspector: {},\n  },\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"为了避免 inspector 影响正常开发，建议配置仅在 DEBUG 时开启 inspector："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    inspector: process.env.DEBUG ? {} : undefined,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["添加以上配置后，当你执行 ",(0,i.jsx)(n.code,{children:"DEBUG=true pnpm dev"})," 时，Builder 会在编译完成后启动 inspector，此时 Shell 中可以看到如下信息："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-shell",children:"info    Starting dev server...\n\n【Webpack Inspector】\uD83D\uDD25 started at http://localhost:3333\n"})}),"\n",(0,i.jsxs)(n.p,{children:["打开 ",(0,i.jsx)(n.code,{children:"http://localhost:3333"})," 地址，即可访问 inspector 的调试面板。"]}),"\n",(0,i.jsxs)(n.h2,{id:"调试面板",children:["调试面板",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#调试面板",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Inspector 的调试面板提供了多种模式，你可以通过右上角的开关进行切换。"}),"\n",(0,i.jsxs)(n.h3,{id:"配置预览模式",children:["配置预览模式",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#配置预览模式",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"面板的默认模式为配置预览模式。此模式下可以查看 webpack 内部所有的配置信息，配置对象可自由展开和折叠:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://lf3-static.bytednsdoc.com/obj/eden-cn/zq-uylkvT/ljhwZthlaukjlkulzlp/39248c0f-b1cd-4ea5-b522-3ebba7569497.png",alt:""})}),"\n",(0,i.jsxs)(n.h3,{id:"列表模式",children:["列表模式",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#列表模式",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"此模式下会展示出所有的模块信息:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://lf3-static.bytednsdoc.com/obj/eden-cn/zq-uylkvT/ljhwZthlaukjlkulzlp/8ff3bba0-7824-43b3-996f-7a3b5d2c4f59.png",alt:""})}),"\n",(0,i.jsx)(n.p,{children:"点击列表项会出现模块的编译详情信息:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://lf3-static.bytednsdoc.com/obj/eden-cn/zq-uylkvT/ljhwZthlaukjlkulzlp/output.png",alt:""})}),"\n",(0,i.jsxs)(n.h3,{id:"loader-统计数据",children:["Loader 统计数据",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#loader-统计数据",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"点击如下的开关，可以查看 Loader 的统计数据:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://lf3-static.bytednsdoc.com/obj/eden-cn/zq-uylkvT/ljhwZthlaukjlkulzlp/c0697cd6-963f-4169-8dc3-dc178641a861.png",alt:""})}),"\n",(0,i.jsxs)(n.h3,{id:"依赖图模式",children:["依赖图模式",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#依赖图模式",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"此模式下会展示出所有模块的依赖关系："}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://lf3-static.bytednsdoc.com/obj/eden-cn/zq-uylkvT/ljhwZthlaukjlkulzlp/9ee30176-e993-4638-83d0-add14484b1b2.png",alt:""})}),"\n",(0,i.jsx)(n.p,{children:"点击图中的节点也会呈现具体模块的编译详情："}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://lf3-static.bytednsdoc.com/obj/eden-cn/zq-uylkvT/ljhwZthlaukjlkulzlp/6f4b6cc7-94c8-446a-8b64-86ca98fbdca7.png",alt:""})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"出于性能考虑，模块数量 > 100 时不会展示依赖图。"})})]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fguide%2Fdebug%2Finspector.md"]={toc:[{text:"介绍",id:"介绍",depth:2},{text:"启用",id:"启用",depth:2},{text:"调试面板",id:"调试面板",depth:2},{text:"配置预览模式",id:"配置预览模式",depth:3},{text:"列表模式",id:"列表模式",depth:3},{text:"Loader 统计数据",id:"loader-统计数据",depth:3},{text:"依赖图模式",id:"依赖图模式",depth:3}],title:"使用 Webpack Inspector",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},53349:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",h3:"h3",p:"p",pre:"pre",code:"code",ol:"ol",li:"li",div:"div",hr:"hr",ul:"ul",strong:"strong"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"异常类问题",children:["异常类问题",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#异常类问题",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"webpack-编译出现-\\\\'compilation\\\\'-argument-报错？",children:["webpack 编译出现 'compilation' argument 报错？",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#webpack-编译出现-\\\\'compilation\\\\'-argument-报错？",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"如果编译时出现以下报错，通常是由于项目中安装了错误的 webpack 版本，或者安装了多个 webpack 版本引起："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"TypeError: The 'compilation' argument must be an instance of Compilation\n"})}),"\n",(0,i.jsx)(n.p,{children:"webpack 版本问题有以下几种情况："}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"项目的 package.json 中直接声明了 webpack 依赖，并且与 Builder 依赖的 webpack 版本范围不同，无法匹配到同一个版本。"}),"\n",(0,i.jsx)(n.li,{children:"项目里安装的多个 npm 包都依赖了 webpack，并且它们依赖的 webpack 版本范围不同，无法匹配到同一个版本。"}),"\n",(0,i.jsx)(n.li,{children:"由于包管理器的 lock 机制，导致 lock 文件中产生了多个 webpack 版本。"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["如果是第一种情况，建议从项目的 package.json 中移除 webpack 依赖。因为 Builder 默认封装了 webpack 相关能力，并且会在 ",(0,i.jsx)(n.a,{href:"/api/config-tools#toolswebpack",children:"tools.webpack"})," 配置项中传入 webpack 对象。因此在大多数情况下，不建议在项目中额外安装 webpack 依赖。"]}),"\n",(0,i.jsxs)(n.p,{children:["如果是第二种情况，建议看看能否升级某个 npm 包，使其依赖的 webpack 版本范围与 Builder 保持一致。也可以通过包管理器的能力来手动统一版本，比如使用 ",(0,i.jsx)(n.a,{href:"https://classic.yarnpkg.com/lang/en/docs/selective-version-resolutions/",target:"_blank",rel:"noopener noreferrer",children:"yarn resolutions"})," 或 ",(0,i.jsx)(n.a,{href:"https://pnpm.io/package_json#pnpmoverrides",target:"_blank",rel:"noopener noreferrer",children:"pnpm overrides"}),"。"]}),"\n",(0,i.jsx)(n.p,{children:"如果是第三种情况，可以使用第二种情况中提到的两种方法，也可以尝试删除 lock 文件后重新安装来解决。"}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"删除 lock 文件会使项目中的依赖版本自动升级到指定范围下的最新版，请进行充分的测试。"})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"编译产物中存在未编译的-es6+-代码？",children:["编译产物中存在未编译的 ES6+ 代码？",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#编译产物中存在未编译的-es6+-代码？",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["默认情况下，Builder 不会通过 ",(0,i.jsx)(n.code,{children:"babel-loader"})," 或 ",(0,i.jsx)(n.code,{children:"ts-loader"})," 来编译 ",(0,i.jsx)(n.code,{children:"node_modules"})," 下的文件。如果项目引入的 npm 包中含有 ES6+ 语法，会被打包进产物中。"]}),"\n",(0,i.jsxs)(n.p,{children:["遇到这种情况时，可以通过 ",(0,i.jsx)(n.a,{href:"/api/config-source#sourceinclude",children:"source.include"})," 配置项来指定需要额外进行编译的目录或模块。"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"在-monorepo-中引用其他模块，代码没有被正确编译？",children:["在 Monorepo 中引用其他模块，代码没有被正确编译？",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#在-monorepo-中引用其他模块，代码没有被正确编译？",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["出于编译性能的考虑，默认情况下，Builder 不会通过 ",(0,i.jsx)(n.code,{children:"babel-loader"})," 或 ",(0,i.jsx)(n.code,{children:"ts-loader"})," 来编译 ",(0,i.jsx)(n.code,{children:"node_modules"})," 下的文件，也不会编译当前工程目录外部的文件。"]}),"\n",(0,i.jsxs)(n.p,{children:["通过 ",(0,i.jsx)(n.code,{children:"source.include"})," 配置项，可以指定需要额外进行编译的目录或模块。"]}),"\n",(0,i.jsxs)(n.p,{children:["详见 ",(0,i.jsx)(n.a,{href:"/api/config-source#sourceinclude",children:"source.include 用法介绍"}),"。"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"编译时报错-you-may-need-additional-loader？",children:["编译时报错 ",(0,i.jsx)(n.code,{children:"You may need additional loader"}),"？",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#编译时报错-you-may-need-additional-loader？",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"如果编译过程中遇到了以下报错提示，表示存在个别文件无法被正确编译。"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"Module parse failed: Unexpected token\nFile was processed with these loaders:\n * some-loader/index.js\n\nYou may need an additional loader to handle the result of these loaders.\n"})}),"\n",(0,i.jsx)(n.p,{children:"解决方法："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["如果是引用了当前工程外部的 ",(0,i.jsx)(n.code,{children:".ts"})," 文件，或者是 node_modules 下的 ",(0,i.jsx)(n.code,{children:".ts"})," 文件，请添加 ",(0,i.jsx)(n.a,{href:"/api/config-source#sourceinclude",children:"source.include"})," 配置项，指定需要额外进行编译的文件。"]}),"\n",(0,i.jsx)(n.li,{children:"如果是引用了 Builder 不支持的文件格式，请自行配置对应的 webpack loader 进行编译。"}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"打开页面后报错，提示-exports-is-not-defined？",children:["打开页面后报错，提示 exports is not defined？",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#打开页面后报错，提示-exports-is-not-defined？",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["如果编译正常，但是打开页面后出现 ",(0,i.jsx)(n.code,{children:"exports is not defined"})," 报错，通常是因为在项目中使用 Babel 编译了一个 CommonJS 模块，导致 Babel 出现异常。"]}),"\n",(0,i.jsxs)(n.p,{children:["在正常情况下，Builder 是不会使用 Babel 来编译 CommonJS 模块的。如果项目中使用了 ",(0,i.jsx)(n.a,{href:"/",children:"source.include"})," 配置项，或使用了 ",(0,i.jsx)(n.a,{href:"/api/config-tools#toolsbabel",children:"tools.babel"})," 的 ",(0,i.jsx)(n.code,{children:"addIncludes"})," 方法，则可能会把一些 CommonJS 模块加入到 Babel 编译中。"]}),"\n",(0,i.jsx)(n.p,{children:"该问题有两种解决方法："}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"避免将 CommonJS 模块加入到 Babel 编译中。"}),"\n",(0,i.jsxs)(n.li,{children:["将 Babel 的 ",(0,i.jsx)(n.code,{children:"sourceType"})," 配置项设置为 ",(0,i.jsx)(n.code,{children:"unambiguous"}),"，示例如下："]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    babel(config) {\n      config.sourceType = 'unambiguous';\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["将 ",(0,i.jsx)(n.code,{children:"sourceType"})," 设置为 ",(0,i.jsx)(n.code,{children:"unambiguous"})," 可能会产生一些其他影响，请参考 ",(0,i.jsx)(n.a,{href:"https://babeljs.io/docs/en/options#sourcetype",target:"_blank",rel:"noopener noreferrer",children:"Babel 官方文档"}),"。"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:'编译时报错-\\\\"error:-es-modules-may-not-assign-moduleexports-or-exports*,-use-esm-export-syntax\\\\"？',children:['编译时报错 "Error: ES Modules may not assign module.exports or exports.*, Use ESM export syntax"？',(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:'#编译时报错-\\\\"error:-es-modules-may-not-assign-moduleexports-or-exports*,-use-esm-export-syntax\\\\"？',children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["如果编译时出现以下报错，通常也是因为在项目中使用 Babel 编译了一个 CommonJS 模块，解决方法与上述的 ",(0,i.jsx)(n.code,{children:"exports is not defined"})," 问题一致。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"Error: ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: 581\n"})}),"\n",(0,i.jsxs)(n.p,{children:["更多信息请参考 issue：",(0,i.jsx)(n.a,{href:"https://github.com/babel/babel/issues/12731",target:"_blank",rel:"noopener noreferrer",children:"babel#12731"}),"。"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"编译进度条卡死，但终端无-error-日志？",children:["编译进度条卡死，但终端无 Error 日志？",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#编译进度条卡死，但终端无-error-日志？",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"当编译进度条卡死，但终端无 Error 日志时，通常是因为编译过程中出现了异常。在某些情况下，当 Error 被 webpack 或其他模块捕获后，错误日志不会被正确输出。最为常见的场景是 Babel 配置出现异常，抛出 Error 后被 webpack 捕获，而 webpack 在个别情况下吞掉了 Error。"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"解决方法："})}),"\n",(0,i.jsx)(n.p,{children:"如果你修改 Babel 配置后出现此问题，建议检查是否有以下错误用法："}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"配置了一个不存在的 plugin 或 preset，可能是名称拼写错误，或是未正确安装。"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// 错误示例\nexport default {\n  tools: {\n    babel(config, { addPlugins }) {\n      // 该插件名称错误，或者未安装\n      addPlugins('babel-plugin-not-exists');\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:"是否配置了多个 babel-plugin-import，但是没有在数组的第三项声明每一个 babel-plugin-import 的名称。"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// 错误示例\nexport default {\n  tools: {\n    babel(config, { addPlugins }) {\n      addPlugins([\n        [\n          'babel-plugin-import',\n          { libraryName: 'antd', libraryDirectory: 'es' },\n        ],\n        [\n          'babel-plugin-import',\n          { libraryName: 'antd-mobile', libraryDirectory: 'es' },\n        ],\n      ]);\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// 正确示例\nexport default {\n  tools: {\n    babel(config, { addPlugins }) {\n      addPlugins([\n        [\n          'babel-plugin-import',\n          { libraryName: 'antd', libraryDirectory: 'es' },\n          'antd',\n        ],\n        [\n          'babel-plugin-import',\n          { libraryName: 'antd-mobile', libraryDirectory: 'es' },\n          'antd-mobile',\n        ],\n      ]);\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"webpack-编译缓存未生效，应该如何排查？",children:["webpack 编译缓存未生效，应该如何排查？",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#webpack-编译缓存未生效，应该如何排查？",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder 默认开启了 webpack 的持久化缓存。"}),"\n",(0,i.jsxs)(n.p,{children:["首次编译完成后，会自动生成缓存文件，并输出到 ",(0,i.jsx)(n.code,{children:"./node_modules/.cache/webpack"})," 目录下。执行第二次编译时，会命中缓存，并大幅度提高编译速度。"]}),"\n",(0,i.jsxs)(n.p,{children:["当 ",(0,i.jsx)(n.code,{children:"package.json"})," 等配置文件被修改时，缓存会自动失效。"]}),"\n",(0,i.jsx)(n.p,{children:"如果项目中 webpack 编译缓存一直未生效，可以添加以下配置进行排查："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  tools: {\n    webpack(config) {\n      config.infrastructureLogging = {\n        ...config.infrastructureLogging,\n        debug: /webpack\\.cache/,\n      };\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["添加以上配置后，webpack 会输出日志用于 debug，请参考 ",(0,i.jsx)(n.code,{children:"PackFileCacheStrategy"})," 相关的日志来了解缓存失效的原因。"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"打包后发现-tree-shaking-没有生效？",children:["打包后发现 tree shaking 没有生效？",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#打包后发现-tree-shaking-没有生效？",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder 在生产构建时会默认开启 webpack 的 tree shaking 功能，tree shaking 是否能够生效，取决于业务代码能否满足 webpack 的 tree shaking 条件。"}),"\n",(0,i.jsxs)(n.p,{children:["如果你遇到了 tree shaking 不生效的问题，可以检查下相关 npm 包的 ",(0,i.jsx)(n.code,{children:"sideEffects"})," 配置是否正确，如果你不了解 ",(0,i.jsx)(n.code,{children:"sideEffects"})," 的作用，或是对 tree shaking 背后的原理感兴趣，可以阅读以下两篇文档："]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://webpack.docschina.org/guides/tree-shaking/",target:"_blank",rel:"noopener noreferrer",children:"webpack 官方文档 - Tree Shaking"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://bytedance.feishu.cn/docs/doccn8E1ldDct5uv1EEDQs8Ycwe",target:"_blank",rel:"noopener noreferrer",children:"Tree Shaking 问题排查指南"})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"如果你是 npm 包的开发者，可以阅读这篇文章："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://zhuanlan.zhihu.com/p/594124786",target:"_blank",rel:"noopener noreferrer",children:"如何编写一个友好支持 Tree-shaking 的库"})}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"打包时出现-javascript-heap-out-of-memory?",children:["打包时出现 JavaScript heap out of memory?",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#打包时出现-javascript-heap-out-of-memory?",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"该报错表示打包过程中出现了内存溢出问题，大多数情况下是由于打包的内容较多，超出了 Node.js 默认的内存上限。"}),"\n",(0,i.jsxs)(n.p,{children:["如果出现 OOM 问题，最简单的方法是通过增加内存上限来解决，Node.js 提供了 ",(0,i.jsx)(n.code,{children:"--max-old-space-size"})," 选项来对此进行设置。你可以在 CLI 命令前添加 ",(0,i.jsx)(n.a,{href:"https://nodejs.org/api/cli.html#node_optionsoptions",target:"_blank",rel:"noopener noreferrer",children:"NODE_OPTIONS"})," 来设置此参数。"]}),"\n",(0,i.jsxs)(n.p,{children:["比如，在 ",(0,i.jsx)(n.code,{children:"modern build"})," 命令前添加参数："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-diff",meta:'title="package.json"',children:'{\n  "scripts": {\n-   "build": "modern build"\n+   "build": "NODE_OPTIONS=--max_old_space_size=16384 modern build"\n  }\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["如果你执行的是其他命令，比如 ",(0,i.jsx)(n.code,{children:"modern deploy"}),"，请在对应的命令前添加参数。"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"max_old_space_size"})," 参数的值代表内存上限大小（MB)，一般情况下设置为 ",(0,i.jsx)(n.code,{children:"16384"}),"（16GB）即可。"]}),"\n",(0,i.jsx)(n.p,{children:"Node.js 官方文档中有对以下参数更详细的解释："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://nodejs.org/api/cli.html#node_optionsoptions",target:"_blank",rel:"noopener noreferrer",children:"NODE_OPTIONS"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"https://nodejs.org/api/cli.html#--max-old-space-sizesize-in-megabytes",target:"_blank",rel:"noopener noreferrer",children:"--max-old-space-size"})}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["除了增加内存上限，通过开启一些编译策略来提升构建效率也是一个解决方案，请参考 ",(0,i.jsx)(n.a,{href:"/guide/optimization/build-performance",children:"提升构建性能"}),"。"]}),"\n",(0,i.jsx)(n.p,{children:"如果以上方式无法解决你的问题，可能是项目中某些异常逻辑导致了内存非正常溢出。你可以排查近期的代码变更，定位问题的根因。如果无法定位，请联系我们进行排查。"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"打包时出现-can\\\\'t-resolve-\\\\'core-js/modules/xxxjs\\\\'？",children:["打包时出现 Can't resolve 'core-js/modules/xxx.js'？",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#打包时出现-can\\\\'t-resolve-\\\\'core-js/modules/xxxjs\\\\'？",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["如果你在打包时出现了类似下面的报错，表示项目中的 ",(0,i.jsx)(n.a,{href:"https://github.com/zloirock/core-js",target:"_blank",rel:"noopener noreferrer",children:"core-js"})," 无法被正确引用。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"Module not found: Can't resolve 'core-js/modules/es.error.cause.js'\n"})}),"\n",(0,i.jsxs)(n.p,{children:["通常来说，你无须在项目中安装 ",(0,i.jsx)(n.code,{children:"core-js"}),"，因为 Builder 已经内置了一份 ",(0,i.jsx)(n.code,{children:"core-js"})," v3。"]}),"\n",(0,i.jsxs)(n.p,{children:["如果出现 ",(0,i.jsx)(n.code,{children:"core-js"})," 找不到的报错，可能有以下几个原因："]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["项目里覆盖了 Babel 配置的 ",(0,i.jsx)(n.code,{children:"plugins"}),"，导致内置的 ",(0,i.jsx)(n.code,{children:"babelPluginLockCorejsVersion"})," 无法正确生效。这种情况将 ",(0,i.jsx)(n.code,{children:"tools.babel"})," 更改为函数用法即可："]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// 错误用法，会覆盖 Builder 默认的 Babel 插件\nexport default {\n  tools: {\n    babel: {\n      plugins: ['babel-plugin-xxx'],\n    },\n  },\n};\n\n// 正确用法，在默认配置中新增一个插件，而非覆盖插件\nexport default {\n  tools: {\n    babel(config) {\n      config.plugins.push('babel-plugin-xxx');\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsxs)(n.li,{children:["项目里某一处代码依赖了 ",(0,i.jsx)(n.code,{children:"core-js"})," v2 版本。这种情况通常需要你找出对应的代码，并升级其中的 ",(0,i.jsx)(n.code,{children:"core-js"})," 到 v3 版本。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"node_modules"})," 中的某一个 npm 包引用了 ",(0,i.jsx)(n.code,{children:"core-js"}),"，但是没有在 ",(0,i.jsx)(n.code,{children:"dependencies"})," 中声明 ",(0,i.jsx)(n.code,{children:"core-js"})," 依赖。这种情况需要你在对应的 npm 包中声明 ",(0,i.jsx)(n.code,{children:"core-js"})," 依赖，或者在项目根目录下安装一份 ",(0,i.jsx)(n.code,{children:"core-js"}),"。"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"从-lodash-中引用类型后出现编译报错？",children:["从 lodash 中引用类型后出现编译报错？",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#从-lodash-中引用类型后出现编译报错？",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当你的项目中安装了 ",(0,i.jsx)(n.code,{children:"@types/lodash"})," 包时，你可能会从 ",(0,i.jsx)(n.code,{children:"lodash"})," 中引用一些类型，比如引用 ",(0,i.jsx)(n.code,{children:"DebouncedFunc"})," 类型："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { debounce, DebouncedFunc } from 'lodash';\n"})}),"\n",(0,i.jsx)(n.p,{children:"上述代码会在编译后产生如下报错："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"SyntaxError: /project/src/index.ts: The 'lodash' method `DebouncedFunc` is not a known module.\nPlease report bugs to https://github.com/lodash/babel-plugin-lodash/issues.\n"})}),"\n",(0,i.jsxs)(n.p,{children:["这个问题的原因是 Builder 默认开启了 ",(0,i.jsx)(n.a,{href:"https://github.com/lodash/babel-plugin-lodash",target:"_blank",rel:"noopener noreferrer",children:"babel-plugin-lodash"})," 插件来优化 lodash 产物体积，但 Babel 无法区别「值」和「类型」，导致编译后的代码出现异常。"]}),"\n",(0,i.jsxs)(n.p,{children:["解决方法是使用 TypeScript 的 ",(0,i.jsx)(n.code,{children:"import type"})," 语法，对 ",(0,i.jsx)(n.code,{children:"DebouncedFunc"})," 类型进行显式声明："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { debounce } from 'lodash';\nimport type { DebouncedFunc } from 'lodash';\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["在任意情况下，我们都推荐使用 ",(0,i.jsx)(n.code,{children:"import type"})," 来引用类型，这对于编译器识别类型会有很大帮助。\n"]})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"less-文件中的除法不生效？",children:["Less 文件中的除法不生效？",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#less-文件中的除法不生效？",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Less v4 版本与 v3 版本相比，除法的写法有一些区别："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-less",children:"// Less v3\n.math {\n  width: 2px / 2; // 1px\n  width: 2px ./ 2; // 1px\n  width: (2px / 2); // 1px\n}\n\n// Less v4\n.math {\n  width: 2px / 2; // 2px / 2\n  width: 2px ./ 2; // 1px\n  width: (2px / 2); // 1px\n}\n"})}),"\n",(0,i.jsx)(n.p,{children:"Builder 内置的 Less 版本为 v4，低版本的写法不会生效，请注意区分。"}),"\n",(0,i.jsxs)(n.p,{children:["Less 中除法的写法也可以通过配置项来修改，详见 ",(0,i.jsx)(n.a,{href:"https://lesscss.org/usage/#less-options-math",target:"_blank",rel:"noopener noreferrer",children:"Less - Math"}),"。"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"修改配置后，报错-‘typeerror:-cannot-delete-property-\\\\'xxx\\\\'-of-#<object>’",children:["修改配置后，报错 ‘TypeError: Cannot delete property 'xxx' of #<Object>’",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#修改配置后，报错-‘typeerror:-cannot-delete-property-\\\\'xxx\\\\'-of-#<object>’",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"该报错表示在编译过程中对一个只读配置项进行了删除操作。通常情况下，我们不希望编译过程中的任何操作会直接对传入的配置进行修改，但难以限制底层插件（如 postcss-loader 等）的行为，如果出现该报错，请联系 Builder 开发者，我们需要对该配置进行单独处理。"}),"\n",(0,i.jsx)(n.p,{children:"同类型报错还有："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"'TypeError: Cannot add property xxx, object is not extensible'"}),"\n",(0,i.jsx)(n.li,{children:"'TypeError: Cannot assign to read only property 'xxx' of object '#<Object>'"}),"\n"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fguide%2Ffaq%2Fexceptions.md"]={toc:[{text:"webpack 编译出现 \\'compilation\\' argument 报错？",id:"webpack-编译出现-\\'compilation\\'-argument-报错？",depth:3},{text:"编译产物中存在未编译的 ES6+ 代码？",id:"编译产物中存在未编译的-es6+-代码？",depth:3},{text:"在 Monorepo 中引用其他模块，代码没有被正确编译？",id:"在-monorepo-中引用其他模块，代码没有被正确编译？",depth:3},{text:"编译时报错 You may need additional loader？",id:"编译时报错-you-may-need-additional-loader？",depth:3},{text:"打开页面后报错，提示 exports is not defined？",id:"打开页面后报错，提示-exports-is-not-defined？",depth:3},{text:'编译时报错 \\"Error: ES Modules may not assign module.exports or exports.*, Use ESM export syntax\\"？',id:'编译时报错-\\"error:-es-modules-may-not-assign-moduleexports-or-exports*,-use-esm-export-syntax\\"？',depth:3},{text:"编译进度条卡死，但终端无 Error 日志？",id:"编译进度条卡死，但终端无-error-日志？",depth:3},{text:"webpack 编译缓存未生效，应该如何排查？",id:"webpack-编译缓存未生效，应该如何排查？",depth:3},{text:"打包后发现 tree shaking 没有生效？",id:"打包后发现-tree-shaking-没有生效？",depth:3},{text:"打包时出现 JavaScript heap out of memory?",id:"打包时出现-javascript-heap-out-of-memory?",depth:3},{text:"打包时出现 Can\\'t resolve \\'core-js/modules/xxx.js\\'？",id:"打包时出现-can\\'t-resolve-\\'core-js/modules/xxxjs\\'？",depth:3},{text:"从 lodash 中引用类型后出现编译报错？",id:"从-lodash-中引用类型后出现编译报错？",depth:3},{text:"Less 文件中的除法不生效？",id:"less-文件中的除法不生效？",depth:3},{text:"修改配置后，报错 ‘TypeError: Cannot delete property \\'xxx\\' of #<Object>’",id:"修改配置后，报错-‘typeerror:-cannot-delete-property-\\'xxx\\'-of-#<object>’",depth:3}],title:"异常类问题",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},40811:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",h3:"h3",p:"p",pre:"pre",code:"code",hr:"hr",blockquote:"blockquote",h4:"h4"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"功能类问题",children:["功能类问题",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#功能类问题",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"如何配置组件库按需引入？",children:["如何配置组件库按需引入？",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#如何配置组件库按需引入？",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["如果需要配置组件库的按需引入，你可以通过 ",(0,i.jsx)(n.a,{href:"/api/config-source#sourcetransformimport",children:"source.transformImport"})," 配置，这个配置的能力等价于 ",(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/babel-plugin-import",target:"_blank",rel:"noopener noreferrer",children:"babel-plugin-import"}),"。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  source: {\n    transformImport: [\n      {\n        libraryName: 'xxx-components',\n        libraryDirectory: 'es',\n        style: true,\n      },\n    ],\n  },\n};\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"如何在编译过程中进行-eslint-代码校验？",children:["如何在编译过程中进行 ESLint 代码校验？",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#如何在编译过程中进行-eslint-代码校验？",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["出于编译性能的考虑，Builder 默认不会在编译过程中进行 ESLint 校验，如果需要该功能，可以手动安装并注册社区中的 ",(0,i.jsx)(n.a,{href:"https://github.com/webpack-contrib/eslint-webpack-plugin",target:"_blank",rel:"noopener noreferrer",children:"eslint-webpack-plugin"}),"。"]}),"\n",(0,i.jsx)(n.p,{children:"注册该插件的示例代码如下："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import ESLintPlugin from 'eslint-webpack-plugin';\n\nexport default {\n  tools: {\n    webpackChain(chain) {\n      chain.plugin('eslint-plugin').use(ESLintPlugin, [\n        {\n          extensions: ['.js', '.ts', '.jsx', 'tsx', '.mjs'],\n        },\n      ]);\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["更详细的用法请参考 ",(0,i.jsx)(n.a,{href:"https://github.com/webpack-contrib/eslint-webpack-plugin",target:"_blank",rel:"noopener noreferrer",children:"eslint-webpack-plugin"})," 文档。"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"如何配置静态资源的-cdn-路径？",children:["如何配置静态资源的 CDN 路径？",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#如何配置静态资源的-cdn-路径？",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["如果需要将 JS、CSS 等静态资源上传到 CDN 使用，那么可以通过 ",(0,i.jsx)(n.a,{href:"/api/config-output#outputassetprefix",children:"output.assetPrefix"})," 配置来设置静态资源的 URL 前缀。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    assetPrefix: 'https://cdn.example.com/assets/',\n  },\n};\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"如何清空-webpack-编译缓存？",children:["如何清空 webpack 编译缓存？",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#如何清空-webpack-编译缓存？",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["默认情况下，Builder 的 webpack 编译缓存生成在 ",(0,i.jsx)(n.code,{children:"./node_modules/.cache/webpack"})," 目录下。"]}),"\n",(0,i.jsx)(n.p,{children:"如果需要清空本地的编译缓存，可以执行以下命令："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"rm -rf ./node_modules/.cache\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"如何移除代码中的-console？",children:["如何移除代码中的 console？",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#如何移除代码中的-console？",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["在生产环境构建时，我们可以移除代码中的 ",(0,i.jsx)(n.code,{children:"console"}),"，从而避免开发环境的日志被输出到生产环境。"]}),"\n",(0,i.jsxs)(n.p,{children:["Builder 默认提供了移除 console 的配置项，请查看 ",(0,i.jsx)(n.a,{href:"/api/config-performance#performanceremoveconsole",children:"performance.removeConsole"}),"。"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"如何查看最终生成的-webpack-/-rspack-配置?",children:["如何查看最终生成的 webpack / Rspack 配置?",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#如何查看最终生成的-webpack-/-rspack-配置?",children:"#"})]}),"\n",(0,i.jsxs)(n.h4,{id:"通过-inspect-命令查看",children:["通过 inspect 命令查看",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#通过-inspect-命令查看",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当你使用 Modern.js 等上层框架时，框架通常会提供 ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/apis/app/commands.html",target:"_blank",rel:"noopener noreferrer",children:"inspect 命令"})," 用于查看项目最终生成的 Modern.js Builder 配置以及 webpack / Rspack 配置。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"➜ npx modern inspect\n\nInspect config succeed, open following files to view the content:\n\n  - Builder Config: /root/my-project/dist/builder.config.js\n  - Rspack Config (web): /root/my-project/dist/rspack.config.web.js\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"通过-builder-调试模式查看",children:["通过 Builder 调试模式查看",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#通过-builder-调试模式查看",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["通过在执行构建时添加 ",(0,i.jsx)(n.code,{children:"DEBUG=builder"})," 环境变量可开启 Builder 的",(0,i.jsx)(n.a,{href:"/guide/debug/debug-mode",children:"调试模式"}),"，此时会输出最终生成的 webpack 或 Rspack 配置到 dist 目录下。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"➜ DEBUG=builder pnpm dev\n\ndebug   create context [1842.90 ms]\ndebug   add default plugins [1874.45 ms]\ndebug   add default plugins done [1938.57 ms]\n...\n\nInspect config succeed, open following files to view the content:\n\n  - Builder Config: /root/my-project/dist/builder.config.js\n  - Rspack Config (web): /root/my-project/dist/rspack.config.web.js\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fguide%2Ffaq%2Ffeatures.md"]={toc:[{text:"如何配置组件库按需引入？",id:"如何配置组件库按需引入？",depth:3},{text:"如何在编译过程中进行 ESLint 代码校验？",id:"如何在编译过程中进行-eslint-代码校验？",depth:3},{text:"如何配置静态资源的 CDN 路径？",id:"如何配置静态资源的-cdn-路径？",depth:3},{text:"如何清空 webpack 编译缓存？",id:"如何清空-webpack-编译缓存？",depth:3},{text:"如何移除代码中的 console？",id:"如何移除代码中的-console？",depth:3},{text:"如何查看最终生成的 webpack / Rspack 配置?",id:"如何查看最终生成的-webpack-/-rspack-配置?",depth:3},{text:"通过 inspect 命令查看",id:"通过-inspect-命令查看",depth:4},{text:"通过 Builder 调试模式查看",id:"通过-builder-调试模式查看",depth:4}],title:"功能类问题",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},51558:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",h3:"h3",p:"p",hr:"hr",blockquote:"blockquote"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"通用类问题",children:["通用类问题",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#通用类问题",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"modernjs-builder-和-modernjs-的关系？",children:["Modern.js Builder 和 Modern.js 的关系？",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#modernjs-builder-和-modernjs-的关系？",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Modern.js 的构建能力是基于 Modern.js Builder 实现的。"}),"\n",(0,i.jsx)(n.p,{children:"在开发 Modern.js 的过程中，我们把 Builder 作为独立的模块进行设计，并明确划分 Builder 与 Modern.js 的职责界限。\n因此，Builder 可以脱离 Modern.js 框架使用，被单独应用于其他框架或场景。"}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"builder-能否用于构建工具库或组件库？",children:["Builder 能否用于构建工具库或组件库？",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builder-能否用于构建工具库或组件库？",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder 专注于解决 Web 应用构建场景，我们不推荐你使用 Builder 来构建工具库或组件库。"}),"\n",(0,i.jsxs)(n.p,{children:["如果需要构建工具库或组件库，推荐使用 ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/module-tools",target:"_blank",rel:"noopener noreferrer",children:"Modern.js Module 解决方案"}),"。"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"builder-是否会接入-turbopack？",children:["Builder 是否会接入 Turbopack？",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builder-是否会接入-turbopack？",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder 已经在对接 Rspack，并且目前 Turbopack 仅支持在 Next.js 中使用，因此 Builder 暂时没有接入 ",(0,i.jsx)(n.a,{href:"https://turbo.build/pack",target:"_blank",rel:"noopener noreferrer",children:"Turbopack"})," 的计划。"]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["你可以在 Rspack 的 ",(0,i.jsx)(n.a,{href:"https://www.rspack.dev/zh/guide/introduction.html",target:"_blank",rel:"noopener noreferrer",children:"介绍"})," 中查看 Rspack 与 Turbopack 的对比。"]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"builder-是否会接入-vite？",children:["Builder 是否会接入 Vite？",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builder-是否会接入-vite？",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://vitejs.dev/",target:"_blank",rel:"noopener noreferrer",children:"Vite"})," 是一个非常优秀的工具，但 Builder 的目标是使用 Rspack 替换 webpack，Rspack 能提供极致的编译速度，同时能保持开发环境和生产环境的打包行为一致。"]}),"\n",(0,i.jsx)(n.p,{children:"Builder 会聚焦于从 webpack 演进至 Rspack 的过程，因此不会接入 Vite。"}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["你可以在 Rspack 的 ",(0,i.jsx)(n.a,{href:"https://www.rspack.dev/zh/guide/introduction.html",target:"_blank",rel:"noopener noreferrer",children:"介绍"})," 中查看 Rspack 与 Vite 的对比。"]}),"\n"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fguide%2Ffaq%2Fgeneral.md"]={toc:[{text:"Modern.js Builder 和 Modern.js 的关系？",id:"modernjs-builder-和-modernjs-的关系？",depth:3},{text:"Builder 能否用于构建工具库或组件库？",id:"builder-能否用于构建工具库或组件库？",depth:3},{text:"Builder 是否会接入 Turbopack？",id:"builder-是否会接入-turbopack？",depth:3},{text:"Builder 是否会接入 Vite？",id:"builder-是否会接入-vite？",depth:3}],title:"通用类问题",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},22727:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",h3:"h3",p:"p",pre:"pre",code:"code",hr:"hr",ul:"ul",li:"li",img:"img",blockquote:"blockquote"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"热更新问题",children:["热更新问题",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#热更新问题",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"打包时-external-react-后，热更新不生效？",children:["打包时 external React 后，热更新不生效？",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#打包时-external-react-后，热更新不生效？",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"为了保证热更新生效，我们需要使用 React 和 ReactDOM 的开发环境产物。"}),"\n",(0,i.jsx)(n.p,{children:"当你将 React 通过 externals 排除后，通常会通过 CDN 等方式注入 React 的生产环境产物，所以热更新会不生效。"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    externals: {\n      react: 'React',\n      'react-dom': 'ReactDOM',\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["为了解决该问题，你需要引用 React 的开发环境产物，或者在开发环境下不配置 ",(0,i.jsx)(n.code,{children:"externals"}),"。"]}),"\n",(0,i.jsxs)(n.p,{children:["如果你不确定当前使用的 React 产物类型，可以参考：",(0,i.jsx)(n.a,{href:"https://legacy.reactjs.org/docs/optimizing-performance.html#use-the-production-build",target:"_blank",rel:"noopener noreferrer",children:"React 官方文档 - Use the Production Build"})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"开发环境设置文件名的-hash-后，热更新不生效？",children:["开发环境设置文件名的 hash 后，热更新不生效？",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#开发环境设置文件名的-hash-后，热更新不生效？",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["通常来说，我们只会在生产环境下设置文件名的 hash 值（即 ",(0,i.jsx)(n.code,{children:"process.env.NODE_ENV === 'production'"})," 时）。"]}),"\n",(0,i.jsxs)(n.p,{children:["如果你在开发环境下设置了文件名的 hash，那么可能会导致热更新不生效（尤其是 CSS 文件）。这是因为每次文件内容变化时，都会引起 hash 变化，导致 ",(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/mini-css-extract-plugin",target:"_blank",rel:"noopener noreferrer",children:"mini-css-extract-plugin"})," 等工具无法读取到最新的文件内容。"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"正确用法："}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    filename: {\n      css:\n        process.env.NODE_ENV === 'production'\n          ? '[name].[contenthash:8].css'\n          : '[name].css',\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"错误用法："}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    filename: {\n      css: '[name].[contenthash:8].css',\n    },\n  },\n};\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"react-组件的热更新无法生效？",children:["React 组件的热更新无法生效？",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#react-组件的热更新无法生效？",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder 使用 React 官方的 ",(0,i.jsx)(n.a,{href:"https://github.com/pmmmwh/react-refresh-webpack-plugin",target:"_blank",rel:"noopener noreferrer",children:"Fast Refresh"})," 能力来进行组件热更新。"]}),"\n",(0,i.jsx)(n.p,{children:"如果出现 React 组件的热更新无法生效的问题，或者是热更新后 React 组件的 state 丢失，这通常是因为你的 React 组件使用了匿名函数。在 React Fast Refresh 的官方实践中，要求组件不能为匿名函数，否则热更新后无法保留 React 组件的 state。"}),"\n",(0,i.jsx)(n.p,{children:"以下是一些错误用法的例子："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"// 错误写法 1\nexport default function () {\n  return <div>Hello World</div>;\n}\n\n// 错误写法 2\nexport default () => <div>Hello World</div>;\n"})}),"\n",(0,i.jsx)(n.p,{children:"正确用法是给每个组件函数声明一个名称："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"// 正确写法 1\nexport default function MyComponent() {\n  return <div>Hello World</div>;\n}\n\n// 正确写法 2\nconst MyComponent = () => <div>Hello World</div>;\n\nexport default MyComponent;\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h3,{id:"开启-https-后，热更新不生效？",children:["开启 https 后，热更新不生效？",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#开启-https-后，热更新不生效？",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"当开启 https 时，由于证书的问题，可能会出现 HMR 连接失败的情况，此时打开控制台，会出现 HMR connect failed 的报错。"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://lf3-static.bytednsdoc.com/obj/eden-cn/6221eh7uhbfvhn/modern/img_v2_2f90d027-a232-4bd8-8021-dac3c651682g.jpg",alt:"hmr-connect-error-0"})}),"\n",(0,i.jsx)(n.p,{children:"此问题的解决方法为：点击 Chrome 浏览器问题页面的「高级」->「继续前往 xxx（不安全）」。"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://lf3-static.bytednsdoc.com/obj/eden-cn/6221eh7uhbfvhn/modern/59b37606-52ad-4886-a423-af2edaa49245.png",alt:"hmr-connect-error-1"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"Tips: 当通过 Localhost 访问页面时，「您的连接不是私密连接」字样可能不会出现，可访问 Network 域名进行处理。"}),"\n"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fguide%2Ffaq%2Fhmr.md"]={toc:[{text:"打包时 external React 后，热更新不生效？",id:"打包时-external-react-后，热更新不生效？",depth:3},{text:"开发环境设置文件名的 hash 后，热更新不生效？",id:"开发环境设置文件名的-hash-后，热更新不生效？",depth:3},{text:"React 组件的热更新无法生效？",id:"react-组件的热更新无法生效？",depth:3},{text:"开启 https 后，热更新不生效？",id:"开启-https-后，热更新不生效？",depth:3}],title:"热更新问题",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},40275:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td",ul:"ul",li:"li",code:"code"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"功能导航",children:["功能导航",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#功能导航",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"在这里，你可以了解到 Modern.js Builder 支持的主要功能。"}),"\n",(0,i.jsxs)(n.h2,{id:"javascript-编译",children:["JavaScript 编译",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#javascript-编译",children:"#"})]}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"功能"}),"\n",(0,i.jsx)(n.th,{children:"描述"}),"\n",(0,i.jsx)(n.th,{children:"相关链接"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Rspack 打包"}),"\n",(0,i.jsx)(n.td,{children:"可选功能，使用 Rspack 作为打包工具"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/advanced/rspack-start.html",children:"使用 Rspack"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Babel 编译"}),"\n",(0,i.jsx)(n.td,{children:"默认开启 Babel 编译，将 JavaScript 和 TypeScript 代码转换为向后兼容的 JavaScript 语法"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-tools.html#toolsbabel",children:"tools.babel"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"TS 编译"}),"\n",(0,i.jsxs)(n.td,{children:["默认通过 Babel 编译 TS 文件，支持切换为 ",(0,i.jsx)(n.code,{children:"ts-loader"})," 编译"]}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/basic/typescript.html#typescript-%E8%BD%AC%E8%AF%91",children:"TypeScript 转译"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-tools.html#toolsbabel",children:"tools.babel"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-tools.html#toolstsloader",children:"tools.tsLoader"})})]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"TS 类型检查"}),"\n",(0,i.jsx)(n.td,{children:"默认通过 TS Checker 检查类型问题"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/basic/typescript.html#%E7%B1%BB%E5%9E%8B%E6%A3%80%E6%9F%A5",children:"类型检查"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-tools.html#toolstschecker",children:"tools.tsChecker"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-output.html#outputdisabletschecker",children:"output.disableTsChecker"})})]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"JS 压缩"}),"\n",(0,i.jsx)(n.td,{children:"默认在生产环境构建时开启压缩"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-tools.html#toolsterser",children:"tools.terser"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Polyfill 注入"}),"\n",(0,i.jsx)(n.td,{children:"默认会注入 core-js 等 Polyfill"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/advanced/browser-compatibility.html",children:"浏览器兼容性"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-output.html#outputpolyfill",children:"output.polyfill"})})]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"SourceMap 生成"}),"\n",(0,i.jsx)(n.td,{children:"默认在生产环境构建时生成高质量 SourceMap"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-output.html#outputdisablesourcemap",children:"output.disableSourceMap"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"文件别名"}),"\n",(0,i.jsx)(n.td,{children:"可选功能，通过 alias 设置文件别名"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/advanced/alias.html",children:"路径别名"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-source.html#sourcealias",children:"source.alias"})})]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"限制源代码路径"}),"\n",(0,i.jsx)(n.td,{children:"可选功能，限制源代码的引用路径"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-source.html#sourcemodulescopes",children:"source.moduleScopes"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"esbuild 编译"}),"\n",(0,i.jsx)(n.td,{children:"可选功能，通过 esbuild 对 JavaScript 和 TypeScript 代码进行转译和压缩"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/plugins/plugin-esbuild.html",children:"esbuild 插件"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"SWC 编译"}),"\n",(0,i.jsx)(n.td,{children:"可选功能，通过 SWC 对 JavaScript 和 TypeScript 代码进行转译和压缩"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/plugins/plugin-swc.html",children:"SWC 插件"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Node 产物"}),"\n",(0,i.jsx)(n.td,{children:"可选功能，支持构建出运行在 Node.js 环境的 JavaScript 产物"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/basic/build-target.html#node-%E4%BA%A7%E7%89%A9",children:"Node 产物"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Web Worker 产物"}),"\n",(0,i.jsx)(n.td,{children:"可选功能，支持构建出运行在 Web Worker 环境的 JavaScript 产物"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/basic/build-target.html#web-worker-%E4%BA%A7%E7%89%A9",children:"Web Worker 产物"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"浏览器范围"}),"\n",(0,i.jsx)(n.td,{children:"可选功能，通过 browserslist 来设置 Web 应用需要兼容的浏览器范围"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/advanced/browserslist.html",children:"浏览器范围"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"兼容性检查"}),"\n",(0,i.jsx)(n.td,{children:"可选功能，分析构建产物中是否存在当前浏览器范围下不兼容的高级语法"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-security.html#securitychecksyntax",children:"security.checkSyntax"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"注入环境变量"}),"\n",(0,i.jsx)(n.td,{children:"可选功能，向代码中注入环境变量或表达式"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/advanced/define.html",children:"环境变量"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Node polyfill"}),"\n",(0,i.jsx)(n.td,{children:"可选功能，在浏览器端注入 Node 核心模块的 polyfills"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/plugins/plugin-node-polyfill.html",children:"Node Polyfill 插件"})})})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"css-编译",children:["CSS 编译",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#css-编译",children:"#"})]}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"功能"}),"\n",(0,i.jsx)(n.th,{children:"描述"}),"\n",(0,i.jsx)(n.th,{children:"相关链接"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"PostCSS 编译"}),"\n",(0,i.jsx)(n.td,{children:"默认开启 PostCSS 编译，内置 autoprefixer 等多个插件"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/basic/static-assets.html",children:"引用样式资源"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-tools.html#toolspostcss",children:"tools.postcss"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-tools.html#toolsautoprefixer",children:"tools.autoprefixer"})})]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Sass 预处理"}),"\n",(0,i.jsx)(n.td,{children:"默认支持编译 Sass/Scss 文件"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/basic/static-assets.html",children:"引用样式资源"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-tools.html#toolssass",children:"tools.sass"})})]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Less 预处理"}),"\n",(0,i.jsx)(n.td,{children:"默认支持编译 Less 文件"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/basic/static-assets.html",children:"引用样式资源"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-tools.html#toolsless",children:"tools.less"})})]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Stylus 预处理"}),"\n",(0,i.jsx)(n.td,{children:"可选功能，编译 Stylus 文件"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/plugins/plugin-stylus.html",children:"Stylus 插件"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"CSS Modules 编译"}),"\n",(0,i.jsx)(n.td,{children:"默认支持编译 CSS Modules 文件"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/basic/css-modules.html",children:"使用 CSS Modules"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-tools.html#toolscssloader",children:"tools.cssLoader"})})]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"CSS Modules 类型提示"}),"\n",(0,i.jsx)(n.td,{children:"可选功能，自动生成 CSS Modules 的类型定义文件"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/basic/css-modules.html",children:"使用 CSS Modules"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-output.html#outputenablecssmoduletsdeclaration",children:"enableCssModuleTSDeclaration"})})]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"CSS 压缩"}),"\n",(0,i.jsx)(n.td,{children:"默认在生产环境构建时开启压缩"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/basic/static-assets.html",children:"引用样式资源"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-tools.html#toolsminifycss",children:"tools.minifyCss"})})]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"抽取 CSS 文件"}),"\n",(0,i.jsx)(n.td,{children:"默认会将 CSS 抽取为独立的文件"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-tools.html#toolscssextract",children:"tools.cssExtract"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Styled Components"}),"\n",(0,i.jsx)(n.td,{children:"默认支持 styled-components 编译"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-tools.html#toolsstyledcomponents",children:"tools.styledComponents"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"内联 CSS 到 JS 中"}),"\n",(0,i.jsx)(n.td,{children:"可选功能，将 CSS 文件内联到 JS 文件中"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/basic/static-assets.html",children:"引用样式资源"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-output.html#outputdisablecssextract",children:"output.disableCssExtract"})})]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"rem 单位转换"}),"\n",(0,i.jsx)(n.td,{children:"可选功能，将 CSS 中的 px 转成 rem 单位"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-output.html#outputconverttorem",children:"output.convertToRem"})})})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"html-编译",children:["HTML 编译",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#html-编译",children:"#"})]}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"功能"}),"\n",(0,i.jsx)(n.th,{children:"描述"}),"\n",(0,i.jsx)(n.th,{children:"相关链接"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"设置标题"}),"\n",(0,i.jsx)(n.td,{children:"设置 HTML 的 title 标签"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/basic/html-template.html#%E8%AE%BE%E7%BD%AE%E9%A1%B5%E9%9D%A2%E6%A0%87%E9%A2%98",children:"设置页面标题"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-html.html#htmltitle",children:"html.title"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-html.html#htmltitlebyentries",children:"html.titleByEntries"})})]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"设置 meta"}),"\n",(0,i.jsx)(n.td,{children:"设置 HTML 的 meta 标签"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/basic/html-template.html#%E8%AE%BE%E7%BD%AE-meta-%E6%A0%87%E7%AD%BE",children:"设置 meta 标签"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-html.html#htmlmeta",children:"html.meta"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-html.html#htmlmetabyentries",children:"html.metaByEntries"})})]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"设置 favicon"}),"\n",(0,i.jsx)(n.td,{children:"设置页面的 favicon 图标"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/basic/html-template.html#%E8%AE%BE%E7%BD%AE%E9%A1%B5%E9%9D%A2%E5%9B%BE%E6%A0%87",children:"设置页面图标"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-html.html#htmlfavicon",children:"html.favicon"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-html.html#htmlfaviconbyentries",children:"html.faviconByEntries"})})]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"设置 app 图标"}),"\n",(0,i.jsx)(n.td,{children:"设置 iOS 系统下的 apple icon"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/basic/html-template.html#%E8%AE%BE%E7%BD%AE%E9%A1%B5%E9%9D%A2%E5%9B%BE%E6%A0%87",children:"设置页面图标"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-html.html#htmlappicon",children:"html.appIcon"})})]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"使用 EJS 模板引擎"}),"\n",(0,i.jsx)(n.td,{children:"可选功能，使用 EJS 模板语法"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/basic/html-template.html#ejs",children:"模板引擎 - EJS"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"使用 Pug 模板引擎"}),"\n",(0,i.jsx)(n.td,{children:"可选功能，使用 Pug 模板语法"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/basic/html-template.html#pug",children:"模板引擎 - Pug"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"内联 JS 文件"}),"\n",(0,i.jsx)(n.td,{children:"可选功能，将 JS 内联到 HTML 中"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/optimization/inline-assets.html",children:"静态资源内联"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-output.html#outputenableinlinescripts",children:"output.enableInlineScripts"})})]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"内联 CSS 文件"}),"\n",(0,i.jsx)(n.td,{children:"可选功能，将 CSS 内联到 HTML 中"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/optimization/inline-assets.html",children:"静态资源内联"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-output.html#outputenableinlinestyles",children:"output.enableInlineStyles"})})]})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"开发调试相关",children:["开发调试相关",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#开发调试相关",children:"#"})]}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"功能"}),"\n",(0,i.jsx)(n.th,{children:"描述"}),"\n",(0,i.jsx)(n.th,{children:"相关链接"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"自动打开页面"}),"\n",(0,i.jsx)(n.td,{children:"可选功能，在启动 Dev Server 时自动在浏览器中打开页面 URL"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-dev.html#devstarturl",children:"dev.startUrl"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"HTTPS Dev Server"}),"\n",(0,i.jsx)(n.td,{children:"可选功能，开启 Dev Server 对 HTTPS 的支持"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-dev.html#devhttps",children:"dev.https"})})})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"前端框架相关",children:["前端框架相关",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#前端框架相关",children:"#"})]}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"功能"}),"\n",(0,i.jsx)(n.th,{children:"描述"}),"\n",(0,i.jsx)(n.th,{children:"相关链接"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"React Refresh"}),"\n",(0,i.jsx)(n.td,{children:"默认支持 React Refresh 热更新"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/advanced/hmr.html",children:"模块热替换"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-dev.html#devhmr",children:"dev.hmr"})})]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"SVG 转 React 组件"}),"\n",(0,i.jsx)(n.td,{children:"默认支持在 React 组件中引用 SVG 作为组件"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/basic/svg-assets.html",children:"引用 SVG 资源"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-output.html#outputsvgdefaultexport",children:"output.svgDefaultExport"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-output.html#outputdisablesvgr",children:"output.disableSvgr"})})]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Vue 3 SFC 编译"}),"\n",(0,i.jsx)(n.td,{children:"可选功能，开启 Vue 3 SFC 单文件组件编译"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/plugins/plugin-vue",children:"Vue 插件"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"Vue 3 JSX 编译"}),"\n",(0,i.jsx)(n.td,{children:"可选功能，开启 Vue 3 JSX 语法编译"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/plugins/plugin-vue",children:"Vue 插件"})})})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"静态资源相关",children:["静态资源相关",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#静态资源相关",children:"#"})]}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"功能"}),"\n",(0,i.jsx)(n.th,{children:"描述"}),"\n",(0,i.jsx)(n.th,{children:"相关链接"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"引用图片资源"}),"\n",(0,i.jsx)(n.td,{children:"支持在代码中引用图片资源"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/basic/static-assets.html",children:"引用静态资源"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"引用字体资源"}),"\n",(0,i.jsx)(n.td,{children:"支持在代码中引用字体资源"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/basic/static-assets.html",children:"引用静态资源"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"引用视频资源"}),"\n",(0,i.jsx)(n.td,{children:"支持在代码中引用视频资源"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/basic/static-assets.html",children:"引用静态资源"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"引用 Wasm 资源"}),"\n",(0,i.jsx)(n.td,{children:"支持在代码中引用 WebAssembly 资源"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/basic/wasm-assets.html",children:"引用 Wasm 资源"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"静态资源内联"}),"\n",(0,i.jsx)(n.td,{children:"默认将体积较小的图片等资源内联到 JS 中"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/optimization/inline-assets.html",children:"静态资源内联"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-output.html#outputdataurilimit",children:"output.dataUriLimit"})})]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"清理静态资源"}),"\n",(0,i.jsx)(n.td,{children:"每次开始构建前，自动清理 dist 目录下的静态资源"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-output.html#outputcleandistpath",children:"output.cleanDistPath"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"拷贝静态资源"}),"\n",(0,i.jsx)(n.td,{children:"可选功能，将静态资源拷贝到 dist 目录下"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-output.html#outputcopy",children:"output.copy"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"生成 manifest 文件"}),"\n",(0,i.jsx)(n.td,{children:"可选功能，生成包含静态资源信息的 manifest 文件"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-output.html#outputenableassetmanifest",children:"output.enableAssetManifest"})})})}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"性能相关",children:["性能相关",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#性能相关",children:"#"})]}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"功能"}),"\n",(0,i.jsx)(n.th,{children:"描述"}),"\n",(0,i.jsx)(n.th,{children:"相关链接"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"产物自动拆包"}),"\n",(0,i.jsx)(n.td,{children:"Builder 中内置了多种拆包策略，自动将代码包拆分为体积适中的文件"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsxs)("ul",{children:[(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/guide/optimization/split-chunk.html",children:"拆包最佳实践"})}),(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-performance.html#performancechunksplit",children:"performance.chunkSplit"})})]})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"展示产物体积"}),"\n",(0,i.jsx)(n.td,{children:"在生产环境构建后，默认展示所有静态资源的体积信息"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-performance.html#performanceprintfilesize",children:"performance.printFileSize"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"分析产物体积"}),"\n",(0,i.jsx)(n.td,{children:"可选功能，通过 Bundle Analyzer 分析产物体积"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-performance.html#performancebundleanalyze",children:"performance.bundleAnalyze"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"移除 console"}),"\n",(0,i.jsxs)(n.td,{children:["可选功能，移除代码中的 ",(0,i.jsx)(n.code,{children:"console.xx"})]}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-performance.html#performanceremoveconsole",children:"performance.removeConsole"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"优化 moment.js 体积"}),"\n",(0,i.jsx)(n.td,{children:"可选功能，移除 moment.js 多余的 locale 文件"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-performance.html#performanceremovemomentlocale",children:"performance.removeMomentLocale"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"组件库按需引入"}),"\n",(0,i.jsx)(n.td,{children:"可选功能，按需引入组件库的代码和样式"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/api/config-source.html#sourcetransformimport",children:"source.transformImport"})})})}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:"图片压缩"}),"\n",(0,i.jsx)(n.td,{children:"可选功能，对引用的图片资源进行压缩处理"}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)("ul",{children:(0,i.jsx)("li",{children:(0,i.jsx)(n.a,{href:"/plugins/plugin-image-compress.html",children:"Image Compress 插件"})})})}),"\n"]}),"\n"]}),"\n"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fguide%2Ffeatures.mdx"]={toc:[{text:"JavaScript 编译",id:"javascript-编译",depth:2},{text:"CSS 编译",id:"css-编译",depth:2},{text:"HTML 编译",id:"html-编译",depth:2},{text:"开发调试相关",id:"开发调试相关",depth:2},{text:"前端框架相关",id:"前端框架相关",depth:2},{text:"静态资源相关",id:"静态资源相关",depth:2},{text:"性能相关",id:"性能相关",depth:2}],title:"功能导航",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},35903:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return c}});var t,i=r("9880"),s=r("23169"),l=r.ir(r("9843")),o=r.ir(r("28584")),a=r.ir(r("75426"));function d(e){let n=Object.assign({h1:"h1",a:"a",h2:"h2",p:"p",ul:"ul",li:"li",code:"code"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"名词解释",children:["名词解释",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#名词解释",children:"#"})]}),"\n",(0,i.jsxs)(n.h2,{id:"bundler",children:["Bundler",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#bundler",children:"#"})]}),"\n","\n",(0,i.jsx)(l.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"builder",children:["Builder",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builder",children:"#"})]}),"\n","\n",(0,i.jsx)(o.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"rspack",children:["Rspack",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#rspack",children:"#"})]}),"\n","\n",(0,i.jsx)(a.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"builder-provider",children:["Builder Provider",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#builder-provider",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder Provider 是 Builder 的组成部分之一，Provider 基于特定 bundler 实现了对应的构建能力。"}),"\n",(0,i.jsx)(n.p,{children:"目前 Builder 提供了两个 Provider："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"@modern-js/builder-webpack-provider"}),"：底层基于 webpack 来实现。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"@modern-js/builder-rspack-provider"}),"：底层基于 Rspack 来实现。"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"modernjs",children:["Modern.js",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#modernjs",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Modern.js 是字节跳动 Web 工程体系的开源版本，它提供多个解决方案，来帮助开发者解决不同研发场景下的问题。"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"https://github.com/web-infra-dev/modern.js",target:"_blank",rel:"noopener noreferrer",children:"Modern.js 代码仓库"}),"。"]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"edenx",children:["EdenX",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#edenx",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"字节跳动内部的 Web 工程方案，基于 Modern.js 实现。"})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fguide%2Fglossary.mdx"]={toc:[{text:"Bundler",id:"bundler",depth:2},{text:"Builder",id:"builder",depth:2},{text:"Rspack",id:"rspack",depth:2},{text:"Builder Provider",id:"builder-provider",depth:2},{text:"Modern.js",id:"modernjs",depth:2},{text:"EdenX",id:"edenx",depth:2}],title:"名词解释",frontmatter:{}};var c=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},94871:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return c}});var t,i=r("9880"),s=r("23169"),l=r.ir(r("57894")),o=r.ir(r("70792")),a=r.ir(r("69571"));function d(e){let n=Object.assign({h1:"h1",a:"a",p:"p",strong:"strong",h2:"h2",img:"img",ul:"ul",li:"li",h3:"h3",table:"table",thead:"thead",tr:"tr",th:"th",tbody:"tbody",td:"td"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"介绍",children:["介绍",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#介绍",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Modern.js Builder 是",(0,i.jsx)(n.strong,{children:"一个面向 Web 开发场景的构建引擎"}),"。"]}),"\n",(0,i.jsx)(n.p,{children:"随着前端生态的发展，社区中出现了多样化的编译工具和插件。对于大部分开发者来说，构建一个 Web 应用所需的配置和依赖已变得十分复杂。在追求最佳实践的过程中，开发者需要付出的成本也在不断上升。"}),"\n",(0,i.jsx)(n.p,{children:"为了减少构建的复杂性，降低上手门槛，我们基于 Modern.js 在 Web 应用构建方面的实践经验，抽象其中的构建能力，打造出 Modern.js Builder 这个开源工具。"}),"\n",(0,i.jsxs)(n.h2,{id:"rust-化",children:["Rust 化",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#rust-化",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["近年来，前端工具链的发展趋势是使用 Rust 等编程语言重新实现 —— 以获得更好的性能表现。社区中出现 ",(0,i.jsx)(n.a,{href:"https://swc.rs/",target:"_blank",rel:"noopener noreferrer",children:"SWC"}),"、",(0,i.jsx)(n.a,{href:"/guide/glossary#rspack",children:"Rspack"})," 等高性能工具，并且应用领域在逐步扩宽。但这些 Rust 工具与 JavaScript 工具之间存在较多差异，包括功能不完整、配置不一致等，导致使用者需要承担一定的迁移成本。"]}),"\n",(0,i.jsxs)(n.p,{children:["前端工具链 Rust 化的进程还会持续较长一段时间，",(0,i.jsx)(n.strong,{children:"Modern.js Builder 期望能帮助开发者更好地过渡到 Rust 工具"}),"。不管是 JavaScript 工具，还是 Rust 工具，甚至是 webpack 等底层 bundler，在 Modern.js Builder 中都是可替换的零部件。你可以通过开启配置或启用插件的方式，对这些零部件进行渐进式替换，Modern.js Builder 会抹平其中的主要差异，帮助使用者进行低成本迁移。"]}),"\n",(0,i.jsxs)(n.h2,{id:"定位",children:["定位",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#定位",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Modern.js Builder (简称 Builder) 的定位是",(0,i.jsx)(n.strong,{children:"服务于上层框架的构建引擎"}),"，它专注于解决 Web 应用构建面临的各类问题，期望能为前端框架提供开箱即用的构建能力。"]}),"\n",(0,i.jsx)("img",{src:"https://lf3-static.bytednsdoc.com/obj/eden-cn/zq-uylkvT/ljhwZthlaukjlkulzlp/builder-layers-1117.png",style:{maxWidth:"540px",width:"100%"}}),"\n",(0,i.jsx)(n.p,{children:"如果你正在开发一个前端框架，或是开发一个前端应用的脚手架，那么 Builder 可以为你完成前端框架中大部分与构建有关的逻辑，让你能够聚焦于实现框架的其他功能。"}),"\n",(0,i.jsx)(n.p,{children:"如果你是一名业务开发者，大部分情况下，你不需要在业务项目中手动接入 Builder，我们推荐你直接使用一些基于 Builder 的上层框架。"}),"\n",(0,i.jsx)(n.p,{children:"目前已经接入 Builder 的前端框架有："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["开源的 ",(0,i.jsx)(n.a,{href:"https://github.com/web-infra-dev/modern.js",target:"_blank",rel:"noopener noreferrer",children:"Modern.js"})," 框架。"]}),"\n",(0,i.jsx)(n.li,{children:"字节跳动内部的 EdenX、PIA 等框架。"}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"特性",children:["特性",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#特性",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"支持-rspack-打包",children:["支持 Rspack 打包",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#支持-rspack-打包",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Builder 支持 webpack 和 Rspack 两种打包工具"}),"，你可以在成熟的 Webpack 和更快的 Rspack 之间进行切换。"]}),"\n","\n",(0,i.jsx)(l.default,{}),"\n",(0,i.jsxs)(n.p,{children:["默认情况下，Builder 使用 webpack 5 作为打包工具，尽管 webpack 的编译速度不是很理想，但它依然是社区中功能最完整、生态最丰富的打包工具。Builder 在 webpack 的基础上，集成了 ",(0,i.jsx)(n.a,{href:"https://github.com/babel/babel",target:"_blank",rel:"noopener noreferrer",children:"Babel"}),"、",(0,i.jsx)(n.a,{href:"https://github.com/postcss/postcss",target:"_blank",rel:"noopener noreferrer",children:"PostCSS"}),"、",(0,i.jsx)(n.a,{href:"https://github.com/terser/terser",target:"_blank",rel:"noopener noreferrer",children:"terser"})," 等工具进行代码转义和压缩。Builder 也支持替换部分编译能力为原生工具来提升编译速度，比如将 Babel / terser 替换为 ",(0,i.jsx)(n.a,{href:"https://github.com/swc-project/swc",target:"_blank",rel:"noopener noreferrer",children:"swc"})," 或 ",(0,i.jsx)(n.a,{href:"https://github.com/evanw/esbuild",target:"_blank",rel:"noopener noreferrer",children:"esbuild"}),"。"]}),"\n",(0,i.jsxs)(n.p,{children:["如果你对构建性能有更极致的需求，可以一键切换到 Rspack 构建模式，请参考 ",(0,i.jsx)(n.a,{href:"/guide/advanced/rspack-start",children:"使用 Rspack"})," 来进行切换。"]}),"\n",(0,i.jsxs)(n.h3,{id:"深度优化构建产物",children:["深度优化构建产物",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#深度优化构建产物",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder ",(0,i.jsx)(n.strong,{children:"充分利用 webpack 生态内的各种优化手段"}),"，保证生产环境的产物性能得到深度优化，并在稳定性上提供保障。"]}),"\n",(0,i.jsxs)(n.p,{children:["以拆包场景为例，webpack 原生的 splitChunks 配置较为复杂，Builder 将其封装为开箱即用的 ",(0,i.jsx)(n.a,{href:"/api/config-performance#performancechunksplit",children:"performance.chunkSplit"})," 配置项，默认将常见的三方库拆分为体积适中的 chunk，使页面加载速度达到最优状态。"]}),"\n",(0,i.jsxs)(n.h3,{id:"易于扩展的插件系统",children:["易于扩展的插件系统",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#易于扩展的插件系统",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder 提供丰富的配置项和可插拔的插件系统，支持对各项能力进行扩展和定制。"}),"\n",(0,i.jsx)(n.p,{children:"对于 Builder 来说，所有的构建能力都是通过插件来实现的："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"大部分插件较为轻量，被内置在 Builder 内部，开发者可以通过配置项来控制启用。"}),"\n",(0,i.jsx)(n.li,{children:"少部分插件较为复杂，被外置为独立 npm 包，开发者可以按需进行安装和使用。"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Builder 也支持自定义插件，因此框架开发者可以开发自定义的插件，实现定制化的构建需求。"}),"\n",(0,i.jsxs)(n.h2,{id:"npm-包",children:["npm 包",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#npm-包",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder 已发布的 npm 包有："}),"\n",(0,i.jsxs)(n.table,{children:["\n",(0,i.jsxs)(n.thead,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.th,{children:"包名"}),"\n",(0,i.jsx)(n.th,{children:"版本"}),"\n",(0,i.jsx)(n.th,{children:"描述"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.tbody,{children:["\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/@modern-js/builder",target:"_blank",rel:"noopener noreferrer",children:"@modern-js/builder"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.img,{src:"https://img.shields.io/npm/v/@modern-js/builder?style=flat-square",alt:""})}),"\n",(0,i.jsx)(n.td,{children:"Builder 核心包"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/@modern-js/builder-cli",target:"_blank",rel:"noopener noreferrer",children:"@modern-js/builder-cli"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.img,{src:"https://img.shields.io/npm/v/@modern-js/builder-cli?style=flat-square",alt:""})}),"\n",(0,i.jsx)(n.td,{children:"Builder CLI 工具"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/@modern-js/builder-webpack-provider",target:"_blank",rel:"noopener noreferrer",children:"@modern-js/builder-webpack-provider"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.img,{src:"https://img.shields.io/npm/v/@modern-js/builder-webpack-provider?style=flat-square",alt:""})}),"\n",(0,i.jsx)(n.td,{children:"提供 webpack 构建能力"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/@modern-js/builder-rspack-provider",target:"_blank",rel:"noopener noreferrer",children:"@modern-js/builder-rspack-provider"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.img,{src:"https://img.shields.io/npm/v/@modern-js/builder-rspack-provider?style=flat-square",alt:""})}),"\n",(0,i.jsx)(n.td,{children:"提供 Rspack 构建能力"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/@modern-js/builder-plugin-vue",target:"_blank",rel:"noopener noreferrer",children:"@modern-js/builder-plugin-vue"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.img,{src:"https://img.shields.io/npm/v/@modern-js/builder-plugin-vue?style=flat-square",alt:""})}),"\n",(0,i.jsx)(n.td,{children:"Vue 3 插件"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/@modern-js/builder-plugin-swc",target:"_blank",rel:"noopener noreferrer",children:"@modern-js/builder-plugin-swc"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.img,{src:"https://img.shields.io/npm/v/@modern-js/builder-plugin-swc?style=flat-square",alt:""})}),"\n",(0,i.jsx)(n.td,{children:"SWC 插件"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/@modern-js/builder-plugin-stylus",target:"_blank",rel:"noopener noreferrer",children:"@modern-js/builder-plugin-stylus"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.img,{src:"https://img.shields.io/npm/v/@modern-js/builder-plugin-stylus?style=flat-square",alt:""})}),"\n",(0,i.jsx)(n.td,{children:"Stylus 插件"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/@modern-js/builder-plugin-esbuild",target:"_blank",rel:"noopener noreferrer",children:"@modern-js/builder-plugin-esbuild"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.img,{src:"https://img.shields.io/npm/v/@modern-js/builder-plugin-esbuild?style=flat-square",alt:""})}),"\n",(0,i.jsx)(n.td,{children:"Esbuild 插件"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/@modern-js/builder-plugin-node-polyfill",target:"_blank",rel:"noopener noreferrer",children:"@modern-js/builder-plugin-node-polyfill"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.img,{src:"https://img.shields.io/npm/v/@modern-js/builder-plugin-node-polyfill?style=flat-square",alt:""})}),"\n",(0,i.jsx)(n.td,{children:"Node Polyfill 插件"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/@modern-js/builder-plugin-image-compress",target:"_blank",rel:"noopener noreferrer",children:"@modern-js/builder-plugin-image-compress"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.img,{src:"https://img.shields.io/npm/v/@modern-js/builder-plugin-image-compress?style=flat-square",alt:""})}),"\n",(0,i.jsx)(n.td,{children:"Image Compress 插件"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/@modern-js/builder-shared",target:"_blank",rel:"noopener noreferrer",children:"@modern-js/builder-shared"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.img,{src:"https://img.shields.io/npm/v/@modern-js/builder-shared?style=flat-square",alt:""})}),"\n",(0,i.jsx)(n.td,{children:"Builder 内部的公共模块"}),"\n"]}),"\n",(0,i.jsxs)(n.tr,{children:["\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/@modern-js/builder-doc",target:"_blank",rel:"noopener noreferrer",children:"@modern-js/builder-doc"})}),"\n",(0,i.jsx)(n.td,{children:(0,i.jsx)(n.img,{src:"https://img.shields.io/npm/v/@modern-js/builder-doc?style=flat-square",alt:""})}),"\n",(0,i.jsx)(n.td,{children:"Builder 文档"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["你可以在 modern.js 仓库的 ",(0,i.jsx)(n.a,{href:"https://github.com/web-infra-dev/modern.js/tree/main/packages/builder/",target:"_blank",rel:"noopener noreferrer",children:"packages/builder"})," 目录下查看这些包的源代码。"]}),"\n",(0,i.jsxs)(n.h2,{id:"下一步",children:["下一步",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#下一步",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"你可能想要："}),"\n","\n",(0,i.jsxs)(o.default,{children:[(0,i.jsx)(a.default,{href:"/guide/quick-start.html",title:"快速上手",description:"了解如何使用 Builder"}),(0,i.jsx)(a.default,{href:"/guide/features.html",title:"功能导航",description:"了解 Builder 提供的所有功能"}),(0,i.jsx)(a.default,{href:"/api/index.html",title:"查阅 API",description:"查看详细的 API 文档"})]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fguide%2Fintroduction.mdx"]={toc:[{text:"Rust 化",id:"rust-化",depth:2},{text:"定位",id:"定位",depth:2},{text:"特性",id:"特性",depth:2},{text:"支持 Rspack 打包",id:"支持-rspack-打包",depth:3},{text:"深度优化构建产物",id:"深度优化构建产物",depth:3},{text:"易于扩展的插件系统",id:"易于扩展的插件系统",depth:3},{text:"npm 包",id:"npm-包",depth:2},{text:"下一步",id:"下一步",depth:2}],title:"介绍",frontmatter:{}};var c=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},18766:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var t,i=r("9880"),s=r("23169"),l=r.ir(r("75426"));function o(e){let n=Object.assign({h1:"h1",a:"a",p:"p",strong:"strong",div:"div",h2:"h2",h3:"h3",pre:"pre",code:"code",ul:"ul",li:"li",blockquote:"blockquote"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"提升构建性能",children:["提升构建性能",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#提升构建性能",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Modern.js Builder 默认对构建性能进行了充分优化，但是随着业务场景变复杂、项目代码量变大，你可能会遇到一些构建性能的问题。"}),"\n",(0,i.jsxs)(n.p,{children:["本文档提供了一些可选的提速策略，",(0,i.jsx)(n.strong,{children:"开发者可以根据实际场景选取其中的部分策略"}),"，从而进一步提升构建速度。"]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"\uD83D\uDCE2 注意"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["在",(0,i.jsx)(n.a,{href:"/guide/optimization/optimize-bundle",children:"优化产物体积"}),"一文中介绍的策略也可以用于提升构建性能，这里不再重复介绍。\n"]})})]}),"\n",(0,i.jsxs)(n.h2,{id:"通用优化策略",children:["通用优化策略",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#通用优化策略",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"以下是一些通用的优化策略，对开发环境和生产环境均有提速效果，其中部分策略对包体积也有优化。"}),"\n",(0,i.jsxs)(n.h3,{id:"升级-nodejs-版本",children:["升级 Node.js 版本",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#升级-nodejs-版本",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["通常来说，将 Node.js 更新到最新的 ",(0,i.jsx)(n.a,{href:"https://github.com/nodejs/release#release-schedule",target:"_blank",rel:"noopener noreferrer",children:"LTS 版本"}),"，有助于提升构建性能。"]}),"\n",(0,i.jsx)(n.p,{children:"尤其是对于 Apple M1/M2 芯片的机型，推荐使用 Node 16 或 Node 18 进行构建。"}),"\n",(0,i.jsxs)(n.p,{children:["Node 16 默认提供了 Apple Silicon binaries，因此在 M1/M2 机型上性能会比 Node 14 有大幅度提升。根据我们的测试，",(0,i.jsx)(n.strong,{children:"从 Node 14 切换到 Node 16 后，编译速度可以提升 100% 以上"}),"。"]}),"\n",(0,i.jsx)(n.p,{children:"你可以通过以下步骤来切换到 Node 16："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# 安装 Node.js v16\nnvm install 16\n\n# 切换到 Node 16\nnvm use 16\n\n# 将 Node 16 设置为默认版本\nnvm default 16\n\n# 查看 Node 版本\nnode -v\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"使用-rspack-构建",children:["使用 Rspack 构建",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#使用-rspack-构建",children:"#"})]}),"\n","\n",(0,i.jsx)(l.default,{}),"\n",(0,i.jsxs)(n.p,{children:["如果你对构建性能有更极致的需求，可以一键切换到 Rspack 构建模式，请参考 ",(0,i.jsx)(n.a,{href:"/guide/advanced/rspack-start",children:"使用 Rspack"})," 来进行切换。"]}),"\n",(0,i.jsxs)(n.h3,{id:"使用-swc-或-esbuild-编译",children:["使用 SWC 或 esbuild 编译",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#使用-swc-或-esbuild-编译",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://swc.rs/",target:"_blank",rel:"noopener noreferrer",children:"SWC"})," (Speedy Web Compiler) 是基于 ",(0,i.jsx)(n.code,{children:"Rust"})," 语言编写的高性能 JavaScript 和 TypeScript 转译和压缩工具。在 Polyfill 和语法降级方面可以和 Babel 提供一致的能力，并且性能比 Babel 高出一个数量级。"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://esbuild.github.io/",target:"_blank",rel:"noopener noreferrer",children:"esbuild"})," 是一款基于 Golang 开发的前端构建工具，具有打包、编译和压缩 JavaScript 代码的功能，相比传统的打包编译工具，esbuild 在性能上有显著提升。"]}),"\n",(0,i.jsx)(n.p,{children:"Builder 提供了 SWC 插件和 esbuild 插件，让你能使用 SWC 或 esbuild 代替 babel-loader、ts-loader 和 terser 等库进行代码编译和压缩。详见："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/plugins/plugin-swc",children:"SWC 插件文档"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.a,{href:"/plugins/plugin-esbuild",children:"esbuild 插件文档"})}),"\n"]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"SWC vs esbuild"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"SWC 编译产物的兼容性较好，支持注入 core-js 等 Polyfill，并且功能更加完备，因此推荐优先使用 SWC 插件。"})})]}),"\n",(0,i.jsxs)(n.h3,{id:"避免使用-ts-loader",children:["避免使用 ts-loader",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#避免使用-ts-loader",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["默认情况下，Builder 使用 Babel 编译 TS 文件，开启 ",(0,i.jsx)(n.a,{href:"/api/config-tools#toolstsloader",children:"tools.tsLoader"})," 选项后，会使用 ",(0,i.jsx)(n.code,{children:"ts-loader"})," 编译 TS 文件。"]}),"\n",(0,i.jsxs)(n.p,{children:["由于 ",(0,i.jsx)(n.code,{children:"ts-loader"})," 需要进行额外的语法解析和类型检查，因此会导致项目构建速度变慢，请避免使用。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    // 移除这项配置\n    tsLoader: {},\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["详见 ",(0,i.jsx)(n.a,{href:"/api/config-tools#toolstsloader",children:"tools.tsLoader 文档"}),"。"]}),"\n",(0,i.jsxs)(n.h2,{id:"开发环境优化策略",children:["开发环境优化策略",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#开发环境优化策略",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"以下是针对开发环境进行提速的策略。"}),"\n",(0,i.jsxs)(n.h3,{id:"开启延迟编译",children:["开启延迟编译",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#开启延迟编译",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"你可以开启延迟编译（即按需编译）功能，来提升编译启动速度。"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  experiments: {\n    lazyCompilation: {\n      imports: true,\n      entries: false,\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["这是一项实验性功能，在某些场景下可能无法正确工作，请查看 ",(0,i.jsx)(n.a,{href:"/api/config-experiments#experiments-lazycompilation",children:"experiments.lazyCompilation"})," 来了解具体用法。"]}),"\n",(0,i.jsxs)(n.h3,{id:"调整-source-map-格式",children:["调整 Source Map 格式",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#调整-source-map-格式",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["为了提供良好的调试体验，Builder 在开发环境下默认使用 ",(0,i.jsx)(n.code,{children:"cheap-module-source-map"})," 格式 Source Map，这是一种高质量的 Source Map 格式，会带来一定的性能开销。"]}),"\n",(0,i.jsx)(n.p,{children:"你可以通过调整开发环境的 Source Map 格式来提升构建速度。"}),"\n",(0,i.jsx)(n.p,{children:"比如禁用 Source Map："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpackChain(chain, { env }) {\n      if (env === 'development') {\n        chain.devtool(false);\n      }\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["或是把开发环境的 Source Map 格式设置为开销最小的 ",(0,i.jsx)(n.code,{children:"eval"})," 格式："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  tools: {\n    webpackChain(chain, { env }) {\n      if (env === 'development') {\n        chain.devtool('eval');\n      }\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["关于不同 Source Map 格式之间的详细差异，请查看 ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/configuration/devtool/",target:"_blank",rel:"noopener noreferrer",children:"webpack - devtool"}),"。"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"调整-browserslist-范围",children:["调整 Browserslist 范围",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#调整-browserslist-范围",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["这项优化的原理与",(0,i.jsx)(n.a,{href:"/guide/optimization/optimize-bundle#adjust-browserslist",children:"「提升 Browserslist 范围」"}),"类似，区别在于，我们可以为开发环境和生产环境设置不同的 browserslist，从而减少开发环境下的编译开销。"]}),"\n",(0,i.jsxs)(n.p,{children:["比如，你可以在 ",(0,i.jsx)(n.code,{children:"package.json"})," 中添加以下配置，表示在开发环境下只兼容最新的浏览器，在生产环境下兼容实际需要的浏览器："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "browserslist": {\n    "production": [">0.2%", "not dead", "not op_mini all"],\n    "development": [\n      "last 1 chrome version",\n      "last 1 firefox version",\n      "last 1 safari version"\n    ]\n  }\n}\n'})}),"\n",(0,i.jsx)(n.p,{children:"注意，这项优化策略会导致开发环境与生产环境的构建产物存在一定差异。"}),"\n",(0,i.jsxs)(n.h2,{id:"生产环境优化策略",children:["生产环境优化策略",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#生产环境优化策略",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"以下是针对生产环境进行提速的策略。"}),"\n",(0,i.jsxs)(n.h3,{id:"禁用-source-map",children:["禁用 Source Map",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#禁用-source-map",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["如果项目在生产环境下不需要 Source Map，可以通过 ",(0,i.jsx)(n.code,{children:"disableSourceMap"})," 配置项关闭，从而提升 build 构建的速度。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    disableSourceMap: true,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["详见 ",(0,i.jsx)(n.a,{href:"/api/config-output#outputdisablesourcemap",children:"output.disableSourceMap"}),"。"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fguide%2Foptimization%2Fbuild-performance.mdx"]={toc:[{text:"通用优化策略",id:"通用优化策略",depth:2},{text:"升级 Node.js 版本",id:"升级-nodejs-版本",depth:3},{text:"使用 Rspack 构建",id:"使用-rspack-构建",depth:3},{text:"使用 SWC 或 esbuild 编译",id:"使用-swc-或-esbuild-编译",depth:3},{text:"避免使用 ts-loader",id:"避免使用-ts-loader",depth:3},{text:"开发环境优化策略",id:"开发环境优化策略",depth:2},{text:"开启延迟编译",id:"开启延迟编译",depth:3},{text:"调整 Source Map 格式",id:"调整-source-map-格式",depth:3},{text:"调整 Browserslist 范围",id:"调整-browserslist-范围",depth:3},{text:"生产环境优化策略",id:"生产环境优化策略",depth:2},{text:"禁用 Source Map",id:"禁用-source-map",depth:3}],title:"提升构建性能",frontmatter:{}};var a=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},75824:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",pre:"pre",code:"code",h3:"h3",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"静态资源内联",children:["静态资源内联",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#静态资源内联",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"静态资源内联是一种优化网页性能的方法，它指的是将静态资源直接内联到 HTML 或 JS 文件中，而不是使用外部文件引用的方式。这样做的好处是减少了浏览器发起的请求数，从而提高页面的加载速度。"}),"\n",(0,i.jsx)(n.p,{children:"不过，静态资源内联也有一些缺点，比如增加了单个文件的体积，可能会导致加载变慢。所以在实际应用中，需要根据具体情况来决定是否使用静态资源内联。"}),"\n",(0,i.jsx)(n.p,{children:"Builder 默认会自动内联体积小于 10KB 的静态资源，但有时候你可能需要手动控制某些特殊资源，让其强制内联或者强制不内联，这篇文档阐述了如何进行精确地控制静态资源内联行为。"}),"\n",(0,i.jsxs)(n.h2,{id:"自动内联",children:["自动内联",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#自动内联",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"默认情况下，当图片、字体、媒体等类型的文件体积小于阈值（默认为 10KB）时，Builder 会将资源进行内联处理，资源内联后，会被转换成一个 Base64 编码的字符串，不再会发送独立的 HTTP 请求。当文件体积大于或等于该阈值时，则会被作为单独的资源文件，通过独立的 HTTP 请求来加载。"}),"\n",(0,i.jsxs)(n.p,{children:["自动内联的体积阈值可以通过 ",(0,i.jsx)(n.a,{href:"/api/config-output#outputdataurilimit",children:"output.dataUriLimit"})," 配置项修改。例如，修改图片资源的阈值为 5000 字节，设置视频资源不内联："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    dataUriLimit: {\n      image: 5000,\n      media: 0,\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"强制内联",children:["强制内联",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#强制内联",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["你可以通过在引入资源时添加 ",(0,i.jsx)(n.code,{children:"inline"})," URL 参数来强制内联该资源，无论该资源的体积是否小于阈值。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"import React from 'react';\nimport img from './foo.png?inline';\n\nexport default function Foo() {\n  return <img src={img} />;\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["在上面这个例子中，",(0,i.jsx)(n.code,{children:"foo.png"})," 图片将始终被内联，无论该图片的大小是否大于阈值。"]}),"\n",(0,i.jsxs)(n.p,{children:["除了 ",(0,i.jsx)(n.code,{children:"inline"})," 参数以外，你也可以使用 ",(0,i.jsx)(n.code,{children:"__inline"})," 参数来强制内联该资源："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"import img from './foo.png?__inline';\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"从-css-文件中引用",children:["从 CSS 文件中引用",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#从-css-文件中引用",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当你在 CSS 文件中引用静态资源时，同样可以通过 ",(0,i.jsx)(n.code,{children:"inline"})," 或 ",(0,i.jsx)(n.code,{children:"__inline"})," 参数来强制内联资源。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-css",children:".foo {\n  background-image: url('./icon.png?inline');\n}\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"你真的需要强制内联吗？"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"内联体积过大的资源时，会显著增加页面的白屏时间或首次可交互时间，这会损害用户体验。并且当你将一个静态资源多次内联到 CSS 文件中时，base64 内容会重复注入，导致产物体积增大。因此，请酌情使用强制内联。"})})]}),"\n",(0,i.jsxs)(n.h2,{id:"强制不内联",children:["强制不内联",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#强制不内联",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当你想把一些资源始终作为单独的资源文件来处理，无论该资源的体积多小时，你可以添加 ",(0,i.jsx)(n.code,{children:"url"})," URL 参数来强制不内联该资源。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"import React from 'react';\nimport img from './foo.png?url';\n\nexport default function Foo() {\n  return <img src={img} />;\n}\n"})}),"\n",(0,i.jsxs)(n.p,{children:["在上面这个例子中，",(0,i.jsx)(n.code,{children:"foo.png"})," 图片将始终通过单独的资源文件加载，无论该图片的大小是否小于阈值。"]}),"\n",(0,i.jsxs)(n.p,{children:["除了 ",(0,i.jsx)(n.code,{children:"url"})," 参数以外，你也可以使用 ",(0,i.jsx)(n.code,{children:"__inline=false"})," 参数来强制不内联该资源："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-tsx",children:"import img from './foo.png?__inline=false';\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"从-css-文件中引用-1",children:["从 CSS 文件中引用",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#从-css-文件中引用-1",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当你在 CSS 文件中引用静态资源时，同样可以通过 ",(0,i.jsx)(n.code,{children:"url"})," 或 ",(0,i.jsx)(n.code,{children:"__inline=false"})," 参数来强制不内联资源。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-css",children:".foo {\n  background-image: url('./icon.png?url');\n}\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"你真的需要把资源排除内联吗？"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"将资源排除内联将增加 Web App 需要加载的资源数量，这对于弱网环境，或是未开启 HTTP2 的场景下，将会降低资源加载效率，因此，请酌情使用强制不内联。"})})]}),"\n",(0,i.jsxs)(n.h2,{id:"内联-js-文件",children:["内联 JS 文件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#内联-js-文件",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"除了将静态资源文件内联到 JS 文件里，Builder 也支持将 JS 文件内联到 HTML 文件中。"}),"\n",(0,i.jsxs)(n.p,{children:["只需要开启 ",(0,i.jsx)(n.a,{href:"/api/config-output#outputenableinlinescripts",children:"output.enableInlineScripts"})," 配置项，构建生成的 JS 文件将不会被写入产物目录下，而是会直接内联到对应的 HTML 文件中。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    enableInlineScripts: true,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"内联 JS 文件可能会导致 HTML 单文件体积过大，并且不利于静态资源缓存，请酌情使用。"})})]}),"\n",(0,i.jsxs)(n.h2,{id:"内联-css-文件",children:["内联 CSS 文件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#内联-css-文件",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"你也可以将 CSS 文件内联到 HTML 文件中。"}),"\n",(0,i.jsxs)(n.p,{children:["只需要开启 ",(0,i.jsx)(n.a,{href:"/api/config-output#outputenableinlinestyles",children:"output.enableInlineStyles"})," 配置项，构建生成的 CSS 文件将不会被写入产物目录下，而是会直接内联到对应的 HTML 文件中。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  output: {\n    enableInlineStyles: true,\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"添加类型声明",children:["添加类型声明",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#添加类型声明",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["当你在 TypeScript 代码中使用 ",(0,i.jsx)(n.code,{children:"?inline"})," 和 ",(0,i.jsx)(n.code,{children:"?url"})," 等 URL 参数时，TypeScript 可能会提示该模块缺少类型定义："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"TS2307: Cannot find module './logo.png?inline' or its corresponding type declarations.\n"})}),"\n",(0,i.jsxs)(n.p,{children:["此时你需要为这些 URL 参数添加类型声明，请在项目中创建 ",(0,i.jsx)(n.code,{children:"src/global.d.ts"})," 文件，并添加以下类型声明："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"declare module '*?inline' {\n  const content: string;\n  export default content;\n}\n\ndeclare module '*?inline' {\n  const content: string;\n  export default content;\n}\n\ndeclare module '*?__inline' {\n  const content: string;\n  export default content;\n}\n\ndeclare module '*?inline=false' {\n  const content: string;\n  export default content;\n}\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fguide%2Foptimization%2Finline-assets.md"]={toc:[{text:"自动内联",id:"自动内联",depth:2},{text:"强制内联",id:"强制内联",depth:2},{text:"从 CSS 文件中引用",id:"从-css-文件中引用",depth:3},{text:"强制不内联",id:"强制不内联",depth:2},{text:"从 CSS 文件中引用",id:"从-css-文件中引用-1",depth:3},{text:"内联 JS 文件",id:"内联-js-文件",depth:2},{text:"内联 CSS 文件",id:"内联-css-文件",depth:2},{text:"添加类型声明",id:"添加类型声明",depth:2}],title:"静态资源内联",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},81837:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",ul:"ul",li:"li",code:"code",pre:"pre",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"产物体积优化",children:["产物体积优化",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#产物体积优化",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"产物体积的优化在生产环境中是非常重要的，因为它直接影响到了线上的用户体验。在这篇文档中，我们将介绍在 Builder 中一些常见的产物体积优化方式。"}),"\n",(0,i.jsxs)(n.h2,{id:"减少重复依赖",children:["减少重复依赖",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#减少重复依赖",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"在业务项目中，会存在某些第三方依赖被安装了多个版本的现象。重复依赖会导致包体积变大、构建速度变慢。"}),"\n",(0,i.jsx)(n.p,{children:"我们可以通过社区中的一些工具来检测或消除重复依赖。"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["如果你在使用 ",(0,i.jsx)(n.code,{children:"pnpm >= 7.26.0"}),"，可以使用 pnpm 自带的 ",(0,i.jsx)(n.a,{href:"https://pnpm.io/cli/dedupe",target:"_blank",rel:"noopener noreferrer",children:"pnpm dedupe"})," 命令来升级和消除其中的重复依赖。"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"pnpm dedupe\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["如果你在使用 ",(0,i.jsx)(n.code,{children:"pnpm < 7.26.0"})," 版本，可以使用 ",(0,i.jsx)(n.a,{href:"https://github.com/ocavue/pnpm-deduplicate",target:"_blank",rel:"noopener noreferrer",children:"pnpm-deduplicate"})," 来分析出所有的重复依赖，并通过升级依赖或声明 ",(0,i.jsx)(n.a,{href:"https://pnpm.io/package_json#pnpmoverrides",target:"_blank",rel:"noopener noreferrer",children:"pnpm overrides"})," 进行版本合并。"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npx pnpm-deduplicate --list\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["如果你在使用 ",(0,i.jsx)(n.code,{children:"yarn"}),"，可以使用 ",(0,i.jsx)(n.a,{href:"https://github.com/scinos/yarn-deduplicate",target:"_blank",rel:"noopener noreferrer",children:"yarn-deduplicate"})," 来自动合并重复依赖："]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npx yarn-deduplicate && yarn\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"使用更轻量的库",children:["使用更轻量的库",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#使用更轻量的库",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["建议将项目中体积较大的三方库替换为更轻量的库，比如将 ",(0,i.jsx)(n.a,{href:"https://momentjs.com/",target:"_blank",rel:"noopener noreferrer",children:"moment"})," 替换为 ",(0,i.jsx)(n.a,{href:"https://day.js.org/",target:"_blank",rel:"noopener noreferrer",children:"day.js"}),"。"]}),"\n",(0,i.jsxs)(n.p,{children:["如果你需要找出项目中体积较大的三方库，可以在执行构建时添加 ",(0,i.jsx)(n.code,{children:"BUNDLE_ANALYZE=true"})," 环境变量："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"BUNDLE_ANALYZE=true pnpm build\n"})}),"\n",(0,i.jsxs)(n.p,{children:["详见 ",(0,i.jsx)(n.a,{href:"/api/config-performance#performancebundleanalyze",children:"performance.bundleAnalyze"})," 配置项。"]}),"\n",(0,i.jsxs)(n.h2,{id:"提升-browserslist-范围",children:["提升 Browserslist 范围",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#提升-browserslist-范围",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder 会根据项目的 Browserslist 配置范围进行代码编译，并注入相应的 Polyfill。如果项目不需要兼容旧版浏览器，可以根据实际情况来提升 Browserslist 范围，从而减少在语法和 Polyfill 上的编译开销。"}),"\n",(0,i.jsx)(n.p,{children:"Builder 默认的 Browserslist 配置为："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"['> 0.01%', 'not dead', 'not op_mini all'];\n"})}),"\n",(0,i.jsx)(n.p,{children:"比如只兼容 Chrome 61 以上的浏览器，可以改成："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"['Chrome >= 61'];\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["请阅读 ",(0,i.jsx)(n.a,{href:"/guide/advanced/browserslist",children:"设置浏览器范围"})," 章节来了解更多关于 Browserslist 的用法。\n"]})})]}),"\n",(0,i.jsxs)(n.h2,{id:"按需引入-polyfill",children:["按需引入 polyfill",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#按需引入-polyfill",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["在明确第三方依赖不需要额外 polyfill 的情况下，你可以将 ",(0,i.jsx)(n.a,{href:"/api/config-output#outputpolyfill",children:"output.polyfill"})," 设置为 ",(0,i.jsx)(n.code,{children:"usage"}),"。"]}),"\n",(0,i.jsxs)(n.p,{children:["在 ",(0,i.jsx)(n.code,{children:"usage"})," 模式下，Builder 会分析源代码中使用的语法，按需注入所需的 polyfill 代码，从而减少 polyfill 的代码量。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  output: {\n    polyfill: 'usage',\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["请阅读 ",(0,i.jsx)(n.a,{href:"/guide/advanced/browser-compatibility",children:"浏览器兼容性"})," 章节来了解更多关于 polyfill 的用法。\n"]})})]}),"\n",(0,i.jsxs)(n.h2,{id:"使用图片压缩",children:["使用图片压缩",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#使用图片压缩",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"在一般的前端项目中，图片资源的体积往往是项目产物体积的大头，因此如果能尽可能精简图片的体积，那么将会对项目的打包产物体积起到明显的优化效果。你可以在 Builder 中注册插件来启用图片压缩功能:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import { builderPluginImageCompress } from '@modern-js/builder-plugin-image-compress';\n\n// 往 builder 实例上添加插件\nbuilder.addPlugins([builderPluginImageCompress()]);\n"})}),"\n",(0,i.jsxs)(n.p,{children:["详见 ",(0,i.jsx)(n.a,{href:"/plugins/plugin-image-compress",children:"Image Compress 插件"}),"。"]}),"\n",(0,i.jsxs)(n.h2,{id:"代码拆包",children:["代码拆包",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#代码拆包",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"良好的拆包策略对于提升应用的加载性能是十分重要的，可以充分利用浏览器的缓存机制，减少请求数量，加快页面加载速度。"}),"\n",(0,i.jsxs)(n.p,{children:["在 Builder 中内置了",(0,i.jsx)(n.a,{href:"/guide/optimization/split-chunk",children:"多种拆包策略"}),"，可以满足大部分应用的需求，你也可以根据自己的业务场景，自定义拆包配置。"]}),"\n",(0,i.jsxs)(n.p,{children:["比如将 node_modules 下的 ",(0,i.jsx)(n.code,{children:"axios"})," 库拆分到 ",(0,i.jsx)(n.code,{children:"axios.js"})," 中："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  performance: {\n    chunkSplit: {\n      strategy: 'split-by-experience',\n      forceSplitting: {\n        axios: /node_modules\\/axios/,\n      },\n    },\n  },\n};\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fguide%2Foptimization%2Foptimize-bundle.md"]={toc:[{text:"减少重复依赖",id:"减少重复依赖",depth:2},{text:"使用更轻量的库",id:"使用更轻量的库",depth:2},{text:"提升 Browserslist 范围",id:"提升-browserslist-范围",depth:2},{text:"按需引入 polyfill",id:"按需引入-polyfill",depth:2},{text:"使用图片压缩",id:"使用图片压缩",depth:2},{text:"代码拆包",id:"代码拆包",depth:2}],title:"产物体积优化",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},21010:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",blockquote:"blockquote",ul:"ul",li:"li",code:"code",h3:"h3",h4:"h4",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"拆包最佳实践",children:["拆包最佳实践",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#拆包最佳实践",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"良好的拆包策略对于提升应用的加载性能是十分重要的，可以充分利用浏览器的缓存机制，减少请求数量，加快页面加载速度。"}),"\n",(0,i.jsx)(n.p,{children:"在 Builder 中内置了多种拆包策略，可以满足大部分应用的需求，你也可以根据自己的业务场景，自定义拆包配置。"}),"\n",(0,i.jsxs)(n.h2,{id:"拆包策略",children:["拆包策略",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#拆包策略",children:"#"})]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Builder 的拆包配置集中在 ",(0,i.jsx)(n.a,{href:"/api/config-performance#performancechunksplit",children:"performance.chunkSplit"})," 中。"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Builder 支持设置以下几种拆包策略："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"split-by-experience"}),": 根据经验制定的拆分策略，自动将一些常用的 npm 包拆分为体积适中的 chunk。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"split-by-module"}),": 按 NPM 包的粒度拆分，每个 NPM 包对应一个 chunk。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"split-by-size"}),"：根据模块大小自动进行拆分。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"all-in-one"}),": 将所有代码全部打包到一个 chunk 中。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"single-vendor"}),": 将所有 NPM 包的代码打包到一个单独的 chunk 中。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"custom"}),": 自定义拆包配置。"]}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"split-by-experience",children:["split-by-experience",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#split-by-experience",children:"#"})]}),"\n",(0,i.jsxs)(n.h4,{id:"分包策略",children:["分包策略",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#分包策略",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Builder 默认采用 ",(0,i.jsx)(n.code,{children:"split-by-experience"})," 策略，这是我们根据经验制定的策略。具体来说，当你的项目中引用了以下 npm 包时，它们会自动被拆分为单独的 chunk："]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"lib-polyfill.js"}),"：包含 ",(0,i.jsx)(n.code,{children:"core-js"}),"，",(0,i.jsx)(n.code,{children:"@babel/runtime"}),"，",(0,i.jsx)(n.code,{children:"@swc/helpers"}),"。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"lib-react.js"}),"：包含 ",(0,i.jsx)(n.code,{children:"react"}),"，",(0,i.jsx)(n.code,{children:"react-dom"}),"。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"lib-router.js"}),"：包含 ",(0,i.jsx)(n.code,{children:"react-router"}),"，",(0,i.jsx)(n.code,{children:"react-router-dom"}),"，",(0,i.jsx)(n.code,{children:"history"}),"，",(0,i.jsx)(n.code,{children:"@remix-run/router"}),"。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"lib-lodash.js"}),"：包含 ",(0,i.jsx)(n.code,{children:"lodash"}),"，",(0,i.jsx)(n.code,{children:"lodash-es"}),"。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"lib-antd.js"}),"：包含 ",(0,i.jsx)(n.code,{children:"antd"}),"。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"lib-arco.js"}),"：包含 ",(0,i.jsx)(n.code,{children:"@arco-design/web-react"})," 以及 ",(0,i.jsx)(n.code,{children:"@arco-design"})," 组织下相关的包。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"lib-semi.js"}),"：包含 ",(0,i.jsx)(n.code,{children:"@douyinfe/semi-ui"})," 以及 ",(0,i.jsx)(n.code,{children:"@ies"})," 和 ",(0,i.jsx)(n.code,{children:"@douyinfe"})," 组织下相关的包。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"lib-axios.js"}),"：包含 ",(0,i.jsx)(n.code,{children:"axios"})," 以及相关的包。"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"这种拆包策略将常用的包进行分组，然后拆分为单独的 chunk，一般 chunk 的数量不会很多，适合绝大部分应用，同时也是我们推荐的拆包策略。"}),"\n",(0,i.jsxs)(n.h4,{id:"配置",children:["配置",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#配置",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  performance: {\n    chunkSplit: {\n      strategy: 'split-by-experience',\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"注意事项",children:["注意事项",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#注意事项",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"如果项目中没有安装或引用以上 npm 包，则不会生成相应的 chunk。"}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"split-by-module",children:["split-by-module",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#split-by-module",children:"#"})]}),"\n",(0,i.jsxs)(n.h4,{id:"分包策略-1",children:["分包策略",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#分包策略-1",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"将每一个 NPM 包拆分为一个单独的 chunk。"}),"\n",(0,i.jsxs)(n.h4,{id:"配置-1",children:["配置",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#配置-1",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  performance: {\n    chunkSplit: {\n      strategy: 'split-by-module',\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"注意事项-1",children:["注意事项",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#注意事项-1",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"这个配置会最细化地拆分 node_modules，产生大量的文件请求。"}),"\n",(0,i.jsx)(n.li,{children:"在使用 HTTP/2 时，由于存在多路复用，会加快资源的加载时间，并提高缓存命中率。"}),"\n",(0,i.jsx)(n.li,{children:"在未使用 HTTP/2 时，由于 HTTP 队头阻塞问题，会导致页面加载性能下降，请谨慎使用。"}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"all-in-one",children:["all-in-one",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#all-in-one",children:"#"})]}),"\n",(0,i.jsxs)(n.h4,{id:"分包策略-2",children:["分包策略",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#分包策略-2",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"此分包策略将业务代码、第三方依赖打包在同一个 chunk 中。"}),"\n",(0,i.jsxs)(n.h4,{id:"配置-2",children:["配置",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#配置-2",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  performance: {\n    chunkSplit: {\n      strategy: 'all-in-one',\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"注意事项-2",children:["注意事项",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#注意事项-2",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"这个配置会将构建生成的 JS 代码全部打包到一个文件里（除了 dynamic import 拆分的 chunk）"}),"\n",(0,i.jsx)(n.li,{children:"单个 JS 文件的体积可能会非常大，使页面加载性能下降。"}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"single-vendor",children:["single-vendor",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#single-vendor",children:"#"})]}),"\n",(0,i.jsxs)(n.h4,{id:"分包策略-3",children:["分包策略",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#分包策略-3",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"此分包策略将第三方依赖打包在一个 chunk 中，业务代码打包在另外的 chunk 中。"}),"\n",(0,i.jsxs)(n.h4,{id:"配置-3",children:["配置",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#配置-3",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  performance: {\n    chunkSplit: {\n      strategy: 'single-vendor',\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"注意事项-3",children:["注意事项",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#注意事项-3",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"单个 vendor 文件的体积可能会非常大，使页面加载性能下降。"}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"split-by-size",children:["split-by-size",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#split-by-size",children:"#"})]}),"\n",(0,i.jsxs)(n.h4,{id:"分包策略-4",children:["分包策略",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#分包策略-4",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["该策略下，设置 ",(0,i.jsx)(n.code,{children:"minSize"}),"、",(0,i.jsx)(n.code,{children:"maxSize"})," 为一个固定值后，Builder 会自动进行拆分，无需干预。"]}),"\n",(0,i.jsxs)(n.h4,{id:"配置-4",children:["配置",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#配置-4",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  performance: {\n    chunkSplit: {\n      strategy: 'split-by-size',\n      minSize: 30000,\n      maxSize: 50000,\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"自定义拆包",children:["自定义拆包",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#自定义拆包",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"除了使用内置的拆包策略外，你也可以通过 Builder 自定义拆包功能来满足更多的定制化需求。自定义拆包分为两部分:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"自定义拆包分组"}),"\n",(0,i.jsx)(n.li,{children:"自定义原生 bundler 拆包配置"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"值得注意的是，这两种自定义拆包能力可以和内置的拆包策略一起使用，也就是说，你可以使用内置的拆包策略来拆分常用的包，然后再使用自定义拆包功能来拆分其他的包。"}),"\n",(0,i.jsxs)(n.h3,{id:"自定义分组",children:["自定义分组",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#自定义分组",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder 支持自定义拆包分组，这样比内置拆包策略更灵活，同时比手写 bundler 底层配置更简单。"}),"\n",(0,i.jsxs)(n.p,{children:["比如将 node_modules 下的 ",(0,i.jsx)(n.code,{children:"axios"})," 库拆分到 ",(0,i.jsx)(n.code,{children:"axios.js"})," 中："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default {\n  performance: {\n    chunkSplit: {\n      strategy: 'split-by-experience',\n      forceSplitting: {\n        axios: /node_modules\\/axios/,\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["通过 ",(0,i.jsx)(n.code,{children:"forceSplitting"})," 配置，你可以很方便把某些模块拆分为一个 chunk。"]}),"\n",(0,i.jsxs)(n.h4,{id:"注意事项-4",children:["注意事项",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#注意事项-4",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["通过 ",(0,i.jsx)(n.code,{children:"forceSplitting"})," 配置拆分的 chunk 会通过 ",(0,i.jsx)(n.code,{children:"<script>"})," 标签插入到 HTML 文件中，作为首屏请求的资源。因此，请根据实际场景来进行适当地拆分，避免首屏资源体积过大。"]}),"\n",(0,i.jsxs)(n.h3,{id:"自定义-bundler-拆包配置",children:["自定义 bundler 拆包配置",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#自定义-bundler-拆包配置",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["除了使用自定义分组外，你还可以通过 ",(0,i.jsx)(n.code,{children:"override"})," 配置项来自定义底层 bundler 的拆包配置，比如:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export default {\n  performance: {\n    chunkSplit: {\n      strategy: 'split-by-experience',\n      override: {\n        chunks: 'all',\n        minSize: 30000,\n      },\n    },\n  },\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["其中 ",(0,i.jsx)(n.code,{children:"override"})," 中的配置会和 bundler 的配置进行合并，具体配置项请参考 ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/plugins/split-chunks-plugin/#splitchunkschunks",target:"_blank",rel:"noopener noreferrer",children:"webpack - splitChunks"})," 或 ",(0,i.jsx)(n.a,{href:"https://rspack.dev/zh/config/optimization.html#optimization-splitchunks",target:"_blank",rel:"noopener noreferrer",children:"Rspack - splitChunks"}),"。"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fguide%2Foptimization%2Fsplit-chunk.md"]={toc:[{text:"拆包策略",id:"拆包策略",depth:2},{text:"split-by-experience",id:"split-by-experience",depth:3},{text:"分包策略",id:"分包策略",depth:4},{text:"配置",id:"配置",depth:4},{text:"注意事项",id:"注意事项",depth:4},{text:"split-by-module",id:"split-by-module",depth:3},{text:"分包策略",id:"分包策略-1",depth:4},{text:"配置",id:"配置-1",depth:4},{text:"注意事项",id:"注意事项-1",depth:4},{text:"all-in-one",id:"all-in-one",depth:3},{text:"分包策略",id:"分包策略-2",depth:4},{text:"配置",id:"配置-2",depth:4},{text:"注意事项",id:"注意事项-2",depth:4},{text:"single-vendor",id:"single-vendor",depth:3},{text:"分包策略",id:"分包策略-3",depth:4},{text:"配置",id:"配置-3",depth:4},{text:"注意事项",id:"注意事项-3",depth:4},{text:"split-by-size",id:"split-by-size",depth:3},{text:"分包策略",id:"分包策略-4",depth:4},{text:"配置",id:"配置-4",depth:4},{text:"自定义拆包",id:"自定义拆包",depth:2},{text:"自定义分组",id:"自定义分组",depth:3},{text:"注意事项",id:"注意事项-4",depth:4},{text:"自定义 bundler 拆包配置",id:"自定义-bundler-拆包配置",depth:3}],title:"拆包最佳实践",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},63736:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return c}});var t,i=r("9880"),s=r("23169"),l=r.ir(r("17937")),o=r.ir(r("70792")),a=r.ir(r("69571"));function d(e){let n=Object.assign({h1:"h1",a:"a",h2:"h2",p:"p",strong:"strong",pre:"pre",code:"code",div:"div",h3:"h3",ul:"ul",li:"li",blockquote:"blockquote"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"快速上手",children:["快速上手",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#快速上手",children:"#"})]}),"\n",(0,i.jsxs)(n.h2,{id:"环境准备",children:["环境准备",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#环境准备",children:"#"})]}),"\n","\n",(0,i.jsx)(l.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"使用-modernjs-框架",children:["使用 Modern.js 框架",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#使用-modernjs-框架",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Modern.js 框架默认使用 Modern.js Builder 作为构建引擎"}),"。因此，如果你是一名业务开发者，那么不需要手动接入 Builder，只需要创建一个 Modern.js 项目，就可以使用 Builder 提供的所有能力。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"npx @modern-js/create@latest my-app\n"})}),"\n",(0,i.jsxs)(n.p,{children:["请阅读 ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/guides/get-started/introduction.html",target:"_blank",rel:"noopener noreferrer",children:"Modern.js - 介绍"})," 和 ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/guides/get-started/quick-start.html",target:"_blank",rel:"noopener noreferrer",children:"Modern.js - 快速上手"})," 来了解 Modern.js 框架的使用方法。"]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"关于文档"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"Modern.js 框架文档和 Modern.js Builder 文档部署在两个独立的站点下。如果你在使用 Modern.js 框架的过程中遇到任何构建相关的问题，你可以随时查阅 Modern.js Builder 的文档来寻找相应的解决方案。"})})]}),"\n",(0,i.jsxs)(n.h2,{id:"使用-builder-cli-工具",children:["使用 Builder CLI 工具",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#使用-builder-cli-工具",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Modern.js Builder 提供了一个轻量的 CLI 工具，包含 dev、build 等基础命令，它主要用于构建非 React 项目。"}),"\n",(0,i.jsx)(n.p,{children:"如果你的项目不是基于 React 的，比如开发一个 Vue 项目，那么你可以使用 Builder CLI 工具来构建你的项目。"}),"\n",(0,i.jsxs)(n.p,{children:["请参考 ",(0,i.jsx)(n.a,{href:"/guide/basic/builder-cli",children:"使用 Builder CLI"})," 来了解相关用法。"]}),"\n",(0,i.jsxs)(n.h2,{id:"在前端框架中接入",children:["在前端框架中接入",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#在前端框架中接入",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"如果你正在开发一个前端框架，可以通过下面的步骤来接入 Builder:"}),"\n",(0,i.jsxs)(n.h3,{id:"1-安装-builder",children:["1. 安装 Builder",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#1-安装-builder",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"你需要安装两个包，其中："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"@modern-js/builder"})," 为 Builder 的核心包，导出了 Builder 的核心 API。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"@modern-js/builder-webpack-provider"})," 或 ",(0,i.jsx)(n.code,{children:"@modern-js/builder-rspack-provider"}),"，它们是 Builder 的 Provider，提供基于 webpack 或 Rspack 的构建能力。"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# 使用 webpack 打包\npnpm add @modern-js/builder @modern-js/builder-webpack-provider -D\n\n# 使用 Rspack 打包\npnpm add @modern-js/builder @modern-js/builder-rspack-provider -D\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsx)(n.p,{children:"在进行版本升级时，请确保你安装的 builder 和 provider 为同一个版本。"}),"\n"]}),"\n",(0,i.jsxs)(n.h3,{id:"2-创建-builder-实例",children:["2. 创建 Builder 实例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#2-创建-builder-实例",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"创建 Builder 实例的过程分两步："}),"\n",(0,i.jsxs)(n.p,{children:["首先你需要初始化 Builder Provider，并传入 ",(0,i.jsx)(n.code,{children:"builderConfig"})," 配置对象。Builder 提供了丰富的配置项，允许你对构建行为进行灵活定制。此时你还不需要了解配置项的具体内容，传入一个空对象即可。你可以在 ",(0,i.jsx)(n.a,{href:"/api/#%E9%85%8D%E7%BD%AE",children:"API - 配置"})," 中找到所有可用的配置项。"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"初始化 webpack Provider："}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { createBuilder } from '@modern-js/builder';\nimport { builderWebpackProvider } from '@modern-js/builder-webpack-provider';\n\nconst provider = builderWebpackProvider({\n  builderConfig: {\n    // some configs\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"初始化 Rspack Provider："}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { createBuilder } from '@modern-js/builder';\nimport { builderRspackProvider } from '@modern-js/builder-rspack-provider';\n\nconst provider = builderRspackProvider({\n  builderConfig: {\n    // some configs\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.p,{children:["拿到 provider 实例后，你可以调用 ",(0,i.jsx)(n.code,{children:"createBuilder"})," 方法来创建一个 Builder 实例对象："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const builder = await createBuilder(provider, {\n  entry: {\n    index: './src/index.ts',\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.p,{children:["除了上述示例中的 ",(0,i.jsx)(n.code,{children:"entry"})," 选项，",(0,i.jsx)(n.code,{children:"createBuilder"})," 方法也提供了一些其他的选项，你可以在 ",(0,i.jsx)(n.a,{href:"/api/builder-core#createbuilder",children:"API - createBuilder"})," 中进一步了解。"]}),"\n",(0,i.jsxs)(n.h3,{id:"3-调用-builder-实例方法",children:["3. 调用 Builder 实例方法",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#3-调用-builder-实例方法",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder 实例提供了与构建相关的各个方法，你可以根据实际场景来进行使用。"}),"\n",(0,i.jsxs)(n.p,{children:["在本地开发场景，建议使用 ",(0,i.jsx)(n.a,{href:"/api/builder-instance#builder-startdevserver",children:"builder.startDevServer"})," 方法，调用后会启动本地 Dev Server。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"await builder.startDevServer();\n"})}),"\n",(0,i.jsx)(n.p,{children:"成功启动 Dev Server 后，可以看到以下日志信息："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"info    Starting dev server...\ninfo    Dev server running at:\n\n  > Local:    http://localhost:8081\n  > Network:  http://192.168.0.1:8081\n"})}),"\n",(0,i.jsxs)(n.p,{children:["在生产环境部署场景，建议使用 ",(0,i.jsx)(n.a,{href:"/api/builder-instance#builder-build",children:"builder.build"})," 方法，调用后会构建出生产环境产物。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"await builder.build();\n"})}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["关于 Builder 实例方法的更多介绍，请阅读 ",(0,i.jsx)(n.a,{href:"/api/builder-instance",children:"Builder Instance"})," 章节。"]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"通过以上三个步骤，你已经了解了 Builder 基本的使用方法。接下来你可以通过 Builder 插件和 Builder 配置来对构建流程进行定制。"}),"\n",(0,i.jsxs)(n.h2,{id:"下一步",children:["下一步",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#下一步",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"你可能想要："}),"\n","\n",(0,i.jsxs)(o.default,{children:[(0,i.jsx)(a.default,{href:"/guide/glossary.html",title:"名词解释",description:"了解 Builder 相关的概念"}),(0,i.jsx)(a.default,{href:"/guide/features.html",title:"功能导航",description:"了解 Builder 提供的所有功能"}),(0,i.jsx)(a.default,{href:"/api/index.html",title:"查阅 API",description:"查看详细的 API 文档"})]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fguide%2Fquick-start.mdx"]={toc:[{text:"环境准备",id:"环境准备",depth:2},{text:"使用 Modern.js 框架",id:"使用-modernjs-框架",depth:2},{text:"使用 Builder CLI 工具",id:"使用-builder-cli-工具",depth:2},{text:"在前端框架中接入",id:"在前端框架中接入",depth:2},{text:"1. 安装 Builder",id:"1-安装-builder",depth:3},{text:"2. 创建 Builder 实例",id:"2-创建-builder-实例",depth:3},{text:"3. 调用 Builder 实例方法",id:"3-调用-builder-实例方法",depth:3},{text:"下一步",id:"下一步",depth:2}],title:"快速上手",frontmatter:{}};var c=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},17713:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){return(0,i.jsx)(i.Fragment,{})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Findex.md"]={toc:[],title:"",frontmatter:{pageType:"home",hero:{name:"Modern.js Builder",tagline:"面向 Web 开发场景的构建引擎",actions:[{theme:"brand",text:"介绍",link:"/guide/introduction.html"},{theme:"alt",text:"快速上手",link:"/guide/quick-start.html"}]},features:[{title:"Rust 构建",details:"轻松切换到 Rspack 构建工具，编译飞快。",icon:"\uD83D\uDE80"},{title:"深度优化",details:"自动优化静态资源，产物性能有保障。",icon:"\uD83C\uDF6D"},{title:"开箱即用",details:"基于字节跳动数千个应用的实践经验，各种能力开箱即用。",icon:"\uD83D\uDCE6"},{title:"易于配置",details:"以零配置启动，然后一切皆可配置。",icon:"\uD83D\uDCD6"},{title:"可插拔",details:"自带轻量级插件系统，满足你的定制诉求。",icon:"\uD83C\uDFA8"},{title:"多种产物",details:"支持构建出运行在 Node.js、Web Worker 等环境的产物。",icon:"✨"}]}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},47166:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",ul:"ul",li:"li",h2:"h2",code:"code",pre:"pre",strong:"strong",h3:"h3"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"插件系统",children:["插件系统",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#插件系统",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder 提供了一套轻量强大的插件系统，用以实现自身的大多数功能，并允许用户进行扩展。\n开发者编写的插件能够修改 Builder 的默认行为并添加各类额外功能，包括但不限于："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"修改 bundler 配置"}),"\n",(0,i.jsx)(n.li,{children:"处理新的文件类型"}),"\n",(0,i.jsx)(n.li,{children:"修改或编译文件"}),"\n",(0,i.jsx)(n.li,{children:"部署产物"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Builder 底层支持 webpack 和 Rspack 等 bundler，并提供统一的 Node.js API 来抹平插件开发的差异，进而接入不同的上层框架、降低用户对底层 bundler 切换的感知。"}),"\n",(0,i.jsxs)(n.h2,{id:"开发插件",children:["开发插件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#开发插件",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["插件提供类似 ",(0,i.jsx)(n.code,{children:"(options?: PluginOptions) => BuilderPlugin"})," 的函数作为入口，建议将插件函数命名为 ",(0,i.jsx)(n.code,{children:"builderPluginXXX"}),"。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import type { BuilderPlugin } from '@modern-js/builder-webpack-provider';\n\nexport interface PluginFooOptions {\n  message?: string;\n}\n\nexport const builderPluginFoo = (\n  options?: PluginFooOptions,\n): BuilderPlugin => ({\n  name: 'plugin-foo',\n  setup(api) {\n    api.onExit(() => {\n      const msg = options.message || 'finish.';\n      console.log(msg);\n    });\n  },\n});\n\nbuilder.addPlugins([builderPluginFoo({ message: 'some other message.' })]);\n"})}),"\n",(0,i.jsxs)(n.p,{children:["函数形式的插件可以 ",(0,i.jsx)(n.strong,{children:"接受选项对象"})," 并 ",(0,i.jsx)(n.strong,{children:"返回插件实例"}),"，并通过闭包机制管理内部状态。"]}),"\n",(0,i.jsx)(n.p,{children:"其中各部分的作用分别为："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"name"})," 属性用于标注插件名称"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"setup"})," 作为插件逻辑的主入口"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"api"})," 对象包含了各类钩子和工具函数"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["为了便于识别，插件名称需要包含约定的 ",(0,i.jsx)(n.code,{children:"builder-plugin"})," 前缀，例如 ",(0,i.jsx)(n.code,{children:"builder-plugin-foo"})," ",(0,i.jsx)(n.code,{children:"@scope/builder-plugin-bar"})," 等。"]}),"\n",(0,i.jsxs)(n.h2,{id:"生命周期钩子",children:["生命周期钩子",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#生命周期钩子",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Builder 在内部按照约定的生命周期进行任务调度，插件可以通过注册钩子来介入工作流程的任意阶段，并实现自己的功能。"}),"\n",(0,i.jsxs)(n.p,{children:["Builder 生命周期钩子的完整列表参考 ",(0,i.jsx)(n.a,{href:"/api/plugin-hooks",children:"API 文档"}),"。"]}),"\n",(0,i.jsxs)(n.p,{children:["Builder 不会接管底层 Bundler 的生命周期，相关生命周期钩子的使用方式见对应文档：",(0,i.jsx)(n.a,{href:"https://webpack.js.org/api/compiler-hooks/",target:"_blank",rel:"noopener noreferrer",children:"webpack hooks"})]}),"\n",(0,i.jsxs)(n.h2,{id:"使用配置项",children:["使用配置项",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#使用配置项",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"自行编写的插件通常使用初始化时传入函数的参数作为配置项即可，开发者可以随意定义和使用函数的入参。"}),"\n",(0,i.jsx)(n.p,{children:"但某些情况下插件可能需要读取 / 修改 Builder 公用的配置项，这时就需要了解 Builder 内部对配置项的生产和消费流程："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"读取、解析配置并合并默认值"}),"\n",(0,i.jsxs)(n.li,{children:["插件通过 ",(0,i.jsx)(n.code,{children:"api.modifyBuilderConfig(...)"})," 回调修改配置项"]}),"\n",(0,i.jsx)(n.li,{children:"归一化配置项并提供给插件后续消费，此后无法再修改配置项"}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"整套流程可以通过这个简单的插件体现："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"export const builderPluginUploadDist = (): BuilderPlugin => ({\n  name: 'plugin-upload-dist',\n  setup(api) {\n    api.modifyBuilderConfig(config => {\n      // 尝试关闭代码压缩，需要自己填充默认值\n      config.output ||= {};\n      config.output.disableMinimize = true;\n      // 轮到其它插件修改配置...\n    });\n    api.onBeforeBuild(() => {\n      // 读取最终的配置\n      const config = api.getNormalizedConfig();\n      if (!config.output.disableMinimize) {\n        // 其它插件又启用了压缩则报错\n        throw new Error(\n          'You must disable minimize to upload readable dist files.',\n        );\n      }\n    });\n    api.onAfterBuild(() => {\n      const config = api.getNormalizedConfig();\n      const distRoot = config.output.distPath.root;\n      // TODO: 上传 `distRoot` 目录下所有产物文件\n    });\n  },\n});\n"})}),"\n",(0,i.jsx)(n.p,{children:"插件中有三种方式使用配置项对象："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"api.modifyBuilderConfig(config => {})"})," 在回调中修改配置"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"api.getBuilderConfig()"})," 获取配置项"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"api.getNormalizedConfig()"})," 获取归一化后的配置项"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["归一化的配置项会再次合并默认值并移除大部分可选类型，对于 ",(0,i.jsx)(n.code,{children:"PluginUploadDist"})," 的例子其部分类型定义为："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"api.modifyBuilderConfig((config: BuilderConfig) => {});\napi.getBuilderConfig() as BuilderConfig;\ntype BuilderConfig = {\n  output?: {\n    disableMinimize?: boolean;\n    distPath?: { root?: string };\n  };\n};\n\napi.getNormalizedConfig() as NormalizedConfig;\ntype NormalizedConfig = {\n  output: {\n    disableMinimize: boolean;\n    distPath: { root: string };\n  };\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"getNormalizedConfig()"})," 的返回值类型与 ",(0,i.jsx)(n.code,{children:"BuilderConfig"})," 的略有不同、相比文档其它地方描述的类型进行了收窄，\n在使用时无需自行判空、填充默认值。"]}),"\n",(0,i.jsx)(n.p,{children:"因此使用配置项的最佳方式应该是："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["通过 ",(0,i.jsx)(n.code,{children:"api.modifyBuilderConfig(config => {})"})," 来",(0,i.jsx)(n.strong,{children:"修改配置"})]}),"\n",(0,i.jsxs)(n.li,{children:["在其后的生命周期中读取 ",(0,i.jsx)(n.code,{children:"api.getNormalizedConfig()"})," 作为插件",(0,i.jsx)(n.strong,{children:"实际使用的配置"})]}),"\n"]}),"\n",(0,i.jsxs)(n.h2,{id:"修改-webpack-配置",children:["修改 webpack 配置",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#修改-webpack-配置",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"插件可以通过多种方式修改 webpack 的配置项。"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"api.modifyWebpackChain(chain => {})"})," 修改 webpack-chain"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"api.modifyWebpackConfig(config => {})"})," 修改最终的 webpack 配置"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"api.onAfterCreateCompiler(compiler => {})"})," 直接操作 webpack 实例"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["通常推荐使用 ",(0,i.jsx)(n.a,{href:"https://github.com/neutrinojs/webpack-chain",target:"_blank",rel:"noopener noreferrer",children:"neutrinojs/webpack-chain"})," 提供的链式 API 来修改 webpack 配置的工作。"]}),"\n",(0,i.jsxs)(n.p,{children:["Builder 使用的是兼容 webpack5 的修改版本：",(0,i.jsx)(n.a,{href:"https://github.com/sorrycc/webpack-chain",target:"_blank",rel:"noopener noreferrer",children:"sorrycc/webpack-chain"}),"。"]}),"\n",(0,i.jsxs)(n.h2,{id:"参考范例",children:["参考范例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#参考范例",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"修改-loader",children:["修改 Loader",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#修改-loader",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Loader 可以读取和处理不同类型的文件模块，具体参考 ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/concepts/loaders",target:"_blank",rel:"noopener noreferrer",children:"concepts"})," 和 ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/loaders/",target:"_blank",rel:"noopener noreferrer",children:"loaders"}),"。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import type { BuilderPlugin } from '@modern-js/builder-webpack-provider';\n\nexport const builderPluginTypeScriptExt = (): BuilderPlugin => ({\n  name: 'builder-typescript-ext',\n  setup(api) {\n    api.modifyWebpackChain(async chain => {\n      // 设置 ts-loader 将更多的文件识别为 typescript 模块\n      chain.module.rule(CHAIN_ID.RULE.TS).test(/\\.(ts|mts|cts|tsx|tss|tsm)$/);\n    });\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"添加模块入口",children:["添加模块入口",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#添加模块入口",children:"#"})]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import type { BuilderPlugin } from '@modern-js/builder-webpack-provider';\n\nexport const builderPluginAdminPanel = (): BuilderPlugin => ({\n  name: 'builder-admin-panel',\n  setup(api) {\n    api.modifyWebpackChain(async chain => {\n      config.entry('admin-panel').add('src/admin/panel.js');\n    });\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"接入-webpack-插件",children:["接入 webpack 插件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#接入-webpack-插件",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"开发者可以在 Builder 插件中接入已有的 webpack 插件来平缓迁移项目："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import type { BuilderPlugin } from '@modern-js/builder-webpack-provider';\nimport type { Options } from '@modern-js/inspector-webpack-plugin';\n\nexport const builderPluginInspector = (options?: Options): BuilderPlugin => ({\n  name: 'builder-plugin-inspector',\n  setup(api) {\n    api.modifyWebpackChain(async chain => {\n      // 仅在需要的时候动态加载模块，避免不必要的性能消耗\n      const { InspectorWebpackPlugin } = await import(\n        '@modern-js/inspector-webpack-plugin'\n      );\n      // 修改 webpack chain 接入插件\n      chain\n        .plugin('inspector-webpack-plugin')\n        .use(InspectorWebpackPlugin, [inspectorOptions]);\n    });\n  },\n});\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fplugins%2Fintroduction.md"]={toc:[{text:"开发插件",id:"开发插件",depth:2},{text:"生命周期钩子",id:"生命周期钩子",depth:2},{text:"使用配置项",id:"使用配置项",depth:2},{text:"修改 webpack 配置",id:"修改-webpack-配置",depth:2},{text:"参考范例",id:"参考范例",depth:2},{text:"修改 Loader",id:"修改-loader",depth:3},{text:"添加模块入口",id:"添加模块入口",depth:3},{text:"接入 webpack 插件",id:"接入-webpack-插件",depth:3}],title:"插件系统",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},70859:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",h2:"h2",ul:"ul",li:"li",p:"p"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"总览",children:["总览",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#总览",children:"#"})]}),"\n",(0,i.jsxs)(n.h2,{id:"官方插件",children:["官方插件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#官方插件",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/plugins/plugin-vue",children:"@modern-js/builder-plugin-vue"}),"：用于构建 Vue 3 应用。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/plugins/plugin-swc",children:"@modern-js/builder-plugin-swc"}),"：使用 SWC 进行代码编译和压缩以提升构建性能。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/plugins/plugin-stylus",children:"@modern-js/builder-plugin-stylus"}),"：使用 Stylus 作为 CSS 预处理器。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/plugins/plugin-esbuild",children:"@modern-js/builder-plugin-esbuild"}),"：使用 esbuild 进行代码编译和压缩以提升构建性能。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/plugins/plugin-node-polyfill",children:"@modern-js/builder-plugin-node-polyfill"}),"：注入 Node 核心模块在浏览器端的 Polyfills。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/plugins/plugin-image-compress",children:"@modern-js/builder-plugin-image-compress"}),"：将项目中用到的图片资源进行压缩处理。"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["你可以在 ",(0,i.jsx)(n.a,{href:"https://github.com/web-infra-dev/modern.js/tree/main/packages/builder",target:"_blank",rel:"noopener noreferrer",children:"modern.js/packages/builder"})," 目录下找到这些插件的源代码。"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fplugins%2Flist.md"]={toc:[{text:"官方插件",id:"官方插件",depth:2}],title:"总览",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},62103:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var t,i=r("9880"),s=r("23169"),l=r.ir(r("27349"));function o(e){let n=Object.assign({h1:"h1",a:"a",div:"div",p:"p",h2:"h2",h3:"h3",pre:"pre",code:"code",h4:"h4",ul:"ul",li:"li",strong:"strong"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"esbuild-插件",children:["Esbuild 插件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#esbuild-插件",children:"#"})]}),"\n","\n",(0,i.jsx)(l.default,{}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"推荐使用 SWC"}),(0,i.jsxs)(n.div,{className:"modern-directive-content",children:[(0,i.jsx)(n.p,{children:"相较于 esbuild，我们更推荐使用 SWC 来编译和压缩代码，因为 SWC 支持更多的语法特性、提供更好的代码压缩能力，并且产物具备更好的兼容性。"}),"\n",(0,i.jsxs)(n.p,{children:["因此，我们建议你使用 SWC 而不是 esbuild，用法请参考 ",(0,i.jsx)(n.a,{href:"/plugins/plugin-swc",children:"SWC 插件"}),"。"]}),"\n"]})]}),"\n",(0,i.jsxs)(n.h2,{id:"快速开始",children:["快速开始",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#快速开始",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"在-modernjs-框架中使用",children:["在 Modern.js 框架中使用",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#在-modernjs-框架中使用",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Modern.js 框架默认集成了 Builder 的 esbuild 插件，因此，你不需要手动安装和注册插件，只需要使用 ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/configure/app/tools/esbuild.html",target:"_blank",rel:"noopener noreferrer",children:"tools.esbuild"})," 配置项即可："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default defineConfig({\n  tools: {\n    esbuild: {\n      loader: {\n        target: 'chrome61',\n      },\n      minimize: {\n        target: 'chrome61',\n      },\n    },\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"通过-node-api-使用",children:["通过 Node API 使用",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#通过-node-api-使用",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"如果你直接使用了 Builder 的 Node API，那么需要手动安装和注册 esbuild 插件。"}),"\n",(0,i.jsxs)(n.h4,{id:"安装插件",children:["安装插件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#安装插件",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"你可以通过如下的命令安装插件:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# npm\nnpm install @modern-js/builder-plugin-esbuild -D\n\n# yarn\nyarn add @modern-js/builder-plugin-esbuild -D\n\n# pnpm\npnpm add @modern-js/builder-plugin-esbuild -D\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"注册插件",children:["注册插件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#注册插件",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["通过 ",(0,i.jsx)(n.code,{children:"addPlugins"})," 方法来注册 esbuild 插件："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import { builderPluginEsbuild } from '@modern-js/builder-plugin-esbuild';\n\n// 往 builder 实例上添加插件\nbuilder.addPlugins([builderPluginEsbuild()]);\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"配置",children:["配置",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#配置",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"插件默认会开启代码转译和代码压缩的功能，你也可以通过配置来自定义插件的行为。"}),"\n",(0,i.jsxs)(n.h3,{id:"loader",children:["loader",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#loader",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type LoaderOptions = EsbuildLoaderOptions | false | undefined;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"默认值："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const defaultOptions = {\n  target: 'es2015',\n  charset: builderConfig.output.charset,\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"这个选项用于启用 JavaScript 和 TypeScript 的转译，启用时将会使用 esbuild-loader 替换 babel-loader 和 ts-loader。"}),"\n",(0,i.jsxs)(n.p,{children:["如果你需要修改转译参数，可以查看 ",(0,i.jsx)(n.a,{href:"https://github.com/privatenumber/esbuild-loader#loader",target:"_blank",rel:"noopener noreferrer",children:"esbuild-loader 文档"}),"。"]}),"\n",(0,i.jsxs)(n.h4,{id:"设置-jsx-格式",children:["设置 JSX 格式",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#设置-jsx-格式",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["在使用 esbuild 进行代码转译时，esbuild 默认会读取 ",(0,i.jsx)(n.code,{children:"tsconfig.json"})," 中的 ",(0,i.jsx)(n.code,{children:"compilerOptions.jsx"})," 字段，来决定使用哪种 JSX 语法。"]}),"\n",(0,i.jsxs)(n.p,{children:["因此，你需要在 ",(0,i.jsx)(n.code,{children:"tsconfig.json"})," 中设置正确的 JSX 语法。"]}),"\n",(0,i.jsxs)(n.p,{children:["比如 React 项目，需要将 ",(0,i.jsx)(n.code,{children:"compilerOptions.jsx"})," 设置为 ",(0,i.jsx)(n.code,{children:"react-jsx"}),"："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\n  "compilerOptions": {\n    "jsx": "react-jsx"\n  }\n}\n'})}),"\n",(0,i.jsxs)(n.h4,{id:"修改目标环境",children:["修改目标环境",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#修改目标环境",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["通过 ",(0,i.jsx)(n.code,{children:"target"})," 选项来修改代码转译的目标环境。",(0,i.jsx)(n.code,{children:"target"})," 可以直接设置为 JavaScript 语言版本，比如 ",(0,i.jsx)(n.code,{children:"es6"}),"，",(0,i.jsx)(n.code,{children:"es2020"}),"；也可以设置为若干个目标环境，每个目标环境都是一个环境名称后跟一个版本号，比如 ",(0,i.jsx)(n.code,{children:"['chrome58', 'edge16' ,'firefox57']"}),"。",(0,i.jsx)(n.code,{children:"target"})," 字段的详细介绍可以参考 ",(0,i.jsx)(n.a,{href:"https://esbuild.github.io/api/#target",target:"_blank",rel:"noopener noreferrer",children:"esbuild - target"}),"。"]}),"\n",(0,i.jsx)(n.p,{children:"target 支持设置为以下环境："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"chrome"}),"\n",(0,i.jsx)(n.li,{children:"edge"}),"\n",(0,i.jsx)(n.li,{children:"firefox"}),"\n",(0,i.jsx)(n.li,{children:"ie"}),"\n",(0,i.jsx)(n.li,{children:"ios"}),"\n",(0,i.jsx)(n.li,{children:"node"}),"\n",(0,i.jsx)(n.li,{children:"opera"}),"\n",(0,i.jsx)(n.li,{children:"safari"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builderPluginEsbuild({\n  loader: {\n    target: 'chrome61',\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"关闭代码转译",children:["关闭代码转译",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#关闭代码转译",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["将 ",(0,i.jsx)(n.code,{children:"loader"})," 设置为 ",(0,i.jsx)(n.code,{children:"false"})," 来关闭 esbuild 代码转译，此时 Builder 会继续使用 Babel 来进行代码转译。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builderPluginEsbuild({\n  loader: false,\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"minimize",children:["minimize",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#minimize",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type MinimizeOptions = EsbuildMinifyOptions | false | undefined;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"默认值："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const defaultOptions = {\n  css: true,\n  target: 'es2015',\n  format: builderTarget === 'web' ? 'iife' : undefined,\n};\n"})}),"\n",(0,i.jsx)(n.p,{children:"这个选项用于启用 JavaScript 和 CSS 的代码压缩。"}),"\n",(0,i.jsxs)(n.p,{children:["如果你需要修改压缩参数，可以查看 ",(0,i.jsx)(n.a,{href:"https://github.com/privatenumber/esbuild-loader#minifyplugin",target:"_blank",rel:"noopener noreferrer",children:"esbuild-loader 文档"}),"。"]}),"\n",(0,i.jsxs)(n.h4,{id:"修改目标环境-1",children:["修改目标环境",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#修改目标环境-1",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["通过 ",(0,i.jsx)(n.code,{children:"target"})," 选项来修改代码压缩的目标环境。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builderPluginEsbuild({\n  minimize: {\n    target: 'chrome61',\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"关闭代码压缩",children:["关闭代码压缩",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#关闭代码压缩",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["将 ",(0,i.jsx)(n.code,{children:"minimize"})," 设置为 ",(0,i.jsx)(n.code,{children:"false"})," 来关闭 esbuild 代码压缩，此时 Builder 会继续使用 Terser 进行代码压缩。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builderPluginEsbuild({\n  minimize: false,\n});\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"esbuild-局限性",children:["esbuild 局限性",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#esbuild-局限性",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"虽然 esbuild 能给现有的 webpack 项目带来明显的构建性能提升，但这个工具在接入 Builder 时还存在一定的局限性，需要大家在接入的时候格外注意。"}),"\n",(0,i.jsxs)(n.h3,{id:"兼容性",children:["兼容性",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#兼容性",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["使用 esbuild 进行代码转译时（即 ",(0,i.jsx)(n.code,{children:"loader"})," 能力），esbuild 通常最低支持到 ES2015（即 ES6）语法，并且不具备自动注入 Polyfill 的能力。如果生产环境需要降级到 ES5 及以下的语法，建议使用 SWC 编译。"]}),"\n",(0,i.jsx)(n.p,{children:"你可以通过如下的配置指定目标语法版本:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builderPluginEsbuild({\n  loader: {\n    target: 'es2015',\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.p,{children:["使用 esbuild 进行代码压缩时（即 ",(0,i.jsx)(n.code,{children:"minimize"})," 能力），esbuild 可以在生产环境中进行压缩和混淆，通常最低支持到 ES2015 语法。"]}),"\n",(0,i.jsxs)(n.p,{children:["如果设置压缩的 ",(0,i.jsx)(n.code,{children:"target"})," 为 ",(0,i.jsx)(n.code,{children:"es5"}),"，需要保证所有代码已经被转义为 ES5 代码，否则会导致 esbuild 编译报错：",(0,i.jsx)(n.code,{children:"Transforming 'xxx' to the configured target environment (\"es5\") is not supported yet"}),"。"]}),"\n",(0,i.jsx)(n.p,{children:"因此，对于生产环境需要兼容 ES5 及以下语法的项目，请谨慎开启 minimize 能力，建议使用 SWC 压缩。"}),"\n",(0,i.jsx)(n.p,{children:"你可以通过如下的配置指定目标语法版本:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builderPluginEsbuild({\n  minimize: {\n    target: 'es2015',\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"不支持-babel-插件",children:["不支持 Babel 插件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#不支持-babel-插件",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["使用 esbuild 进行代码转译时，诸如 ",(0,i.jsx)(n.code,{children:"babel-plugin-import"})," 等原有 Babel 插件的语法编译功能在开启 esbuild 后无法使用。并且由于 Builder 底层使用的是 esbuild 的 ",(0,i.jsx)(n.code,{children:"Transform API"}),"，因此不支持使用额外 esbuild 插件来进行自定义编译过程。"]}),"\n",(0,i.jsxs)(n.p,{children:["如果你有 ",(0,i.jsx)(n.code,{children:"babel-plugin-import"})," 等 Babel 插件相关诉求，可以使用 SWC 插件。"]}),"\n",(0,i.jsxs)(n.h3,{id:"产物体积",children:["产物体积",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#产物体积",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["使用 esbuild 压缩虽然带来了构建效率上的提升，但 esbuild 的压缩比例是低于 terser 的，因此",(0,i.jsx)(n.strong,{children:"构建产物的体积会增大"}),"，请根据业务情况酌情使用。通常来说，esbuild 比较适合中后台等对体积不敏感的场景。"]}),"\n",(0,i.jsxs)(n.p,{children:["对于压缩工具之间的详细对比，可以参考 ",(0,i.jsx)(n.a,{href:"https://github.com/privatenumber/minification-benchmarks",target:"_blank",rel:"noopener noreferrer",children:"minification-benchmarks"}),"。"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fplugins%2Fplugin-esbuild.mdx"]={toc:[{text:"快速开始",id:"快速开始",depth:2},{text:"在 Modern.js 框架中使用",id:"在-modernjs-框架中使用",depth:3},{text:"通过 Node API 使用",id:"通过-node-api-使用",depth:3},{text:"安装插件",id:"安装插件",depth:4},{text:"注册插件",id:"注册插件",depth:4},{text:"配置",id:"配置",depth:2},{text:"loader",id:"loader",depth:3},{text:"设置 JSX 格式",id:"设置-jsx-格式",depth:4},{text:"修改目标环境",id:"修改目标环境",depth:4},{text:"关闭代码转译",id:"关闭代码转译",depth:4},{text:"minimize",id:"minimize",depth:3},{text:"修改目标环境",id:"修改目标环境-1",depth:4},{text:"关闭代码压缩",id:"关闭代码压缩",depth:4},{text:"esbuild 局限性",id:"esbuild-局限性",depth:2},{text:"兼容性",id:"兼容性",depth:3},{text:"不支持 Babel 插件",id:"不支持-babel-插件",depth:3},{text:"产物体积",id:"产物体积",depth:3}],title:"Esbuild 插件",frontmatter:{}};var a=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},27438:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",div:"div",h3:"h3",pre:"pre",code:"code"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"image-compress-插件",children:["Image Compress 插件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#image-compress-插件",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Image Compress 插件会将项目中用到的图片资源进行压缩处理，进而在图片视觉观感不受影响的同时减小产物体积。"}),"\n",(0,i.jsxs)(n.h2,{id:"快速开始",children:["快速开始",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#快速开始",children:"#"})]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"在使用 Rspack 作为打包工具时，Image Compress 插件暂不支持使用。"})})]}),"\n",(0,i.jsxs)(n.h3,{id:"安装插件",children:["安装插件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#安装插件",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"你可以通过如下的命令安装插件:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# npm\nnpm install @modern-js/builder-plugin-image-compress -D\n\n# yarn\nyarn add @modern-js/builder-plugin-image-compress -D\n\n# pnpm\npnpm add @modern-js/builder-plugin-image-compress -D\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"注册插件",children:["注册插件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#注册插件",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["在 Modern.js 等上层框架中，你可以通过 ",(0,i.jsx)(n.code,{children:"builderPlugins"})," 配置项来注册 Image Compress 插件："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { builderPluginImageCompress } from '@modern-js/builder-plugin-image-compress';\n\nexport default {\n  builderPlugins: [builderPluginImageCompress()],\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["当你直接调用 Builder 的 Node API 时，可以通过 ",(0,i.jsx)(n.code,{children:"addPlugins"})," 方法来注册 Image Compress 插件："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import { builderPluginImageCompress } from '@modern-js/builder-plugin-image-compress';\n\n// 往 builder 实例上添加插件\nbuilder.addPlugins([builderPluginImageCompress()]);\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"配置项",children:["配置项",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#配置项",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["插件接受一系列压缩器配置项组成的数组，数组的每一项既可以是字符串也可以是对象。字符串代表使用对应名称的压缩器并启用其默认配置，\n或是使用对象格式配置并在 ",(0,i.jsx)(n.code,{children:"use"})," 字段指定压缩器，对象的剩余字段将作为压缩器的配置项。"]}),"\n",(0,i.jsxs)(n.p,{children:["插件默认会开启 ",(0,i.jsx)(n.code,{children:"jpeg"}),", ",(0,i.jsx)(n.code,{children:"png"}),", ",(0,i.jsx)(n.code,{children:"ico"})," 三种图片压缩器，即等同于如下两种写法的配置："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"builderPluginImageCompress(['jpeg', 'png', 'ico']);\n"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"builderPluginImageCompress([{ use: 'jpeg' }, { use: 'png' }, { use: 'ico' }]);\n"})}),"\n",(0,i.jsx)(n.p,{children:"通过指定配置项可以覆盖默认配置，例如让 jpeg 压缩器识别新的拓展名并设置 png 压缩器的质量："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"builderPluginImageCompress([\n  { use: 'jpeg', test: /\\.(jpg|jpeg|jpe)$/ },\n  { use: 'png', minQuality: 50 },\n  'ico',\n]);\n"})}),"\n",(0,i.jsxs)(n.p,{children:["默认的 ",(0,i.jsx)(n.code,{children:"png"})," 压缩器为有损压缩，如果需要将其替换为无损压缩器，你可以使用如下配置："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"builderPluginImageCompress(['jpeg', 'pngLossless', 'ico']);\n"})}),"\n",(0,i.jsxs)(n.p,{children:["配置项列表最终会转换成对应的 bundler loader 配置，因此压缩器也遵循从下到上依次匹配的规则。\n例如对于如下配置，",(0,i.jsx)(n.code,{children:"png"})," 压缩器会优先于 ",(0,i.jsx)(n.code,{children:"pngLossless"})," 压缩器生效："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"builderPluginImageCompress(['jpeg', 'pngLossless', 'ico', 'png']);\n"})}),"\n",(0,i.jsxs)(n.p,{children:["压缩器的具体配置项请参考 ",(0,i.jsx)(n.a,{href:"https://image.napi.rs/docs",target:"_blank",rel:"noopener noreferrer",children:"@napi-rs/image"}),"。"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fplugins%2Fplugin-image-compress.mdx"]={toc:[{text:"快速开始",id:"快速开始",depth:2},{text:"安装插件",id:"安装插件",depth:3},{text:"注册插件",id:"注册插件",depth:3},{text:"配置项",id:"配置项",depth:2}],title:"Image Compress 插件",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},92591:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",div:"div",p:"p",h2:"h2",h3:"h3",code:"code",pre:"pre",h4:"h4",ul:"ul",li:"li"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"node-polyfill-插件",children:["Node Polyfill 插件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#node-polyfill-插件",children:"#"})]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"Node Polyfill 介绍"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"通常情况下，我们不会在浏览器端使用 Node 模块。但在当前代码需要同时在 Node 端和浏览器端运行时，用到一些 Node 模块是有可能的。Node Polyfill 为这些 Node 模块提供了浏览器版本的 polyfills。"})})]}),"\n",(0,i.jsx)(n.p,{children:"通过使用 Node Polyfill 插件，会自动注入 Node 核心模块在浏览器端的 polyfills，让你可以在浏览器端放心使用这些模块。"}),"\n",(0,i.jsxs)(n.h2,{id:"快速开始",children:["快速开始",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#快速开始",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"在-modernjs-框架中使用",children:["在 Modern.js 框架中使用",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#在-modernjs-框架中使用",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["Modern.js 框架默认集成了 Builder 的 Node Polyfill 插件，因此，你不需要手动安装和注册插件，只需要将 ",(0,i.jsx)(n.a,{href:"https://modernjs.dev/configure/app/output/disable-node-polyfill.html",target:"_blank",rel:"noopener noreferrer",children:"output.disableNodePolyfill"})," 设置为 ",(0,i.jsx)(n.code,{children:"false"})," 即可："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"export default defineConfig({\n  output: {\n    disableNodePolyfill: false,\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"通过-node-api-使用",children:["通过 Node API 使用",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#通过-node-api-使用",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"如果你直接使用了 Builder 的 Node API，那么需要手动安装和注册 Node Polyfill 插件。"}),"\n",(0,i.jsxs)(n.h4,{id:"安装插件",children:["安装插件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#安装插件",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"你可以通过如下的命令安装插件:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# npm\nnpm install @modern-js/builder-plugin-node-polyfill -D\n\n# yarn\nyarn add @modern-js/builder-plugin-node-polyfill -D\n\n# pnpm\npnpm add @modern-js/builder-plugin-node-polyfill -D\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"注册插件",children:["注册插件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#注册插件",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["通过 ",(0,i.jsx)(n.code,{children:"addPlugins"})," 方法来注册 Node Polyfill 插件："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import { builderPluginNodePolyfill } from '@modern-js/builder-plugin-node-polyfill';\n\n// 往 builder 实例上添加插件\nbuilder.addPlugins([builderPluginNodePolyfill()]);\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"node-polyfills",children:["Node Polyfills",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#node-polyfills",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"globals",children:["Globals",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#globals",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"Buffer"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"process"})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"当你在代码中使用以上全局变量时，对应 polyfill 会被自动注入。"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const bufferData = Buffer.from('xxxx');\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"modules",children:["Modules",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#modules",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"assert"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"buffer"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"console"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"constants"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"crypto"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"domain"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"events"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"http"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"https"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"os"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"path"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"punycode"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"process"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"querystring"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"stream"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"_stream_duplex"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"_stream_passthrough"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"_stream_readable"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"_stream_transform"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"_stream_writable"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"string_decoder"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"sys"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"timers"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"tty"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"url"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"util"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"vm"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"zlib"})}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["当你通过 ",(0,i.jsx)(n.code,{children:"require"})," 或 ",(0,i.jsx)(n.code,{children:"import"})," 等语法在代码中引用以上模块时，对应 polyfill 会被注入。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { Buffer } from 'buffer';\n\nconst bufferData = Buffer.from('xxxx');\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"fallbacks",children:["Fallbacks",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#fallbacks",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"child_process"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"cluster"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"dgram"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"dns"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"fs"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"module"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"net"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"readline"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"repl"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"tls"})}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"目前浏览器端没有以上模块的 polyfill，因此当你引用以上模块时，会自动 fallback 为一个空对象。"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import fs from 'fs';\n\nconsole.log(fs); // -> {}\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fplugins%2Fplugin-node-polyfill.mdx"]={toc:[{text:"快速开始",id:"快速开始",depth:2},{text:"在 Modern.js 框架中使用",id:"在-modernjs-框架中使用",depth:3},{text:"通过 Node API 使用",id:"通过-node-api-使用",depth:3},{text:"安装插件",id:"安装插件",depth:4},{text:"注册插件",id:"注册插件",depth:4},{text:"Node Polyfills",id:"node-polyfills",depth:2},{text:"Globals",id:"globals",depth:3},{text:"Modules",id:"modules",depth:3},{text:"Fallbacks",id:"fallbacks",depth:3}],title:"Node Polyfill 插件",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},68859:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",h3:"h3",pre:"pre",code:"code",ul:"ul",li:"li",strong:"strong"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"stylus-插件",children:["Stylus 插件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#stylus-插件",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Stylus 是一个富于表现力、动态的、健壮的 CSS 预处理器，本章节介绍如何在 Builder 中使用 Stylus。"}),"\n",(0,i.jsxs)(n.h2,{id:"快速开始",children:["快速开始",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#快速开始",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"安装插件",children:["安装插件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#安装插件",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"你可以通过如下的命令安装插件:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# npm\nnpm install @modern-js/builder-plugin-stylus -D\n\n# yarn\nyarn add @modern-js/builder-plugin-stylus -D\n\n# pnpm\npnpm install @modern-js/builder-plugin-stylus -D\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"注册插件",children:["注册插件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#注册插件",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["在 Modern.js 等上层框架中，你可以通过 ",(0,i.jsx)(n.code,{children:"builderPlugins"})," 配置项来注册 Stylus 插件："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { builderPluginStylus } from '@modern-js/builder-plugin-stylus';\n\nexport default {\n  builderPlugins: [builderPluginStylus()],\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["当你直接调用 Builder 的 Node API 时，可以通过 ",(0,i.jsx)(n.code,{children:"addPlugins"})," 方法来注册 Stylus 插件："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import { builderPluginStylus } from '@modern-js/builder-plugin-stylus';\n\n// 往 builder 实例上添加插件\nbuilder.addPlugins([builderPluginStylus()]);\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"示例",children:["示例",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#示例",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["安装完插件后，你可以直接在代码中引入 ",(0,i.jsx)(n.code,{children:"*.styl"})," 或 ",(0,i.jsx)(n.code,{children:"*.module.styl"})," 文件，无须添加其他配置。"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"normalize.styl"}),":"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-styl",children:"body\n  color #000\n  font 14px Arial, sans-serif\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"title.module.styl"}),":"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-styl",children:".title\n  font-size: 14px;\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"index.js"}),":"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import './normalize.styl';\nimport style from './title.module.styl';\n\nconsole.log(style.title);\n"})}),"\n",(0,i.jsxs)(n.h2,{id:"配置",children:["配置",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#配置",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"如果你需要自定义 Stylus 的编译行为，可以使用以下配置项。"}),"\n",(0,i.jsxs)(n.h3,{id:"stylusoptions",children:["stylusOptions",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#stylusoptions",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type StylusOptions = {\n  use?: string[];\n  include?: string;\n  import?: string;\n  resolveURL?: boolean;\n  lineNumbers?: boolean;\n  hoistAtrules?: boolean;\n};\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["传递给 Stylus 的选项，请查阅 ",(0,i.jsx)(n.a,{href:"https://stylus-lang.com/docs/js.html",target:"_blank",rel:"noopener noreferrer",children:"Stylus 文档"})," 来了解具体用法。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builderPluginStylus({\n  stylusOptions: {\n    lineNumbers: false,\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"sourcemap",children:["sourceMap",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#sourcemap",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"isDev"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"是否生成 Source Map，默认在开发环境下启用。"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builderPluginStylus({\n  sourceMap: false,\n});\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fplugins%2Fplugin-stylus.mdx"]={toc:[{text:"快速开始",id:"快速开始",depth:2},{text:"安装插件",id:"安装插件",depth:3},{text:"注册插件",id:"注册插件",depth:3},{text:"示例",id:"示例",depth:2},{text:"配置",id:"配置",depth:2},{text:"stylusOptions",id:"stylusoptions",depth:3},{text:"sourceMap",id:"sourcemap",depth:3}],title:"Stylus 插件",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},16405:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return d}});var t,i=r("9880"),s=r("23169"),l=r.ir(r("80518")),o=r.ir(r("56682"));function a(e){let n=Object.assign({h1:"h1",a:"a",h2:"h2",p:"p",h3:"h3",ul:"ul",li:"li",code:"code",h4:"h4",pre:"pre",strong:"strong",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"swc-插件",children:["SWC 插件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#swc-插件",children:"#"})]}),"\n","\n",(0,i.jsx)(l.default,{}),"\n",(0,i.jsxs)(n.h2,{id:"适用场景",children:["适用场景",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#适用场景",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"在使用 SWC 插件之前，请先了解一下 SWC 插件的适用场景和局限性，以明确你的项目是否需要使用 SWC 插件。"}),"\n",(0,i.jsxs)(n.h3,{id:"rspack-场景",children:["Rspack 场景",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#rspack-场景",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"如果你的项目中已经使用了 Rspack 作为打包工具，那么你不需要接入 SWC 插件，因为 Rspack 默认会使用 SWC 进行转译和压缩，各个 SWC 编译能力可以开箱即用。"}),"\n",(0,i.jsxs)(n.h3,{id:"babel-插件",children:["Babel 插件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#babel-插件",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"如果你的项目需要注册一些自定义的 Babel 插件，由于 SWC 替代了 Babel 作为转译工具，因此使用 SWC 后，你将无法注册和使用 Babel 插件。"}),"\n",(0,i.jsx)(n.p,{children:"对于大部分常见的 Babel 插件，你可以在 SWC 中找到对应的替代品，比如："}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"@babel/preset-env"}),": 使用 ",(0,i.jsx)(n.a,{href:"#presetenv",children:"presetEnv"})," 代替。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"@babel/preset-react"}),": 使用 ",(0,i.jsx)(n.a,{href:"#presetreact",children:"presetReact"})," 代替。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"babel-plugin-import"}),"：使用 ",(0,i.jsx)(n.a,{href:"/api/config-source#sourcetransformimport",children:"source.transformImport"})," 代替。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"babel-plugin-lodash"}),"：使用 ",(0,i.jsx)(n.a,{href:"#extensionslodash",children:"extensions.lodash"})," 代替。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"@emotion/babel-plugin"}),"：使用 ",(0,i.jsx)(n.a,{href:"#extensionsemotion",children:"extensions.emotion"})," 代替。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"babel-plugin-styled-components"}),"：使用 ",(0,i.jsx)(n.a,{href:"#extensionsstyledcomponents",children:"extensions.styledComponents"})," 代替。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"@babel/plugin-react-transform-remove-prop-types"}),": 使用 ",(0,i.jsx)(n.a,{href:"#extensionsreactutils",children:"reactUtils.removePropTypes"})," 代替。"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["如果你使用了 SWC 尚未支持的 Babel 插件能力，在切换到 SWC 编译后，将无法再使用它们。你可以到 ",(0,i.jsx)(n.a,{href:"https://github.com/web-infra-dev/swc-plugins",target:"_blank",rel:"noopener noreferrer",children:"swc-plugins"})," 仓库下通过 issues 进行反馈，我们会评估是否需要内置支持。"]}),"\n",(0,i.jsxs)(n.h3,{id:"产物体积",children:["产物体积",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#产物体积",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["在使用 SWC 来代替 ",(0,i.jsx)(n.a,{href:"https://github.com/terser/terser",target:"_blank",rel:"noopener noreferrer",children:"terser"})," 和 ",(0,i.jsx)(n.a,{href:"https://github.com/cssnano/cssnano",target:"_blank",rel:"noopener noreferrer",children:"cssnano"})," 进行代码压缩时，构建产物的体积可能会出现少量变化。在 JavaScript 代码压缩方面，SWC 的压缩率是优于 terser 的；在 CSS 代码压缩方面，SWC 的压缩率稍逊于 cssnano。"]}),"\n",(0,i.jsxs)(n.p,{children:["对于压缩工具之间的详细对比，可以参考 ",(0,i.jsx)(n.a,{href:"https://github.com/privatenumber/minification-benchmarks",target:"_blank",rel:"noopener noreferrer",children:"minification-benchmarks"}),"。"]}),"\n",(0,i.jsxs)(n.h2,{id:"快速开始",children:["快速开始",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#快速开始",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"在-modernjs-框架中使用",children:["在 Modern.js 框架中使用",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#在-modernjs-框架中使用",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Modern.js 框架对 Builder 的 SWC 插件进行了封装，你可以通过以下方式来使用："}),"\n","\n",(0,i.jsx)(o.default,{}),"\n",(0,i.jsxs)(n.h3,{id:"通过-node-api-使用",children:["通过 Node API 使用",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#通过-node-api-使用",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"如果你直接使用了 Builder 的 Node API，那么需要手动安装和注册 Builder 的 SWC 插件。"}),"\n",(0,i.jsxs)(n.h4,{id:"安装插件",children:["安装插件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#安装插件",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"你可以通过如下的命令安装插件:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# npm\nnpm install @modern-js/builder-plugin-swc -D\n\n# yarn\nyarn add @modern-js/builder-plugin-swc -D\n\n# pnpm\npnpm add @modern-js/builder-plugin-swc -D\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"注册插件",children:["注册插件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#注册插件",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["通过 ",(0,i.jsx)(n.code,{children:"addPlugins"})," 方法来注册 SWC 插件："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import { builderPluginSwc } from '@modern-js/builder-plugin-swc';\n\n// 往 builder 实例上添加插件\nbuilder.addPlugins([builderPluginSwc()]);\n"})}),"\n",(0,i.jsx)(n.p,{children:"That's it! 现在你可以在项目中无缝使用 SWC 的转译和压缩能力了。"}),"\n",(0,i.jsxs)(n.h2,{id:"配置",children:["配置",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#配置",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type PluginConfig = {\n  presetReact?: ReactConfig;\n  presetEnv?: EnvConfig;\n  jsMinify?: boolean | JsMinifyOptions;\n  cssMinify?: boolean | CssMinifyOptions;\n  extensions?: Extensions;\n};\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"presetreact",children:["presetReact",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#presetreact",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," SWC 中的 ",(0,i.jsx)(n.a,{href:"https://swc.rs/docs/configuration/compilation#jsctransformreact",target:"_blank",rel:"noopener noreferrer",children:"presetReact"}),"。"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["对标 ",(0,i.jsx)(n.code,{children:"@babel/preset-react"}),"。传入的值会与默认配置进行合并。"]}),"\n",(0,i.jsxs)(n.p,{children:["插件默认会自动根据你的 ",(0,i.jsx)(n.code,{children:"react"})," 版本确定 ",(0,i.jsx)(n.code,{children:"runtime"})," 字段，如果 ",(0,i.jsx)(n.code,{children:"react"})," 版本大于 17.0.0，会设置成 ",(0,i.jsx)(n.code,{children:"automatic"}),"，否则设置成 ",(0,i.jsx)(n.code,{children:"classic"}),"。"]}),"\n",(0,i.jsxs)(n.h3,{id:"presetenv",children:["presetEnv",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#presetenv",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," SWC 中的 ",(0,i.jsx)(n.a,{href:"https://swc.rs/docs/configuration/supported-browsers#options",target:"_blank",rel:"noopener noreferrer",children:"presetEnv"}),"。"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["对标 ",(0,i.jsx)(n.code,{children:"@babel/preset-env"}),"。传入的值会与默认配置进行合并。\n默认配置为:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"{\n  targets: '', // 自动从项目中获取 browserslist\n  mode: 'usage',\n}\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"jsminify",children:["jsMinify",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#jsminify",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})," 或者 ",(0,i.jsx)(n.a,{href:"https://terser.org/docs/api-reference.html#compress-options",target:"_blank",rel:"noopener noreferrer",children:"terser 中的 compress 配置"}),"。"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"{ compress: {}, mangle: true }"}),"。"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["如果配置 ",(0,i.jsx)(n.code,{children:"false"})," 将不会使用 SWC 的压缩能力，配置 ",(0,i.jsx)(n.code,{children:"true"})," 会启用默认压缩配置，如果配置是对象，则会与默认配置进行合并。"]}),"\n",(0,i.jsxs)(n.h3,{id:"cssminify",children:["cssMinify",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#cssminify",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"是否启用 SWC 对 CSS 文件进行压缩，若启用会使得 CSS 压缩性能提高，但压缩率会略微降低。"}),"\n",(0,i.jsxs)(n.h3,{id:"extensions",children:["extensions",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#extensions",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"Object"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"extensions"})," 包含了从 Babel 移植过来的一些插件能力。"]}),"\n",(0,i.jsxs)(n.h4,{id:"extensionsreactutils",children:["extensions.reactUtils",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#extensionsreactutils",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type ReactUtilsOptions = {\n  autoImportReact?: boolean;\n  removeEffect?: boolean;\n  removePropTypes?: {\n    mode?: 'remove' | 'unwrap' | 'unsafe-wrap';\n    removeImport?: boolean;\n    ignoreFilenames?: string[];\n    additionalLibraries?: string[];\n    classNameMatchers?: string[];\n  };\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["一些用于 ",(0,i.jsx)(n.code,{children:"React"})," 的工具，包括以下配置项:"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"reactUtils.autoImportReact"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["自动引入 ",(0,i.jsx)(n.code,{children:"React"}),", ",(0,i.jsx)(n.code,{children:"import React from 'react'"}),"，用于 ",(0,i.jsx)(n.code,{children:"jsx"})," 转换使用 ",(0,i.jsx)(n.code,{children:"React.createElement"}),"。"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"reactUtils.removeEffect"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"boolean"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["移除 ",(0,i.jsx)(n.code,{children:"useEffect"})," 调用。"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"reactUtils.removePropTypes"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type RemovePropTypesOptions = {\n  mode?: 'remove' | 'unwrap' | 'unsafe-wrap';\n  removeImport?: boolean;\n  ignoreFilenames?: string[];\n  additionalLibraries?: string[];\n  classNameMatchers?: string[];\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["移除 ",(0,i.jsx)(n.code,{children:"React"})," 组件在运行时的类型判断。移植自 ",(0,i.jsx)(n.a,{href:"https://github.com/oliviertassinari/babel-plugin-transform-react-remove-prop-types",target:"_blank",rel:"noopener noreferrer",children:"@babel/plugin-react-transform-remove-prop-types"}),"。"]}),"\n",(0,i.jsxs)(n.p,{children:["相应配置和 ",(0,i.jsx)(n.code,{children:"@babel/plugin-react-transform-remove-prop-types"})," 插件保持一致。"]}),"\n",(0,i.jsxs)(n.h4,{id:"extensionslodash",children:["extensions.lodash",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#extensionslodash",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type LodashOptions = {\n  cwd?: string;\n  ids?: string[];\n};\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"默认值："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const defaultOptions = {\n  cwd: process.cwd(),\n  ids: ['lodash', 'lodash-es'],\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["移植自 ",(0,i.jsx)(n.a,{href:"https://github.com/lodash/babel-plugin-lodash",target:"_blank",rel:"noopener noreferrer",children:"babel-plugin-lodash"}),"，用于自动将 Lodash 的引用转换为按需引入，从而减少打包后的 Lodash 代码大小。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"// Input\nimport { get, throttle } from 'lodash';\n\n// Output\nimport get from 'lodash/get';\nimport throttle from 'lodash/throttle';\n"})}),"\n",(0,i.jsxs)(n.h4,{id:"extensionsstyledcomponents",children:["extensions.styledComponents",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#extensionsstyledcomponents",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:'boolean | {\n  displayName?: boolean; // 默认开发模式开启, 生产模式关闭,\n  ssr?: boolean; // 默认开启\n  fileName?: boolean; // 默认开启\n  topLevelImportPaths?: string[]; // 默认空\n  meaninglessFileNames?: string[]; // 默认为 ["index"].\n  cssProp?: boolean; // 默认开启\n  namespace?: string; // 默认空\n};\n'})}),"\n",(0,i.jsxs)(n.p,{children:["由 Next.js 团队移植自 ",(0,i.jsx)(n.a,{href:"https://github.com/styled-components/babel-plugin-styled-components",target:"_blank",rel:"noopener noreferrer",children:"babel-plugin-styled-components"}),"。"]}),"\n",(0,i.jsxs)(n.h4,{id:"extensionsemotion",children:["extensions.emotion",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#extensionsemotion",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"boolean | {\n  sourceMap?: boolean, // 默认开启\n  autoLabel?: 'never' | 'dev-only' | 'always', // 默认 'dev-only'\n  // 默认 '[local]'.\n  // 允许的值为: `[local]` `[filename]` 以及 `[dirname]`\n  // 只有当 autoLabel 设置成 'dev-only' 或者 'always' 才会生效.\n  // 该配置允许你定义结果标签的格式，该格式的组成是字符串以及可以由方括号包裹字符串作为变量\n  // 例如对于 \"my-classname--[local]\"，其中的 [local] 会被替换成相应的变量\n  labelFormat?: string,\n  // 默认值 undefined.\n  // 该配置允许让编译器知道哪一个引入需要进行转换，所以如果你重导出了 emotion\n  // 的导出，你仍然可以使用该插件进行转换\n  importMap?: {\n    [packageName: string]: {\n      [exportName: string]: {\n        canonicalImport?: [string, string],\n        styledBaseImport?: [string, string],\n      }\n    }\n  },\n},\n"})}),"\n",(0,i.jsxs)(n.p,{children:["由 Next.js 团队移植自 ",(0,i.jsx)(n.a,{href:"https://www.npmjs.com/package/@emotion/babel-plugin",target:"_blank",rel:"noopener noreferrer",children:"@emotion/babel-plugin"}),"。"]}),"\n",(0,i.jsxs)(n.h4,{id:"extensionspluginimport",children:["extensions.pluginImport",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#extensionspluginimport",children:"#"})]}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"TIP"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsxs)(n.p,{children:["Builder 提供了 ",(0,i.jsx)(n.a,{href:"/api/config-source#sourcetransformimport",children:"source.transformImport"})," 配置项，因此你不需要手动配置 ",(0,i.jsx)(n.code,{children:"extensions.pluginImport"}),"。\n"]})})]}),"\n",(0,i.jsxs)(n.p,{children:["移植自 ",(0,i.jsx)(n.a,{href:"https://github.com/umijs/babel-plugin-import",target:"_blank",rel:"noopener noreferrer",children:"babel-plugin-import"}),"，配置选项保持一致。"]}),"\n",(0,i.jsxs)(n.p,{children:["一些配置可以传入函数，例如 ",(0,i.jsx)(n.code,{children:"customName"}),"，",(0,i.jsx)(n.code,{children:"customStyleName"})," 等，这些 JavaScript 函数会由 Rust 通过 Node-API 调用，这种调用会造成一些性能劣化。"]}),"\n",(0,i.jsxs)(n.p,{children:["简单的函数逻辑其实可以通过模版语言来代替，因此",(0,i.jsx)(n.code,{children:"customName"}),"，",(0,i.jsx)(n.code,{children:"customStyleName"})," 等这些配置除了可以传入函数，也可以传入字符串作为模版来代替函数，提高性能。"]}),"\n",(0,i.jsx)(n.p,{children:"我们以下面代码为例说明:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import { MyButton as Btn } from 'foo';\n"})}),"\n",(0,i.jsx)(n.p,{children:"添加以下配置："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"PluginSWC({\n  extensions: {\n    pluginImport: [\n      {\n        libraryName: 'foo',\n        customName: 'foo/es/{{ member }}',\n      },\n    ],\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.p,{children:["其中的 ",(0,i.jsx)(n.code,{children:"{{ member }}"})," 会被替换为相应的引入成员，转换后:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import Btn from 'foo/es/MyButton';\n"})}),"\n",(0,i.jsxs)(n.p,{children:["可以看出配置 ",(0,i.jsx)(n.code,{children:'customName: "foo/es/{{ member }}"'})," 的效果等同于配置 ",(0,i.jsx)(n.code,{children:" customName: (member) => `foo/es/${member}`  "}),"，但是不会有 Node-API 的调用开销。"]}),"\n",(0,i.jsxs)(n.p,{children:["这里使用到的模版是 ",(0,i.jsx)(n.a,{href:"https://handlebarsjs.com",target:"_blank",rel:"noopener noreferrer",children:"handlebars"}),"，模版配置中还内置了一些有用的辅助工具，还是以上面的导入语句为例，配置成："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"PluginSWC({\n  extensions: {\n    pluginImport: [\n      {\n        libraryName: 'foo',\n        customName: 'foo/es/{{ kebabCase member }}',\n      },\n    ],\n  },\n});\n"})}),"\n",(0,i.jsx)(n.p,{children:"会转换成下面的结果:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import Btn from 'foo/es/my-button';\n"})}),"\n",(0,i.jsxs)(n.p,{children:["除了 ",(0,i.jsx)(n.code,{children:"kebabCase"})," 以外还有 ",(0,i.jsx)(n.code,{children:"camelCase"}),"，",(0,i.jsx)(n.code,{children:"snakeCase"}),"，",(0,i.jsx)(n.code,{children:"upperCase"}),"，",(0,i.jsx)(n.code,{children:"lowerCase"})," 可以使用。"]}),"\n",(0,i.jsxs)(n.h2,{id:"限制",children:["限制",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#限制",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["不支持 ",(0,i.jsx)(n.code,{children:"@babel/plugin-transform-runtime"})," 以及其他自定义的 Babel 插件。"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fplugins%2Fplugin-swc.mdx"]={toc:[{text:"适用场景",id:"适用场景",depth:2},{text:"Rspack 场景",id:"rspack-场景",depth:3},{text:"Babel 插件",id:"babel-插件",depth:3},{text:"产物体积",id:"产物体积",depth:3},{text:"快速开始",id:"快速开始",depth:2},{text:"在 Modern.js 框架中使用",id:"在-modernjs-框架中使用",depth:3},{text:"通过 Node API 使用",id:"通过-node-api-使用",depth:3},{text:"安装插件",id:"安装插件",depth:4},{text:"注册插件",id:"注册插件",depth:4},{text:"配置",id:"配置",depth:2},{text:"presetReact",id:"presetreact",depth:3},{text:"presetEnv",id:"presetenv",depth:3},{text:"jsMinify",id:"jsminify",depth:3},{text:"cssMinify",id:"cssminify",depth:3},{text:"extensions",id:"extensions",depth:3},{text:"extensions.reactUtils",id:"extensionsreactutils",depth:4},{text:"extensions.lodash",id:"extensionslodash",depth:4},{text:"extensions.styledComponents",id:"extensionsstyledcomponents",depth:4},{text:"extensions.emotion",id:"extensionsemotion",depth:4},{text:"extensions.pluginImport",id:"extensionspluginimport",depth:4},{text:"限制",id:"限制",depth:2}],title:"SWC 插件",frontmatter:{}};var d=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},77924:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",h3:"h3",pre:"pre",code:"code",ul:"ul",li:"li",strong:"strong"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.h1,{id:"vue-插件",children:["Vue 插件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#vue-插件",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"Vue 插件提供了对 Vue 3 应用构建的支持。"}),"\n",(0,i.jsxs)(n.h2,{id:"快速开始",children:["快速开始",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#快速开始",children:"#"})]}),"\n",(0,i.jsxs)(n.h3,{id:"安装插件",children:["安装插件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#安装插件",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"你可以通过如下的命令安装插件:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# npm\nnpm install @modern-js/builder-plugin-vue -D\n\n# yarn\nyarn add @modern-js/builder-plugin-vue -D\n\n# pnpm\npnpm install @modern-js/builder-plugin-vue -D\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"注册插件",children:["注册插件",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#注册插件",children:"#"})]}),"\n",(0,i.jsxs)(n.p,{children:["你可以通过 ",(0,i.jsx)(n.code,{children:"addPlugins"})," 方法来注册 Vue 插件："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"import { builderPluginVue } from '@modern-js/builder-plugin-vue';\n\nbuilder.addPlugins([builderPluginVue()]);\n"})}),"\n",(0,i.jsxs)(n.p,{children:["安装完插件后，你可以直接在代码中引入 ",(0,i.jsx)(n.code,{children:"*.vue"})," 文件，无须添加其他配置。"]}),"\n",(0,i.jsxs)(n.h2,{id:"配置",children:["配置",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#配置",children:"#"})]}),"\n",(0,i.jsx)(n.p,{children:"如果你需要自定义 Vue 的编译行为，可以使用以下配置项。"}),"\n",(0,i.jsxs)(n.h3,{id:"vueloaderoptions",children:["vueLoaderOptions",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#vueloaderoptions",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"类型："})," ",(0,i.jsx)(n.code,{children:"VueLoaderOptions"})]}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"默认值："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-js",children:"const defaultOptions = {\n  compilerOptions: {\n    preserveWhitespace: false,\n  },\n  experimentalInlineMatchResource: builder === 'rspack',\n};\n"})}),"\n",(0,i.jsxs)(n.p,{children:["传递给 ",(0,i.jsx)(n.code,{children:"vue-loader"})," 的选项，请查阅 ",(0,i.jsx)(n.a,{href:"https://vue-loader.vuejs.org/",target:"_blank",rel:"noopener noreferrer",children:"vue-loader 文档"})," 来了解具体用法。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builderPluginVue({\n  vueLoaderOptions: {\n    hotReload: false,\n  },\n});\n"})}),"\n",(0,i.jsxs)(n.h3,{id:"vuejsxoptions",children:["vueJsxOptions",(0,i.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#vuejsxoptions",children:"#"})]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型："})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"type VueJSXPluginOptions = {\n  /** 将 `on: { click: xx }` 转换为 `onClick: xxx` */\n  transformOn?: boolean;\n  /** 是否启用优化。 */\n  optimize?: boolean;\n  /** 合并静态和动态 class / style 属性 / onXXX 事件处理函数 */\n  mergeProps?: boolean;\n  /** 配置自定义元素 */\n  isCustomElement?: (tag: string) => boolean;\n  /** 启用对象插槽语法 */\n  enableObjectSlots?: boolean;\n  /** 替换用于编译 JSX 表达式的函数 */\n  pragma?: string;\n};\n"})}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"默认值："})," ",(0,i.jsx)(n.code,{children:"{}"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:["传递给 ",(0,i.jsx)(n.code,{children:"@vue/babel-plugin-jsx"})," 的选项，请查阅 ",(0,i.jsx)(n.a,{href:"https://github.com/vuejs/babel-plugin-jsx",target:"_blank",rel:"noopener noreferrer",children:"@vue/babel-plugin-jsx 文档"})," 来了解具体用法。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"builderPluginVue({\n  vueJsxOptions: {\n    transformOn: true,\n  },\n});\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fplugins%2Fplugin-vue.mdx"]={toc:[{text:"快速开始",id:"快速开始",depth:2},{text:"安装插件",id:"安装插件",depth:3},{text:"注册插件",id:"注册插件",depth:3},{text:"配置",id:"配置",depth:2},{text:"vueLoaderOptions",id:"vueloaderoptions",depth:3},{text:"vueJsxOptions",id:"vuejsxoptions",depth:3}],title:"Vue 插件",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},28584:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({p:"p",img:"img"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Builder 指的是构建引擎，它的目标是「复用构建工具的最佳实践」。"}),"\n",(0,i.jsx)(n.p,{children:"因为 webpack 等打包工具是比较底层的，如果我们基于 webpack 来构建一个项目，需要充分理解 webpack 的各个配置项和三方插件，并进行繁琐的配置组合和调试工作。"}),"\n",(0,i.jsx)(n.p,{children:"而 Builder 比 Bundler 的封装程度更高，并默认集成代码转换、代码压缩等能力。通过接入 Builder，你可以快速获得构建 Web 应用的能力。"}),"\n",(0,i.jsx)(n.p,{children:"Modern.js Builder 内部的分层如下："}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:"https://lf3-static.bytednsdoc.com/obj/eden-cn/zq-uylkvT/ljhwZthlaukjlkulzlp/builder-struct-10092.png",alt:""})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fshared%2Fbuilder.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},9843:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({p:"p",a:"a"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["指 ",(0,i.jsx)(n.a,{href:"https://webpack.js.org/",target:"_blank",rel:"noopener noreferrer",children:"webpack"}),"、",(0,i.jsx)(n.a,{href:"https://www.rspack.dev/",target:"_blank",rel:"noopener noreferrer",children:"Rspack"})," 等模块打包工具。"]}),"\n",(0,i.jsx)(n.p,{children:"打包工具的主要目标是将 JavaScript、CSS 等文件打包在一起，打包后的文件可以在浏览器、Node.js 等环境中使用。当 Bundler 处理 Web 应用时，它会构建一个依赖关系图，其中包含应用需要的各个模块，然后将所有模块打包成一个或多个 bundle。"})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fshared%2Fbundler.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},26744:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({p:"p",a:"a"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Bundler chain 是 webpack chain 的子集，其中包含一部分 webpack chain API，你可以用它来同时修改 webpack 和 Rspack 的配置。"}),"\n",(0,i.jsxs)(n.p,{children:["通过 bundler chain 修改的配置，在 webpack 和 Rspack 构建时均可生效。需要注意的是，bundler chain 只支持修改 webpack 和 Rspack 间无差异部分的配置。如，修改 devtool 配置项(webpack 和 Rspack 的 devtool 属性值类型相同)，或添加一个",(0,i.jsx)(n.a,{href:"https://www.rspack.dev/zh/guide/plugin-compat.html",target:"_blank",rel:"noopener noreferrer",children:"Rspack 兼容"}),"的 webpack 插件。"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fshared%2FbundlerChain.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},56682:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({p:"p",code:"code",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["首先，你需要执行 ",(0,i.jsx)(n.code,{children:"pnpm run new"})," 启用 SWC 编译："]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"? 请选择你想要的操作 启用可选功能\n? 请选择功能名称 启用「SWC 编译」\n"})}),"\n",(0,i.jsxs)(n.p,{children:["执行完成后，你只需在 ",(0,i.jsx)(n.code,{children:"modern.config.ts"})," 文件中注册 Modern.js 的 SWC 插件，即可启用 SWC 编译和压缩能力。"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",meta:'title="modern.config.ts"',children:"import { appTools, defineConfig } from '@modern-js/app-tools';\nimport { swcPlugin } from '@modern-js/plugin-swc';\n\nexport default defineConfig({\n  plugins: [appTools(), swcPlugin()],\n});\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fshared%2Fenable-swc.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},27349:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({p:"p",a:"a",strong:"strong"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://esbuild.github.io/",target:"_blank",rel:"noopener noreferrer",children:"esbuild"})," 是一款基于 Golang 开发的前端构建工具，具有打包、编译和压缩 JavaScript 代码的功能，相比传统的打包编译工具，esbuild 在性能上有显著提升。在代码压缩方面，相比 webpack 内置的 terser 压缩器，esbuild 在性能上有数十倍的提升。"]}),"\n",(0,i.jsxs)(n.p,{children:["Modern.js Builder 提供了 esbuild 插件，让你能使用 esbuild 代替 babel-loader、ts-loader 和 terser 等库进行代码编译和压缩。在大型工程中启用 esbuild 后，",(0,i.jsx)(n.strong,{children:"可以大幅度减少代码编译和压缩所需的时间，同时有效避免 OOM (heap out of memory) 问题"}),"。"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fshared%2Fesbuild.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},16592:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({p:"p",code:"code",ul:"ul",li:"li",strong:"strong",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["获取 Builder 配置，该方法必须在 ",(0,i.jsx)(n.code,{children:"modifyBuilderConfig"})," 钩子执行完成后才能被调用。"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"function GetBuilderConfig(): Readonly<BuilderConfig>;\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fshared%2FgetBuilderConfig.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},80392:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({p:"p",ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"获取所有 HTML 产物的路径信息。"}),"\n",(0,i.jsx)(n.p,{children:"该方法会返回一个对象，对象的 key 为 entry 名称，value 为 HTML 文件在产物目录下的相对路径。"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"function GetHTMLPaths(): Record<string, string>;\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fshared%2FgetHTMLPaths.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},87607:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({p:"p",code:"code",ul:"ul",li:"li",strong:"strong",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["获取归一化后的 Builder 配置，该方法必须在 ",(0,i.jsx)(n.code,{children:"modifyBuilderConfig"})," 钩子执行完成后才能被调用。"]}),"\n",(0,i.jsxs)(n.p,{children:["相较于 ",(0,i.jsx)(n.code,{children:"getBuilderConfig"})," 方法，该方法返回的配置经过了归一化处理，配置的类型定义会得到收敛，比如 ",(0,i.jsx)(n.code,{children:"config.html"})," 的 ",(0,i.jsx)(n.code,{children:"undefined"})," 类型将被移除。"]}),"\n",(0,i.jsx)(n.p,{children:"推荐优先使用该方法获取配置。"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"function GetNormalizedConfig(): Readonly<NormalizedConfig>;\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fshared%2FgetNormalizedConfig.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},54424:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({p:"p",ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"判断某个插件是否已经被注册。"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"function IsPluginExists(pluginName: string): boolean;\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fshared%2FisPluginExists.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},17937:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({p:"p",a:"a",strong:"strong",pre:"pre",code:"code",div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["在开始使用前，你需要安装 ",(0,i.jsx)(n.a,{href:"https://nodejs.org/",target:"_blank",rel:"noopener noreferrer",children:"Node.js"}),"，并保证 Node.js 版本不低于 14.17.6，",(0,i.jsx)(n.strong,{children:"我们推荐使用 Node.js 16 的 LTS 版本"}),"。"]}),"\n",(0,i.jsx)(n.p,{children:"你可以通过以下命令检查当前使用的 Node.js 版本："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"node -v\n# v16.19.1\n"})}),"\n",(0,i.jsxs)(n.p,{children:["如果你当前的环境中尚未安装 Node.js，或是安装的版本低于 14.17.6，可以通过 ",(0,i.jsx)(n.a,{href:"https://github.com/nvm-sh/nvm",target:"_blank",rel:"noopener noreferrer",children:"nvm"})," 或 ",(0,i.jsx)(n.a,{href:"https://github.com/Schniz/fnm",target:"_blank",rel:"noopener noreferrer",children:"fnm"})," 安装需要的版本。"]}),"\n",(0,i.jsx)(n.p,{children:"下面是通过 nvm 安装 Node.js 16 LTS 版本的例子："}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# 安装 Node.js 16 的长期支持版本\nnvm install 16 --lts\n\n# 将刚安装的 Node.js 16 设置为默认版本\nnvm alias default 16\n\n# 切换到刚安装的 Node.js 16\nnvm use 16\n"})}),"\n",(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"nvm 和 fnm"}),(0,i.jsx)(n.div,{className:"modern-directive-content",children:(0,i.jsx)(n.p,{children:"nvm 和 fnm 都是 Node.js 版本管理工具。相对来说，nvm 较为成熟和稳定，而 fnm 是使用 Rust 实现的，比 nvm 提供了更好的性能。"})})]}),"\n",(0,i.jsxs)(n.p,{children:["此外，在安装 nvm 或 fnm 后，然后只要仓库根目录下有内容为 ",(0,i.jsx)(n.code,{children:"lts/gallium"})," 的 ",(0,i.jsx)(n.code,{children:".nvmrc"})," 文件，进入这个仓库时就会自动安装或切换到正确的 Node.js 版本。"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fshared%2FnodeVersion.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},96132:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({p:"p",code:"code",ul:"ul",li:"li",strong:"strong",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["在执行生产环境构建后调用，你可以通过 ",(0,i.jsx)(n.code,{children:"stats"})," 参数获取到构建结果信息。"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"function OnAfterBuild(\n  callback: (params: { stats?: Stats | MultiStats }) => Promise<void> | void,\n): void;\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fshared%2FonAfterBuild.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},46001:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({p:"p",code:"code",ul:"ul",li:"li",strong:"strong",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["在创建 compiler 实例后、执行构建前调用，当你执行 ",(0,i.jsx)(n.code,{children:"builder.startDevServer"}),"、",(0,i.jsx)(n.code,{children:"builder.build"})," 或 ",(0,i.jsx)(n.code,{children:"builder.createCompiler"})," 时，都会调用此钩子。你可以通过 ",(0,i.jsx)(n.code,{children:"compiler"})," 参数获取到 compiler 实例对象。"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"function OnAfterCreateCompiler(callback: (params: {\n  compiler: Compiler | MultiCompiler;\n}) => Promise<void> | void;): void;\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fshared%2FonAfterCreateCompiler.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},44368:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({p:"p",code:"code",ul:"ul",li:"li",strong:"strong",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["在启动开发服务器后调用，你可以通过 ",(0,i.jsx)(n.code,{children:"port"})," 参数获得开发服务器监听的端口号。"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"function OnAfterStartDevServer(\n  callback: (params: { port: number }) => Promise<void> | void,\n): void;\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fshared%2FonAfterStartDevServer.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},16578:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({p:"p",code:"code",ul:"ul",li:"li",strong:"strong",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["在执行生产环境构建前调用，你可以通过 ",(0,i.jsx)(n.code,{children:"bundlerConfigs"})," 参数获取到底层打包工具的最终配置对象。"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"function OnBeforeBuild(\n  callback: (params: {\n    bundlerConfigs?: WebpackConfig[] | RspackConfig[];\n  }) => Promise<void> | void,\n): void;\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fshared%2FonBeforeBuild.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},34342:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({p:"p",code:"code",ul:"ul",li:"li",strong:"strong",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["在创建 compiler 实例前调用，当你执行 ",(0,i.jsx)(n.code,{children:"builder.startDevServer"}),"、",(0,i.jsx)(n.code,{children:"builder.build"})," 或 ",(0,i.jsx)(n.code,{children:"builder.createCompiler"})," 时，都会调用此钩子。你可以通过 ",(0,i.jsx)(n.code,{children:"bundlerConfigs"})," 参数获取到底层打包工具的最终配置对象。"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"function OnBeforeCreateCompiler(\n  callback: (params: {\n    bundlerConfigs: WebpackConfig[] | RspackConfig[];\n  }) => Promise<void> | void,\n): void;\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fshared%2FonBeforeCreateCompiler.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},36075:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({p:"p",ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"在启动开发服务器前调用。"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"function OnBeforeStartDevServer(callback: () => Promise<void> | void): void;\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fshared%2FonBeforeStartDevServer.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},75736:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({p:"p",code:"code",ul:"ul",li:"li",strong:"strong",pre:"pre"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["在每次开发环境构建结束后调用，你可以通过 ",(0,i.jsx)(n.code,{children:"isFirstCompile"})," 来判断是否为首次构建。"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"function OnDevCompileDone(\n  callback: (params: { isFirstCompile: boolean }) => Promise<void> | void,\n): void;\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fshared%2FonDevCompileDone.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},52876:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({p:"p",ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"在进程即将退出时调用，这个钩子只能执行同步代码。"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.strong,{children:"类型"})}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"function OnExit(callback: () => void): void;\n"})})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fshared%2FonExit.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},57894:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return a}});var t,i=r("9880"),s=r("23169"),l=r.ir(r("75426"));function o(e){let n=Object.assign({div:"div"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(n.div,{className:"modern-directive tip",children:[(0,i.jsx)(n.div,{className:"modern-directive-title",children:"什么是 Rspack"}),(0,i.jsxs)(n.div,{className:"modern-directive-content",children:["\n","\n",(0,i.jsx)(l.default,{}),"\n"]})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fshared%2Frspack-tip.mdx"]={toc:[],title:"",frontmatter:{}};var a=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},75426:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({p:"p",a:"a"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://www.rspack.dev/",target:"_blank",rel:"noopener noreferrer",children:"Rspack"})," 是一个基于 Rust 的高性能 Web 构建工具，具备与 webpack 生态系统的互操作性，可以被 webpack 项目低成本集成，并提供更好的构建性能。"]}),"\n",(0,i.jsx)(n.p,{children:"相较于 webpack，Rspack 的构建性能有明显提升，除了 Rust 带来的语言优势，这也来自于它的并行架构和增量编译等特性。经过 benchmark 验证，Rspack 可以带来 5 ～ 10 倍编译性能的提升。"})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fshared%2Frspack.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},80518:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return o}});var t,i=r("9880"),s=r("23169");function l(e){let n=Object.assign({p:"p",a:"a",code:"code"},(0,s.useMDXComponents)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.a,{href:"https://swc.rs/",target:"_blank",rel:"noopener noreferrer",children:"SWC"})," (Speedy Web Compiler) 是基于 ",(0,i.jsx)(n.code,{children:"Rust"})," 语言编写的高性能 JavaScript 和 TypeScript 转译和压缩工具。在 Polyfill 和语法降级方面可以和 Babel 提供一致的能力，并且性能比 Babel 高出一个数量级。"]}),"\n",(0,i.jsx)(n.p,{children:"Modern.js Builder 提供了开箱即用的 SWC 插件，可以为你的 Web 应用提供语法降级、Polyfill 以及压缩，并且移植了一些额外常见的 Babel 插件。"})]})}(t=globalThis).__RSPRESS_PAGE_META||(t.__RSPRESS_PAGE_META={}),globalThis.__RSPRESS_PAGE_META["%2Fhome%2Frunner%2Fwork%2Fmodern-js%2Fmodern-js%2Fpackages%2Fdocument%2Fbuilder-doc%2Fdocs%2Fzh%2Fshared%2Fswc.md"]={toc:[],title:"",frontmatter:{}};var o=function(e={}){let{wrapper:n}=Object.assign({},(0,s.useMDXComponents)(),e.components);return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},66428:function(e,n,r){e.exports={AElig:"\xc6",AMP:"&",Aacute:"\xc1",Acirc:"\xc2",Agrave:"\xc0",Aring:"\xc5",Atilde:"\xc3",Auml:"\xc4",COPY:"\xa9",Ccedil:"\xc7",ETH:"\xd0",Eacute:"\xc9",Ecirc:"\xca",Egrave:"\xc8",Euml:"\xcb",GT:">",Iacute:"\xcd",Icirc:"\xce",Igrave:"\xcc",Iuml:"\xcf",LT:"<",Ntilde:"\xd1",Oacute:"\xd3",Ocirc:"\xd4",Ograve:"\xd2",Oslash:"\xd8",Otilde:"\xd5",Ouml:"\xd6",QUOT:'"',REG:"\xae",THORN:"\xde",Uacute:"\xda",Ucirc:"\xdb",Ugrave:"\xd9",Uuml:"\xdc",Yacute:"\xdd",aacute:"\xe1",acirc:"\xe2",acute:"\xb4",aelig:"\xe6",agrave:"\xe0",amp:"&",aring:"\xe5",atilde:"\xe3",auml:"\xe4",brvbar:"\xa6",ccedil:"\xe7",cedil:"\xb8",cent:"\xa2",copy:"\xa9",curren:"\xa4",deg:"\xb0",divide:"\xf7",eacute:"\xe9",ecirc:"\xea",egrave:"\xe8",eth:"\xf0",euml:"\xeb",frac12:"\xbd",frac14:"\xbc",frac34:"\xbe",gt:">",iacute:"\xed",icirc:"\xee",iexcl:"\xa1",igrave:"\xec",iquest:"\xbf",iuml:"\xef",laquo:"\xab",lt:"<",macr:"\xaf",micro:"\xb5",middot:"\xb7",nbsp:"\xa0",not:"\xac",ntilde:"\xf1",oacute:"\xf3",ocirc:"\xf4",ograve:"\xf2",ordf:"\xaa",ordm:"\xba",oslash:"\xf8",otilde:"\xf5",ouml:"\xf6",para:"\xb6",plusmn:"\xb1",pound:"\xa3",quot:'"',raquo:"\xbb",reg:"\xae",sect:"\xa7",shy:"\xad",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",szlig:"\xdf",thorn:"\xfe",times:"\xd7",uacute:"\xfa",ucirc:"\xfb",ugrave:"\xf9",uml:"\xa8",uuml:"\xfc",yacute:"\xfd",yen:"\xa5",yuml:"\xff"}},57541:function(e,n,r){e.exports={AEli:"\xc6",AElig:"\xc6",AM:"&",AMP:"&",Aacut:"\xc1",Aacute:"\xc1",Abreve:"Ă",Acir:"\xc2",Acirc:"\xc2",Acy:"А",Afr:"\uD835\uDD04",Agrav:"\xc0",Agrave:"\xc0",Alpha:"Α",Amacr:"Ā",And:"⩓",Aogon:"Ą",Aopf:"\uD835\uDD38",ApplyFunction:"⁡",Arin:"\xc5",Aring:"\xc5",Ascr:"\uD835\uDC9C",Assign:"≔",Atild:"\xc3",Atilde:"\xc3",Aum:"\xc4",Auml:"\xc4",Backslash:"∖",Barv:"⫧",Barwed:"⌆",Bcy:"Б",Because:"∵",Bernoullis:"ℬ",Beta:"Β",Bfr:"\uD835\uDD05",Bopf:"\uD835\uDD39",Breve:"˘",Bscr:"ℬ",Bumpeq:"≎",CHcy:"Ч",COP:"\xa9",COPY:"\xa9",Cacute:"Ć",Cap:"⋒",CapitalDifferentialD:"ⅅ",Cayleys:"ℭ",Ccaron:"Č",Ccedi:"\xc7",Ccedil:"\xc7",Ccirc:"Ĉ",Cconint:"∰",Cdot:"Ċ",Cedilla:"\xb8",CenterDot:"\xb7",Cfr:"ℭ",Chi:"Χ",CircleDot:"⊙",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",Colon:"∷",Colone:"⩴",Congruent:"≡",Conint:"∯",ContourIntegral:"∮",Copf:"ℂ",Coproduct:"∐",CounterClockwiseContourIntegral:"∳",Cross:"⨯",Cscr:"\uD835\uDC9E",Cup:"⋓",CupCap:"≍",DD:"ⅅ",DDotrahd:"⤑",DJcy:"Ђ",DScy:"Ѕ",DZcy:"Џ",Dagger:"‡",Darr:"↡",Dashv:"⫤",Dcaron:"Ď",Dcy:"Д",Del:"∇",Delta:"Δ",Dfr:"\uD835\uDD07",DiacriticalAcute:"\xb4",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",Diamond:"⋄",DifferentialD:"ⅆ",Dopf:"\uD835\uDD3B",Dot:"\xa8",DotDot:"⃜",DotEqual:"≐",DoubleContourIntegral:"∯",DoubleDot:"\xa8",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrow:"↓",DownArrowBar:"⤓",DownArrowUpArrow:"⇵",DownBreve:"̑",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVector:"↽",DownLeftVectorBar:"⥖",DownRightTeeVector:"⥟",DownRightVector:"⇁",DownRightVectorBar:"⥗",DownTee:"⊤",DownTeeArrow:"↧",Downarrow:"⇓",Dscr:"\uD835\uDC9F",Dstrok:"Đ",ENG:"Ŋ",ET:"\xd0",ETH:"\xd0",Eacut:"\xc9",Eacute:"\xc9",Ecaron:"Ě",Ecir:"\xca",Ecirc:"\xca",Ecy:"Э",Edot:"Ė",Efr:"\uD835\uDD08",Egrav:"\xc8",Egrave:"\xc8",Element:"∈",Emacr:"Ē",EmptySmallSquare:"◻",EmptyVerySmallSquare:"▫",Eogon:"Ę",Eopf:"\uD835\uDD3C",Epsilon:"Ε",Equal:"⩵",EqualTilde:"≂",Equilibrium:"⇌",Escr:"ℰ",Esim:"⩳",Eta:"Η",Eum:"\xcb",Euml:"\xcb",Exists:"∃",ExponentialE:"ⅇ",Fcy:"Ф",Ffr:"\uD835\uDD09",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",Fopf:"\uD835\uDD3D",ForAll:"∀",Fouriertrf:"ℱ",Fscr:"ℱ",GJcy:"Ѓ",G:">",GT:">",Gamma:"Γ",Gammad:"Ϝ",Gbreve:"Ğ",Gcedil:"Ģ",Gcirc:"Ĝ",Gcy:"Г",Gdot:"Ġ",Gfr:"\uD835\uDD0A",Gg:"⋙",Gopf:"\uD835\uDD3E",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"\uD835\uDCA2",Gt:"≫",HARDcy:"Ъ",Hacek:"ˇ",Hat:"^",Hcirc:"Ĥ",Hfr:"ℌ",HilbertSpace:"ℋ",Hopf:"ℍ",HorizontalLine:"─",Hscr:"ℋ",Hstrok:"Ħ",HumpDownHump:"≎",HumpEqual:"≏",IEcy:"Е",IJlig:"Ĳ",IOcy:"Ё",Iacut:"\xcd",Iacute:"\xcd",Icir:"\xce",Icirc:"\xce",Icy:"И",Idot:"İ",Ifr:"ℑ",Igrav:"\xcc",Igrave:"\xcc",Im:"ℑ",Imacr:"Ī",ImaginaryI:"ⅈ",Implies:"⇒",Int:"∬",Integral:"∫",Intersection:"⋂",InvisibleComma:"⁣",InvisibleTimes:"⁢",Iogon:"Į",Iopf:"\uD835\uDD40",Iota:"Ι",Iscr:"ℐ",Itilde:"Ĩ",Iukcy:"І",Ium:"\xcf",Iuml:"\xcf",Jcirc:"Ĵ",Jcy:"Й",Jfr:"\uD835\uDD0D",Jopf:"\uD835\uDD41",Jscr:"\uD835\uDCA5",Jsercy:"Ј",Jukcy:"Є",KHcy:"Х",KJcy:"Ќ",Kappa:"Κ",Kcedil:"Ķ",Kcy:"К",Kfr:"\uD835\uDD0E",Kopf:"\uD835\uDD42",Kscr:"\uD835\uDCA6",LJcy:"Љ",L:"<",LT:"<",Lacute:"Ĺ",Lambda:"Λ",Lang:"⟪",Laplacetrf:"ℒ",Larr:"↞",Lcaron:"Ľ",Lcedil:"Ļ",Lcy:"Л",LeftAngleBracket:"⟨",LeftArrow:"←",LeftArrowBar:"⇤",LeftArrowRightArrow:"⇆",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVector:"⇃",LeftDownVectorBar:"⥙",LeftFloor:"⌊",LeftRightArrow:"↔",LeftRightVector:"⥎",LeftTee:"⊣",LeftTeeArrow:"↤",LeftTeeVector:"⥚",LeftTriangle:"⊲",LeftTriangleBar:"⧏",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVector:"↿",LeftUpVectorBar:"⥘",LeftVector:"↼",LeftVectorBar:"⥒",Leftarrow:"⇐",Leftrightarrow:"⇔",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",LessLess:"⪡",LessSlantEqual:"⩽",LessTilde:"≲",Lfr:"\uD835\uDD0F",Ll:"⋘",Lleftarrow:"⇚",Lmidot:"Ŀ",LongLeftArrow:"⟵",LongLeftRightArrow:"⟷",LongRightArrow:"⟶",Longleftarrow:"⟸",Longleftrightarrow:"⟺",Longrightarrow:"⟹",Lopf:"\uD835\uDD43",LowerLeftArrow:"↙",LowerRightArrow:"↘",Lscr:"ℒ",Lsh:"↰",Lstrok:"Ł",Lt:"≪",Map:"⤅",Mcy:"М",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"\uD835\uDD10",MinusPlus:"∓",Mopf:"\uD835\uDD44",Mscr:"ℳ",Mu:"Μ",NJcy:"Њ",Nacute:"Ń",Ncaron:"Ň",Ncedil:"Ņ",Ncy:"Н",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",Nfr:"\uD835\uDD11",NoBreak:"⁠",NonBreakingSpace:"\xa0",Nopf:"ℕ",Not:"⫬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",NotLeftTriangle:"⋪",NotLeftTriangleBar:"⧏̸",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangle:"⋫",NotRightTriangleBar:"⧐̸",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",Nscr:"\uD835\uDCA9",Ntild:"\xd1",Ntilde:"\xd1",Nu:"Ν",OElig:"Œ",Oacut:"\xd3",Oacute:"\xd3",Ocir:"\xd4",Ocirc:"\xd4",Ocy:"О",Odblac:"Ő",Ofr:"\uD835\uDD12",Ograv:"\xd2",Ograve:"\xd2",Omacr:"Ō",Omega:"Ω",Omicron:"Ο",Oopf:"\uD835\uDD46",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",Or:"⩔",Oscr:"\uD835\uDCAA",Oslas:"\xd8",Oslash:"\xd8",Otild:"\xd5",Otilde:"\xd5",Otimes:"⨷",Oum:"\xd6",Ouml:"\xd6",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",PartialD:"∂",Pcy:"П",Pfr:"\uD835\uDD13",Phi:"Φ",Pi:"Π",PlusMinus:"\xb1",Poincareplane:"ℌ",Popf:"ℙ",Pr:"⪻",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",Prime:"″",Product:"∏",Proportion:"∷",Proportional:"∝",Pscr:"\uD835\uDCAB",Psi:"Ψ",QUO:'"',QUOT:'"',Qfr:"\uD835\uDD14",Qopf:"ℚ",Qscr:"\uD835\uDCAC",RBarr:"⤐",RE:"\xae",REG:"\xae",Racute:"Ŕ",Rang:"⟫",Rarr:"↠",Rarrtl:"⤖",Rcaron:"Ř",Rcedil:"Ŗ",Rcy:"Р",Re:"ℜ",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",Rfr:"ℜ",Rho:"Ρ",RightAngleBracket:"⟩",RightArrow:"→",RightArrowBar:"⇥",RightArrowLeftArrow:"⇄",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVector:"⇂",RightDownVectorBar:"⥕",RightFloor:"⌋",RightTee:"⊢",RightTeeArrow:"↦",RightTeeVector:"⥛",RightTriangle:"⊳",RightTriangleBar:"⧐",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVector:"↾",RightUpVectorBar:"⥔",RightVector:"⇀",RightVectorBar:"⥓",Rightarrow:"⇒",Ropf:"ℝ",RoundImplies:"⥰",Rrightarrow:"⇛",Rscr:"ℛ",Rsh:"↱",RuleDelayed:"⧴",SHCHcy:"Щ",SHcy:"Ш",SOFTcy:"Ь",Sacute:"Ś",Sc:"⪼",Scaron:"Š",Scedil:"Ş",Scirc:"Ŝ",Scy:"С",Sfr:"\uD835\uDD16",ShortDownArrow:"↓",ShortLeftArrow:"←",ShortRightArrow:"→",ShortUpArrow:"↑",Sigma:"Σ",SmallCircle:"∘",Sopf:"\uD835\uDD4A",Sqrt:"√",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",Sscr:"\uD835\uDCAE",Star:"⋆",Sub:"⋐",Subset:"⋐",SubsetEqual:"⊆",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",SuchThat:"∋",Sum:"∑",Sup:"⋑",Superset:"⊃",SupersetEqual:"⊇",Supset:"⋑",THOR:"\xde",THORN:"\xde",TRADE:"™",TSHcy:"Ћ",TScy:"Ц",Tab:"	",Tau:"Τ",Tcaron:"Ť",Tcedil:"Ţ",Tcy:"Т",Tfr:"\uD835\uDD17",Therefore:"∴",Theta:"Θ",ThickSpace:"  ",ThinSpace:" ",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",Topf:"\uD835\uDD4B",TripleDot:"⃛",Tscr:"\uD835\uDCAF",Tstrok:"Ŧ",Uacut:"\xda",Uacute:"\xda",Uarr:"↟",Uarrocir:"⥉",Ubrcy:"Ў",Ubreve:"Ŭ",Ucir:"\xdb",Ucirc:"\xdb",Ucy:"У",Udblac:"Ű",Ufr:"\uD835\uDD18",Ugrav:"\xd9",Ugrave:"\xd9",Umacr:"Ū",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",Uopf:"\uD835\uDD4C",UpArrow:"↑",UpArrowBar:"⤒",UpArrowDownArrow:"⇅",UpDownArrow:"↕",UpEquilibrium:"⥮",UpTee:"⊥",UpTeeArrow:"↥",Uparrow:"⇑",Updownarrow:"⇕",UpperLeftArrow:"↖",UpperRightArrow:"↗",Upsi:"ϒ",Upsilon:"Υ",Uring:"Ů",Uscr:"\uD835\uDCB0",Utilde:"Ũ",Uum:"\xdc",Uuml:"\xdc",VDash:"⊫",Vbar:"⫫",Vcy:"В",Vdash:"⊩",Vdashl:"⫦",Vee:"⋁",Verbar:"‖",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"\uD835\uDD19",Vopf:"\uD835\uDD4D",Vscr:"\uD835\uDCB1",Vvdash:"⊪",Wcirc:"Ŵ",Wedge:"⋀",Wfr:"\uD835\uDD1A",Wopf:"\uD835\uDD4E",Wscr:"\uD835\uDCB2",Xfr:"\uD835\uDD1B",Xi:"Ξ",Xopf:"\uD835\uDD4F",Xscr:"\uD835\uDCB3",YAcy:"Я",YIcy:"Ї",YUcy:"Ю",Yacut:"\xdd",Yacute:"\xdd",Ycirc:"Ŷ",Ycy:"Ы",Yfr:"\uD835\uDD1C",Yopf:"\uD835\uDD50",Yscr:"\uD835\uDCB4",Yuml:"Ÿ",ZHcy:"Ж",Zacute:"Ź",Zcaron:"Ž",Zcy:"З",Zdot:"Ż",ZeroWidthSpace:"​",Zeta:"Ζ",Zfr:"ℨ",Zopf:"ℤ",Zscr:"\uD835\uDCB5",aacut:"\xe1",aacute:"\xe1",abreve:"ă",ac:"∾",acE:"∾̳",acd:"∿",acir:"\xe2",acirc:"\xe2",acut:"\xb4",acute:"\xb4",acy:"а",aeli:"\xe6",aelig:"\xe6",af:"⁡",afr:"\uD835\uDD1E",agrav:"\xe0",agrave:"\xe0",alefsym:"ℵ",aleph:"ℵ",alpha:"α",amacr:"ā",amalg:"⨿",am:"&",amp:"&",and:"∧",andand:"⩕",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsd:"∡",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"\xc5",angzarr:"⍼",aogon:"ą",aopf:"\uD835\uDD52",ap:"≈",apE:"⩰",apacir:"⩯",ape:"≊",apid:"≋",apos:"'",approx:"≈",approxeq:"≊",arin:"\xe5",aring:"\xe5",ascr:"\uD835\uDCB6",ast:"*",asymp:"≈",asympeq:"≍",atild:"\xe3",atilde:"\xe3",aum:"\xe4",auml:"\xe4",awconint:"∳",awint:"⨑",bNot:"⫭",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",barvee:"⊽",barwed:"⌅",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",bcy:"б",bdquo:"„",becaus:"∵",because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",beta:"β",beth:"ℶ",between:"≬",bfr:"\uD835\uDD1F",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bnot:"⌐",bopf:"\uD835\uDD53",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxDL:"╗",boxDR:"╔",boxDl:"╖",boxDr:"╓",boxH:"═",boxHD:"╦",boxHU:"╩",boxHd:"╤",boxHu:"╧",boxUL:"╝",boxUR:"╚",boxUl:"╜",boxUr:"╙",boxV:"║",boxVH:"╬",boxVL:"╣",boxVR:"╠",boxVh:"╫",boxVl:"╢",boxVr:"╟",boxbox:"⧉",boxdL:"╕",boxdR:"╒",boxdl:"┐",boxdr:"┌",boxh:"─",boxhD:"╥",boxhU:"╨",boxhd:"┬",boxhu:"┴",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxuL:"╛",boxuR:"╘",boxul:"┘",boxur:"└",boxv:"│",boxvH:"╪",boxvL:"╡",boxvR:"╞",boxvh:"┼",boxvl:"┤",boxvr:"├",bprime:"‵",breve:"˘",brvba:"\xa6",brvbar:"\xa6",bscr:"\uD835\uDCB7",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsol:"\\",bsolb:"⧅",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",bumpeq:"≏",cacute:"ć",cap:"∩",capand:"⩄",capbrcup:"⩉",capcap:"⩋",capcup:"⩇",capdot:"⩀",caps:"∩︀",caret:"⁁",caron:"ˇ",ccaps:"⩍",ccaron:"č",ccedi:"\xe7",ccedil:"\xe7",ccirc:"ĉ",ccups:"⩌",ccupssm:"⩐",cdot:"ċ",cedi:"\xb8",cedil:"\xb8",cemptyv:"⦲",cen:"\xa2",cent:"\xa2",centerdot:"\xb7",cfr:"\uD835\uDD20",chcy:"ч",check:"✓",checkmark:"✓",chi:"χ",cir:"○",cirE:"⧃",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledR:"\xae",circledS:"Ⓢ",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",clubs:"♣",clubsuit:"♣",colon:":",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",conint:"∮",copf:"\uD835\uDD54",coprod:"∐",cop:"\xa9",copy:"\xa9",copysr:"℗",crarr:"↵",cross:"✗",cscr:"\uD835\uDCB8",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cup:"∪",cupbrcap:"⩈",cupcap:"⩆",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curre:"\xa4",curren:"\xa4",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dArr:"⇓",dHar:"⥥",dagger:"†",daleth:"ℸ",darr:"↓",dash:"‐",dashv:"⊣",dbkarow:"⤏",dblac:"˝",dcaron:"ď",dcy:"д",dd:"ⅆ",ddagger:"‡",ddarr:"⇊",ddotseq:"⩷",de:"\xb0",deg:"\xb0",delta:"δ",demptyv:"⦱",dfisht:"⥿",dfr:"\uD835\uDD21",dharl:"⇃",dharr:"⇂",diam:"⋄",diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"\xa8",digamma:"ϝ",disin:"⋲",div:"\xf7",divid:"\xf7",divide:"\xf7",divideontimes:"⋇",divonx:"⋇",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",dopf:"\uD835\uDD55",dot:"˙",doteq:"≐",doteqdot:"≑",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",downarrow:"↓",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",dscr:"\uD835\uDCB9",dscy:"ѕ",dsol:"⧶",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",dzcy:"џ",dzigrarr:"⟿",eDDot:"⩷",eDot:"≑",eacut:"\xe9",eacute:"\xe9",easter:"⩮",ecaron:"ě",ecir:"\xea",ecirc:"\xea",ecolon:"≕",ecy:"э",edot:"ė",ee:"ⅇ",efDot:"≒",efr:"\uD835\uDD22",eg:"⪚",egrav:"\xe8",egrave:"\xe8",egs:"⪖",egsdot:"⪘",el:"⪙",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",emacr:"ē",empty:"∅",emptyset:"∅",emptyv:"∅",emsp13:" ",emsp14:" ",emsp:" ",eng:"ŋ",ensp:" ",eogon:"ę",eopf:"\uD835\uDD56",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",equals:"=",equest:"≟",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erDot:"≓",erarr:"⥱",escr:"ℯ",esdot:"≐",esim:"≂",eta:"η",et:"\xf0",eth:"\xf0",eum:"\xeb",euml:"\xeb",euro:"€",excl:"!",exist:"∃",expectation:"ℰ",exponentiale:"ⅇ",fallingdotseq:"≒",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",ffr:"\uD835\uDD23",filig:"ﬁ",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",fopf:"\uD835\uDD57",forall:"∀",fork:"⋔",forkv:"⫙",fpartint:"⨍",frac1:"\xbc",frac12:"\xbd",frac13:"⅓",frac14:"\xbc",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac3:"\xbe",frac34:"\xbe",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"\uD835\uDCBB",gE:"≧",gEl:"⪌",gacute:"ǵ",gamma:"γ",gammad:"ϝ",gap:"⪆",gbreve:"ğ",gcirc:"ĝ",gcy:"г",gdot:"ġ",ge:"≥",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",ges:"⩾",gescc:"⪩",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",gfr:"\uD835\uDD24",gg:"≫",ggg:"⋙",gimel:"ℷ",gjcy:"ѓ",gl:"≷",glE:"⪒",gla:"⪥",glj:"⪤",gnE:"≩",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gneq:"⪈",gneqq:"≩",gnsim:"⋧",gopf:"\uD835\uDD58",grave:"`",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",g:">",gt:">",gtcc:"⪧",gtcir:"⩺",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",hArr:"⇔",hairsp:" ",half:"\xbd",hamilt:"ℋ",hardcy:"ъ",harr:"↔",harrcir:"⥈",harrw:"↭",hbar:"ℏ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"\uD835\uDD25",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"\uD835\uDD59",horbar:"―",hscr:"\uD835\uDCBD",hslash:"ℏ",hstrok:"ħ",hybull:"⁃",hyphen:"‐",iacut:"\xed",iacute:"\xed",ic:"⁣",icir:"\xee",icirc:"\xee",icy:"и",iecy:"е",iexc:"\xa1",iexcl:"\xa1",iff:"⇔",ifr:"\uD835\uDD26",igrav:"\xec",igrave:"\xec",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",ijlig:"ĳ",imacr:"ī",image:"ℑ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",imof:"⊷",imped:"Ƶ",in:"∈",incare:"℅",infin:"∞",infintie:"⧝",inodot:"ı",int:"∫",intcal:"⊺",integers:"ℤ",intercal:"⊺",intlarhk:"⨗",intprod:"⨼",iocy:"ё",iogon:"į",iopf:"\uD835\uDD5A",iota:"ι",iprod:"⨼",iques:"\xbf",iquest:"\xbf",iscr:"\uD835\uDCBE",isin:"∈",isinE:"⋹",isindot:"⋵",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",itilde:"ĩ",iukcy:"і",ium:"\xef",iuml:"\xef",jcirc:"ĵ",jcy:"й",jfr:"\uD835\uDD27",jmath:"ȷ",jopf:"\uD835\uDD5B",jscr:"\uD835\uDCBF",jsercy:"ј",jukcy:"є",kappa:"κ",kappav:"ϰ",kcedil:"ķ",kcy:"к",kfr:"\uD835\uDD28",kgreen:"ĸ",khcy:"х",kjcy:"ќ",kopf:"\uD835\uDD5C",kscr:"\uD835\uDCC0",lAarr:"⇚",lArr:"⇐",lAtail:"⤛",lBarr:"⤎",lE:"≦",lEg:"⪋",lHar:"⥢",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",lambda:"λ",lang:"⟨",langd:"⦑",langle:"⟨",lap:"⪅",laqu:"\xab",laquo:"\xab",larr:"←",larrb:"⇤",larrbfs:"⤟",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",lat:"⪫",latail:"⤙",late:"⪭",lates:"⪭︀",lbarr:"⤌",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",lcaron:"ľ",lcedil:"ļ",lceil:"⌈",lcub:"{",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",leftarrow:"←",leftarrowtail:"↢",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",leftthreetimes:"⋋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",les:"⩽",lescc:"⪨",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",lessgtr:"≶",lesssim:"≲",lfisht:"⥼",lfloor:"⌊",lfr:"\uD835\uDD29",lg:"≶",lgE:"⪑",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",ljcy:"љ",ll:"≪",llarr:"⇇",llcorner:"⌞",llhard:"⥫",lltri:"◺",lmidot:"ŀ",lmoust:"⎰",lmoustache:"⎰",lnE:"≨",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",longleftrightarrow:"⟷",longmapsto:"⟼",longrightarrow:"⟶",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",lopf:"\uD835\uDD5D",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"\uD835\uDCC1",lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",lstrok:"ł",l:"<",lt:"<",ltcc:"⪦",ltcir:"⩹",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltrPar:"⦖",ltri:"◃",ltrie:"⊴",ltrif:"◂",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",mDDot:"∺",mac:"\xaf",macr:"\xaf",male:"♂",malt:"✠",maltese:"✠",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",mcy:"м",mdash:"—",measuredangle:"∡",mfr:"\uD835\uDD2A",mho:"℧",micr:"\xb5",micro:"\xb5",mid:"∣",midast:"*",midcir:"⫰",middo:"\xb7",middot:"\xb7",minus:"−",minusb:"⊟",minusd:"∸",minusdu:"⨪",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",mopf:"\uD835\uDD5E",mp:"∓",mscr:"\uD835\uDCC2",mstpos:"∾",mu:"μ",multimap:"⊸",mumap:"⊸",nGg:"⋙̸",nGt:"≫⃒",nGtv:"≫̸",nLeftarrow:"⇍",nLeftrightarrow:"⇎",nLl:"⋘̸",nLt:"≪⃒",nLtv:"≪̸",nRightarrow:"⇏",nVDash:"⊯",nVdash:"⊮",nabla:"∇",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natur:"♮",natural:"♮",naturals:"ℕ",nbs:"\xa0",nbsp:"\xa0",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",ncaron:"ň",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",ncy:"н",ndash:"–",ne:"≠",neArr:"⇗",nearhk:"⤤",nearr:"↗",nearrow:"↗",nedot:"≐̸",nequiv:"≢",nesear:"⤨",nesim:"≂̸",nexist:"∄",nexists:"∄",nfr:"\uD835\uDD2B",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",ngsim:"≵",ngt:"≯",ngtr:"≯",nhArr:"⇎",nharr:"↮",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",njcy:"њ",nlArr:"⇍",nlE:"≦̸",nlarr:"↚",nldr:"‥",nle:"≰",nleftarrow:"↚",nleftrightarrow:"↮",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nlsim:"≴",nlt:"≮",nltri:"⋪",nltrie:"⋬",nmid:"∤",nopf:"\uD835\uDD5F",no:"\xac",not:"\xac",notin:"∉",notinE:"⋹̸",notindot:"⋵̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",npar:"∦",nparallel:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",npre:"⪯̸",nprec:"⊀",npreceq:"⪯̸",nrArr:"⇏",nrarr:"↛",nrarrc:"⤳̸",nrarrw:"↝̸",nrightarrow:"↛",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",nscr:"\uD835\uDCC3",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",ntild:"\xf1",ntilde:"\xf1",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",nu:"ν",num:"#",numero:"№",numsp:" ",nvDash:"⊭",nvHarr:"⤄",nvap:"≍⃒",nvdash:"⊬",nvge:"≥⃒",nvgt:">⃒",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwArr:"⇖",nwarhk:"⤣",nwarr:"↖",nwarrow:"↖",nwnear:"⤧",oS:"Ⓢ",oacut:"\xf3",oacute:"\xf3",oast:"⊛",ocir:"\xf4",ocirc:"\xf4",ocy:"о",odash:"⊝",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",oelig:"œ",ofcir:"⦿",ofr:"\uD835\uDD2C",ogon:"˛",ograv:"\xf2",ograve:"\xf2",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",omacr:"ō",omega:"ω",omicron:"ο",omid:"⦶",ominus:"⊖",oopf:"\uD835\uDD60",opar:"⦷",operp:"⦹",oplus:"⊕",or:"∨",orarr:"↻",ord:"\xba",order:"ℴ",orderof:"ℴ",ordf:"\xaa",ordm:"\xba",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oscr:"ℴ",oslas:"\xf8",oslash:"\xf8",osol:"⊘",otild:"\xf5",otilde:"\xf5",otimes:"⊗",otimesas:"⨶",oum:"\xf6",ouml:"\xf6",ovbar:"⌽",par:"\xb6",para:"\xb6",parallel:"∥",parsim:"⫳",parsl:"⫽",part:"∂",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",pfr:"\uD835\uDD2D",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plus:"+",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plusdo:"∔",plusdu:"⨥",pluse:"⩲",plusm:"\xb1",plusmn:"\xb1",plussim:"⨦",plustwo:"⨧",pm:"\xb1",pointint:"⨕",popf:"\uD835\uDD61",poun:"\xa3",pound:"\xa3",pr:"≺",prE:"⪳",prap:"⪷",prcue:"≼",pre:"⪯",prec:"≺",precapprox:"⪷",preccurlyeq:"≼",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",precsim:"≾",prime:"′",primes:"ℙ",prnE:"⪵",prnap:"⪹",prnsim:"⋨",prod:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",propto:"∝",prsim:"≾",prurel:"⊰",pscr:"\uD835\uDCC5",psi:"ψ",puncsp:" ",qfr:"\uD835\uDD2E",qint:"⨌",qopf:"\uD835\uDD62",qprime:"⁗",qscr:"\uD835\uDCC6",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quo:'"',quot:'"',rAarr:"⇛",rArr:"⇒",rAtail:"⤜",rBarr:"⤏",rHar:"⥤",race:"∽̱",racute:"ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",rangd:"⦒",range:"⦥",rangle:"⟩",raqu:"\xbb",raquo:"\xbb",rarr:"→",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",rarrtl:"↣",rarrw:"↝",ratail:"⤚",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",rcaron:"ř",rcedil:"ŗ",rceil:"⌉",rcub:"}",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",rect:"▭",re:"\xae",reg:"\xae",rfisht:"⥽",rfloor:"⌋",rfr:"\uD835\uDD2F",rhard:"⇁",rharu:"⇀",rharul:"⥬",rho:"ρ",rhov:"ϱ",rightarrow:"→",rightarrowtail:"↣",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",rightthreetimes:"⋌",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoust:"⎱",rmoustache:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"\uD835\uDD63",roplus:"⨮",rotimes:"⨵",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",rsaquo:"›",rscr:"\uD835\uDCC7",rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",ruluhar:"⥨",rx:"℞",sacute:"ś",sbquo:"‚",sc:"≻",scE:"⪴",scap:"⪸",scaron:"š",sccue:"≽",sce:"⪰",scedil:"ş",scirc:"ŝ",scnE:"⪶",scnap:"⪺",scnsim:"⋩",scpolint:"⨓",scsim:"≿",scy:"с",sdot:"⋅",sdotb:"⊡",sdote:"⩦",seArr:"⇘",searhk:"⤥",searr:"↘",searrow:"↘",sec:"\xa7",sect:"\xa7",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",sfr:"\uD835\uDD30",sfrown:"⌢",sharp:"♯",shchcy:"щ",shcy:"ш",shortmid:"∣",shortparallel:"∥",sh:"\xad",shy:"\xad",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",softcy:"ь",sol:"/",solb:"⧄",solbar:"⌿",sopf:"\uD835\uDD64",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",squ:"□",square:"□",squarf:"▪",squf:"▪",srarr:"→",sscr:"\uD835\uDCC8",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"\xaf",sub:"⊂",subE:"⫅",subdot:"⪽",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",subset:"⊂",subseteq:"⊆",subseteqq:"⫅",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succ:"≻",succapprox:"⪸",succcurlyeq:"≽",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",sum:"∑",sung:"♪",sup:"⊃",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",supE:"⫆",supdot:"⪾",supdsub:"⫘",supe:"⊇",supedot:"⫄",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",supset:"⊃",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swArr:"⇙",swarhk:"⤦",swarr:"↙",swarrow:"↙",swnwar:"⤪",szli:"\xdf",szlig:"\xdf",target:"⌖",tau:"τ",tbrk:"⎴",tcaron:"ť",tcedil:"ţ",tcy:"т",tdot:"⃛",telrec:"⌕",tfr:"\uD835\uDD31",there4:"∴",therefore:"∴",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",thinsp:" ",thkap:"≈",thksim:"∼",thor:"\xfe",thorn:"\xfe",tilde:"˜",time:"\xd7",times:"\xd7",timesb:"⊠",timesbar:"⨱",timesd:"⨰",tint:"∭",toea:"⤨",top:"⊤",topbot:"⌶",topcir:"⫱",topf:"\uD835\uDD65",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",tscr:"\uD835\uDCC9",tscy:"ц",tshcy:"ћ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",uArr:"⇑",uHar:"⥣",uacut:"\xfa",uacute:"\xfa",uarr:"↑",ubrcy:"ў",ubreve:"ŭ",ucir:"\xfb",ucirc:"\xfb",ucy:"у",udarr:"⇅",udblac:"ű",udhar:"⥮",ufisht:"⥾",ufr:"\uD835\uDD32",ugrav:"\xf9",ugrave:"\xf9",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",umacr:"ū",um:"\xa8",uml:"\xa8",uogon:"ų",uopf:"\uD835\uDD66",uparrow:"↑",updownarrow:"↕",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",upsi:"υ",upsih:"ϒ",upsilon:"υ",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",uring:"ů",urtri:"◹",uscr:"\uD835\uDCCA",utdot:"⋰",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",uum:"\xfc",uuml:"\xfc",uwangle:"⦧",vArr:"⇕",vBar:"⫨",vBarv:"⫩",vDash:"⊨",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vcy:"в",vdash:"⊢",vee:"∨",veebar:"⊻",veeeq:"≚",vellip:"⋮",verbar:"|",vert:"|",vfr:"\uD835\uDD33",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",vopf:"\uD835\uDD67",vprop:"∝",vrtri:"⊳",vscr:"\uD835\uDCCB",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",vzigzag:"⦚",wcirc:"ŵ",wedbar:"⩟",wedge:"∧",wedgeq:"≙",weierp:"℘",wfr:"\uD835\uDD34",wopf:"\uD835\uDD68",wp:"℘",wr:"≀",wreath:"≀",wscr:"\uD835\uDCCC",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",xfr:"\uD835\uDD35",xhArr:"⟺",xharr:"⟷",xi:"ξ",xlArr:"⟸",xlarr:"⟵",xmap:"⟼",xnis:"⋻",xodot:"⨀",xopf:"\uD835\uDD69",xoplus:"⨁",xotime:"⨂",xrArr:"⟹",xrarr:"⟶",xscr:"\uD835\uDCCD",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",yacut:"\xfd",yacute:"\xfd",yacy:"я",ycirc:"ŷ",ycy:"ы",ye:"\xa5",yen:"\xa5",yfr:"\uD835\uDD36",yicy:"ї",yopf:"\uD835\uDD6A",yscr:"\uD835\uDCCE",yucy:"ю",yum:"\xff",yuml:"\xff",zacute:"ź",zcaron:"ž",zcy:"з",zdot:"ż",zeetrf:"ℨ",zeta:"ζ",zfr:"\uD835\uDD37",zhcy:"ж",zigrarr:"⇝",zopf:"\uD835\uDD6B",zscr:"\uD835\uDCCF",zwj:"‍",zwnj:"‌"}},20165:function(e,n,r){e.exports={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"}},42456:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{initPageData:function(){return u},App:function(){return p}});var t=r("9880"),i=r.ir(r("72540")),s=r("66811"),l=r("78585"),o=r("6171"),a=r.ir(r("27385")),d=r("14705"),c=r("72725"),h=r("54967");async function u(e){let{routes:n}=r("33190"),t=(0,s.matchRoutes)(n,e);if(!t)return{siteData:i.default,page:{pagePath:"",pageType:"404",routePath:"/404",lang:i.default.lang||"",frontmatter:{},title:"404",toc:[],_filepath:"",_relativePath:""}};{var l;let n=t[0].route,r=await n.preload(),s=(0,h.cleanUrl)(t[0].route.filePath),o=i.default.pages.find(n=>{let r=e=>e.replace(/\/$/,"");return(0,d.isEqualPath)(r(n.routePath),r(e))}),a=encodeURIComponent(s),{toc:c=[],title:u="",frontmatter:p}=(null===(l=globalThis.__RSPRESS_PAGE_META)||void 0===l?void 0:l[a])||{};return p=p||r.frontmatter||{},{siteData:i.default,page:{pagePath:s,...o,pageType:(null==p?void 0:p.pageType)||"doc",title:u,frontmatter:p,toc:(0,h.isProduction)()?null==o?void 0:o.toc:c}}}}function p({helmetContext:e}){let{setData:n}=(0,o.useContext)(c.DataContext),{pathname:r}=(0,s.useLocation)();return(0,o.useLayoutEffect)(()=>{(async function e(){try{let e=await u((0,d.normalizeRoutePath)(r));n(e)}catch(e){console.log(e)}})()},[r,n]),(0,t.jsx)(l.HelmetProvider,{context:e,children:(0,t.jsx)(a.default.Layout,{})})}},13342:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"Content",{enumerable:!0,get:function(){return a}});var t=r("9880"),i=r("6171"),s=r("66811"),l=r("14705");let{routes:o}=r("33190"),a=({fallback:e=(0,t.jsx)(t.Fragment,{})})=>{let{pathname:n}=(0,s.useLocation)(),r=(0,s.matchRoutes)(o,(0,l.normalizeRoutePath)(n));if(!r)return(0,t.jsx)("div",{});let a=r[0].route.element;return(0,t.jsx)(i.Suspense,{fallback:e,children:a})}},44433:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"NoSSR",{enumerable:!0,get:function(){return s}});var t=r("9880"),i=r("6171");function s(e){let{children:n}=e,[r,s]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{s(!0)},[]),r)?(0,t.jsx)(t.Fragment,{children:n}):null}},49808:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{render:function(){return d},routes:function(){return a.routes}});var t=r("9880"),i=r("26176"),s=r("25768"),l=r("42456"),o=r("72725"),a=r("33190");async function d(e,n){let r=await (0,l.initPageData)(e),a=(0,i.renderToString)((0,t.jsx)(o.ThemeContext.Provider,{value:{theme:"light"},children:(0,t.jsx)(o.DataContext.Provider,{value:{data:r},children:(0,t.jsx)(s.StaticRouter,{location:e,children:(0,t.jsx)(l.App,{helmetContext:n})})})}));return{appHtml:a,pageData:r}}},70169:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return l}});var t=r("44110"),i=r.ir(r("41989")),s=r("6171");function l(e){let{pathname:n}=(0,t.useLocation)(),{selector:r=".modern-doc img"}=e;return(0,s.useEffect)(()=>{let e=document.querySelectorAll(r);(0,i.default)(e)},[n]),null}r("38980")},70792:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return s}});var t=r("9880"),i=r.ir(r("59607")),s=e=>(0,t.jsx)("div",{className:i.default.nextSteps,children:e.children})},69571:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return l}});var t=r("9880"),i=r("96924"),s=r.ir(r("67011")),l=e=>(0,t.jsxs)("a",{className:s.default.step,href:(0,i.useUrl)(e.href),children:[(0,t.jsx)("p",{className:s.default.title,children:e.title}),(0,t.jsx)("p",{className:s.default.description,children:e.description})]})},27385:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t.default}}),r("42898");var t=r.ir(r.es(r("32978"),n))},44110:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),r.es(r("23447"),n)},72725:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{DataContext:function(){return i},ThemeContext:function(){return s},usePageData:function(){return l},useLang:function(){return o}});var t=r("6171");let i=(0,t.createContext)({}),s=(0,t.createContext)({});function l(){let e=(0,t.useContext)(i);return e.data}function o(){let e=(0,t.useContext)(i);return e.data.page.lang||""}},23447:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{normalizeHref:function(){return t.normalizeHref},withBase:function(){return t.withBase},removeBase:function(){return t.removeBase},normalizeSlash:function(){return t.normalizeSlash},isProduction:function(){return t.isProduction},isEqualPath:function(){return t.isEqualPath},useLocation:function(){return i.useLocation},NoSSR:function(){return s.NoSSR}}),r.es(r("72725"),n),r.es(r("13342"),n);var t=r("14705"),i=r("66811");r("78585");var s=r("44433")},14705:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{normalizeRoutePath:function(){return s},withBase:function(){return l},removeBase:function(){return o},isEqualPath:function(){return a},normalizeSlash:function(){return i.normalizeSlash},isProduction:function(){return i.isProduction},normalizeHref:function(){return i.normalizeHref}});var t=r.ir(r("72540")),i=r("54967");function s(e){return decodeURIComponent(e).replace(/\.html$/,"").replace(/\/index$/,"/")}function l(e="/"){return(0,i.withBase)(e,t.default.base)}function o(e){return(0,i.removeBase)(e,t.default.base)}function a(e,n){return l((0,i.normalizeHref)(e))===l((0,i.normalizeHref)(n))}},54967:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});!function(e,n){for(var r in n)Object.defineProperty(e,r,{enumerable:!0,get:n[r]})}(n,{isProduction:function(){return s},cleanUrl:function(){return l},normalizeSlash:function(){return a},normalizeHref:function(){return c},withBase:function(){return h},removeBase:function(){return u}});let t=/\?.*$/s,i=/#.*$/s,s=()=>!0,l=e=>e.replace(i,"").replace(t,"");function o(e){return"/"===e.charAt(0)||e.startsWith("https")?e:`/${e}`}function a(e){var n;return"/"===(n=o(e)).charAt(n.length-1)?n.slice(0,-1):n}let d=e=>{let[n,r=""]=e.split("#");return{url:n,hash:r}};function c(e){var n;if(!e)return"/";if((n=e).startsWith("http://")||n.startsWith("https://")||n.startsWith("mailto:")||n.startsWith("tel:"))return e;let{url:r,hash:t}=d(e);return e.startsWith("mailto:")||e.startsWith("tel:")?e:(!r.endsWith(".html")&&(r.endsWith("/")?r+="index.html":r+=".html"),o(t?`${r}#${t}`:r))}function h(e="/",n=""){let r=o(e),t=a(n);return r.startsWith(t)?r:`${t}${r}`}function u(e,n){return o(e).replace(a(n),"")}},96924:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"useUrl",{enumerable:!0,get:function(){return i}});var t=r("12416");function i(e){let n=(0,t.useLang)();return(0,t.withBase)("zh"===n?e:`/en${e}`)}},12416:function(e,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),r.es(r("44110"),n)}},r={};function t(e){var i=r[e];if(void 0!==i)return i.exports;var s=r[e]={exports:{}};return n[e](s,s.exports,t),s.exports}!function(){function e(n){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(e=function(e){return e?t:r})(n)}t.ir=function(n,r){if(!r&&n&&n.__esModule)return n;if(null===n||"object"!=typeof n&&"function"!=typeof n)return{default:n};var t=e(r);if(t&&t.has(n))return t.get(n);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in n)if("default"!==l&&Object.prototype.hasOwnProperty.call(n,l)){var o=s?Object.getOwnPropertyDescriptor(n,l):null;o&&(o.get||o.set)?Object.defineProperty(i,l,o):i[l]=n[l]}return i.default=n,t&&t.set(n,i),i}}(),t.es=function(e,n){return Object.keys(e).forEach(function(r){"default"!==r&&!Object.prototype.hasOwnProperty.call(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:function(){return e[r]}})}),e},e={10138:[],10179:[],10248:[],10299:[],10530:[],10825:[],10868:[],10929:[],11096:[],11385:[],11410:[],11413:[],11665:[],11678:[],11696:[],11916:[],12764:[],12784:[],12855:[],13139:[],13251:[],13259:[],13282:[],13345:[],13397:[],13458:[],13473:[],13545:[],13635:[],13637:[],13652:[],13835:[],13840:[],13867:[],13915:[],14095:[],14115:[],14120:[],14309:[],14423:[],14641:[],14704:[],15028:[],15042:[],1509:[],15624:[],15654:[],15710:[],15863:[],16405:[],16726:[],17100:[],17190:[],17290:[],17331:[],17713:[],17816:[],17832:[],17912:[],18055:[],184:[],18595:[],18642:[],18673:[],18766:[],18875:[],19054:[],19830:[],20099:[],20150:[],20221:[],20250:[],20308:[],20449:[],20551:[],2056:[],20590:[],20678:[],20758:[],20976:[],21010:[],21382:[],21397:[],21724:[],21725:[],21774:[],21829:[],21893:[],22072:[],22101:[],2212:[],22124:[],22151:[],2225:[],22430:[],2250:[],22727:[],22947:[],23003:[],23037:[],23095:[],23112:[],23148:[],23172:[],23279:[],23598:[],23688:[],23759:[],24198:[],24359:[],24667:[],24786:[],24860:[],25231:[],25483:[],25728:[],26201:[],26281:[],26367:[],2637:[],26444:[],2663:[],26693:[],26723:[],26825:[],27151:[],27267:[],2733:[],27438:[],27505:[],27610:[],27677:[],27732:[],27844:[],28049:[],28117:[],28263:[],28268:[],28547:[],28579:[],28840:[],28846:[],2908:[],29203:[],29391:[],29396:[],29608:[],29645:[],29827:[],29874:[],30075:[],30108:[],30251:[],30354:[],30732:[],3105:[],3123:[],31250:[],31360:[],31503:[],31601:[],31874:[],31958:[],32046:[],32252:[],32393:[],3247:[],32560:[],32694:[],32699:[],32709:[],32908:[],32910:[],3307:[],33232:[],33379:[],33588:[],33786:[],34165:[],34189:[],34243:[],34700:[],34724:[],34799:[],35179:[],35289:[],35393:[],35478:[],35515:[],35574:[],35605:[],35803:[],35903:[],35944:[],36034:[],36333:[],36448:[],36797:[],36889:[],37137:[],37340:[],37359:[],37430:[],37941:[],38058:[],38091:[],38113:[],38281:[],38472:[],3860:[],38692:[],39032:[],39040:[],39108:[],39198:[],39235:[],39458:[],39541:[],39605:[],39802:[],40275:[],40811:[],41472:[],41541:[],41567:[],41813:[],42075:[],42245:[],42271:[],42283:[],42292:[],42368:[],42483:[],42731:[],42882:[],43179:[],43290:[],44491:[],44802:[],44855:[],45141:[],45213:[],45317:[],45457:[],45914:[],45995:[],46256:[],46285:[],46485:[],46680:[],4669:[],46800:[],4697:[],46997:[],47166:[],47319:[],47425:[],47746:[],47750:[],47812:[],47874:[],47887:[],47966:[],48087:[],48350:[],48395:[],48947:[],49139:[],49193:[],49317:[],49545:[],49597:[],49689:[],49828:[],49930:[],5011:[],50409:[],50598:[],50775:[],50811:[],50918:[],50967:[],51012:[],51319:[],5134:[],51558:[],51563:[],51791:[],52256:[],52534:[],53159:[],53325:[],53349:[],5340:[],53472:[],53481:[],53600:[],53713:[],54008:[],54011:[],54070:[],54233:[],54404:[],54477:[],54555:[],5474:[],54905:[],54947:[],55190:[],55962:[],55980:[],56022:[],56145:[],56231:[],56747:[],56856:[],58050:[],58134:[],58182:[],58598:[],5872:[],58795:[],59142:[],59195:[],59513:[],59639:[],59770:[],5978:[],59823:[],59882:[],59934:[],60241:[],60343:[],60455:[],60499:[],60564:[],61034:[],61117:[],61313:[],61340:[],61785:[],61820:[],61839:[],61919:[],61976:[],62037:[],62103:[],62178:[],62189:[],62191:[],62263:[],62450:[],62573:[],63159:[],63207:[],63373:[],63604:[],63736:[],63865:[],63897:[],64100:[],64314:[],64442:[],64846:[],64934:[],64977:[],6498:[],65167:[],65475:[],65845:[],6601:[],66146:[],6618:[],66605:[],67363:[],67404:[],67417:[],67429:[],67991:[],68279:[],68427:[],68537:[],68859:[],69129:[],69424:[],69561:[],69668:[],69870:[],70090:[],70220:[],70555:[],70664:[],70795:[],70859:[],70863:[],7093:[],71152:[],71202:[],71203:[],71347:[],71527:[],71765:[],71870:[],72296:[],72742:[],72758:[],73027:[],73218:[],73407:[],7342:[],73450:[],73514:[],73653:[],73789:[],73960:[],73987:[],74158:[],74381:[],7472:[],74885:[],75191:[],75271:[],75367:[],7546:[],75639:[],757:[],75775:[],75796:[],75824:[],76318:[],76550:[],76596:[],76716:[],76837:[],77044:[],77075:[],77175:[],77247:[],77386:[],77613:[],77760:[],77924:[],7797:[],78153:[],78171:[],7830:[],7833:[],7836:[],78844:[],7931:[],79561:[],79712:[],80051:[],80209:[],80260:[],80613:[],80748:[],80749:[],80785:[],80866:[],80955:[],81125:[],8130:[],81680:[],81756:[],81837:[],82431:[],82739:[],82863:[],82970:[],83657:[],83746:[],83821:[],83834:[],84386:[],8442:[],84623:[],84641:[],84642:[],847:[],84716:[],84755:[],8495:[],85015:[],85028:[],85221:[],85349:[],8572:[],85826:[],85844:[],85893:[],85894:[],85936:[],8607:[],86158:[],86668:[],87442:[],8773:[],87894:[],8793:[],88627:[],88628:[],88655:[],88737:[],89053:[],89280:[],89414:[],89441:[],89455:[],89943:[],89967:[],90312:[],90323:[],90388:[],90390:[],9044:[],90544:[],90573:[],90683:[],90756:[],91032:[],91237:[],91259:[],913:[],91328:[],91345:[],91544:[],91594:[],91862:[],91940:[],92077:[],92128:[],92581:[],92591:[],92646:[],92746:[],92945:[],93231:[],93351:[],93395:[],93696:[],93810:[],93871:[],93907:[],93965:[],9425:[],94369:[],94787:[],94871:[],94958:[],95028:[],95060:[],95151:[],9538:[],9553:[],95588:[],95603:[],95737:[],95907:[],96072:[],96266:[],96349:[],96357:[],96558:[],9669:[],96826:[],96858:[],9700:[],97082:[],9733:[],97359:[],97366:[],97415:[],97699:[],97729:[],97766:[],97919:[],98217:[],98226:[],98326:[],99179:[],99408:[],99553:[],9968:[],99765:[]},t.el=function(n){var r=e[n];return void 0===r?Promise.resolve():r.length>1?Promise.all(r.map(t.e)):t.e(r[0])},t.f={},t.e=function(e){return Promise.all(Object.keys(t.f).reduce(function(n,r){return t.f[r](e,n),n},[]))};var i=t("49808");module.exports=i}();