"use strict";(self.webpackChunk_modern_js_builder_doc=self.webpackChunk_modern_js_builder_doc||[]).push([[223],{36154:function(e,s,n){n.r(s),n.d(s,{content:function(){return t},frontmatter:function(){return r},toc:function(){return o}});var l=n(39980);const r=void 0,o=[{id:"example",text:"Example",depth:2},{id:"error-log",text:"Error Log",depth:3},{id:"solution",text:"Solution",depth:3}],t="\"- **Type:**\\n\\n```ts\\ntype CheckSyntax =\\n  | boolean\\n  | {\\n      targets: string[];\\n    };\\n```\\n\\n- **Default:** `false`\\n\\nAnalyzes the build output files for the presence of high-level syntax that is incompatible with the current browserslist. If present, the details will be printed in the terminal.\\n\\n## Example\\n\\n```ts\\nexport default {\\n  security: {\\n    checkSyntax: true,\\n  },\\n};\\n```\\n\\nIf `security.checkSyntax` is specified as `true`, targets will be recognized as the browserslist set by the project. For details, please refer to [Browserslist](https://modernjs.dev/builder/zh/guide/advanced/browser-compatibility.html)\\n\\nWhen enabled, it will be detected in the production environment, and when an incompatible advanced syntax is detected, it will not only print the error logs on the terminal but also exit the build process.\\n\\n### Error Log\\n\\nThe format of the error log is as follows, including the source file, output location, error reason and source code:\\n\\n```bash\\nerror [Syntax Checker] Find some syntax errors after production build:\\n\\n   ERROR#1:\\n   source - /node_modules/foo/index.js:1:0\\n   output - /Project/dist/static/js/main.3f7a4d7e.js:2:39400\\n   reason - The keyword 'const' is reserved (2:39400)\\n   code - const foo = 'bar';\\n```\\n\\n### Solution\\n\\nIf a syntax error is detected, you can handle it in the following ways:\\n\\n- If you want to downgrade this syntax to ensure good code compatibility, you can compile the corresponding module through the `source.include` config.\\n- If you don't want to downgrade the syntax, you can adjust the project's browserslist to match the syntax.\\n\"";function c(e){const s=Object.assign({ul:"ul",li:"li",strong:"strong",div:"div",button:"button",pre:"pre",code:"code",span:"span",p:"p",h2:"h2",a:"a",h3:"h3"},e.components);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsx)(s.li,{children:(0,l.jsx)(s.strong,{children:"Type:"})}),"\n"]}),"\n",(0,l.jsxs)(s.div,{className:"language-ts",children:[(0,l.jsx)(s.div,{className:""}),(0,l.jsxs)(s.div,{className:"modern-code-content",children:[(0,l.jsx)(s.button,{className:"copy"}),(0,l.jsx)(s.pre,{className:"shiki",style:{backgroundColor:"#2e3440ff"},children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#81A1C1"},children:"type"}),(0,l.jsx)(s.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,l.jsx)(s.span,{style:{color:"#8FBCBB"},children:"CheckSyntax"}),(0,l.jsx)(s.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,l.jsx)(s.span,{style:{color:"#81A1C1"},children:"="})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#D8DEE9FF"},children:"  "}),(0,l.jsx)(s.span,{style:{color:"#81A1C1"},children:"|"}),(0,l.jsx)(s.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,l.jsx)(s.span,{style:{color:"#8FBCBB"},children:"boolean"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#D8DEE9FF"},children:"  "}),(0,l.jsx)(s.span,{style:{color:"#81A1C1"},children:"|"}),(0,l.jsx)(s.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,l.jsx)(s.span,{style:{color:"#ECEFF4"},children:"{"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#D8DEE9FF"},children:"      targets"}),(0,l.jsx)(s.span,{style:{color:"#81A1C1"},children:":"}),(0,l.jsx)(s.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,l.jsx)(s.span,{style:{color:"#8FBCBB"},children:"string"}),(0,l.jsx)(s.span,{style:{color:"#D8DEE9FF"},children:"[]"}),(0,l.jsx)(s.span,{style:{color:"#81A1C1"},children:";"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#D8DEE9FF"},children:"    "}),(0,l.jsx)(s.span,{style:{color:"#ECEFF4"},children:"}"}),(0,l.jsx)(s.span,{style:{color:"#81A1C1"},children:";"})]}),"\n",(0,l.jsx)(s.span,{className:"line"})]})})]})]}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:[(0,l.jsx)(s.strong,{children:"Default:"})," ",(0,l.jsx)(s.code,{children:"false"})]}),"\n"]}),"\n",(0,l.jsx)(s.p,{children:"Analyzes the build output files for the presence of high-level syntax that is incompatible with the current browserslist. If present, the details will be printed in the terminal."}),"\n",(0,l.jsxs)(s.h2,{id:"example",children:[(0,l.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#example",children:"#"}),"Example"]}),"\n",(0,l.jsxs)(s.div,{className:"language-ts",children:[(0,l.jsx)(s.div,{className:""}),(0,l.jsxs)(s.div,{className:"modern-code-content",children:[(0,l.jsx)(s.button,{className:"copy"}),(0,l.jsx)(s.pre,{className:"shiki",style:{backgroundColor:"#2e3440ff"},children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#81A1C1"},children:"export"}),(0,l.jsx)(s.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,l.jsx)(s.span,{style:{color:"#81A1C1"},children:"default"}),(0,l.jsx)(s.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,l.jsx)(s.span,{style:{color:"#ECEFF4"},children:"{"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#D8DEE9FF"},children:"  "}),(0,l.jsx)(s.span,{style:{color:"#D8DEE9"},children:"security"}),(0,l.jsx)(s.span,{style:{color:"#ECEFF4"},children:":"}),(0,l.jsx)(s.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,l.jsx)(s.span,{style:{color:"#ECEFF4"},children:"{"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#D8DEE9FF"},children:"    "}),(0,l.jsx)(s.span,{style:{color:"#D8DEE9"},children:"checkSyntax"}),(0,l.jsx)(s.span,{style:{color:"#ECEFF4"},children:":"}),(0,l.jsx)(s.span,{style:{color:"#D8DEE9FF"},children:" "}),(0,l.jsx)(s.span,{style:{color:"#81A1C1"},children:"true"}),(0,l.jsx)(s.span,{style:{color:"#ECEFF4"},children:","})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#D8DEE9FF"},children:"  "}),(0,l.jsx)(s.span,{style:{color:"#ECEFF4"},children:"},"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#ECEFF4"},children:"}"}),(0,l.jsx)(s.span,{style:{color:"#81A1C1"},children:";"})]}),"\n",(0,l.jsx)(s.span,{className:"line"})]})})]})]}),"\n",(0,l.jsxs)(s.p,{children:["If ",(0,l.jsx)(s.code,{children:"security.checkSyntax"})," is specified as ",(0,l.jsx)(s.code,{children:"true"}),", targets will be recognized as the browserslist set by the project. For details, please refer to ",(0,l.jsx)(s.a,{href:"https://modernjs.dev/builder/zh/guide/advanced/browser-compatibility.html",target:"_blank",rel:"nofollow",children:"Browserslist"})]}),"\n",(0,l.jsx)(s.p,{children:"When enabled, it will be detected in the production environment, and when an incompatible advanced syntax is detected, it will not only print the error logs on the terminal but also exit the build process."}),"\n",(0,l.jsxs)(s.h3,{id:"error-log",children:[(0,l.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#error-log",children:"#"}),"Error Log"]}),"\n",(0,l.jsx)(s.p,{children:"The format of the error log is as follows, including the source file, output location, error reason and source code:"}),"\n",(0,l.jsxs)(s.div,{className:"language-bash",children:[(0,l.jsx)(s.div,{className:""}),(0,l.jsxs)(s.div,{className:"modern-code-content",children:[(0,l.jsx)(s.button,{className:"copy"}),(0,l.jsx)(s.pre,{className:"shiki",style:{backgroundColor:"#2e3440ff"},children:(0,l.jsxs)(s.code,{children:[(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#D8DEE9FF"},children:"error "}),(0,l.jsx)(s.span,{style:{color:"#ECEFF4"},children:"["}),(0,l.jsx)(s.span,{style:{color:"#D8DEE9FF"},children:"Syntax Checker"}),(0,l.jsx)(s.span,{style:{color:"#ECEFF4"},children:"]"}),(0,l.jsx)(s.span,{style:{color:"#D8DEE9FF"},children:" Find some syntax errors after production build:"})]}),"\n",(0,l.jsx)(s.span,{className:"line"}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#D8DEE9FF"},children:"   ERROR#1:"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#D8DEE9FF"},children:"   "}),(0,l.jsx)(s.span,{style:{color:"#88C0D0"},children:"source"}),(0,l.jsx)(s.span,{style:{color:"#D8DEE9FF"},children:" - /node_modules/foo/index.js:1:0"})]}),"\n",(0,l.jsx)(s.span,{className:"line",children:(0,l.jsx)(s.span,{style:{color:"#D8DEE9FF"},children:"   output - /Project/dist/static/js/main.3f7a4d7e.js:2:39400"})}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#D8DEE9FF"},children:"   reason - The keyword "}),(0,l.jsx)(s.span,{style:{color:"#ECEFF4"},children:"'"}),(0,l.jsx)(s.span,{style:{color:"#A3BE8C"},children:"const"}),(0,l.jsx)(s.span,{style:{color:"#ECEFF4"},children:"'"}),(0,l.jsx)(s.span,{style:{color:"#D8DEE9FF"},children:" is reserved "}),(0,l.jsx)(s.span,{style:{color:"#ECEFF4"},children:"("}),(0,l.jsx)(s.span,{style:{color:"#D8DEE9FF"},children:"2:39400"}),(0,l.jsx)(s.span,{style:{color:"#ECEFF4"},children:")"})]}),"\n",(0,l.jsxs)(s.span,{className:"line",children:[(0,l.jsx)(s.span,{style:{color:"#D8DEE9FF"},children:"   code - const foo = "}),(0,l.jsx)(s.span,{style:{color:"#ECEFF4"},children:"'"}),(0,l.jsx)(s.span,{style:{color:"#A3BE8C"},children:"bar"}),(0,l.jsx)(s.span,{style:{color:"#ECEFF4"},children:"'"}),(0,l.jsx)(s.span,{style:{color:"#81A1C1"},children:";"})]}),"\n",(0,l.jsx)(s.span,{className:"line"})]})})]})]}),"\n",(0,l.jsxs)(s.h3,{id:"solution",children:[(0,l.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#solution",children:"#"}),"Solution"]}),"\n",(0,l.jsx)(s.p,{children:"If a syntax error is detected, you can handle it in the following ways:"}),"\n",(0,l.jsxs)(s.ul,{children:["\n",(0,l.jsxs)(s.li,{children:["If you want to downgrade this syntax to ensure good code compatibility, you can compile the corresponding module through the ",(0,l.jsx)(s.code,{children:"source.include"})," config."]}),"\n",(0,l.jsx)(s.li,{children:"If you don't want to downgrade the syntax, you can adjust the project's browserslist to match the syntax."}),"\n"]})]})}s.default=function(e={}){const{wrapper:s}=e.components||{};return s?(0,l.jsx)(s,Object.assign({},e,{children:(0,l.jsx)(c,e)})):c(e)}}}]);